var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
var __accessCheck = (obj, member, msg) => {
  if (!member.has(obj))
    throw TypeError("Cannot " + msg);
};
var __privateGet = (obj, member, getter) => {
  __accessCheck(obj, member, "read from private field");
  return getter ? getter.call(obj) : member.get(obj);
};
var __privateAdd = (obj, member, value) => {
  if (member.has(obj))
    throw TypeError("Cannot add the same private member more than once");
  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
};
var __privateSet = (obj, member, value, setter) => {
  __accessCheck(obj, member, "write to private field");
  setter ? setter.call(obj, value) : member.set(obj, value);
  return value;
};
var __privateMethod = (obj, member, method) => {
  __accessCheck(obj, member, "access private method");
  return method;
};
var _offscreenCanvas, _OffscreenWorker, _initScene, initScene_fn;
import { c as createUUID } from "./dice-box.es.js";
const encodedJs = "dmFyIHpmPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxHZj1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIgWGY9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIEVuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIEhmPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksamY9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgbWk9KEllLGssY2UpPT5rIGluIEllP3pmKEllLGsse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmNlfSk6SWVba109Y2UscWU9KEllLGspPT57Zm9yKHZhciBjZSBpbiBrfHwoaz17fSkpSGYuY2FsbChrLGNlKSYmbWkoSWUsY2Usa1tjZV0pO2lmKEVuKWZvcih2YXIgY2Ugb2YgRW4oaykpamYuY2FsbChrLGNlKSYmbWkoSWUsY2Usa1tjZV0pO3JldHVybiBJZX0sTnI9KEllLGspPT5HZihJZSxYZihrKSk7dmFyIEZ0PShJZSxrLGNlKT0+KG1pKEllLHR5cGVvZiBrIT0ic3ltYm9sIj9rKyIiOmssY2UpLGNlKTsoZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7LyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4KCiAgICBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkKICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC4KCiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSAogICAgUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsCiAgICBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00KICAgIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SCiAgICBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLgogICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi92YXIgSWU9ZnVuY3Rpb24oaSxlKXtyZXR1cm4gSWU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQscil7dC5fX3Byb3RvX189cn18fGZ1bmN0aW9uKHQscil7Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJih0W25dPXJbbl0pfSxJZShpLGUpfTtmdW5jdGlvbiBrKGksZSl7aWYodHlwZW9mIGUhPSJmdW5jdGlvbiImJmUhPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcoZSkrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7SWUoaSxlKTtmdW5jdGlvbiB0KCl7dGhpcy5jb25zdHJ1Y3Rvcj1pfWkucHJvdG90eXBlPWU9PT1udWxsP09iamVjdC5jcmVhdGUoZSk6KHQucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyB0KX12YXIgY2U9ZnVuY3Rpb24oKXtyZXR1cm4gY2U9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxuPWFyZ3VtZW50cy5sZW5ndGg7cjxuO3IrKyl7dD1hcmd1bWVudHNbcl07Zm9yKHZhciBhIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkmJihlW2FdPXRbYV0pfXJldHVybiBlfSxjZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIFQoaSxlLHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aCxhPW48Mz9lOnI9PT1udWxsP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpOnIscztpZih0eXBlb2YgUmVmbGVjdD09Im9iamVjdCImJnR5cGVvZiBSZWZsZWN0LmRlY29yYXRlPT0iZnVuY3Rpb24iKWE9UmVmbGVjdC5kZWNvcmF0ZShpLGUsdCxyKTtlbHNlIGZvcih2YXIgbz1pLmxlbmd0aC0xO28+PTA7by0tKShzPWlbb10pJiYoYT0objwzP3MoYSk6bj4zP3MoZSx0LGEpOnMoZSx0KSl8fGEpO3JldHVybiBuPjMmJmEmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYX1mdW5jdGlvbiBCcihpLGUsdCxyKXtmdW5jdGlvbiBuKGEpe3JldHVybiBhIGluc3RhbmNlb2YgdD9hOm5ldyB0KGZ1bmN0aW9uKHMpe3MoYSl9KX1yZXR1cm4gbmV3KHR8fCh0PVByb21pc2UpKShmdW5jdGlvbihhLHMpe2Z1bmN0aW9uIG8obCl7dHJ5e2Yoci5uZXh0KGwpKX1jYXRjaChoKXtzKGgpfX1mdW5jdGlvbiB1KGwpe3RyeXtmKHIudGhyb3cobCkpfWNhdGNoKGgpe3MoaCl9fWZ1bmN0aW9uIGYobCl7bC5kb25lP2EobC52YWx1ZSk6bihsLnZhbHVlKS50aGVuKG8sdSl9Zigocj1yLmFwcGx5KGksZXx8W10pKS5uZXh0KCkpfSl9ZnVuY3Rpb24gd3QoaSxlKXt2YXIgdD17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoYVswXSYxKXRocm93IGFbMV07cmV0dXJuIGFbMV19LHRyeXM6W10sb3BzOltdfSxyLG4sYSxzO3JldHVybiBzPXtuZXh0Om8oMCksdGhyb3c6bygxKSxyZXR1cm46bygyKX0sdHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBvKGYpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gdShbZixsXSl9fWZ1bmN0aW9uIHUoZil7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDt0Oyl0cnl7aWYocj0xLG4mJihhPWZbMF0mMj9uLnJldHVybjpmWzBdP24udGhyb3d8fCgoYT1uLnJldHVybikmJmEuY2FsbChuKSwwKTpuLm5leHQpJiYhKGE9YS5jYWxsKG4sZlsxXSkpLmRvbmUpcmV0dXJuIGE7c3dpdGNoKG49MCxhJiYoZj1bZlswXSYyLGEudmFsdWVdKSxmWzBdKXtjYXNlIDA6Y2FzZSAxOmE9ZjticmVhaztjYXNlIDQ6cmV0dXJuIHQubGFiZWwrKyx7dmFsdWU6ZlsxXSxkb25lOiExfTtjYXNlIDU6dC5sYWJlbCsrLG49ZlsxXSxmPVswXTtjb250aW51ZTtjYXNlIDc6Zj10Lm9wcy5wb3AoKSx0LnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZihhPXQudHJ5cywhKGE9YS5sZW5ndGg+MCYmYVthLmxlbmd0aC0xXSkmJihmWzBdPT09Nnx8ZlswXT09PTIpKXt0PTA7Y29udGludWV9aWYoZlswXT09PTMmJighYXx8ZlsxXT5hWzBdJiZmWzFdPGFbM10pKXt0LmxhYmVsPWZbMV07YnJlYWt9aWYoZlswXT09PTYmJnQubGFiZWw8YVsxXSl7dC5sYWJlbD1hWzFdLGE9ZjticmVha31pZihhJiZ0LmxhYmVsPGFbMl0pe3QubGFiZWw9YVsyXSx0Lm9wcy5wdXNoKGYpO2JyZWFrfWFbMl0mJnQub3BzLnBvcCgpLHQudHJ5cy5wb3AoKTtjb250aW51ZX1mPWUuY2FsbChpLHQpfWNhdGNoKGwpe2Y9WzYsbF0sbj0wfWZpbmFsbHl7cj1hPTB9aWYoZlswXSY1KXRocm93IGZbMV07cmV0dXJue3ZhbHVlOmZbMF0/ZlsxXTp2b2lkIDAsZG9uZTohMH19fXZhciBUbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuaW5pdGlhbGl6ZShlLHQscixuKX1yZXR1cm4gaS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMubWFzaz1lLHRoaXMuc2tpcE5leHRPYnNlcnZlcnM9dCx0aGlzLnRhcmdldD1yLHRoaXMuY3VycmVudFRhcmdldD1uLHRoaXN9LGl9KCksU249ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXtyPT09dm9pZCAwJiYocj1udWxsKSx0aGlzLmNhbGxiYWNrPWUsdGhpcy5tYXNrPXQsdGhpcy5zY29wZT1yLHRoaXMuX3dpbGxCZVVucmVnaXN0ZXJlZD0hMSx0aGlzLnVucmVnaXN0ZXJPbk5leHRDYWxsPSExfXJldHVybiBpfSgpLE89ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX29ic2VydmVycz1uZXcgQXJyYXksdGhpcy5fZXZlbnRTdGF0ZT1uZXcgVG4oMCksZSYmKHRoaXMuX29uT2JzZXJ2ZXJBZGRlZD1lKX1yZXR1cm4gaS5Gcm9tUHJvbWlzZT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBpO3JldHVybiBlLnRoZW4oZnVuY3Rpb24obil7ci5ub3RpZnlPYnNlcnZlcnMobil9KS5jYXRjaChmdW5jdGlvbihuKXtpZih0KXQubm90aWZ5T2JzZXJ2ZXJzKG4pO2Vsc2UgdGhyb3cgbn0pLHJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib2JzZXJ2ZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0PT09dm9pZCAwJiYodD0tMSkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPSExKSwhZSlyZXR1cm4gbnVsbDt2YXIgcz1uZXcgU24oZSx0LG4pO3JldHVybiBzLnVucmVnaXN0ZXJPbk5leHRDYWxsPWEscj90aGlzLl9vYnNlcnZlcnMudW5zaGlmdChzKTp0aGlzLl9vYnNlcnZlcnMucHVzaChzKSx0aGlzLl9vbk9ic2VydmVyQWRkZWQmJnRoaXMuX29uT2JzZXJ2ZXJBZGRlZChzKSxzfSxpLnByb3RvdHlwZS5hZGRPbmNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLCEwKX0saS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciB0PXRoaXMuX29ic2VydmVycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTE/KHRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKSwhMCk6ITF9LGkucHJvdG90eXBlLnJlbW92ZUNhbGxiYWNrPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjx0aGlzLl9vYnNlcnZlcnMubGVuZ3RoO3IrKyl7dmFyIG49dGhpcy5fb2JzZXJ2ZXJzW3JdO2lmKCFuLl93aWxsQmVVbnJlZ2lzdGVyZWQmJm4uY2FsbGJhY2s9PT1lJiYoIXR8fHQ9PT1uLnNjb3BlKSlyZXR1cm4gdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKG4pLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5fZGVmZXJVbnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQ9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe3QuX3JlbW92ZShlKX0sMCl9LGkucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuITE7dmFyIHQ9dGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMT8odGhpcy5fb2JzZXJ2ZXJzLnNwbGljZSh0LDEpLCEwKTohMX0saS5wcm90b3R5cGUubWFrZU9ic2VydmVyVG9wUHJpb3JpdHk9ZnVuY3Rpb24oZSl7dGhpcy5fcmVtb3ZlKGUpLHRoaXMuX29ic2VydmVycy51bnNoaWZ0KGUpfSxpLnByb3RvdHlwZS5tYWtlT2JzZXJ2ZXJCb3R0b21Qcmlvcml0eT1mdW5jdGlvbihlKXt0aGlzLl9yZW1vdmUoZSksdGhpcy5fb2JzZXJ2ZXJzLnB1c2goZSl9LGkucHJvdG90eXBlLm5vdGlmeU9ic2VydmVycz1mdW5jdGlvbihlLHQscixuLGEpe2lmKHQ9PT12b2lkIDAmJih0PS0xKSwhdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4hMDt2YXIgcz10aGlzLl9ldmVudFN0YXRlO3MubWFzaz10LHMudGFyZ2V0PXIscy5jdXJyZW50VGFyZ2V0PW4scy5za2lwTmV4dE9ic2VydmVycz0hMSxzLmxhc3RSZXR1cm5WYWx1ZT1lLHMudXNlckluZm89YTtmb3IodmFyIG89MCx1PXRoaXMuX29ic2VydmVycztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtpZighZi5fd2lsbEJlVW5yZWdpc3RlcmVkJiYoZi5tYXNrJnQmJihmLnNjb3BlP3MubGFzdFJldHVyblZhbHVlPWYuY2FsbGJhY2suYXBwbHkoZi5zY29wZSxbZSxzXSk6cy5sYXN0UmV0dXJuVmFsdWU9Zi5jYWxsYmFjayhlLHMpLGYudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihmKSkscy5za2lwTmV4dE9ic2VydmVycykpcmV0dXJuITF9cmV0dXJuITB9LGkucHJvdG90eXBlLm5vdGlmeU9ic2VydmVyc1dpdGhQcm9taXNlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9dGhpczt0PT09dm9pZCAwJiYodD0tMSk7dmFyIG89UHJvbWlzZS5yZXNvbHZlKGUpO2lmKCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKXJldHVybiBvO3ZhciB1PXRoaXMuX2V2ZW50U3RhdGU7cmV0dXJuIHUubWFzaz10LHUudGFyZ2V0PXIsdS5jdXJyZW50VGFyZ2V0PW4sdS5za2lwTmV4dE9ic2VydmVycz0hMSx1LnVzZXJJbmZvPWEsdGhpcy5fb2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24oZil7dS5za2lwTmV4dE9ic2VydmVyc3x8Zi5fd2lsbEJlVW5yZWdpc3RlcmVkfHxmLm1hc2smdCYmKGYuc2NvcGU/bz1vLnRoZW4oZnVuY3Rpb24obCl7cmV0dXJuIHUubGFzdFJldHVyblZhbHVlPWwsZi5jYWxsYmFjay5hcHBseShmLnNjb3BlLFtlLHVdKX0pOm89by50aGVuKGZ1bmN0aW9uKGwpe3JldHVybiB1Lmxhc3RSZXR1cm5WYWx1ZT1sLGYuY2FsbGJhY2soZSx1KX0pLGYudW5yZWdpc3Rlck9uTmV4dENhbGwmJnMuX2RlZmVyVW5yZWdpc3RlcihmKSl9KSxvLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSxpLnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcj1mdW5jdGlvbihlLHQscil7aWYocj09PXZvaWQgMCYmKHI9LTEpLCFlLl93aWxsQmVVbnJlZ2lzdGVyZWQpe3ZhciBuPXRoaXMuX2V2ZW50U3RhdGU7bi5tYXNrPXIsbi5za2lwTmV4dE9ic2VydmVycz0hMSxlLmNhbGxiYWNrKHQsbiksZS51bnJlZ2lzdGVyT25OZXh0Q2FsbCYmdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGUpfX0saS5wcm90b3R5cGUuaGFzT2JzZXJ2ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ic2VydmVycy5sZW5ndGg+MH0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9vYnNlcnZlcnM9bmV3IEFycmF5LHRoaXMuX29uT2JzZXJ2ZXJBZGRlZD1udWxsfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiBlLl9vYnNlcnZlcnM9dGhpcy5fb2JzZXJ2ZXJzLnNsaWNlKDApLGV9LGkucHJvdG90eXBlLmhhc1NwZWNpZmljTWFzaz1mdW5jdGlvbihlKXtlPT09dm9pZCAwJiYoZT0tMSk7Zm9yKHZhciB0PTAscj10aGlzLl9vYnNlcnZlcnM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07aWYobi5tYXNrJmV8fG4ubWFzaz09PWUpcmV0dXJuITB9cmV0dXJuITF9LGl9KCk7ZnVuY3Rpb24gZGUoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdyE9InVuZGVmaW5lZCJ9ZnVuY3Rpb24geWkoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvciE9InVuZGVmaW5lZCJ9ZnVuY3Rpb24gVXIoKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50IT0idW5kZWZpbmVkIn1mdW5jdGlvbiBWcihpKXtmb3IodmFyIGU9IiIsdD1pLmZpcnN0Q2hpbGQ7dDspdC5ub2RlVHlwZT09PTMmJihlKz10LnRleHRDb250ZW50KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGV9dmFyIGtyPXtJc1dpbmRvd09iamVjdEV4aXN0OmRlLElzTmF2aWdhdG9yQXZhaWxhYmxlOnlpLElzRG9jdW1lbnRBdmFpbGFibGU6VXIsR2V0RE9NVGV4dENvbnRlbnQ6VnJ9LEo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGFzdENyZWF0ZWRFbmdpbmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JbnN0YW5jZXMubGVuZ3RoPT09MD9udWxsOnRoaXMuSW5zdGFuY2VzW3RoaXMuSW5zdGFuY2VzLmxlbmd0aC0xXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGFzdENyZWF0ZWRTY2VuZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9MYXN0Q3JlYXRlZFNjZW5lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuSW5zdGFuY2VzPW5ldyBBcnJheSxpLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwsaS5Vc2VGYWxsYmFja1RleHR1cmU9ITAsaS5GYWxsYmFja1RleHR1cmU9IiIsaX0oKTtmdW5jdGlvbiBVKGkpe3JldHVybiIiLmNvbmNhdChpLCIgbmVlZHMgdG8gYmUgaW1wb3J0ZWQgYmVmb3JlIGFzIGl0IGNvbnRhaW5zIGEgc2lkZS1lZmZlY3QgcmVxdWlyZWQgYnkgeW91ciBjb2RlLiIpfXZhciB6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5fQ2hlY2tMaW1pdD1mdW5jdGlvbihlLHQpe3ZhciByPWkuX0xvZ0xpbWl0T3V0cHV0c1tlXTtyZXR1cm4gcj9yLmN1cnJlbnQrKzoocj17bGltaXQ6dCxjdXJyZW50OjF9LGkuX0xvZ0xpbWl0T3V0cHV0c1tlXT1yKSxyLmN1cnJlbnQ8PXIubGltaXR9LGkuX0dlbmVyYXRlTGltaXRNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5fTG9nTGltaXRPdXRwdXRzW2VdO2lmKCEoIXJ8fCFpLk1lc3NhZ2VMaW1pdFJlYWNoZWQpJiZyLmN1cnJlbnQ9PT1yLmxpbWl0KXN3aXRjaCh0KXtjYXNlIDA6aS5Mb2coaS5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIityLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywibG9nIikpO2JyZWFrO2Nhc2UgMTppLldhcm4oaS5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIityLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywid2FybmluZyIpKTticmVhaztjYXNlIDI6aS5FcnJvcihpLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3IubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLCJlcnJvciIpKTticmVha319LGkuX0FkZExvZ0VudHJ5PWZ1bmN0aW9uKGUpe2kuX0xvZ0NhY2hlPWUraS5fTG9nQ2FjaGUsaS5Pbk5ld0NhY2hlRW50cnkmJmkuT25OZXdDYWNoZUVudHJ5KGUpfSxpLl9Gb3JtYXRNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKG4pe3JldHVybiBuPDEwPyIwIituOiIiK259LHI9bmV3IERhdGU7cmV0dXJuIlsiK3Qoci5nZXRIb3VycygpKSsiOiIrdChyLmdldE1pbnV0ZXMoKSkrIjoiK3Qoci5nZXRTZWNvbmRzKCkpKyJdOiAiK2V9LGkuX0xvZ0Rpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9Mb2dFbmFibGVkPWZ1bmN0aW9uKGUsdCl7aWYoISh0IT09dm9pZCAwJiYhaS5fQ2hlY2tMaW1pdChlLHQpKSl7dmFyIHI9aS5fRm9ybWF0TWVzc2FnZShlKTtjb25zb2xlLmxvZygiQkpTIC0gIityKTt2YXIgbj0iPGRpdiBzdHlsZT0nY29sb3I6d2hpdGUnPiIrcisiPC9kaXY+PGJyPiI7aS5fQWRkTG9nRW50cnkobiksaS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSwwKX19LGkuX1dhcm5EaXNhYmxlZD1mdW5jdGlvbihlLHQpe30saS5fV2FybkVuYWJsZWQ9ZnVuY3Rpb24oZSx0KXtpZighKHQhPT12b2lkIDAmJiFpLl9DaGVja0xpbWl0KGUsdCkpKXt2YXIgcj1pLl9Gb3JtYXRNZXNzYWdlKGUpO2NvbnNvbGUud2FybigiQkpTIC0gIityKTt2YXIgbj0iPGRpdiBzdHlsZT0nY29sb3I6b3JhbmdlJz4iK2UrIjwvZGl2Pjxicj4iO2kuX0FkZExvZ0VudHJ5KG4pLGkuX0dlbmVyYXRlTGltaXRNZXNzYWdlKGUsMSl9fSxpLl9FcnJvckRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9FcnJvckVuYWJsZWQ9ZnVuY3Rpb24oZSx0KXtpZighKHQhPT12b2lkIDAmJiFpLl9DaGVja0xpbWl0KGUsdCkpKXt2YXIgcj1pLl9Gb3JtYXRNZXNzYWdlKGUpO2kuZXJyb3JzQ291bnQrKyxjb25zb2xlLmVycm9yKCJCSlMgLSAiK3IpO3ZhciBuPSI8ZGl2IHN0eWxlPSdjb2xvcjpyZWQnPiIrcisiPC9kaXY+PGJyPiI7aS5fQWRkTG9nRW50cnkobiksaS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSwyKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMb2dDYWNoZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9Mb2dDYWNoZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkNsZWFyTG9nQ2FjaGU9ZnVuY3Rpb24oKXtpLl9Mb2dDYWNoZT0iIixpLl9Mb2dMaW1pdE91dHB1dHM9e30saS5lcnJvcnNDb3VudD0wfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTG9nTGV2ZWxzIix7c2V0OmZ1bmN0aW9uKGUpeyhlJmkuTWVzc2FnZUxvZ0xldmVsKT09PWkuTWVzc2FnZUxvZ0xldmVsP2kuTG9nPWkuX0xvZ0VuYWJsZWQ6aS5Mb2c9aS5fTG9nRGlzYWJsZWQsKGUmaS5XYXJuaW5nTG9nTGV2ZWwpPT09aS5XYXJuaW5nTG9nTGV2ZWw/aS5XYXJuPWkuX1dhcm5FbmFibGVkOmkuV2Fybj1pLl9XYXJuRGlzYWJsZWQsKGUmaS5FcnJvckxvZ0xldmVsKT09PWkuRXJyb3JMb2dMZXZlbD9pLkVycm9yPWkuX0Vycm9yRW5hYmxlZDppLkVycm9yPWkuX0Vycm9yRGlzYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5Ob25lTG9nTGV2ZWw9MCxpLk1lc3NhZ2VMb2dMZXZlbD0xLGkuV2FybmluZ0xvZ0xldmVsPTIsaS5FcnJvckxvZ0xldmVsPTQsaS5BbGxMb2dMZXZlbD03LGkuTWVzc2FnZUxpbWl0UmVhY2hlZD0iVG9vIG1hbnkgJVRZUEUlcyAoJUxJTUlUJSksIG5vIG1vcmUgJVRZUEUlcyB3aWxsIGJlIHJlcG9ydGVkIGZvciB0aGlzIG1lc3NhZ2UuIixpLl9Mb2dDYWNoZT0iIixpLl9Mb2dMaW1pdE91dHB1dHM9e30saS5lcnJvcnNDb3VudD0wLGkuTG9nPWkuX0xvZ0VuYWJsZWQsaS5XYXJuPWkuX1dhcm5FbmFibGVkLGkuRXJyb3I9aS5fRXJyb3JFbmFibGVkLGl9KCksTW49ZnVuY3Rpb24oaSxlKXtyZXR1cm4gaS5pbmRleE9mKGUsaS5sZW5ndGgtZS5sZW5ndGgpIT09LTF9LFplPWZ1bmN0aW9uKGksZSl7cmV0dXJuIGk/aS5pbmRleE9mKGUpPT09MDohMX0sYmk9ZnVuY3Rpb24oaSl7Zm9yKHZhciBlPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSIsdD0iIixyLG4sYSxzLG8sdSxmLGw9MCxoPUFycmF5QnVmZmVyLmlzVmlldyhpKT9uZXcgVWludDhBcnJheShpLmJ1ZmZlcixpLmJ5dGVPZmZzZXQsaS5ieXRlTGVuZ3RoKTpuZXcgVWludDhBcnJheShpKTtsPGgubGVuZ3RoOylyPWhbbCsrXSxuPWw8aC5sZW5ndGg/aFtsKytdOk51bWJlci5OYU4sYT1sPGgubGVuZ3RoP2hbbCsrXTpOdW1iZXIuTmFOLHM9cj4+MixvPShyJjMpPDw0fG4+PjQsdT0obiYxNSk8PDJ8YT4+NixmPWEmNjMsaXNOYU4obik/dT1mPTY0OmlzTmFOKGEpJiYoZj02NCksdCs9ZS5jaGFyQXQocykrZS5jaGFyQXQobykrZS5jaGFyQXQodSkrZS5jaGFyQXQoZik7cmV0dXJuIHR9LEVpPWZ1bmN0aW9uKGkpe3JldHVybiBhdG9iKGkpfSxBbj1mdW5jdGlvbihpKXtmb3IodmFyIGU9RWkoaSksdD1lLmxlbmd0aCxyPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0KSksbj0wO248dDtuKyspcltuXT1lLmNoYXJDb2RlQXQobik7cmV0dXJuIHIuYnVmZmVyfSxqdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmNoaWxkcmVuPVtdfXJldHVybiBpLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEwfSxpLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9IiI7aWYodGhpcy5saW5lKXt2YXIgbj10aGlzLmxpbmUsYT10LnByb2Nlc3NvcjtpZihhKXtpZihhLmxpbmVQcm9jZXNzb3ImJihuPWEubGluZVByb2Nlc3NvcihuLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSksYS5hdHRyaWJ1dGVQcm9jZXNzb3ImJlplKHRoaXMubGluZSwiYXR0cmlidXRlIikpbj1hLmF0dHJpYnV0ZVByb2Nlc3Nvcih0aGlzLmxpbmUsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTtlbHNlIGlmKGEudmFyeWluZ1Byb2Nlc3NvciYmWmUodGhpcy5saW5lLCJ2YXJ5aW5nIikpbj1hLnZhcnlpbmdQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpO2Vsc2UgaWYoYS51bmlmb3JtUHJvY2Vzc29yJiZhLnVuaWZvcm1SZWdleHAmJmEudW5pZm9ybVJlZ2V4cC50ZXN0KHRoaXMubGluZSkpdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwobj1hLnVuaWZvcm1Qcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpKTtlbHNlIGlmKGEudW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmYS51bmlmb3JtQnVmZmVyUmVnZXhwJiZhLnVuaWZvcm1CdWZmZXJSZWdleHAudGVzdCh0aGlzLmxpbmUpKXQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KG49YS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCksdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSEwKTtlbHNlIGlmKGEudGV4dHVyZVByb2Nlc3NvciYmYS50ZXh0dXJlUmVnZXhwJiZhLnRleHR1cmVSZWdleHAudGVzdCh0aGlzLmxpbmUpKW49YS50ZXh0dXJlUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTtlbHNlIGlmKChhLnVuaWZvcm1Qcm9jZXNzb3J8fGEudW5pZm9ybUJ1ZmZlclByb2Nlc3NvcikmJlplKHRoaXMubGluZSwidW5pZm9ybSIpJiYhdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyKXt2YXIgcz0vdW5pZm9ybVxzKyg/Oig/OmhpZ2hwKT98KD86bG93cCk/KVxzKihcUyspXHMrKFxTKylccyo7LztzLnRlc3QodGhpcy5saW5lKT9hLnVuaWZvcm1Qcm9jZXNzb3ImJihuPWEudW5pZm9ybVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCkpOmEudW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKG49YS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCksdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSEwKX10Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJnRoaXMubGluZS5pbmRleE9mKCJ9IikhPT0tMSYmKHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMSxhLmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKG49YS5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkpfXIrPW4rYFxyCmB9cmV0dXJuIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihvKXtyKz1vLnByb2Nlc3MoZSx0KX0pLHRoaXMuYWRkaXRpb25hbERlZmluZUtleSYmKGVbdGhpcy5hZGRpdGlvbmFsRGVmaW5lS2V5XT10aGlzLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZXx8InRydWUiKSxyfSxpfSgpLFJuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50TGluZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lc1t0aGlzLmxpbmVJbmRleF19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjYW5SZWFkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZUluZGV4PHRoaXMuX2xpbmVzLmxlbmd0aC0xfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibGluZXMiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbGluZXM9W107Zm9yKHZhciB0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG5bMF09PT0iIyIpe3RoaXMuX2xpbmVzLnB1c2gobik7Y29udGludWV9Zm9yKHZhciBhPW4uc3BsaXQoIjsiKSxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBvPWFbc107bz1vLnRyaW0oKSwhIW8mJnRoaXMuX2xpbmVzLnB1c2gobysocyE9PWEubGVuZ3RoLTE/IjsiOiIiKSl9fX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpfSgpLFdyPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgYT10aGlzLmNoaWxkcmVuW25dO2lmKGEuaXNWYWxpZCh0KSlyZXR1cm4gYS5wcm9jZXNzKHQscil9cmV0dXJuIiJ9LGV9KGp0KSxQbj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGVzdEV4cHJlc3Npb24uaXNUcnVlKHQpfSxlfShqdCksS3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLnByb3RvdHlwZS5pc1RydWU9ZnVuY3Rpb24oZSl7cmV0dXJuITB9LGkucG9zdGZpeFRvSW5maXg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MCxuPWU7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoaS5fT3BlcmF0b3JQcmlvcml0eVthXT09PXZvaWQgMCl0LnB1c2goYSk7ZWxzZXt2YXIgcz10W3QubGVuZ3RoLTFdLG89dFt0Lmxlbmd0aC0yXTt0Lmxlbmd0aC09Mix0LnB1c2goIigiLmNvbmNhdChvKS5jb25jYXQoYSkuY29uY2F0KHMsIikiKSl9fXJldHVybiB0W3QubGVuZ3RoLTFdfSxpLmluZml4VG9Qb3N0Zml4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPS0xLG49ZnVuY3Rpb24oKXtmPWYudHJpbSgpLGYhPT0iIiYmKHQucHVzaChmKSxmPSIiKX0sYT1mdW5jdGlvbihjKXtyPGkuX1N0YWNrLmxlbmd0aC0xJiYoaS5fU3RhY2tbKytyXT1jKX0scz1mdW5jdGlvbigpe3JldHVybiBpLl9TdGFja1tyXX0sbz1mdW5jdGlvbigpe3JldHVybiByPT09LTE/IiEhSU5WQUxJRCBFWFBSRVNTSU9OISEiOmkuX1N0YWNrW3ItLV19LHU9MCxmPSIiO3U8ZS5sZW5ndGg7KXt2YXIgbD1lLmNoYXJBdCh1KSxoPXU8ZS5sZW5ndGgtMT9lLnN1YnN0cih1LDIpOiIiO2lmKGw9PT0iKCIpZj0iIixhKGwpO2Vsc2UgaWYobD09PSIpIil7Zm9yKG4oKTtyIT09LTEmJnMoKSE9PSIoIjspdC5wdXNoKG8oKSk7bygpfWVsc2UgaWYoaS5fT3BlcmF0b3JQcmlvcml0eVtoXT4xKXtmb3IobigpO3IhPT0tMSYmaS5fT3BlcmF0b3JQcmlvcml0eVtzKCldPj1pLl9PcGVyYXRvclByaW9yaXR5W2hdOyl0LnB1c2gobygpKTthKGgpLHUrK31lbHNlIGYrPWw7dSsrfWZvcihuKCk7ciE9PS0xOylzKCk9PT0iKCI/bygpOnQucHVzaChvKCkpO3JldHVybiB0fSxpLl9PcGVyYXRvclByaW9yaXR5PXsiKSI6MCwiKCI6MSwifHwiOjIsIiYmIjozfSxpLl9TdGFjaz1bIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiJdLGl9KCksbHI9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyKXtyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmRlZmluZT10LG4ubm90PXIsbn1yZXR1cm4gZS5wcm90b3R5cGUuaXNUcnVlPWZ1bmN0aW9uKHQpe3ZhciByPXRbdGhpcy5kZWZpbmVdIT09dm9pZCAwO3JldHVybiB0aGlzLm5vdCYmKHI9IXIpLHJ9LGV9KEt0KSxDbj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUodCl8fHRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZSh0KX0sZX0oS3QpLERuPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuaXNUcnVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnRPcGVyYW5kLmlzVHJ1ZSh0KSYmdGhpcy5yaWdodE9wZXJhbmQuaXNUcnVlKHQpfSxlfShLdCkseG49ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gYS5kZWZpbmU9dCxhLm9wZXJhbmQ9cixhLnRlc3RWYWx1ZT1uLGF9cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXt2YXIgcj10W3RoaXMuZGVmaW5lXTtyPT09dm9pZCAwJiYocj10aGlzLmRlZmluZSk7dmFyIG49ITEsYT1wYXJzZUludChyKSxzPXBhcnNlSW50KHRoaXMudGVzdFZhbHVlKTtzd2l0Y2godGhpcy5vcGVyYW5kKXtjYXNlIj4iOm49YT5zO2JyZWFrO2Nhc2UiPCI6bj1hPHM7YnJlYWs7Y2FzZSI8PSI6bj1hPD1zO2JyZWFrO2Nhc2UiPj0iOm49YT49czticmVhaztjYXNlIj09IjpuPWE9PT1zO2JyZWFrfXJldHVybiBufSxlfShLdCksU2U7KGZ1bmN0aW9uKGkpe2lbaS5HTFNMPTBdPSJHTFNMIixpW2kuV0dTTD0xXT0iV0dTTCJ9KShTZXx8KFNlPXt9KSk7dmFyIEluPS9kZWZpbmVkXHMqP1woKC4rPylcKS9nLHpyPS9kZWZpbmVkXHMqP1xbKC4rPylcXS9nLFl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5Jbml0aWFsaXplPWZ1bmN0aW9uKGUpe2UucHJvY2Vzc29yJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyYmZS5wcm9jZXNzb3IuaW5pdGlhbGl6ZVNoYWRlcnMoZS5wcm9jZXNzaW5nQ29udGV4dCl9LGkuUHJvY2Vzcz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLHM7KChzPXQucHJvY2Vzc29yKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucHJlUHJvY2Vzc1NoYWRlckNvZGUpJiYoZT10LnByb2Nlc3Nvci5wcmVQcm9jZXNzU2hhZGVyQ29kZShlLHQuaXNGcmFnbWVudCkpLHRoaXMuX1Byb2Nlc3NJbmNsdWRlcyhlLHQsZnVuY3Rpb24obyl7dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMmJihvPXQucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKHQuaXNGcmFnbWVudD8iZnJhZ21lbnQiOiJ2ZXJ0ZXgiLG8pKTt2YXIgdT1hLl9Qcm9jZXNzU2hhZGVyQ29udmVyc2lvbihvLHQsbik7cih1KX0pfSxpLlByZVByb2Nlc3M9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcyxzOygocz10LnByb2Nlc3Nvcik9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLnByZVByb2Nlc3NTaGFkZXJDb2RlKSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LGZ1bmN0aW9uKG8pe3QucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzJiYobz10LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0LmlzRnJhZ21lbnQ/ImZyYWdtZW50IjoidmVydGV4IixvKSk7dmFyIHU9YS5fQXBwbHlQcmVQcm9jZXNzaW5nKG8sdCxuKTtyKHUpfSl9LGkuRmluYWxpemU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiFyLnByb2Nlc3Nvcnx8IXIucHJvY2Vzc29yLmZpbmFsaXplU2hhZGVycz97dmVydGV4Q29kZTplLGZyYWdtZW50Q29kZTp0fTpyLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnMoZSx0LHIucHJvY2Vzc2luZ0NvbnRleHQpfSxpLl9Qcm9jZXNzUHJlY2lzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYoKHI9dC5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5ub1ByZWNpc2lvbilyZXR1cm4gZTt2YXIgbj10LnNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI7cmV0dXJuIGUuaW5kZXhPZigicHJlY2lzaW9uIGhpZ2hwIGZsb2F0Iik9PT0tMT9uP2U9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYCtlOmU9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpgK2U6bnx8KGU9ZS5yZXBsYWNlKCJwcmVjaXNpb24gaGlnaHAgZmxvYXQiLCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdCIpKSxlfSxpLl9FeHRyYWN0T3BlcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PS9kZWZpbmVkXCgoLispXCkvLHI9dC5leGVjKGUpO2lmKHImJnIubGVuZ3RoKXJldHVybiBuZXcgbHIoclsxXS50cmltKCksZVswXT09PSIhIik7Zm9yKHZhciBuPVsiPT0iLCI+PSIsIjw9IiwiPCIsIj4iXSxhPSIiLHM9MCxvPTAsdT1uO288dS5sZW5ndGgmJihhPXVbb10scz1lLmluZGV4T2YoYSksIShzPi0xKSk7bysrKTtpZihzPT09LTEpcmV0dXJuIG5ldyBscihlKTt2YXIgZj1lLnN1YnN0cmluZygwLHMpLnRyaW0oKSxsPWUuc3Vic3RyaW5nKHMrYS5sZW5ndGgpLnRyaW0oKTtyZXR1cm4gbmV3IHhuKGYsYSxsKX0saS5fQnVpbGRTdWJFeHByZXNzaW9uPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKEluLCJkZWZpbmVkWyQxXSIpO2Zvcih2YXIgdD1LdC5pbmZpeFRvUG9zdGZpeChlKSxyPVtdLG49MCxhPXQ7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07aWYocyE9PSJ8fCImJnMhPT0iJiYiKXIucHVzaChzKTtlbHNlIGlmKHIubGVuZ3RoPj0yKXt2YXIgbz1yW3IubGVuZ3RoLTFdLHU9cltyLmxlbmd0aC0yXTtyLmxlbmd0aC09Mjt2YXIgZj1zPT0iJiYiP25ldyBEbjpuZXcgQ247dHlwZW9mIG89PSJzdHJpbmciJiYobz1vLnJlcGxhY2UoenIsImRlZmluZWQoJDEpIikpLHR5cGVvZiB1PT0ic3RyaW5nIiYmKHU9dS5yZXBsYWNlKHpyLCJkZWZpbmVkKCQxKSIpKSxmLmxlZnRPcGVyYW5kPXR5cGVvZiB1PT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKHUpOnUsZi5yaWdodE9wZXJhbmQ9dHlwZW9mIG89PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obyk6byxyLnB1c2goZil9fXZhciBsPXJbci5sZW5ndGgtMV07cmV0dXJuIHR5cGVvZiBsPT0ic3RyaW5nIiYmKGw9bC5yZXBsYWNlKHpyLCJkZWZpbmVkKCQxKSIpKSx0eXBlb2YgbD09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbihsKTpsfSxpLl9CdWlsZEV4cHJlc3Npb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUG4sbj1lLnN1YnN0cmluZygwLHQpLGE9ZS5zdWJzdHJpbmcodCk7cmV0dXJuIGE9YS5zdWJzdHJpbmcoMCwoYS5pbmRleE9mKCIvLyIpKzF8fGEubGVuZ3RoKzEpLTEpLnRyaW0oKSxuPT09IiNpZmRlZiI/ci50ZXN0RXhwcmVzc2lvbj1uZXcgbHIoYSk6bj09PSIjaWZuZGVmIj9yLnRlc3RFeHByZXNzaW9uPW5ldyBscihhLCEwKTpyLnRlc3RFeHByZXNzaW9uPXRoaXMuX0J1aWxkU3ViRXhwcmVzc2lvbihhKSxyfSxpLl9Nb3ZlQ3Vyc29yV2l0aGluSWY9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1lLmN1cnJlbnRMaW5lO3RoaXMuX01vdmVDdXJzb3IoZSxyKTspe249ZS5jdXJyZW50TGluZTt2YXIgYT1uLnN1YnN0cmluZygwLDUpLnRvTG93ZXJDYXNlKCk7aWYoYT09PSIjZWxzZSIpe3ZhciBzPW5ldyBqdDt0LmNoaWxkcmVuLnB1c2gocyksdGhpcy5fTW92ZUN1cnNvcihlLHMpO3JldHVybn1lbHNlIGlmKGE9PT0iI2VsaWYiKXt2YXIgbz10aGlzLl9CdWlsZEV4cHJlc3Npb24obiw1KTt0LmNoaWxkcmVuLnB1c2gobykscj1vfX19LGkuX01vdmVDdXJzb3I9ZnVuY3Rpb24oZSx0KXtmb3IoO2UuY2FuUmVhZDspe2UubGluZUluZGV4Kys7dmFyIHI9ZS5jdXJyZW50TGluZSxuPS8oI2lmZGVmKXwoI2Vsc2UpfCgjZWxpZil8KCNlbmRpZil8KCNpZm5kZWYpfCgjaWYpLyxhPW4uZXhlYyhyKTtpZihhJiZhLmxlbmd0aCl7dmFyIHM9YVswXTtzd2l0Y2gocyl7Y2FzZSIjaWZkZWYiOnt2YXIgbz1uZXcgV3I7dC5jaGlsZHJlbi5wdXNoKG8pO3ZhciB1PXRoaXMuX0J1aWxkRXhwcmVzc2lvbihyLDYpO28uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfWNhc2UiI2Vsc2UiOmNhc2UiI2VsaWYiOnJldHVybiEwO2Nhc2UiI2VuZGlmIjpyZXR1cm4hMTtjYXNlIiNpZm5kZWYiOnt2YXIgbz1uZXcgV3I7dC5jaGlsZHJlbi5wdXNoKG8pO3ZhciB1PXRoaXMuX0J1aWxkRXhwcmVzc2lvbihyLDcpO28uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfWNhc2UiI2lmIjp7dmFyIG89bmV3IFdyLHU9dGhpcy5fQnVpbGRFeHByZXNzaW9uKHIsMyk7dC5jaGlsZHJlbi5wdXNoKG8pLG8uY2hpbGRyZW4ucHVzaCh1KSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxvLHUpO2JyZWFrfX19ZWxzZXt2YXIgZj1uZXcganQ7aWYoZi5saW5lPXIsdC5jaGlsZHJlbi5wdXNoKGYpLHJbMF09PT0iIyImJnJbMV09PT0iZCIpe3ZhciBsPXIucmVwbGFjZSgiOyIsIiIpLnNwbGl0KCIgIik7Zi5hZGRpdGlvbmFsRGVmaW5lS2V5PWxbMV0sbC5sZW5ndGg9PT0zJiYoZi5hZGRpdGlvbmFsRGVmaW5lVmFsdWU9bFsyXSl9fX1yZXR1cm4hMX0saS5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcganQsYT1uZXcgUm47cmV0dXJuIGEubGluZUluZGV4PS0xLGEubGluZXM9ZS5zcGxpdChgCmApLHRoaXMuX01vdmVDdXJzb3IoYSxuKSxuLnByb2Nlc3ModCxyKX0saS5fUHJlcGFyZVByZVByb2Nlc3NvcnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbj1lLmRlZmluZXMsYT17fSxzPTAsbz1uO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdLGY9dS5yZXBsYWNlKCIjZGVmaW5lIiwiIikucmVwbGFjZSgiOyIsIiIpLnRyaW0oKSxsPWYuc3BsaXQoIiAiKTthW2xbMF1dPWwubGVuZ3RoPjE/bFsxXToiIn1yZXR1cm4oKHI9ZS5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zaGFkZXJMYW5ndWFnZSk9PT1TZS5HTFNMJiYoYS5HTF9FUz0idHJ1ZSIpLGEuX19WRVJTSU9OX189ZS52ZXJzaW9uLGFbZS5wbGF0Zm9ybU5hbWVdPSJ0cnVlIix0Ll9nZXRHbG9iYWxEZWZpbmVzKGEpLGF9LGkuX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl9Qcm9jZXNzUHJlY2lzaW9uKGUsdCk7aWYoIXQucHJvY2Vzc29yKXJldHVybiBuO2lmKHQucHJvY2Vzc29yLnNoYWRlckxhbmd1YWdlPT09U2UuR0xTTCYmbi5pbmRleE9mKCIjdmVyc2lvbiAzIikhPT0tMSlyZXR1cm4gbi5yZXBsYWNlKCIjdmVyc2lvbiAzMDAgZXMiLCIiKTt2YXIgYT10LmRlZmluZXMscz10aGlzLl9QcmVwYXJlUHJlUHJvY2Vzc29ycyh0LHIpO3JldHVybiB0LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxuPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhuLHMsdCksdC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvciYmKG49dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQscikpLHIuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihuPXIuaW5saW5lU2hhZGVyQ29kZShuKSksbn0saS5fQXBwbHlQcmVQcm9jZXNzaW5nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhLHM9ZSxvPXQuZGVmaW5lcyx1PXRoaXMuX1ByZXBhcmVQcmVQcm9jZXNzb3JzKHQscik7cmV0dXJuKChuPXQucHJvY2Vzc29yKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4ucHJlUHJvY2Vzc29yKSYmKHM9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yKHMsbyx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpLHM9dGhpcy5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzKHMsdSx0KSwoKGE9dC5wcm9jZXNzb3IpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5wb3N0UHJvY2Vzc29yKSYmKHM9dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihzLG8sdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQscikpLHIuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihzPXIuaW5saW5lU2hhZGVyQ29kZShzKSksc30saS5fUHJvY2Vzc0luY2x1ZGVzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49dGhpcyxhPS8jaW5jbHVkZVxzPzwoLispPihcKCguKilcKSkqKFxbKC4qKVxdKSovZyxzPWEuZXhlYyhlKSxvPW5ldyBTdHJpbmcoZSksdT0hMTtzIT1udWxsOyl7dmFyIGY9c1sxXTtpZihmLmluZGV4T2YoIl9fZGVjbF9fIikhPT0tMSYmKGY9Zi5yZXBsYWNlKC9fX2RlY2xfXy8sIiIpLHQuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyYmKGY9Zi5yZXBsYWNlKC9WZXJ0ZXgvLCJVYm8iKSxmPWYucmVwbGFjZSgvRnJhZ21lbnQvLCJVYm8iKSksZj1mKyJEZWNsYXJhdGlvbiIpLHQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbZl0pe3ZhciBsPXQuaW5jbHVkZXNTaGFkZXJzU3RvcmVbZl07aWYoc1syXSlmb3IodmFyIGg9c1szXS5zcGxpdCgiLCIpLGM9MDtjPGgubGVuZ3RoO2MrPTIpe3ZhciBkPW5ldyBSZWdFeHAoaFtjXSwiZyIpLHA9aFtjKzFdO2w9bC5yZXBsYWNlKGQscCl9aWYoc1s0XSl7dmFyIF89c1s1XTtpZihfLmluZGV4T2YoIi4uIikhPT0tMSl7dmFyIGc9Xy5zcGxpdCgiLi4iKSxtPXBhcnNlSW50KGdbMF0pLHY9cGFyc2VJbnQoZ1sxXSksUz1sLnNsaWNlKDApO2w9IiIsaXNOYU4odikmJih2PXQuaW5kZXhQYXJhbWV0ZXJzW2dbMV1dKTtmb3IodmFyIE09bTtNPHY7TSsrKXQuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8KFM9Uy5yZXBsYWNlKC9saWdodFx7WFx9LihcdyopL2csZnVuY3Rpb24oUix5KXtyZXR1cm4geSsie1h9In0pKSxsKz1TLnJlcGxhY2UoL1x7WFx9L2csTS50b1N0cmluZygpKStgCmB9ZWxzZSB0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChsPWwucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLGZ1bmN0aW9uKFIseSl7cmV0dXJuIHkrIntYfSJ9KSksbD1sLnJlcGxhY2UoL1x7WFx9L2csXyl9bz1vLnJlcGxhY2Uoc1swXSxsKSx1PXV8fGwuaW5kZXhPZigiI2luY2x1ZGU8Iik+PTB8fGwuaW5kZXhPZigiI2luY2x1ZGUgPCIpPj0wfWVsc2V7dmFyIEE9dC5zaGFkZXJzUmVwb3NpdG9yeSsiU2hhZGVyc0luY2x1ZGUvIitmKyIuZngiO2kuX0ZpbGVUb29sc0xvYWRGaWxlKEEsZnVuY3Rpb24oUil7dC5pbmNsdWRlc1NoYWRlcnNTdG9yZVtmXT1SLG4uX1Byb2Nlc3NJbmNsdWRlcyhvLHQscil9KTtyZXR1cm59cz1hLmV4ZWMoZSl9dT90aGlzLl9Qcm9jZXNzSW5jbHVkZXMoby50b1N0cmluZygpLHQscik6cihvKX0saS5fRmlsZVRvb2xzTG9hZEZpbGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3Rocm93IFUoIkZpbGVUb29scyIpfSxpfSgpLEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkdldFNoYWRlcnNSZXBvc2l0b3J5PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1TZS5HTFNMKSxlPT09U2UuR0xTTD9pLlNoYWRlcnNSZXBvc2l0b3J5OmkuU2hhZGVyc1JlcG9zaXRvcnlXR1NMfSxpLkdldFNoYWRlcnNTdG9yZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9U2UuR0xTTCksZT09PVNlLkdMU0w/aS5TaGFkZXJzU3RvcmU6aS5TaGFkZXJzU3RvcmVXR1NMfSxpLkdldEluY2x1ZGVzU2hhZGVyc1N0b3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1TZS5HTFNMKSxlPT09U2UuR0xTTD9pLkluY2x1ZGVzU2hhZGVyc1N0b3JlOmkuSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMfSxpLlNoYWRlcnNSZXBvc2l0b3J5PSJzcmMvU2hhZGVycy8iLGkuU2hhZGVyc1N0b3JlPXt9LGkuSW5jbHVkZXNTaGFkZXJzU3RvcmU9e30saS5TaGFkZXJzUmVwb3NpdG9yeVdHU0w9InNyYy9TaGFkZXJzV0dTTC8iLGkuU2hhZGVyc1N0b3JlV0dTTD17fSxpLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTD17fSxpfSgpLGtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUsZixsLGgsYyl7dmFyIGQ9dGhpcztuPT09dm9pZCAwJiYobj1udWxsKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxmPT09dm9pZCAwJiYoZj1udWxsKSxoPT09dm9pZCAwJiYoaD0iIiksYz09PXZvaWQgMCYmKGM9U2UuR0xTTCk7dmFyIHAsXyxnO3RoaXMubmFtZT1udWxsLHRoaXMuZGVmaW5lcz0iIix0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLm9uQmluZD1udWxsLHRoaXMudW5pcXVlSWQ9MCx0aGlzLm9uQ29tcGlsZU9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkVycm9yT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW51bGwsdGhpcy5fd2FzUHJldmlvdXNseVJlYWR5PSExLHRoaXMuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMSx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzPXt9LHRoaXMuX211bHRpVGFyZ2V0PSExLHRoaXMuX3NhbXBsZXJzPXt9LHRoaXMuX2lzUmVhZHk9ITEsdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsdGhpcy5fdW5pZm9ybXM9e30sdGhpcy5fa2V5PSIiLHRoaXMuX2ZhbGxiYWNrcz1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT0iIix0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPW51bGwsdGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5fdmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZT0iIix0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9IiIsdGhpcy5uYW1lPWUsdGhpcy5fa2V5PWg7dmFyIG09dm9pZCAwLHY9bnVsbDtpZih0LmF0dHJpYnV0ZXMpe3ZhciBTPXQ7aWYodGhpcy5fZW5naW5lPXIsdGhpcy5fYXR0cmlidXRlc05hbWVzPVMuYXR0cmlidXRlcyx0aGlzLl91bmlmb3Jtc05hbWVzPVMudW5pZm9ybXNOYW1lcy5jb25jYXQoUy5zYW1wbGVycyksdGhpcy5fc2FtcGxlckxpc3Q9Uy5zYW1wbGVycy5zbGljZSgpLHRoaXMuZGVmaW5lcz1TLmRlZmluZXMsdGhpcy5vbkVycm9yPVMub25FcnJvcix0aGlzLm9uQ29tcGlsZWQ9Uy5vbkNvbXBpbGVkLHRoaXMuX2ZhbGxiYWNrcz1TLmZhbGxiYWNrcyx0aGlzLl9pbmRleFBhcmFtZXRlcnM9Uy5pbmRleFBhcmFtZXRlcnMsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1TLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3N8fG51bGwsdGhpcy5fbXVsdGlUYXJnZXQ9ISFTLm11bHRpVGFyZ2V0LHRoaXMuX3NoYWRlckxhbmd1YWdlPShwPVMuc2hhZGVyTGFuZ3VhZ2UpIT09bnVsbCYmcCE9PXZvaWQgMD9wOlNlLkdMU0wsUy51bmlmb3JtQnVmZmVyc05hbWVzKXt0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1TLnVuaWZvcm1CdWZmZXJzTmFtZXMuc2xpY2UoKTtmb3IodmFyIE09MDtNPFMudW5pZm9ybUJ1ZmZlcnNOYW1lcy5sZW5ndGg7TSsrKXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbUy51bmlmb3JtQnVmZmVyc05hbWVzW01dXT1NfXY9KF89Uy5wcm9jZXNzRmluYWxDb2RlKSE9PW51bGwmJl8hPT12b2lkIDA/XzpudWxsLG09KGc9Uy5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMpIT09bnVsbCYmZyE9PXZvaWQgMD9nOnZvaWQgMH1lbHNlIHRoaXMuX2VuZ2luZT1hLHRoaXMuZGVmaW5lcz1zPT1udWxsPyIiOnMsdGhpcy5fdW5pZm9ybXNOYW1lcz1yLmNvbmNhdChuKSx0aGlzLl9zYW1wbGVyTGlzdD1uP24uc2xpY2UoKTpbXSx0aGlzLl9hdHRyaWJ1dGVzTmFtZXM9dCx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1bXSx0aGlzLl9zaGFkZXJMYW5ndWFnZT1jLHRoaXMub25FcnJvcj1mLHRoaXMub25Db21waWxlZD11LHRoaXMuX2luZGV4UGFyYW1ldGVycz1sLHRoaXMuX2ZhbGxiYWNrcz1vO3RoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lPXt9LHRoaXMudW5pcXVlSWQ9aS5fdW5pcXVlSWRTZWVkKys7dmFyIEEsUix5PWRlKCk/dGhpcy5fZW5naW5lLmdldEhvc3REb2N1bWVudCgpOm51bGw7ZS52ZXJ0ZXhTb3VyY2U/QT0ic291cmNlOiIrZS52ZXJ0ZXhTb3VyY2U6ZS52ZXJ0ZXhFbGVtZW50PyhBPXk/eS5nZXRFbGVtZW50QnlJZChlLnZlcnRleEVsZW1lbnQpOm51bGwsQXx8KEE9ZS52ZXJ0ZXhFbGVtZW50KSk6QT1lLnZlcnRleHx8ZSxlLmZyYWdtZW50U291cmNlP1I9InNvdXJjZToiK2UuZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudEVsZW1lbnQ/KFI9eT95LmdldEVsZW1lbnRCeUlkKGUuZnJhZ21lbnRFbGVtZW50KTpudWxsLFJ8fChSPWUuZnJhZ21lbnRFbGVtZW50KSk6Uj1lLmZyYWdtZW50fHxlLHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0PXRoaXMuX2VuZ2luZS5fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpO3ZhciBDPXtkZWZpbmVzOnRoaXMuZGVmaW5lcy5zcGxpdChgCmApLGluZGV4UGFyYW1ldGVyczp0aGlzLl9pbmRleFBhcmFtZXRlcnMsaXNGcmFnbWVudDohMSxzaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyOnRoaXMuX2VuZ2luZS5fc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcixwcm9jZXNzb3I6dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzb3IodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLHN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnM6dGhpcy5fZW5naW5lLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsc2hhZGVyc1JlcG9zaXRvcnk6TC5HZXRTaGFkZXJzUmVwb3NpdG9yeSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksaW5jbHVkZXNTaGFkZXJzU3RvcmU6TC5HZXRJbmNsdWRlc1NoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksdmVyc2lvbjoodGhpcy5fZW5naW5lLnZlcnNpb24qMTAwKS50b1N0cmluZygpLHBsYXRmb3JtTmFtZTp0aGlzLl9lbmdpbmUuc2hhZGVyUGxhdGZvcm1OYW1lLHByb2Nlc3NpbmdDb250ZXh0OnRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0LGlzTkRDSGFsZlpSYW5nZTp0aGlzLl9lbmdpbmUuaXNORENIYWxmWlJhbmdlLHVzZVJldmVyc2VEZXB0aEJ1ZmZlcjp0aGlzLl9lbmdpbmUudXNlUmV2ZXJzZURlcHRoQnVmZmVyLHByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlczptfSx3PVt2b2lkIDAsdm9pZCAwXSxGPWZ1bmN0aW9uKCl7aWYod1swXSYmd1sxXSl7Qy5pc0ZyYWdtZW50PSEwO3ZhciBEPXdbMF0sWD13WzFdO1l0LlByb2Nlc3MoWCxDLGZ1bmN0aW9uKFcpe3YmJihXPXYoImZyYWdtZW50IixXKSk7dmFyIE49WXQuRmluYWxpemUoRCxXLEMpO2QuX3VzZUZpbmFsQ29kZShOLnZlcnRleENvZGUsTi5mcmFnbWVudENvZGUsZSl9LGQuX2VuZ2luZSl9fTt0aGlzLl9sb2FkU2hhZGVyKEEsIlZlcnRleCIsIiIsZnVuY3Rpb24oRCl7WXQuSW5pdGlhbGl6ZShDKSxZdC5Qcm9jZXNzKEQsQyxmdW5jdGlvbihYKXtkLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlPUQsdiYmKFg9digidmVydGV4IixYKSksd1swXT1YLEYoKX0sZC5fZW5naW5lKX0pLHRoaXMuX2xvYWRTaGFkZXIoUiwiRnJhZ21lbnQiLCJQaXhlbCIsZnVuY3Rpb24oRCl7ZC5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPUQsd1sxXT1ELEYoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hhZGVyc1JlcG9zaXRvcnkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5TaGFkZXJzUmVwb3NpdG9yeX0sc2V0OmZ1bmN0aW9uKGUpe0wuU2hhZGVyc1JlcG9zaXRvcnk9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQmluZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX29uQmluZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3VzZUZpbmFsQ29kZT1mdW5jdGlvbihlLHQscil7aWYocil7dmFyIG49ci52ZXJ0ZXhFbGVtZW50fHxyLnZlcnRleHx8ci5zcGVjdG9yTmFtZXx8cixhPXIuZnJhZ21lbnRFbGVtZW50fHxyLmZyYWdtZW50fHxyLnNwZWN0b3JOYW1lfHxyO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGU9KHRoaXMuX3NoYWRlckxhbmd1YWdlPT09U2UuV0dTTD8iLy8iOiIiKSsiI2RlZmluZSBTSEFERVJfTkFNRSB2ZXJ0ZXg6IituK2AKYCtlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT0odGhpcy5fc2hhZGVyTGFuZ3VhZ2U9PT1TZS5XR1NMPyIvLyI6IiIpKyIjZGVmaW5lIFNIQURFUl9OQU1FIGZyYWdtZW50OiIrYStgCmArdH1lbHNlIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9dDt0aGlzLl9wcmVwYXJlRWZmZWN0KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwia2V5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLl9pc1JlYWR5SW50ZXJuYWwoKX1jYXRjaHtyZXR1cm4hMX19LGkucHJvdG90eXBlLl9pc1JlYWR5SW50ZXJuYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNSZWFkeT8hMDp0aGlzLl9waXBlbGluZUNvbnRleHQ/dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzUmVhZHk6ITF9LGkucHJvdG90eXBlLmdldEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmdpbmV9LGkucHJvdG90eXBlLmdldFBpcGVsaW5lQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHR9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXNOYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzTmFtZXN9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZUxvY2F0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzW2VdfSxpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWVbZV19LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzLmxlbmd0aH0saS5wcm90b3R5cGUuZ2V0VW5pZm9ybUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzLmluZGV4T2YoZSl9LGkucHJvdG90eXBlLmdldFVuaWZvcm09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zW2VdfSxpLnByb3RvdHlwZS5nZXRTYW1wbGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zYW1wbGVyTGlzdH0saS5wcm90b3R5cGUuZ2V0VW5pZm9ybU5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zTmFtZXN9LGkucHJvdG90eXBlLmdldFVuaWZvcm1CdWZmZXJzTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3R9LGkucHJvdG90eXBlLmdldEluZGV4UGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleFBhcmFtZXRlcnN9LGkucHJvdG90eXBlLmdldENvbXBpbGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcn0saS5wcm90b3R5cGUuYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZH0saS5wcm90b3R5cGUuZXhlY3V0ZVdoZW5Db21waWxlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuaXNSZWFkeSgpKXtlKHRoaXMpO3JldHVybn10aGlzLm9uQ29tcGlsZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKHIpe2Uocil9KSwoIXRoaXMuX3BpcGVsaW5lQ29udGV4dHx8dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzQXN5bmMpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fY2hlY2tJc1JlYWR5KG51bGwpfSwxNil9LGkucHJvdG90eXBlLl9jaGVja0lzUmVhZHk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7aWYodGhpcy5faXNSZWFkeUludGVybmFsKCkpcmV0dXJufWNhdGNoKHIpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhyLGUpO3JldHVybn1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fY2hlY2tJc1JlYWR5KGUpfSwxNil9LGkucHJvdG90eXBlLl9sb2FkU2hhZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHR5cGVvZiBIVE1MRWxlbWVudCE9InVuZGVmaW5lZCImJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7dmFyIGE9VnIoZSk7bihhKTtyZXR1cm59aWYoZS5zdWJzdHIoMCw3KT09PSJzb3VyY2U6Iil7bihlLnN1YnN0cig3KSk7cmV0dXJufWlmKGUuc3Vic3RyKDAsNyk9PT0iYmFzZTY0OiIpe3ZhciBzPXdpbmRvdy5hdG9iKGUuc3Vic3RyKDcpKTtuKHMpO3JldHVybn12YXIgbz1MLkdldFNoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7aWYob1tlK3QrIlNoYWRlciJdKXtuKG9bZSt0KyJTaGFkZXIiXSk7cmV0dXJufWlmKHImJm9bZStyKyJTaGFkZXIiXSl7bihvW2UrcisiU2hhZGVyIl0pO3JldHVybn12YXIgdTtlWzBdPT09Ii4ifHxlWzBdPT09Ii8ifHxlLmluZGV4T2YoImh0dHAiKT4tMT91PWU6dT1MLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKStlLHRoaXMuX2VuZ2luZS5fbG9hZEZpbGUodSsiLiIrdC50b0xvd2VyQ2FzZSgpKyIuZngiLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInZlcnRleFNvdXJjZUNvZGUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnJhZ21lbnRTb3VyY2VDb2RlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJhd1ZlcnRleFNvdXJjZUNvZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJhd0ZyYWdtZW50U291cmNlQ29kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3JlYnVpbGRQcm9ncmFtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXM7dGhpcy5faXNSZWFkeT0hMSx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT10LHRoaXMub25FcnJvcj1mdW5jdGlvbihzLG8pe24mJm4obyl9LHRoaXMub25Db21waWxlZD1mdW5jdGlvbigpe3ZhciBzPWEuZ2V0RW5naW5lKCkuc2NlbmVzO2lmKHMpZm9yKHZhciBvPTA7bzxzLmxlbmd0aDtvKyspc1tvXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2Myk7YS5fcGlwZWxpbmVDb250ZXh0Ll9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjayhyKX0sdGhpcy5fZmFsbGJhY2tzPW51bGwsdGhpcy5fcHJlcGFyZUVmZmVjdCgpfSxpLnByb3RvdHlwZS5fcHJlcGFyZUVmZmVjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9hdHRyaWJ1dGVzTmFtZXMscj10aGlzLmRlZmluZXMsbj10aGlzLl9waXBlbGluZUNvbnRleHQ7dGhpcy5faXNSZWFkeT0hMTt0cnl7dmFyIGE9dGhpcy5fZW5naW5lO3RoaXMuX3BpcGVsaW5lQ29udGV4dD1hLmNyZWF0ZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9wcm9jZXNzaW5nQ29udGV4dCksdGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9uYW1lPXRoaXMuX2tleTt2YXIgcz10aGlzLl9yZWJ1aWxkUHJvZ3JhbS5iaW5kKHRoaXMpO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/YS5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlLCEwLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHMsbnVsbCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSk6YS5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGUsITEsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZSx0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGUscyxyLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MsdGhpcy5fa2V5KSxhLl9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZCh0aGlzLl9waXBlbGluZUNvbnRleHQsZnVuY3Rpb24oKXtpZihlLl9hdHRyaWJ1dGVzPVtdLGUuX3BpcGVsaW5lQ29udGV4dC5fZmlsbEVmZmVjdEluZm9ybWF0aW9uKGUsZS5fdW5pZm9ybUJ1ZmZlcnNOYW1lcyxlLl91bmlmb3Jtc05hbWVzLGUuX3VuaWZvcm1zLGUuX3NhbXBsZXJMaXN0LGUuX3NhbXBsZXJzLHQsZS5fYXR0cmlidXRlcyksdClmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIHU9dFtvXTtlLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVt1XT1lLl9hdHRyaWJ1dGVzW29dfWEuYmluZFNhbXBsZXJzKGUpLGUuX2NvbXBpbGF0aW9uRXJyb3I9IiIsZS5faXNSZWFkeT0hMCxlLm9uQ29tcGlsZWQmJmUub25Db21waWxlZChlKSxlLm9uQ29tcGlsZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUub25Db21waWxlT2JzZXJ2YWJsZS5jbGVhcigpLGUuX2ZhbGxiYWNrcyYmZS5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSxuJiZlLmdldEVuZ2luZSgpLl9kZWxldGVQaXBlbGluZUNvbnRleHQobil9KSx0aGlzLl9waXBlbGluZUNvbnRleHQuaXNBc3luYyYmdGhpcy5fY2hlY2tJc1JlYWR5KG4pfWNhdGNoKG8pe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhvLG4pfX0saS5wcm90b3R5cGUuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXI/L0ZSQUdNRU5UIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LzovVkVSVEVYIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LyxhPW51bGw7aWYodCYmZSl7dmFyIHM9dC5tYXRjaChuKTtpZihzJiZzLmxlbmd0aD09PTIpe3ZhciBvPXBhcnNlSW50KHNbMV0pLHU9ZS5zcGxpdChgCmAsLTEpO3UubGVuZ3RoPj1vJiYoYT0iT2ZmZW5kaW5nIGxpbmUgWyIuY29uY2F0KG8sIl0gaW4gIikuY29uY2F0KHI/ImZyYWdtZW50IjoidmVydGV4IiwiIGNvZGU6ICIpLmNvbmNhdCh1W28tMV0pKX19cmV0dXJuW2UsYV19LGkucHJvdG90eXBlLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEscyxvO3Q9PT12b2lkIDAmJih0PW51bGwpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9ZS5tZXNzYWdlO3ZhciB1PXRoaXMuX2F0dHJpYnV0ZXNOYW1lcyxmPXRoaXMuX2ZhbGxiYWNrcztpZih6LkVycm9yKCJVbmFibGUgdG8gY29tcGlsZSBlZmZlY3Q6Iiksei5FcnJvcigiVW5pZm9ybXM6ICIrdGhpcy5fdW5pZm9ybXNOYW1lcy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIiAiK2R9KSksei5FcnJvcigiQXR0cmlidXRlczogIit1Lm1hcChmdW5jdGlvbihkKXtyZXR1cm4iICIrZH0pKSx6LkVycm9yKGBEZWZpbmVzOlxyCmArdGhpcy5kZWZpbmVzKSxpLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3Ipe3ZhciBsPW51bGwsaD1udWxsLGM9bnVsbDsoKGE9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuX2dldFZlcnRleFNoYWRlckNvZGUoKSkmJihyPXRoaXMuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmUodGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCksdGhpcy5fY29tcGlsYXRpb25FcnJvciwhMSksYz1yWzBdLGw9clsxXSxjJiYoei5FcnJvcigiVmVydGV4IGNvZGU6Iiksei5FcnJvcihjKSkpLCgocz10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkpJiYobj10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKChvPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSx0aGlzLl9jb21waWxhdGlvbkVycm9yLCEwKSxjPW5bMF0saD1uWzFdLGMmJih6LkVycm9yKCJGcmFnbWVudCBjb2RlOiIpLHouRXJyb3IoYykpKSxsJiZ6LkVycm9yKGwpLGgmJnouRXJyb3IoaCl9ei5FcnJvcigiRXJyb3I6ICIrdGhpcy5fY29tcGlsYXRpb25FcnJvciksdCYmKHRoaXMuX3BpcGVsaW5lQ29udGV4dD10LHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSksZj8odGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsZi5oYXNNb3JlRmFsbGJhY2tzPyh0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsei5FcnJvcigiVHJ5aW5nIG5leHQgZmFsbGJhY2suIiksdGhpcy5kZWZpbmVzPWYucmVkdWNlKHRoaXMuZGVmaW5lcyx0aGlzKSx0aGlzLl9wcmVwYXJlRWZmZWN0KCkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsdGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZmFsbGJhY2tzJiZ0aGlzLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpKSk6dGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzU3VwcG9ydGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9PT0iIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fYmluZFRleHR1cmU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuX2JpbmRUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9LGkucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5naW5lLnNldERlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUFycmF5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSsiRXgiO2lmKHRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YocisiMCIpPT09LTEpe2Zvcih2YXIgbj10aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKGUpLGE9MTthPHQubGVuZ3RoO2ErKyl7dmFyIHM9cisoYS0xKS50b1N0cmluZygpO3RoaXMuX3NhbXBsZXJMaXN0LnNwbGljZShuK2EsMCxzKX1mb3IodmFyIG89MCx1PTAsZj10aGlzLl9zYW1wbGVyTGlzdDt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XTt0aGlzLl9zYW1wbGVyc1tsXT1vLG8rPTF9fXRoaXMuX2VuZ2luZS5zZXRUZXh0dXJlQXJyYXkodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzcz1mdW5jdGlvbihlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9LGkucHJvdG90eXBlLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dCh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbdF07cj09PXZvaWQgMHx8aS5fYmFzZUNhY2hlW3JdPT09ZSYmdGhpcy5fZW5naW5lLl9mZWF0dXJlcy51c2VVQk9CaW5kaW5nQ2FjaGV8fChpLl9iYXNlQ2FjaGVbcl09ZSx0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CdWZmZXJCYXNlKGUscix0KSl9LGkucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CbG9jayh0aGlzLl9waXBlbGluZUNvbnRleHQsZSx0KX0saS5wcm90b3R5cGUuc2V0SW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDIoZSx0LHIpLHRoaXN9LGkucHJvdG90eXBlLnNldEludDM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQzKGUsdCxyLG4pLHRoaXN9LGkucHJvdG90eXBlLnNldEludDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDQoZSx0LHIsbixhKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXkoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5MihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEludEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXkzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0SW50QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0QXJyYXkyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXRBcnJheTQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEFycmF5Mj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkyKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0QXJyYXkzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRBcnJheTQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldE1hdHJpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaWNlcyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldE1hdHJpeD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0TWF0cml4M3gzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgzeDMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgyeDI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeDJ4MihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEJvb2w9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQ/MTowKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRWZWN0b3IyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3IyKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0MihlLHQsciksdGhpc30saS5wcm90b3R5cGUuc2V0VmVjdG9yMz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yMyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0MyhlLHQscixuKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRWZWN0b3I0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3I0KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDQoZSx0LHIsbixhKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRDb2xvcjM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldENvbG9yMyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldENvbG9yND1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRDb2xvcjQoZSx0LHIpLHRoaXN9LGkucHJvdG90eXBlLnNldERpcmVjdENvbG9yND1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RGlyZWN0Q29sb3I0KGUsdCksdGhpc30saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3BpcGVsaW5lQ29udGV4dCYmdGhpcy5fcGlwZWxpbmVDb250ZXh0LmRpc3Bvc2UoKSx0aGlzLl9lbmdpbmUuX3JlbGVhc2VFZmZlY3QodGhpcyl9LGkuUmVnaXN0ZXJTaGFkZXI9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49U2UuR0xTTCksdCYmKEwuR2V0U2hhZGVyc1N0b3JlKG4pWyIiLmNvbmNhdChlLCJQaXhlbFNoYWRlciIpXT10KSxyJiYoTC5HZXRTaGFkZXJzU3RvcmUobilbIiIuY29uY2F0KGUsIlZlcnRleFNoYWRlciIpXT1yKX0saS5SZXNldENhY2hlPWZ1bmN0aW9uKCl7aS5fYmFzZUNhY2hlPXt9fSxpLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3I9ITAsaS5fdW5pcXVlSWRTZWVkPTAsaS5fYmFzZUNhY2hlPXt9LGkuU2hhZGVyc1N0b3JlPUwuU2hhZGVyc1N0b3JlLGkuSW5jbHVkZXNTaGFkZXJzU3RvcmU9TC5JbmNsdWRlc1NoYWRlcnNTdG9yZSxpfSgpLE9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXtlPT09dm9pZCAwJiYoZT0hMCksdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSExLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEsdGhpcy5faXNDdWxsRmFjZURpcnR5PSExLHRoaXMuX2lzQ3VsbERpcnR5PSExLHRoaXMuX2lzWk9mZnNldERpcnR5PSExLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEsZSYmdGhpcy5yZXNldCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRGlydHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eXx8dGhpcy5faXNEZXB0aFRlc3REaXJ0eXx8dGhpcy5faXNEZXB0aE1hc2tEaXJ0eXx8dGhpcy5faXNDdWxsRmFjZURpcnR5fHx0aGlzLl9pc0N1bGxEaXJ0eXx8dGhpcy5faXNaT2Zmc2V0RGlydHl8fHRoaXMuX2lzRnJvbnRGYWNlRGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ6T2Zmc2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pPZmZzZXR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl96T2Zmc2V0IT09ZSYmKHRoaXMuX3pPZmZzZXQ9ZSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ6T2Zmc2V0VW5pdHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fek9mZnNldFVuaXRzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fek9mZnNldFVuaXRzIT09ZSYmKHRoaXMuX3pPZmZzZXRVbml0cz1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1bGxGYWNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1bGxGYWNlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY3VsbEZhY2UhPT1lJiYodGhpcy5fY3VsbEZhY2U9ZSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VsbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY3VsbCE9PWUmJih0aGlzLl9jdWxsPWUsdGhpcy5faXNDdWxsRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhGdW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoRnVuY30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoRnVuYyE9PWUmJih0aGlzLl9kZXB0aEZ1bmM9ZSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlcHRoTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aE1hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kZXB0aE1hc2shPT1lJiYodGhpcy5fZGVwdGhNYXNrPWUsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFRlc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhUZXN0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhUZXN0IT09ZSYmKHRoaXMuX2RlcHRoVGVzdD1lLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnJvbnRGYWNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zyb250RmFjZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Zyb250RmFjZSE9PWUmJih0aGlzLl9mcm9udEZhY2U9ZSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2RlcHRoTWFzaz0hMCx0aGlzLl9kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhGdW5jPW51bGwsdGhpcy5fY3VsbEZhY2U9bnVsbCx0aGlzLl9jdWxsPW51bGwsdGhpcy5fek9mZnNldD0wLHRoaXMuX3pPZmZzZXRVbml0cz0wLHRoaXMuX2Zyb250RmFjZT1udWxsLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITAsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExfSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXshdGhpcy5pc0RpcnR5fHwodGhpcy5faXNDdWxsRGlydHkmJih0aGlzLmN1bGw/ZS5lbmFibGUoZS5DVUxMX0ZBQ0UpOmUuZGlzYWJsZShlLkNVTExfRkFDRSksdGhpcy5faXNDdWxsRGlydHk9ITEpLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eSYmKGUuY3VsbEZhY2UodGhpcy5jdWxsRmFjZSksdGhpcy5faXNDdWxsRmFjZURpcnR5PSExKSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5JiYoZS5kZXB0aE1hc2sodGhpcy5kZXB0aE1hc2spLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHkmJih0aGlzLmRlcHRoVGVzdD9lLmVuYWJsZShlLkRFUFRIX1RFU1QpOmUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEpLHRoaXMuX2lzRGVwdGhGdW5jRGlydHkmJihlLmRlcHRoRnVuYyh0aGlzLmRlcHRoRnVuYyksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSksdGhpcy5faXNaT2Zmc2V0RGlydHkmJih0aGlzLnpPZmZzZXR8fHRoaXMuek9mZnNldFVuaXRzPyhlLmVuYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLGUucG9seWdvbk9mZnNldCh0aGlzLnpPZmZzZXQsdGhpcy56T2Zmc2V0VW5pdHMpKTplLmRpc2FibGUoZS5QT0xZR09OX09GRlNFVF9GSUxMKSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSksdGhpcy5faXNGcm9udEZhY2VEaXJ0eSYmKGUuZnJvbnRGYWNlKHRoaXMuZnJvbnRGYWNlKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExKSl9LGl9KCksRm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5yZXNldCgpfXJldHVybiBpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz1pLkFMV0FZUyx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9aS5LRUVQLHRoaXMub3BEZXB0aEZhaWw9aS5LRUVQLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWkuUkVQTEFDRX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsRnVuYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZ1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZ1bmM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxGdW5jUmVmIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY1JlZn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZnVuY1JlZj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbEZ1bmNNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY01hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZ1bmNNYXNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsT3BTdGVuY2lsRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wU3RlbmNpbEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLm9wU3RlbmNpbEZhaWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxPcERlcHRoRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wRGVwdGhGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5vcERlcHRoRmFpbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wU3RlbmNpbERlcHRoUGFzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1hc2s9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxUZXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlZD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQUxXQVlTPTUxOSxpLktFRVA9NzY4MCxpLlJFUExBQ0U9NzY4MSxpfSgpLHduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSg0KSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVycz1uZXcgQXJyYXkoMiksdGhpcy5fYmxlbmRDb25zdGFudHM9bmV3IEFycmF5KDQpLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMSx0aGlzLl9hbHBoYUJsZW5kPSExLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSExLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5yZXNldCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRGlydHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBbHBoYUJsZW5kRGlydHl8fHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eXx8dGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGFCbGVuZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYUJsZW5kfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYWxwaGFCbGVuZCE9PWUmJih0aGlzLl9hbHBoYUJsZW5kPWUsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldEFscGhhQmxlbmRDb25zdGFudHM9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5fYmxlbmRDb25zdGFudHNbMF09PT1lJiZ0aGlzLl9ibGVuZENvbnN0YW50c1sxXT09PXQmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPT09ciYmdGhpcy5fYmxlbmRDb25zdGFudHNbM109PT1ufHwodGhpcy5fYmxlbmRDb25zdGFudHNbMF09ZSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT10LHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPXIsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bix0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITApfSxpLnByb3RvdHlwZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPT09ZSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09PT10JiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT09PXImJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPT09bnx8KHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT1yLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPW4sdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX0saS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT09PWUmJnRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPT09dHx8KHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITApfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMF09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bnVsbCx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMX0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7IXRoaXMuaXNEaXJ0eXx8KHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5JiYodGhpcy5fYWxwaGFCbGVuZD9lLmVuYWJsZShlLkJMRU5EKTplLmRpc2FibGUoZS5CTEVORCksdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRGdW5jU2VwYXJhdGUodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM10pLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUodGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV0pLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5JiYoZS5ibGVuZENvbG9yKHRoaXMuX2JsZW5kQ29uc3RhbnRzWzBdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITEpKX0saX0oKSxMbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnNhbXBsaW5nTW9kZT0tMSx0aGlzLl91c2VNaXBNYXBzPSEwLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249MH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwVSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZFdyYXBVPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwViIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZFdyYXBWPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwUiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwUn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZFdyYXBSPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb21wYXJpc29uRnVuY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VNaXBNYXBzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZU1pcE1hcHN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl91c2VNaXBNYXBzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc2V0UGFyYW1ldGVycz1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTEpLHQ9PT12b2lkIDAmJih0PTEpLHI9PT12b2lkIDAmJihyPTEpLG49PT12b2lkIDAmJihuPTEpLGE9PT12b2lkIDAmJihhPTIpLHM9PT12b2lkIDAmJihzPTApLHRoaXMuX2NhY2hlZFdyYXBVPWUsdGhpcy5fY2FjaGVkV3JhcFY9dCx0aGlzLl9jYWNoZWRXcmFwUj1yLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bix0aGlzLnNhbXBsaW5nTW9kZT1hLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj1zLHRoaXN9LGkucHJvdG90eXBlLmNvbXBhcmVTYW1wbGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT09PWUuX2NhY2hlZFdyYXBVJiZ0aGlzLl9jYWNoZWRXcmFwVj09PWUuX2NhY2hlZFdyYXBWJiZ0aGlzLl9jYWNoZWRXcmFwUj09PWUuX2NhY2hlZFdyYXBSJiZ0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPT09ZS5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCYmdGhpcy5zYW1wbGluZ01vZGU9PT1lLnNhbXBsaW5nTW9kZSYmdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPT09ZS5fY29tcGFyaXNvbkZ1bmN0aW9uJiZ0aGlzLl91c2VNaXBNYXBzPT09ZS5fdXNlTWlwTWFwc30saX0oKSx5ZTsoZnVuY3Rpb24oaSl7aVtpLlVua25vd249MF09IlVua25vd24iLGlbaS5Vcmw9MV09IlVybCIsaVtpLlRlbXA9Ml09IlRlbXAiLGlbaS5SYXc9M109IlJhdyIsaVtpLkR5bmFtaWM9NF09IkR5bmFtaWMiLGlbaS5SZW5kZXJUYXJnZXQ9NV09IlJlbmRlclRhcmdldCIsaVtpLk11bHRpUmVuZGVyVGFyZ2V0PTZdPSJNdWx0aVJlbmRlclRhcmdldCIsaVtpLkN1YmU9N109IkN1YmUiLGlbaS5DdWJlUmF3PThdPSJDdWJlUmF3IixpW2kuQ3ViZVByZWZpbHRlcmVkPTldPSJDdWJlUHJlZmlsdGVyZWQiLGlbaS5SYXczRD0xMF09IlJhdzNEIixpW2kuUmF3MkRBcnJheT0xMV09IlJhdzJEQXJyYXkiLGlbaS5EZXB0aFN0ZW5jaWw9MTJdPSJEZXB0aFN0ZW5jaWwiLGlbaS5DdWJlUmF3UkdCRD0xM109IkN1YmVSYXdSR0JEIixpW2kuRGVwdGg9MTRdPSJEZXB0aCJ9KSh5ZXx8KHllPXt9KSk7dmFyIHF0PWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscixuKXtuPT09dm9pZCAwJiYobj0hMSk7dmFyIGE9aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBhLmlzUmVhZHk9ITEsYS5pc0N1YmU9ITEsYS5pczNEPSExLGEuaXMyREFycmF5PSExLGEuaXNNdWx0aXZpZXc9ITEsYS51cmw9IiIsYS5nZW5lcmF0ZU1pcE1hcHM9ITEsYS5zYW1wbGVzPTAsYS50eXBlPS0xLGEuZm9ybWF0PS0xLGEub25Mb2FkZWRPYnNlcnZhYmxlPW5ldyBPLGEub25FcnJvck9ic2VydmFibGU9bmV3IE8sYS5vblJlYnVpbGRDYWxsYmFjaz1udWxsLGEud2lkdGg9MCxhLmhlaWdodD0wLGEuZGVwdGg9MCxhLmJhc2VXaWR0aD0wLGEuYmFzZUhlaWdodD0wLGEuYmFzZURlcHRoPTAsYS5pbnZlcnRZPSExLGEuX2ludmVydFZTY2FsZT0hMSxhLl9hc3NvY2lhdGVkQ2hhbm5lbD0tMSxhLl9zb3VyY2U9eWUuVW5rbm93bixhLl9idWZmZXI9bnVsbCxhLl9idWZmZXJWaWV3PW51bGwsYS5fYnVmZmVyVmlld0FycmF5PW51bGwsYS5fYnVmZmVyVmlld0FycmF5QXJyYXk9bnVsbCxhLl9zaXplPTAsYS5fZXh0ZW5zaW9uPSIiLGEuX2ZpbGVzPW51bGwsYS5fd29ya2luZ0NhbnZhcz1udWxsLGEuX3dvcmtpbmdDb250ZXh0PW51bGwsYS5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPW51bGwsYS5faXNEaXNhYmxlZD0hMSxhLl9jb21wcmVzc2lvbj1udWxsLGEuX3NwaGVyaWNhbFBvbHlub21pYWw9bnVsbCxhLl9zcGhlcmljYWxQb2x5bm9taWFsUHJvbWlzZT1udWxsLGEuX3NwaGVyaWNhbFBvbHlub21pYWxDb21wdXRlZD0hMSxhLl9sb2RHZW5lcmF0aW9uU2NhbGU9MCxhLl9sb2RHZW5lcmF0aW9uT2Zmc2V0PTAsYS5fdXNlU1JHQkJ1ZmZlcj0hMSxhLl9sb2RUZXh0dXJlSGlnaD1udWxsLGEuX2xvZFRleHR1cmVNaWQ9bnVsbCxhLl9sb2RUZXh0dXJlTG93PW51bGwsYS5faXNSR0JEPSExLGEuX2xpbmVhclNwZWN1bGFyTE9EPSExLGEuX2lycmFkaWFuY2VUZXh0dXJlPW51bGwsYS5faGFyZHdhcmVUZXh0dXJlPW51bGwsYS5fbWF4TG9kTGV2ZWw9bnVsbCxhLl9yZWZlcmVuY2VzPTEsYS5fZ2FtbWFTcGFjZT1udWxsLGEuX2VuZ2luZT10LGEuX3NvdXJjZT1yLGEuX3VuaXF1ZUlkPWUuX0NvdW50ZXIrKyxufHwoYS5faGFyZHdhcmVUZXh0dXJlPXQuX2NyZWF0ZUhhcmR3YXJlVGV4dHVyZSgpKSxhfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZU1pcE1hcHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZU1pcE1hcHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLmdlbmVyYXRlTWlwTWFwcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidW5pcXVlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5pcXVlSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmluY3JlbWVudFJlZmVyZW5jZXM9ZnVuY3Rpb24oKXt0aGlzLl9yZWZlcmVuY2VzKyt9LGUucHJvdG90eXBlLnVwZGF0ZVNpemU9ZnVuY3Rpb24odCxyLG4pe249PT12b2lkIDAmJihuPTEpLHRoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlRGltZW5zaW9ucyh0aGlzLHQscixuKSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9cix0aGlzLmRlcHRoPW4sdGhpcy5iYXNlV2lkdGg9dCx0aGlzLmJhc2VIZWlnaHQ9cix0aGlzLmJhc2VEZXB0aD1uLHRoaXMuX3NpemU9dCpyKm59LGUucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyO2lmKHRoaXMuaXNSZWFkeT0hMSx0aGlzLl9jYWNoZWRDb29yZGluYXRlc01vZGU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVT1udWxsLHRoaXMuX2NhY2hlZFdyYXBWPW51bGwsdGhpcy5fY2FjaGVkV3JhcFI9bnVsbCx0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPW51bGwsdGhpcy5vblJlYnVpbGRDYWxsYmFjayl7dmFyIG49dGhpcy5vblJlYnVpbGRDYWxsYmFjayh0aGlzKSxhPWZ1bmN0aW9uKG8pe28uX3N3YXBBbmREaWUodCwhMSksdC5pc1JlYWR5PW4uaXNSZWFkeX07bi5pc0FzeW5jP24ucHJveHkudGhlbihhKTphKG4ucHJveHkpO3JldHVybn12YXIgcztzd2l0Y2godGhpcy5zb3VyY2Upe2Nhc2UgeWUuVGVtcDpicmVhaztjYXNlIHllLlVybDpzPXRoaXMuX2VuZ2luZS5jcmVhdGVUZXh0dXJlKChyPXRoaXMuX29yaWdpbmFsVXJsKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0aGlzLnVybCwhdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLG51bGwsdGhpcy5zYW1wbGluZ01vZGUsZnVuY3Rpb24oKXtzLl9zd2FwQW5kRGllKHQsITEpLHQuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbix2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKTtyZXR1cm47Y2FzZSB5ZS5SYXc6cz10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIHllLlJhdzNEOnM9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUzRCh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmJhc2VEZXB0aCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIHllLlJhdzJEQXJyYXk6cz10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZTJEQXJyYXkodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSkscy5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSB5ZS5EeW5hbWljOnM9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLnNhbXBsaW5nTW9kZSkscy5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1RleHR1cmUodGhpcyx0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5pbnZlcnRZLHZvaWQgMCx2b2lkIDAsITApO2JyZWFrO2Nhc2UgeWUuQ3ViZTpzPXRoaXMuX2VuZ2luZS5jcmVhdGVDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2ZpbGVzLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyxmdW5jdGlvbigpe3MuX3N3YXBBbmREaWUodCwhMSksdC5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiwhMSwwLDAsbnVsbCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgeWUuQ3ViZVJhdzpzPXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3QXJyYXksdGhpcy53aWR0aCx0aGlzLmZvcm1hdCx0aGlzLnR5cGUsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIHllLkN1YmVSYXdSR0JEOnJldHVybjtjYXNlIHllLkN1YmVQcmVmaWx0ZXJlZDpzPXRoaXMuX2VuZ2luZS5jcmVhdGVQcmVmaWx0ZXJlZEN1YmVUZXh0dXJlKHRoaXMudXJsLG51bGwsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlLHRoaXMuX2xvZEdlbmVyYXRpb25PZmZzZXQsZnVuY3Rpb24obyl7byYmby5fc3dhcEFuZERpZSh0LCExKSx0LmlzUmVhZHk9ITB9LG51bGwsdGhpcy5mb3JtYXQsdGhpcy5fZXh0ZW5zaW9uKSxzLl9zcGhlcmljYWxQb2x5bm9taWFsPXRoaXMuX3NwaGVyaWNhbFBvbHlub21pYWw7cmV0dXJufX0sZS5wcm90b3R5cGUuX3N3YXBBbmREaWU9ZnVuY3Rpb24odCxyKXt2YXIgbjtyPT09dm9pZCAwJiYocj0hMCksKG49dGhpcy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fG49PT12b2lkIDB8fG4uc2V0VXNhZ2UodC5fc291cmNlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaXNDdWJlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQuX2hhcmR3YXJlVGV4dHVyZT10aGlzLl9oYXJkd2FyZVRleHR1cmUsciYmKHQuX2lzUkdCRD10aGlzLl9pc1JHQkQpLHRoaXMuX2xvZFRleHR1cmVIaWdoJiYodC5fbG9kVGV4dHVyZUhpZ2gmJnQuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSx0Ll9sb2RUZXh0dXJlSGlnaD10aGlzLl9sb2RUZXh0dXJlSGlnaCksdGhpcy5fbG9kVGV4dHVyZU1pZCYmKHQuX2xvZFRleHR1cmVNaWQmJnQuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLHQuX2xvZFRleHR1cmVNaWQ9dGhpcy5fbG9kVGV4dHVyZU1pZCksdGhpcy5fbG9kVGV4dHVyZUxvdyYmKHQuX2xvZFRleHR1cmVMb3cmJnQuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLHQuX2xvZFRleHR1cmVMb3c9dGhpcy5fbG9kVGV4dHVyZUxvdyksdGhpcy5faXJyYWRpYW5jZVRleHR1cmUmJih0Ll9pcnJhZGlhbmNlVGV4dHVyZSYmdC5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpLHQuX2lycmFkaWFuY2VUZXh0dXJlPXRoaXMuX2lycmFkaWFuY2VUZXh0dXJlKTt2YXIgYT10aGlzLl9lbmdpbmUuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpLHM9YS5pbmRleE9mKHRoaXMpO3MhPT0tMSYmYS5zcGxpY2UocywxKTt2YXIgcz1hLmluZGV4T2YodCk7cz09PS0xJiZhLnB1c2godCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9yZWZlcmVuY2VzLS0sdGhpcy5vbkxvYWRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fcmVmZXJlbmNlcz09PTAmJih0aGlzLl9lbmdpbmUuX3JlbGVhc2VUZXh0dXJlKHRoaXMpLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsKX0sZS5fQ291bnRlcj0wLGV9KExuKSxObj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnNoYWRlckxhbmd1YWdlPVNlLkdMU0x9cmV0dXJuIGkucHJvdG90eXBlLnBvc3RQcm9jZXNzb3I9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZighYS5nZXRDYXBzKCkuZHJhd0J1ZmZlcnNFeHRlbnNpb24pe3ZhciBzPS8jZXh0ZW5zaW9uLitHTF9FWFRfZHJhd19idWZmZXJzLisoZW5hYmxlfHJlcXVpcmUpL2c7ZT1lLnJlcGxhY2UocywiIil9cmV0dXJuIGV9LGl9KCksQm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5zaGFkZXJMYW5ndWFnZT1TZS5HTFNMfXJldHVybiBpLnByb3RvdHlwZS5hdHRyaWJ1dGVQcm9jZXNzb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgiYXR0cmlidXRlIiwiaW4iKX0saS5wcm90b3R5cGUudmFyeWluZ1Byb2Nlc3Nvcj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UoInZhcnlpbmciLHQ/ImluIjoib3V0Iil9LGkucHJvdG90eXBlLnBvc3RQcm9jZXNzb3I9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1lLnNlYXJjaCgvI2V4dGVuc2lvbi4rR0xfRVhUX2RyYXdfYnVmZmVycy4rcmVxdWlyZS8pIT09LTEsbz0vI2V4dGVuc2lvbi4rKEdMX09WUl9tdWx0aXZpZXcyfEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc3xHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kfEdMX0VYVF9mcmFnX2RlcHRofEdMX0VYVF9kcmF3X2J1ZmZlcnMpLisoZW5hYmxlfHJlcXVpcmUpL2c7aWYoZT1lLnJlcGxhY2UobywiIiksZT1lLnJlcGxhY2UoL3RleHR1cmUyRFxzKlwoL2csInRleHR1cmUoIikscillPWUucmVwbGFjZSgvdGV4dHVyZTJETG9kRVhUXHMqXCgvZywidGV4dHVyZUxvZCgiKSxlPWUucmVwbGFjZSgvdGV4dHVyZUN1YmVMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZVxzKlwoL2csInRleHR1cmUoIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEZXB0aEVYVC9nLCJnbF9GcmFnRGVwdGgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0NvbG9yL2csImdsRnJhZ0NvbG9yIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEYXRhL2csImdsRnJhZ0RhdGEiKSxlPWUucmVwbGFjZSgvdm9pZFxzKz9tYWluXHMqXCgvZywocz8iIjpgb3V0IHZlYzQgZ2xGcmFnQ29sb3I7CmApKyJ2b2lkIG1haW4oIik7ZWxzZXt2YXIgdT10LmluZGV4T2YoIiNkZWZpbmUgTVVMVElWSUVXIikhPT0tMTtpZih1KXJldHVybmAjZXh0ZW5zaW9uIEdMX09WUl9tdWx0aXZpZXcyIDogcmVxdWlyZQpsYXlvdXQgKG51bV92aWV3cyA9IDIpIGluOwpgK2V9cmV0dXJuIGV9LGl9KCksVGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5yZWZlcmVuY2VzPTAsdGhpcy5jYXBhY2l0eT0wLHRoaXMuaXMzMkJpdHM9ITEsdGhpcy51bmlxdWVJZD1pLl9Db3VudGVyKyt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidW5kZXJseWluZ1Jlc291cmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5fQ291bnRlcj0wLGl9KCksWnQ9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCl7dmFyIHI9aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9idWZmZXI9dCxyfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVuZGVybHlpbmdSZXNvdXJjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZX0oVGkpLFVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX3ZhbHVlQ2FjaGU9e30sdGhpcy52ZXJ0ZXhDb21waWxhdGlvbkVycm9yPW51bGwsdGhpcy5mcmFnbWVudENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1MaW5rRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0FzeW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQYXJhbGxlbENvbXBpbGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNSZWFkeSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb2dyYW0/dGhpcy5pc1BhcmFsbGVsQ29tcGlsZWQ/dGhpcy5lbmdpbmUuX2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZCh0aGlzKTohMDohMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5faGFuZGxlc1NwZWN0b3JSZWJ1aWxkQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7ZSYmdGhpcy5wcm9ncmFtJiZlKHRoaXMucHJvZ3JhbSl9LGkucHJvdG90eXBlLl9maWxsRWZmZWN0SW5mb3JtYXRpb249ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXt2YXIgZj10aGlzLmVuZ2luZTtpZihmLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMpZm9yKHZhciBsIGluIHQpZS5iaW5kVW5pZm9ybUJsb2NrKGwsdFtsXSk7dmFyIGg9dGhpcy5lbmdpbmUuZ2V0VW5pZm9ybXModGhpcyxyKTtoLmZvckVhY2goZnVuY3Rpb24obSx2KXtuW3Jbdl1dPW19KSx0aGlzLl91bmlmb3Jtcz1uO3ZhciBjO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWUuZ2V0VW5pZm9ybShhW2NdKTtkPT1udWxsJiYoYS5zcGxpY2UoYywxKSxjLS0pfWEuZm9yRWFjaChmdW5jdGlvbihtLHYpe3NbbV09dn0pO2Zvcih2YXIgcD0wLF89Zi5nZXRBdHRyaWJ1dGVzKHRoaXMsbyk7cDxfLmxlbmd0aDtwKyspe3ZhciBnPV9bcF07dS5wdXNoKGcpfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3VuaWZvcm1zPXt9fSxpLnByb3RvdHlwZS5fY2FjaGVNYXRyaXg9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl92YWx1ZUNhY2hlW2VdLG49dC51cGRhdGVGbGFnO3JldHVybiByIT09dm9pZCAwJiZyPT09bj8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1uLCEwKX0saS5wcm90b3R5cGUuX2NhY2hlRmxvYXQyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFufHxuLmxlbmd0aCE9PTIpcmV0dXJuIG49W3Qscl0sdGhpcy5fdmFsdWVDYWNoZVtlXT1uLCEwO3ZhciBhPSExO3JldHVybiBuWzBdIT09dCYmKG5bMF09dCxhPSEwKSxuWzFdIT09ciYmKG5bMV09cixhPSEwKSxhfSxpLnByb3RvdHlwZS5fY2FjaGVGbG9hdDM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighYXx8YS5sZW5ndGghPT0zKXJldHVybiBhPVt0LHIsbl0sdGhpcy5fdmFsdWVDYWNoZVtlXT1hLCEwO3ZhciBzPSExO3JldHVybiBhWzBdIT09dCYmKGFbMF09dCxzPSEwKSxhWzFdIT09ciYmKGFbMV09cixzPSEwKSxhWzJdIT09biYmKGFbMl09bixzPSEwKSxzfSxpLnByb3RvdHlwZS5fY2FjaGVGbG9hdDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFzfHxzLmxlbmd0aCE9PTQpcmV0dXJuIHM9W3QscixuLGFdLHRoaXMuX3ZhbHVlQ2FjaGVbZV09cywhMDt2YXIgbz0hMTtyZXR1cm4gc1swXSE9PXQmJihzWzBdPXQsbz0hMCksc1sxXSE9PXImJihzWzFdPXIsbz0hMCksc1syXSE9PW4mJihzWzJdPW4sbz0hMCksc1szXSE9PWEmJihzWzNdPWEsbz0hMCksb30saS5wcm90b3R5cGUuc2V0SW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fdmFsdWVDYWNoZVtlXTtyIT09dm9pZCAwJiZyPT09dHx8dGhpcy5lbmdpbmUuc2V0SW50KHRoaXMuX3VuaWZvcm1zW2VdLHQpJiYodGhpcy5fdmFsdWVDYWNoZVtlXT10KX0saS5wcm90b3R5cGUuc2V0SW50Mj1mdW5jdGlvbihlLHQscil7dGhpcy5fY2FjaGVGbG9hdDIoZSx0LHIpJiYodGhpcy5lbmdpbmUuc2V0SW50Mih0aGlzLl91bmlmb3Jtc1tlXSx0LHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEludDM9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LHIsbikmJih0aGlzLmVuZ2luZS5zZXRJbnQzKHRoaXMuX3VuaWZvcm1zW2VdLHQscixuKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRJbnQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LHIsbixhKSYmKHRoaXMuZW5naW5lLnNldEludDQodGhpcy5fdW5pZm9ybXNbZV0sdCxyLG4sYSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXk9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkodGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEludEFycmF5Mj1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheTIodGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEludEFycmF5Mz1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheTModGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEludEFycmF5ND1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheTQodGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEFycmF5PWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5KHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRBcnJheTI9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRBcnJheTM9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRBcnJheTQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXk0KHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRNYXRyaWNlcz1mdW5jdGlvbihlLHQpeyF0fHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQpKX0saS5wcm90b3R5cGUuc2V0TWF0cml4PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVNYXRyaXgoZSx0KSYmKHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQudG9BcnJheSgpKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgzeDM9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4M3gzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgyeDI9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4MngyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfSxpLnByb3RvdHlwZS5zZXRGbG9hdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3ZhbHVlQ2FjaGVbZV07ciE9PXZvaWQgMCYmcj09PXR8fHRoaXMuZW5naW5lLnNldEZsb2F0KHRoaXMuX3VuaWZvcm1zW2VdLHQpJiYodGhpcy5fdmFsdWVDYWNoZVtlXT10KX0saS5wcm90b3R5cGUuc2V0VmVjdG9yMj1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdC54LHQueSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDIodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0RmxvYXQyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jYWNoZUZsb2F0MihlLHQscikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDIodGhpcy5fdW5pZm9ybXNbZV0sdCxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRWZWN0b3IzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LngsdC55LHQueikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSx0LnopfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQscixuKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LHIsbil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0VmVjdG9yND1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdC54LHQueSx0LnosdC53KSYmKHRoaXMuZW5naW5lLnNldEZsb2F0NCh0aGlzLl91bmlmb3Jtc1tlXSx0LngsdC55LHQueix0LncpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEZsb2F0ND1mdW5jdGlvbihlLHQscixuLGEpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxyLG4sYSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdCxyLG4sYSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0Q29sb3IzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LnIsdC5nLHQuYikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldENvbG9yND1mdW5jdGlvbihlLHQscil7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LnIsdC5nLHQuYixyKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0NCh0aGlzLl91bmlmb3Jtc1tlXSx0LnIsdC5nLHQuYixyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXREaXJlY3RDb2xvcjQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0NChlLHQucix0LmcsdC5iLHQuYSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIsdC5hKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5fZ2V0VmVydGV4U2hhZGVyQ29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRleFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMudmVydGV4U2hhZGVyKTpudWxsfSxpLnByb3RvdHlwZS5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRTaGFkZXI/dGhpcy5lbmdpbmUuX2dldFNoYWRlclNvdXJjZSh0aGlzLmZyYWdtZW50U2hhZGVyKTpudWxsfSxpfSgpLEF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5TZXRNYXRyaXhQcmVjaXNpb249ZnVuY3Rpb24oZSl7aWYoaS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMSxlJiYhaS5NYXRyaXhVc2U2NEJpdHMmJmkuTWF0cml4VHJhY2tlZE1hdHJpY2VzKWZvcih2YXIgdD0wO3Q8aS5NYXRyaXhUcmFja2VkTWF0cmljZXMubGVuZ3RoOysrdCl7dmFyIHI9aS5NYXRyaXhUcmFja2VkTWF0cmljZXNbdF0sbj1yLl9tO3IuX209bmV3IEFycmF5KDE2KTtmb3IodmFyIGE9MDthPDE2OysrYSlyLl9tW2FdPW5bYV19aS5NYXRyaXhVc2U2NEJpdHM9ZSxpLk1hdHJpeEN1cnJlbnRUeXBlPWkuTWF0cml4VXNlNjRCaXRzP0FycmF5OkZsb2F0MzJBcnJheSxpLk1hdHJpeFRyYWNrZWRNYXRyaWNlcz1udWxsfSxpLk1hdHJpeFVzZTY0Qml0cz0hMSxpLk1hdHJpeFRyYWNrUHJlY2lzaW9uQ2hhbmdlPSEwLGkuTWF0cml4Q3VycmVudFR5cGU9RmxvYXQzMkFycmF5LGkuTWF0cml4VHJhY2tlZE1hdHJpY2VzPVtdLGl9KCksVm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7aWYoZT09PXZvaWQgMCYmKGU9bnVsbCksdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsLHRoaXMuX2NvbnRleHQ9dCwhZSYmKGU9dC5jcmVhdGVUZXh0dXJlKCksIWUpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJHTCB0ZXh0dXJlIik7dGhpcy5zZXQoZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidW5kZXJseWluZ1Jlc291cmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVGV4dHVyZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRVc2FnZT1mdW5jdGlvbihlLHQscixuLGEpe30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUpe3RoaXMuX3dlYkdMVGV4dHVyZT1lfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3dlYkdMVGV4dHVyZT1udWxsLHRoaXMuX01TQUFSZW5kZXJCdWZmZXI9bnVsbH0saS5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuX01TQUFSZW5kZXJCdWZmZXImJih0aGlzLl9jb250ZXh0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9NU0FBUmVuZGVyQnVmZmVyKSx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwpLHRoaXMuX3dlYkdMVGV4dHVyZSYmdGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX3dlYkdMVGV4dHVyZSksdGhpcy5yZXNldCgpfSxpfSgpLFF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3Q9PT12b2lkIDAmJih0PSEwKSx0aGlzLmVmZmVjdD1udWxsLHRoaXMuZGVmaW5lcz1udWxsLHRoaXMuZHJhd0NvbnRleHQ9ZS5jcmVhdGVEcmF3Q29udGV4dCgpLHQmJih0aGlzLm1hdGVyaWFsQ29udGV4dD1lLmNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpKX1yZXR1cm4gaS5Jc1dyYXBwZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwfSxpLkdldEVmZmVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQaXBlbGluZUNvbnRleHQ9PT12b2lkIDA/ZS5lZmZlY3Q6ZX0saS5wcm90b3R5cGUuc2V0RWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtyPT09dm9pZCAwJiYocj0hMCksdGhpcy5lZmZlY3Q9ZSx0IT09dm9pZCAwJiYodGhpcy5kZWZpbmVzPXQpLHImJigobj10aGlzLmRyYXdDb250ZXh0KT09PW51bGx8fG49PT12b2lkIDB8fG4ucmVzZXQoKSl9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZTsoZT10aGlzLmRyYXdDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpfSxpfSgpLGtuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXtlPT09dm9pZCAwJiYoZT0hMCksdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSx0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSExLGUmJnRoaXMucmVzZXQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0RpcnR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eXx8dGhpcy5faXNTdGVuY2lsTWFza0RpcnR5fHx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHl8fHRoaXMuX2lzU3RlbmNpbE9wRGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jIT09ZSYmKHRoaXMuX2Z1bmM9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnVuY1JlZiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jUmVmfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuY1JlZiE9PWUmJih0aGlzLl9mdW5jUmVmPWUsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZ1bmNNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuY01hc2shPT1lJiYodGhpcy5fZnVuY01hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BTdGVuY2lsRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BTdGVuY2lsRmFpbCE9PWUmJih0aGlzLl9vcFN0ZW5jaWxGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcERlcHRoRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcERlcHRoRmFpbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wRGVwdGhGYWlsIT09ZSYmKHRoaXMuX29wRGVwdGhGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzIT09ZSYmKHRoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWFzayE9PWUmJih0aGlzLl9tYXNrPWUsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2VuYWJsZWQhPT1lJiYodGhpcy5fZW5hYmxlZD1lLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsKGU9dGhpcy5zdGVuY2lsR2xvYmFsKT09PW51bGx8fGU9PT12b2lkIDB8fGUucmVzZXQoKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITAsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwfSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXt2YXIgdDtpZighIWUpe3ZhciByPSF0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5JiYhISgodD10aGlzLnN0ZW5jaWxNYXRlcmlhbCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmVuYWJsZWQpO3RoaXMuZW5hYmxlZD1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmVuYWJsZWQ6dGhpcy5zdGVuY2lsR2xvYmFsLmVuYWJsZWQsdGhpcy5mdW5jPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuYzp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuYyx0aGlzLmZ1bmNSZWY9cj90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jUmVmOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jUmVmLHRoaXMuZnVuY01hc2s9cj90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jTWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuY01hc2ssdGhpcy5vcFN0ZW5jaWxGYWlsPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BTdGVuY2lsRmFpbCx0aGlzLm9wRGVwdGhGYWlsPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BEZXB0aEZhaWw6dGhpcy5zdGVuY2lsR2xvYmFsLm9wRGVwdGhGYWlsLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRGVwdGhQYXNzOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxEZXB0aFBhc3MsdGhpcy5tYXNrPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwubWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwubWFzaywhIXRoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eSYmKHRoaXMuZW5hYmxlZD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eSYmKGUuc3RlbmNpbE1hc2sodGhpcy5tYXNrKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eSYmKGUuc3RlbmNpbEZ1bmModGhpcy5mdW5jLHRoaXMuZnVuY1JlZix0aGlzLmZ1bmNNYXNrKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHkmJihlLnN0ZW5jaWxPcCh0aGlzLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcyksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSkpfX0saX0oKSxXbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGl9KCkscmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3ZhciBhPXRoaXM7dGhpcy5fbmFtZT0iV2ViR0wiLHRoaXMuZm9yY2VQT1RUZXh0dXJlcz0hMSx0aGlzLmlzRnVsbHNjcmVlbj0hMSx0aGlzLmN1bGxCYWNrRmFjZXM9bnVsbCx0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQ9ITAsdGhpcy5wcmV2ZW50Q2FjaGVXaXBlQmV0d2VlbkZyYW1lcz0hMSx0aGlzLnZhbGlkYXRlU2hhZGVyUHJvZ3JhbXM9ITEsdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyPSExLHRoaXMuaXNORENIYWxmWlJhbmdlPSExLHRoaXMuaGFzT3JpZ2luQm90dG9tTGVmdD0hMCx0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVycz0hMSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IE8sdGhpcy5fZnJhbWVJZD0wLHRoaXMuX3VuaWZvcm1CdWZmZXJzPW5ldyBBcnJheSx0aGlzLl9zdG9yYWdlQnVmZmVycz1uZXcgQXJyYXksdGhpcy5fd2ViR0xWZXJzaW9uPTEsdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kPSExLHRoaXMuX2hpZ2hQcmVjaXNpb25TaGFkZXJzQWxsb3dlZD0hMCx0aGlzLl9iYWRPUz0hMSx0aGlzLl9iYWREZXNrdG9wT1M9ITEsdGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMSx0aGlzLl9hY3RpdmVSZW5kZXJMb29wcz1uZXcgQXJyYXksdGhpcy5vbkNvbnRleHRMb3N0T2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9jb250ZXh0V2FzTG9zdD0hMSx0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0PSExLHRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cz0hMSx0aGlzLl9jb2xvcldyaXRlPSEwLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSEwLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlPW5ldyBPbix0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlcj1uZXcga24sdGhpcy5fc3RlbmNpbFN0YXRlPW5ldyBGbix0aGlzLl9hbHBoYVN0YXRlPW5ldyB3bix0aGlzLl9hbHBoYU1vZGU9MSx0aGlzLl9hbHBoYUVxdWF0aW9uPTAsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlPW5ldyBBcnJheSx0aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGU9bmV3IEFycmF5LHRoaXMuX2FjdGl2ZUNoYW5uZWw9MCx0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWw9LTEsdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlPXt9LHRoaXMuX2NvbXBpbGVkRWZmZWN0cz17fSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkPVtdLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PSExLHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlcj1uZXcgQXJyYXksdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPW51bGwsdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVycz1uZXcgQXJyYXksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzPW5ldyBBcnJheSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzPSExLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMSx0aGlzLl9uZXh0RnJlZVRleHR1cmVTbG90cz1uZXcgQXJyYXksdGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM9MCx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5fYWRhcHRUb0RldmljZVJhdGlvPSExLHRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmw9bnVsbCx0aGlzLmhvc3RJbmZvcm1hdGlvbj17aXNNb2JpbGU6ITF9LHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSEwLHRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGU9bmV3IE8sdGhpcy5faXNXZWJHUFU9ITEsdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPTAsdGhpcy5fdmlld3BvcnRDYWNoZWQ9e3g6MCx5OjAsejowLHc6MH0sdGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9bnVsbCx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkPSEwLHRoaXMuX2JvdW5kVW5pZm9ybXM9e307dmFyIHM9bnVsbDtpZihyPXJ8fHt9LHRoaXMuX2NyZWF0aW9uT3B0aW9ucz1yLHRoaXMuX2FkYXB0VG9EZXZpY2VSYXRpbz1uIT1udWxsP246ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsQXQuU2V0TWF0cml4UHJlY2lzaW9uKCEhci51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSwhIWUpe2lmKG49bnx8ci5hZGFwdFRvRGV2aWNlUmF0aW98fCExLGUuZ2V0Q29udGV4dCl7aWYocz1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1zLHQhPT12b2lkIDAmJihyLmFudGlhbGlhcz10KSxyLmRldGVybWluaXN0aWNMb2Nrc3RlcD09PXZvaWQgMCYmKHIuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSExKSxyLmxvY2tzdGVwTWF4U3RlcHM9PT12b2lkIDAmJihyLmxvY2tzdGVwTWF4U3RlcHM9NCksci50aW1lU3RlcD09PXZvaWQgMCYmKHIudGltZVN0ZXA9MS82MCksci5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9PT12b2lkIDAmJihyLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj0hMSksci5hdWRpb0VuZ2luZT09PXZvaWQgMCYmKHIuYXVkaW9FbmdpbmU9ITApLHIuYXVkaW9FbmdpbmVPcHRpb25zIT09dm9pZCAwJiZyLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0NvbnRleHQhPT12b2lkIDAmJih0aGlzLl9hdWRpb0NvbnRleHQ9ci5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9Db250ZXh0KSxyLmF1ZGlvRW5naW5lT3B0aW9ucyE9PXZvaWQgMCYmci5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9EZXN0aW5hdGlvbiE9PXZvaWQgMCYmKHRoaXMuX2F1ZGlvRGVzdGluYXRpb249ci5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9EZXN0aW5hdGlvbiksci5zdGVuY2lsPT09dm9pZCAwJiYoci5zdGVuY2lsPSEwKSxyLnByZW11bHRpcGxpZWRBbHBoYT09PSExJiYodGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9ITEpLHIueHJDb21wYXRpYmxlPT09dm9pZCAwJiYoci54ckNvbXBhdGlibGU9ITApLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ISFyLmRvTm90SGFuZGxlQ29udGV4dExvc3QsbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt0aGlzLl9jaGVja0Zvck1vYmlsZT1mdW5jdGlvbigpe3ZhciBEPW5hdmlnYXRvci51c2VyQWdlbnQ7YS5ob3N0SW5mb3JtYXRpb24uaXNNb2JpbGU9RC5pbmRleE9mKCJNb2JpbGUiKSE9PS0xfHxELmluZGV4T2YoIk1hYyIpIT09LTEmJlVyKCkmJiJvbnRvdWNoZW5kImluIGRvY3VtZW50fSx0aGlzLl9jaGVja0Zvck1vYmlsZSgpLGRlKCkmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKTtmb3IodmFyIG89bmF2aWdhdG9yLnVzZXJBZ2VudCx1PTAsZj1pLkV4Y2VwdGlvbkxpc3Q7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV0saD1sLmtleSxjPWwudGFyZ2V0cyxkPW5ldyBSZWdFeHAoaCk7aWYoZC50ZXN0KG8pKXtpZihsLmNhcHR1cmUmJmwuY2FwdHVyZUNvbnN0cmFpbnQpe3ZhciBwPWwuY2FwdHVyZSxfPWwuY2FwdHVyZUNvbnN0cmFpbnQsZz1uZXcgUmVnRXhwKHApLG09Zy5leGVjKG8pO2lmKG0mJm0ubGVuZ3RoPjApe3ZhciB2PXBhcnNlSW50KG1bbS5sZW5ndGgtMV0pO2lmKHY+PV8pY29udGludWV9fWZvcih2YXIgUz0wLE09YztTPE0ubGVuZ3RoO1MrKyl7dmFyIEE9TVtTXTtzd2l0Y2goQSl7Y2FzZSJ1bmlmb3JtQnVmZmVyIjp0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVycz0hMDticmVhaztjYXNlInZhbyI6dGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSEwO2JyZWFrfX19fX1pZih0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwodGhpcy5fb25Db250ZXh0TG9zdD1mdW5jdGlvbihEKXtELnByZXZlbnREZWZhdWx0KCksYS5fY29udGV4dFdhc0xvc3Q9ITAsei5XYXJuKCJXZWJHTCBjb250ZXh0IGxvc3QuIiksYS5vbkNvbnRleHRMb3N0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9LHRoaXMuX29uQ29udGV4dFJlc3RvcmVkPWZ1bmN0aW9uKCl7YS5fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QoYS5faW5pdEdMQ29udGV4dC5iaW5kKGEpKX0scy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0Iix0aGlzLl9vbkNvbnRleHRMb3N0LCExKSxzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCwhMSksci5wb3dlclByZWZlcmVuY2U9ImhpZ2gtcGVyZm9ybWFuY2UiKSx0aGlzLl9iYWREZXNrdG9wT1M9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx0aGlzLl9iYWREZXNrdG9wT1MmJihyLnhyQ29tcGF0aWJsZT0hMSksIXIuZGlzYWJsZVdlYkdMMlN1cHBvcnQpdHJ5e3RoaXMuX2dsPXMuZ2V0Q29udGV4dCgid2ViZ2wyIixyKXx8cy5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wyIixyKSx0aGlzLl9nbCYmKHRoaXMuX3dlYkdMVmVyc2lvbj0yLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wyIix0aGlzLl9nbC5kZWxldGVRdWVyeXx8KHRoaXMuX3dlYkdMVmVyc2lvbj0xLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wxIikpfWNhdGNoe31pZighdGhpcy5fZ2wpe2lmKCFzKXRocm93IG5ldyBFcnJvcigiVGhlIHByb3ZpZGVkIGNhbnZhcyBpcyBudWxsIG9yIHVuZGVmaW5lZC4iKTt0cnl7dGhpcy5fZ2w9cy5nZXRDb250ZXh0KCJ3ZWJnbCIscil8fHMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIixyKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoIldlYkdMIG5vdCBzdXBwb3J0ZWQiKX19aWYoIXRoaXMuX2dsKXRocm93IG5ldyBFcnJvcigiV2ViR0wgbm90IHN1cHBvcnRlZCIpfWVsc2V7dGhpcy5fZ2w9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXM9dGhpcy5fZ2wuY2FudmFzLHRoaXMuX2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZT8odGhpcy5fd2ViR0xWZXJzaW9uPTIsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDIiKTp0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMSI7dmFyIFI9dGhpcy5fZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtSJiYoci5zdGVuY2lsPVIuc3RlbmNpbCl9dGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSxyLnVzZUhpZ2hQcmVjaXNpb25GbG9hdHMhPT12b2lkIDAmJih0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9ci51c2VIaWdoUHJlY2lzaW9uRmxvYXRzKTt2YXIgeT1kZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxDPXIubGltaXREZXZpY2VSYXRpb3x8eTt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1uPzEvTWF0aC5taW4oQyx5KToxLHRoaXMucmVzaXplKCksdGhpcy5faXNTdGVuY2lsRW5hYmxlPSEhci5zdGVuY2lsLHRoaXMuX2luaXRHTENvbnRleHQoKSx0aGlzLl9pbml0RmVhdHVyZXMoKTtmb3IodmFyIHc9MDt3PHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmliczt3KyspdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW3ddPW5ldyBXbjt0aGlzLl9zaGFkZXJQcm9jZXNzb3I9dGhpcy53ZWJHTFZlcnNpb24+MT9uZXcgQm46bmV3IE5uLHRoaXMuX2JhZE9TPS9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L2lQaG9uZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7dmFyIEY9IkJhYnlsb24uanMgdiIuY29uY2F0KGkuVmVyc2lvbik7Y29uc29sZS5sb2coRisiIC0gIi5jb25jYXQodGhpcy5kZXNjcmlwdGlvbikpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSgiZGF0YS1lbmdpbmUiLEYpfX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIk5wbVBhY2thZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iYmFieWxvbmpzQDUuMC4wLXJjLjMifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJWZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjUuMC4wLXJjLjMifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVzY3JpcHRpb24iLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5hbWUrdGhpcy53ZWJHTFZlcnNpb247cmV0dXJuIHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYoZSs9IiAtIFBhcmFsbGVsIHNoYWRlciBjb21waWxhdGlvbiIpLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJuYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hbWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9uYW1lPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ2ZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hhZGVyc1JlcG9zaXRvcnkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ga2UuU2hhZGVyc1JlcG9zaXRvcnl9LHNldDpmdW5jdGlvbihlKXtrZS5TaGFkZXJzUmVwb3NpdG9yeT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9nZXRTaGFkZXJQcm9jZXNzb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NoYWRlclByb2Nlc3Nvcn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VSZXZlcnNlRGVwdGhCdWZmZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfSxzZXQ6ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZyYW1lSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVJZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJHTFZlcnNpb24+MSYmIXRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENyZWF0aW9uT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGlvbk9wdGlvbnN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLl9jYXBzLmhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQmJnRoaXMuX2hpZ2hQcmVjaXNpb25TaGFkZXJzQWxsb3dlZCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJuZWVkUE9UVGV4dHVyZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPDJ8fHRoaXMuZm9yY2VQT1RUZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFjdGl2ZVJlbmRlckxvb3BzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50Vmlld3BvcnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbXB0eVRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlfHwodGhpcy5fZW1wdHlUZXh0dXJlPXRoaXMuY3JlYXRlUmF3VGV4dHVyZShuZXcgVWludDhBcnJheSg0KSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW1wdHlUZXh0dXJlM0QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlM0R8fCh0aGlzLl9lbXB0eVRleHR1cmUzRD10aGlzLmNyZWF0ZVJhd1RleHR1cmUzRChuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUzRH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVtcHR5VGV4dHVyZTJEQXJyYXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW1wdHlDdWJlVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLl9lbXB0eUN1YmVUZXh0dXJlKXt2YXIgZT1uZXcgVWludDhBcnJheSg0KSx0PVtlLGUsZSxlLGUsZV07dGhpcy5fZW1wdHlDdWJlVGV4dHVyZT10aGlzLmNyZWF0ZVJhd0N1YmVUZXh0dXJlKHQsMSw1LDAsITEsITEsMSl9cmV0dXJuIHRoaXMuX2VtcHR5Q3ViZVRleHR1cmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1dlYkdQVSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dlYkdQVX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRlclBsYXRmb3JtTmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzbmFwc2hvdFJlbmRlcmluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSl7fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic25hcHNob3RSZW5kZXJpbmdNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNuYXBzaG90UmVuZGVyaW5nUmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90UmVuZGVyaW5nPSExfSxpLl9jcmVhdGVDYW52YXM9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgZG9jdW1lbnQ9PSJ1bmRlZmluZWQiKXJldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKGUsdCk7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIHIud2lkdGg9ZSxyLmhlaWdodD10LHJ9LGkucHJvdG90eXBlLmNyZWF0ZUNhbnZhcz1mdW5jdGlvbihlLHQpe3JldHVybiBpLl9jcmVhdGVDYW52YXMoZSx0KX0saS5wcm90b3R5cGUuY3JlYXRlQ2FudmFzSW1hZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIil9LGkucHJvdG90eXBlLl9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gQnIodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsbixhLHMsbztyZXR1cm4gd3QodGhpcyxmdW5jdGlvbih1KXtzd2l0Y2godS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwscj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Qsbj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmMsYT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2sscz10aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3QsWzQsZSgpXTtjYXNlIDE6cmV0dXJuIHUuc2VudCgpLHRoaXMuX3JlYnVpbGRFZmZlY3RzKCksKG89dGhpcy5fcmVidWlsZENvbXB1dGVFZmZlY3RzKT09PW51bGx8fG89PT12b2lkIDB8fG8uY2FsbCh0aGlzKSx0aGlzLl9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcygpLHRoaXMuX3JlYnVpbGRSZW5kZXJUYXJnZXRXcmFwcGVycygpLHRoaXMuX3JlYnVpbGRCdWZmZXJzKCksdGhpcy53aXBlQ2FjaGVzKCEwKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9cix0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9bix0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9YSx0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9cyx6Lldhcm4odGhpcy5uYW1lKyIgY29udGV4dCBzdWNjZXNzZnVsbHkgcmVzdG9yZWQuIiksdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLFsyXX19KX0pfSwwKX0saS5wcm90b3R5cGUuX3NoYXJlZEluaXQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcz1lfSxpLnByb3RvdHlwZS5fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLl9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc2xpY2UoKSx0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3JlYnVpbGQoKX19LGkucHJvdG90eXBlLl9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNsaWNlKCksdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9yZWJ1aWxkKCl9fSxpLnByb3RvdHlwZS5fcmVidWlsZEVmZmVjdHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXt2YXIgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV07dC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHQuX3ByZXBhcmVFZmZlY3QoKX1rZS5SZXNldENhY2hlKCl9LGkucHJvdG90eXBlLmFyZUFsbEVmZmVjdHNSZWFkeT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpe3ZhciB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXTtpZighdC5pc1JlYWR5KCkpcmV0dXJuITF9cmV0dXJuITB9LGkucHJvdG90eXBlLl9yZWJ1aWxkQnVmZmVycz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9dGhpcy5fdW5pZm9ybUJ1ZmZlcnM7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07ci5fcmVidWlsZCgpfWZvcih2YXIgbj0wLGE9dGhpcy5fc3RvcmFnZUJ1ZmZlcnM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5fcmVidWlsZCgpfX0saS5wcm90b3R5cGUuX2luaXRHTENvbnRleHQ9ZnVuY3Rpb24oKXt0aGlzLl9jYXBzPXttYXhUZXh0dXJlc0ltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFZlcnRleFRleHR1cmVJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVEVYVFVSRV9TSVpFKSxtYXhTYW1wbGVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfU0FNUExFUyk6MSxtYXhDdWJlbWFwVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUpLG1heFJlbmRlclRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfUkVOREVSQlVGRkVSX1NJWkUpLG1heFZlcnRleEF0dHJpYnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfQVRUUklCUyksbWF4VmFyeWluZ1ZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpLG1heEZyYWdtZW50VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9GUkFHTUVOVF9VTklGT1JNX1ZFQ1RPUlMpLG1heFZlcnRleFVuaWZvcm1WZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SUykscGFyYWxsZWxTaGFkZXJDb21waWxlOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiS0hSX3BhcmFsbGVsX3NoYWRlcl9jb21waWxlIil8fHZvaWQgMCxzdGFuZGFyZERlcml2YXRpdmVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpIT09bnVsbCxtYXhBbmlzb3Ryb3B5OjEsYXN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksYnB0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLHMzdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpLHMzdGNfc3JnYjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpLHB2cnRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLGV0YzE6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLGV0YzI6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXMzXzAiKSx0ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb246dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLHVpbnRJbmRpY2VzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSE9PW51bGwsZnJhZ21lbnREZXB0aFN1cHBvcnRlZDp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZnJhZ19kZXB0aCIpIT09bnVsbCxoaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkOiExLHRpbWVyUXVlcnk6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iiksc3VwcG9ydE9jY2x1c2lvblF1ZXJ5OnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk6ITEsZHJhd0J1ZmZlcnNFeHRlbnNpb246ITEsbWF4TVNBQVNhbXBsZXM6MSxjb2xvckJ1ZmZlckZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSksdGV4dHVyZUZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpKSx0ZXh0dXJlSGFsZkZsb2F0UmVuZGVyOiExLHRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZzohMSx0ZXh0dXJlRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZzohMSx2ZXJ0ZXhBcnJheU9iamVjdDohMSxpbnN0YW5jZWRBcnJheXM6ITEsdGV4dHVyZUxPRDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIikpLGJsZW5kTWluTWF4OiExLG11bHRpdmlldzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9WUl9tdWx0aXZpZXcyIiksb2N1bHVzTXVsdGl2aWV3OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0NVTFVTX211bHRpdmlldyIpLGRlcHRoVGV4dHVyZUV4dGVuc2lvbjohMSxjYW5Vc2VHTEluc3RhbmNlSUQ6dGhpcy5fd2ViR0xWZXJzaW9uPjEsY2FuVXNlR0xWZXJ0ZXhJRDp0aGlzLl93ZWJHTFZlcnNpb24+MSxzdXBwb3J0Q29tcHV0ZVNoYWRlcnM6ITEsc3VwcG9ydFNSR0JCdWZmZXJzOiExLHN1cHBvcnRUcmFuc2Zvcm1GZWVkYmFja3M6dGhpcy5fd2ViR0xWZXJzaW9uPjEsdGV4dHVyZU1heExldmVsOnRoaXMuX3dlYkdMVmVyc2lvbj4xfSx0aGlzLl9nbFZlcnNpb249dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlZFUlNJT04pO3ZhciBlPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbyIpO2lmKGUhPW51bGwmJih0aGlzLl9nbFJlbmRlcmVyPXRoaXMuX2dsLmdldFBhcmFtZXRlcihlLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSx0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIoZS5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpKSx0aGlzLl9nbFZlbmRvcnx8KHRoaXMuX2dsVmVuZG9yPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5WRU5ET1IpfHwiVW5rbm93biB2ZW5kb3IiKSx0aGlzLl9nbFJlbmRlcmVyfHwodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuUkVOREVSRVIpfHwiVW5rbm93biByZW5kZXJlciIpLHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTIT09MzYxOTMmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz0zNjE5MyksdGhpcy5fZ2wuUkdCQTE2RiE9PTM0ODQyJiYodGhpcy5fZ2wuUkdCQTE2Rj0zNDg0MiksdGhpcy5fZ2wuUkdCQTMyRiE9PTM0ODM2JiYodGhpcy5fZ2wuUkdCQTMyRj0zNDgzNiksdGhpcy5fZ2wuREVQVEgyNF9TVEVOQ0lMOCE9PTM1MDU2JiYodGhpcy5fZ2wuREVQVEgyNF9TVEVOQ0lMOD0zNTA1NiksdGhpcy5fY2Fwcy50aW1lclF1ZXJ5JiYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSYmKHRoaXMuX2dsLmdldFF1ZXJ5PXRoaXMuX2NhcHMudGltZXJRdWVyeS5nZXRRdWVyeUVYVC5iaW5kKHRoaXMuX2NhcHMudGltZXJRdWVyeSkpLHRoaXMuX2NhcHMuY2FuVXNlVGltZXN0YW1wRm9yVGltZXJRdWVyeT10aGlzLl9nbC5nZXRRdWVyeSh0aGlzLl9jYXBzLnRpbWVyUXVlcnkuVElNRVNUQU1QX0VYVCx0aGlzLl9jYXBzLnRpbWVyUXVlcnkuUVVFUllfQ09VTlRFUl9CSVRTX0VYVCk+MCksdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5PXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOjAsdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0UmVuZGVyPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy5hc3RjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSPXRoaXMuX2NhcHMuYXN0Yy5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFIpLHRoaXMuX2NhcHMuYnB0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVD10aGlzLl9jYXBzLmJwdGMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUKSx0aGlzLl9jYXBzLnMzdGNfc3JnYiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUKSx0aGlzLl93ZWJHTFZlcnNpb24+MSYmdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVMhPT01MTMxJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9NTEzMSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyPXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdCYmdGhpcy5fY2FuUmVuZGVyVG9IYWxmRmxvYXRGcmFtZWJ1ZmZlcigpLHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuZHJhd0J1ZmZlcnNFeHRlbnNpb249ITAsdGhpcy5fY2Fwcy5tYXhNU0FBU2FtcGxlcz10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1NBTVBMRVMpO2Vsc2V7dmFyIHQ9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtpZih0IT09bnVsbCl7dGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9nbC5kcmF3QnVmZmVycz10LmRyYXdCdWZmZXJzV0VCR0wuYmluZCh0KSx0aGlzLl9nbC5EUkFXX0ZSQU1FQlVGRkVSPXRoaXMuX2dsLkZSQU1FQlVGRkVSO2Zvcih2YXIgcj0wO3I8MTY7cisrKXRoaXMuX2dsWyJDT0xPUl9BVFRBQ0hNRU5UIityKyJfV0VCR0wiXT10WyJDT0xPUl9BVFRBQ0hNRU5UIityKyJfV0VCR0wiXX19aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITA7ZWxzZXt2YXIgbj10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlcHRoX3RleHR1cmUiKTtuIT1udWxsJiYodGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITAsdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg9bi5VTlNJR05FRF9JTlRfMjRfOF9XRUJHTCl9aWYodGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITE7ZWxzZSBpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSEwO2Vsc2V7dmFyIGE9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpO2EhPW51bGwmJih0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSEwLHRoaXMuX2dsLmNyZWF0ZVZlcnRleEFycmF5PWEuY3JlYXRlVmVydGV4QXJyYXlPRVMuYmluZChhKSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXk9YS5iaW5kVmVydGV4QXJyYXlPRVMuYmluZChhKSx0aGlzLl9nbC5kZWxldGVWZXJ0ZXhBcnJheT1hLmRlbGV0ZVZlcnRleEFycmF5T0VTLmJpbmQoYSkpfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSEwO2Vsc2V7dmFyIHM9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7cyE9bnVsbD8odGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITAsdGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZD1zLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRS5iaW5kKHMpLHRoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZD1zLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFLmJpbmQocyksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcj1zLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRS5iaW5kKHMpKTp0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMX1pZih0aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpe3ZhciBvPXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5WRVJURVhfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpLHU9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLkZSQUdNRU5UX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKTtvJiZ1JiYodGhpcy5fY2Fwcy5oaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkPW8ucHJlY2lzaW9uIT09MCYmdS5wcmVjaXNpb24hPT0wKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwO2Vsc2V7dmFyIGY9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfYmxlbmRfbWlubWF4Iik7ZiE9bnVsbCYmKHRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITAsdGhpcy5fZ2wuTUFYPWYuTUFYX0VYVCx0aGlzLl9nbC5NSU49Zi5NSU5fRVhUKX1pZighdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPSEwO2Vsc2V7dmFyIGw9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc1JHQiIpO2whPW51bGwmJih0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMCx0aGlzLl9nbC5TUkdCPWwuU1JHQl9FWFQsdGhpcy5fZ2wuU1JHQjg9bC5TUkdCX0FMUEhBX0VYVCx0aGlzLl9nbC5TUkdCOF9BTFBIQTg9bC5TUkdCX0FMUEhBX0VYVCl9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJiEhKHRoaXMuX2NyZWF0aW9uT3B0aW9ucyYmdGhpcy5fY3JlYXRpb25PcHRpb25zLmZvcmNlU1JHQkJ1ZmZlclN1cHBvcnRTdGF0ZSl9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPSEwLHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPXRoaXMuX2NhcHMubWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM7Zm9yKHZhciBoPTA7aDx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztoKyspdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHMucHVzaChoKX0saS5wcm90b3R5cGUuX2luaXRGZWF0dXJlcz1mdW5jdGlvbigpe3RoaXMuX2ZlYXR1cmVzPXtmb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50OiExLHN1cHBvcnRSZW5kZXJBbmRDb3B5VG9Mb2RGb3JGbG9hdFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U2hhZG93U2FtcGxlcnM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx1bmlmb3JtQnVmZmVySGFyZENoZWNrTWF0cml4OiExLGFsbG93VGV4dHVyZVByZWZpbHRlcmluZzp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHRyYWNrVWJvc0luRnJhbWU6ITEsY2hlY2tVYm9zQ29udGVudEJlZm9yZVVwbG9hZDohMSxzdXBwb3J0Q1NNOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsYmFzaXNOZWVkc1BPVDp0aGlzLl93ZWJHTFZlcnNpb249PT0xLHN1cHBvcnQzRFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsbmVlZFR5cGVTdWZmaXhJblNoYWRlckNvbnN0YW50czp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRNU0FBOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNTQU8yOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydEV4dGVuZGVkVGV4dHVyZUZvcm1hdHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U3dpdGNoQ2FzZUluU2hhZGVyOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN5bmNUZXh0dXJlUmVhZDohMCxuZWVkc0ludmVydGluZ0JpdG1hcDohMCx1c2VVQk9CaW5kaW5nQ2FjaGU6ITAsbmVlZFNoYWRlckNvZGVJbmxpbmluZzohMSxuZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnM6ITEsc3VwcG9ydFJlbmRlclBhc3NlczohMSxfY29sbGVjdFVib3NVcGRhdGVkSW5GcmFtZTohMX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid2ViR0xWZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVGhpbkVuZ2luZSJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNTdGVuY2lsRW5hYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3RlbmNpbEVuYWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fcHJlcGFyZVdvcmtpbmdDYW52YXM9ZnVuY3Rpb24oKXtpZighdGhpcy5fd29ya2luZ0NhbnZhcyl7dGhpcy5fd29ya2luZ0NhbnZhcz10aGlzLmNyZWF0ZUNhbnZhcygxLDEpO3ZhciBlPXRoaXMuX3dvcmtpbmdDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTtlJiYodGhpcy5fd29ya2luZ0NvbnRleHQ9ZSl9fSxpLnByb3RvdHlwZS5yZXNldFRleHR1cmVDYWNoZT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGUpIXRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZS5oYXNPd25Qcm9wZXJ0eShlKXx8KHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT1udWxsKTt0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWw9LTF9LGkucHJvdG90eXBlLmdldEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHbEluZm8oKX0saS5wcm90b3R5cGUuZ2V0R2xJbmZvPWZ1bmN0aW9uKCl7cmV0dXJue3ZlbmRvcjp0aGlzLl9nbFZlbmRvcixyZW5kZXJlcjp0aGlzLl9nbFJlbmRlcmVyLHZlcnNpb246dGhpcy5fZ2xWZXJzaW9ufX0saS5wcm90b3R5cGUuc2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWw9ZnVuY3Rpb24oZSl7dGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWw9ZSx0aGlzLnJlc2l6ZSgpfSxpLnByb3RvdHlwZS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbH0saS5wcm90b3R5cGUuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGV9LGkucHJvdG90eXBlLmdldENhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2Fwc30saS5wcm90b3R5cGUuc3RvcFJlbmRlckxvb3A9ZnVuY3Rpb24oZSl7aWYoIWUpe3RoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPVtdO3JldHVybn12YXIgdD10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpO3Q+PTAmJnRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLnNwbGljZSh0LDEpfSxpLnByb3RvdHlwZS5fcmVuZGVyTG9vcD1mdW5jdGlvbigpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7dmFyIGU9ITA7aWYoIXRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZCYmdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kJiYoZT0hMSksZSl7dGhpcy5iZWdpbkZyYW1lKCk7Zm9yKHZhciB0PTA7dDx0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9hY3RpdmVSZW5kZXJMb29wc1t0XTtyKCl9dGhpcy5lbmRGcmFtZSgpfX10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg+MD90aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKTp0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExfSxpLnByb3RvdHlwZS5nZXRSZW5kZXJpbmdDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzfSxpLnByb3RvdHlwZS5nZXRBdWRpb0NvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9Db250ZXh0fSxpLnByb3RvdHlwZS5nZXRBdWRpb0Rlc3RpbmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1ZGlvRGVzdGluYXRpb259LGkucHJvdG90eXBlLmdldEhvc3RXaW5kb3c9ZnVuY3Rpb24oKXtyZXR1cm4gZGUoKT90aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50JiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldzp3aW5kb3c6bnVsbH0saS5wcm90b3R5cGUuZ2V0UmVuZGVyV2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSExKSwhZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LndpZHRoOnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJXaWR0aDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVyV2lkdGh9LGkucHJvdG90eXBlLmdldFJlbmRlckhlaWdodD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITEpLCFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQuaGVpZ2h0OnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJIZWlnaHQ6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH0saS5wcm90b3R5cGUuX3F1ZXVlTmV3RnJhbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5RdWV1ZU5ld0ZyYW1lKGUsdCl9LGkucHJvdG90eXBlLnJ1blJlbmRlckxvb3A9ZnVuY3Rpb24oZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuaW5kZXhPZihlKT09PS0xJiYodGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMucHVzaChlKSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkfHwodGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMCx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uPXRoaXMuX3JlbmRlckxvb3AuYmluZCh0aGlzKSx0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKSkpfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0hMSk7dmFyIGE9dGhpcy5zdGVuY2lsU3RhdGVDb21wb3Nlci51c2VTdGVuY2lsR2xvYmFsT25seTt0aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSEwLHRoaXMuYXBwbHlTdGF0ZXMoKSx0aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PWE7dmFyIHM9MDt0JiZlJiYodGhpcy5fZ2wuY2xlYXJDb2xvcihlLnIsZS5nLGUuYixlLmEhPT12b2lkIDA/ZS5hOjEpLHN8PXRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQpLHImJih0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8odGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkdFUVVBTCx0aGlzLl9nbC5jbGVhckRlcHRoKDApKTp0aGlzLl9nbC5jbGVhckRlcHRoKDEpLHN8PXRoaXMuX2dsLkRFUFRIX0JVRkZFUl9CSVQpLG4mJih0aGlzLl9nbC5jbGVhclN0ZW5jaWwoMCksc3w9dGhpcy5fZ2wuU1RFTkNJTF9CVUZGRVJfQklUKSx0aGlzLl9nbC5jbGVhcihzKX0saS5wcm90b3R5cGUuX3ZpZXdwb3J0PWZ1bmN0aW9uKGUsdCxyLG4peyhlIT09dGhpcy5fdmlld3BvcnRDYWNoZWQueHx8dCE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnl8fHIhPT10aGlzLl92aWV3cG9ydENhY2hlZC56fHxuIT09dGhpcy5fdmlld3BvcnRDYWNoZWQudykmJih0aGlzLl92aWV3cG9ydENhY2hlZC54PWUsdGhpcy5fdmlld3BvcnRDYWNoZWQueT10LHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLno9cix0aGlzLl92aWV3cG9ydENhY2hlZC53PW4sdGhpcy5fZ2wudmlld3BvcnQoZSx0LHIsbikpfSxpLnByb3RvdHlwZS5zZXRWaWV3cG9ydD1mdW5jdGlvbihlLHQscil7dmFyIG49dHx8dGhpcy5nZXRSZW5kZXJXaWR0aCgpLGE9cnx8dGhpcy5nZXRSZW5kZXJIZWlnaHQoKSxzPWUueHx8MCxvPWUueXx8MDt0aGlzLl9jYWNoZWRWaWV3cG9ydD1lLHRoaXMuX3ZpZXdwb3J0KHMqbixvKmEsbiplLndpZHRoLGEqZS5oZWlnaHQpfSxpLnByb3RvdHlwZS5iZWdpbkZyYW1lPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5lbmRGcmFtZT1mdW5jdGlvbigpe3RoaXMuX2JhZE9TJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSx0aGlzLl9mcmFtZUlkKyt9LGkucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlKXtlPT09dm9pZCAwJiYoZT0hMSk7dmFyIHQscjtpZih0aGlzLl9hZGFwdFRvRGV2aWNlUmF0aW8pe3ZhciBuPWRlKCkmJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLGE9dGhpcy5fY3JlYXRpb25PcHRpb25zLmxpbWl0RGV2aWNlUmF0aW98fG47dGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWw9dGhpcy5fYWRhcHRUb0RldmljZVJhdGlvPzEvTWF0aC5taW4oYSxuKToxfWRlKCk/KHQ9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5jbGllbnRXaWR0aHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoOndpbmRvdy5pbm5lcldpZHRoLHI9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5jbGllbnRIZWlnaHR8fHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0KToodD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoOjEwMCxyPXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0OjEwMCksdGhpcy5zZXRTaXplKHQvdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwsci90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxlKX0saS5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSwhdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwoZT1lfDAsdD10fDAsIXImJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy53aWR0aD09PWUmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ9PT10KT8hMToodGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD10LCEwKX0saS5wcm90b3R5cGUuYmluZEZyYW1lYnVmZmVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1LGYsbCxoLGM7dD09PXZvaWQgMCYmKHQ9MCkscz09PXZvaWQgMCYmKHM9MCksbz09PXZvaWQgMCYmKG89MCk7dmFyIGQ9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0JiZ0aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpLHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9ZSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGQuX01TQUFGcmFtZWJ1ZmZlcj9kLl9NU0FBRnJhbWVidWZmZXI6ZC5fZnJhbWVidWZmZXIpO3ZhciBwPXRoaXMuX2dsO2UuaXMyREFycmF5P3AuZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIocC5GUkFNRUJVRkZFUixwLkNPTE9SX0FUVEFDSE1FTlQwLCh1PWUudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnUudW5kZXJseWluZ1Jlc291cmNlLHMsbyk6ZS5pc0N1YmUmJnAuZnJhbWVidWZmZXJUZXh0dXJlMkQocC5GUkFNRUJVRkZFUixwLkNPTE9SX0FUVEFDSE1FTlQwLHAuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3QsKGY9ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8Zj09PXZvaWQgMD92b2lkIDA6Zi51bmRlcmx5aW5nUmVzb3VyY2Uscyk7dmFyIF89ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZTtpZihfKXt2YXIgZz1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw/cC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQ6cC5ERVBUSF9BVFRBQ0hNRU5UO2UuaXMyREFycmF5P3AuZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIocC5GUkFNRUJVRkZFUixnLChsPV8uX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLnVuZGVybHlpbmdSZXNvdXJjZSxzLG8pOmUuaXNDdWJlP3AuZnJhbWVidWZmZXJUZXh0dXJlMkQocC5GUkFNRUJVRkZFUixnLHAuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3QsKGg9Xy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmgudW5kZXJseWluZ1Jlc291cmNlLHMpOnAuZnJhbWVidWZmZXJUZXh0dXJlMkQocC5GUkFNRUJVRkZFUixnLHAuVEVYVFVSRV8yRCwoYz1fLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8Yz09PXZvaWQgMD92b2lkIDA6Yy51bmRlcmx5aW5nUmVzb3VyY2Uscyl9dGhpcy5fY2FjaGVkVmlld3BvcnQmJiFhP3RoaXMuc2V0Vmlld3BvcnQodGhpcy5fY2FjaGVkVmlld3BvcnQscixuKToocnx8KHI9ZS53aWR0aCxzJiYocj1yL01hdGgucG93KDIscykpKSxufHwobj1lLmhlaWdodCxzJiYobj1uL01hdGgucG93KDIscykpKSx0aGlzLl92aWV3cG9ydCgwLDAscixuKSksdGhpcy53aXBlQ2FjaGVzKCl9LGkucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1LGY7dD09PXZvaWQgMCYmKHQ9MCksbj09PXZvaWQgMCYmKG49ITEpLG89PT12b2lkIDAmJihvPTApLCh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsIT09ZXx8cikmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsPWUpO3ZhciBsPSgoZj0odT10aGlzLmN1bGxCYWNrRmFjZXMpIT09bnVsbCYmdSE9PXZvaWQgMD91OmEpIT09bnVsbCYmZiE9PXZvaWQgMD9mOiEwKT90aGlzLl9nbC5CQUNLOnRoaXMuX2dsLkZST05UOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsRmFjZSE9PWx8fHIpJiYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2U9bCksdGhpcy5zZXRaT2Zmc2V0KHQpLHRoaXMuc2V0Wk9mZnNldFVuaXRzKG8pO3ZhciBoPW4/dGhpcy5fZ2wuQ1c6dGhpcy5fZ2wuQ0NXOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2UhPT1ofHxyKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmZyb250RmFjZT1oKSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9c30saS5wcm90b3R5cGUuc2V0Wk9mZnNldD1mdW5jdGlvbihlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0PXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9LGkucHJvdG90eXBlLmdldFpPZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0O3JldHVybiB0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfSxpLnByb3RvdHlwZS5zZXRaT2Zmc2V0VW5pdHM9ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzPXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9LGkucHJvdG90eXBlLmdldFpPZmZzZXRVbml0cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXRVbml0cztyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX0saS5wcm90b3R5cGUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyIT09ZSYmKHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixlKSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9ZSl9LGkucHJvdG90eXBlLl9jdXJyZW50RnJhbWVCdWZmZXJJc0RlZmF1bHRGcmFtZUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9PT1udWxsfSxpLnByb3RvdHlwZS5nZW5lcmF0ZU1pcG1hcHM9ZnVuY3Rpb24oZSl7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELGUsITApLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKHRoaXMuX2dsLlRFWFRVUkVfMkQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKX0saS5wcm90b3R5cGUudW5CaW5kRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3Q9PT12b2lkIDAmJih0PSExKTt2YXIgYT1lO3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9bnVsbDt2YXIgcz10aGlzLl9nbDtpZihhLl9NU0FBRnJhbWVidWZmZXIpe2lmKGUuaXNNdWx0aSl7dGhpcy51bkJpbmRNdWx0aUNvbG9yQXR0YWNobWVudEZyYW1lYnVmZmVyKGUsdCxyKTtyZXR1cm59cy5iaW5kRnJhbWVidWZmZXIocy5SRUFEX0ZSQU1FQlVGRkVSLGEuX01TQUFGcmFtZWJ1ZmZlcikscy5iaW5kRnJhbWVidWZmZXIocy5EUkFXX0ZSQU1FQlVGRkVSLGEuX2ZyYW1lYnVmZmVyKSxzLmJsaXRGcmFtZWJ1ZmZlcigwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsZS53aWR0aCxlLmhlaWdodCxzLkNPTE9SX0JVRkZFUl9CSVQscy5ORUFSRVNUKX0oKG49ZS50ZXh0dXJlKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZ2VuZXJhdGVNaXBNYXBzKSYmIXQmJiFlLmlzQ3ViZSYmdGhpcy5nZW5lcmF0ZU1pcG1hcHMoZS50ZXh0dXJlKSxyJiYoYS5fTVNBQUZyYW1lYnVmZmVyJiZ0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEuX2ZyYW1lYnVmZmVyKSxyKCkpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9LGkucHJvdG90eXBlLmZsdXNoRnJhbWVidWZmZXI9ZnVuY3Rpb24oKXt0aGlzLl9nbC5mbHVzaCgpfSxpLnByb3RvdHlwZS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpOnRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmlld3BvcnQmJnRoaXMuc2V0Vmlld3BvcnQodGhpcy5fY2FjaGVkVmlld3BvcnQpLHRoaXMud2lwZUNhY2hlcygpfSxpLnByb3RvdHlwZS5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nPWZ1bmN0aW9uKCl7dGhpcy5iaW5kQXJyYXlCdWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsfSxpLnByb3RvdHlwZS5jcmVhdGVWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX0saS5wcm90b3R5cGUuX2NyZWF0ZVZlcnRleEJ1ZmZlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB2ZXJ0ZXggYnVmZmVyIik7dmFyIG49bmV3IFp0KHIpO3JldHVybiB0aGlzLmJpbmRBcnJheUJ1ZmZlcihuKSxlIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShlKSx0KTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHQpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpLG4ucmVmZXJlbmNlcz0xLG59LGkucHJvdG90eXBlLmNyZWF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyl9LGkucHJvdG90eXBlLl9yZXNldEluZGV4QnVmZmVyQmluZGluZz1mdW5jdGlvbigpe3RoaXMuYmluZEluZGV4QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGx9LGkucHJvdG90eXBlLmNyZWF0ZUluZGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCksbj1uZXcgWnQocik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGluZGV4IGJ1ZmZlciIpO3RoaXMuYmluZEluZGV4QnVmZmVyKG4pO3ZhciBhPXRoaXMuX25vcm1hbGl6ZUluZGV4RGF0YShlKTtyZXR1cm4gdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixhLHQ/dGhpcy5fZ2wuRFlOQU1JQ19EUkFXOnRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpLG4ucmVmZXJlbmNlcz0xLG4uaXMzMkJpdHM9YS5CWVRFU19QRVJfRUxFTUVOVD09PTQsbn0saS5wcm90b3R5cGUuX25vcm1hbGl6ZUluZGV4RGF0YT1mdW5jdGlvbihlKXt2YXIgdD1lLkJZVEVTX1BFUl9FTEVNRU5UO2lmKHQ9PT0yKXJldHVybiBlO2lmKHRoaXMuX2NhcHMudWludEluZGljZXMpe2lmKGUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gZTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdPj02NTUzNSlyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO3JldHVybiBuZXcgVWludDE2QXJyYXkoZSl9cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKX0saS5wcm90b3R5cGUuYmluZEFycmF5QnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuQVJSQVlfQlVGRkVSKX0saS5wcm90b3R5cGUuYmluZFVuaWZvcm1CbG9jaz1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5wcm9ncmFtLGE9dGhpcy5fZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgobix0KTt0aGlzLl9nbC51bmlmb3JtQmxvY2tCaW5kaW5nKG4sYSxyKX0saS5wcm90b3R5cGUuYmluZEluZGV4QnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpfSxpLnByb3RvdHlwZS5iaW5kQnVmZmVyPWZ1bmN0aW9uKGUsdCl7KHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0XSE9PWUpJiYodGhpcy5fZ2wuYmluZEJ1ZmZlcih0LGU/ZS51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCksdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RdPWUpfSxpLnByb3RvdHlwZS51cGRhdGVBcnJheUJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpfSxpLnByb3RvdHlwZS5fdmVydGV4QXR0cmliUG9pbnRlcj1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT10aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbdF07aWYoISF1KXt2YXIgZj0hMTt1LmFjdGl2ZT8odS5idWZmZXIhPT1lJiYodS5idWZmZXI9ZSxmPSEwKSx1LnNpemUhPT1yJiYodS5zaXplPXIsZj0hMCksdS50eXBlIT09biYmKHUudHlwZT1uLGY9ITApLHUubm9ybWFsaXplZCE9PWEmJih1Lm5vcm1hbGl6ZWQ9YSxmPSEwKSx1LnN0cmlkZSE9PXMmJih1LnN0cmlkZT1zLGY9ITApLHUub2Zmc2V0IT09byYmKHUub2Zmc2V0PW8sZj0hMCkpOihmPSEwLHUuYWN0aXZlPSEwLHUuaW5kZXg9dCx1LnNpemU9cix1LnR5cGU9bix1Lm5vcm1hbGl6ZWQ9YSx1LnN0cmlkZT1zLHUub2Zmc2V0PW8sdS5idWZmZXI9ZSksKGZ8fHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3MpJiYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcih0LHIsbixhLHMsbykpfX0saS5wcm90b3R5cGUuX2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZT1mdW5jdGlvbihlKXtlIT1udWxsJiZ0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlciE9PWUmJih0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1lLHRoaXMuYmluZEluZGV4QnVmZmVyKGUpLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PWUuaXMzMkJpdHMpfSxpLnByb3RvdHlwZS5fYmluZFZlcnRleEJ1ZmZlcnNBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmdldEF0dHJpYnV0ZXNOYW1lcygpO3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPXQuZ2V0QXR0cmlidXRlTG9jYXRpb24oYSk7aWYocz49MCl7dmFyIG89blthXSx1PW51bGw7aWYociYmKHU9cltvXSksdXx8KHU9ZVtvXSksIXUpY29udGludWU7dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocyksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbc109ITApO3ZhciBmPXUuZ2V0QnVmZmVyKCk7ZiYmKHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZixzLHUuZ2V0U2l6ZSgpLHUudHlwZSx1Lm5vcm1hbGl6ZWQsdS5ieXRlU3RyaWRlLHUuYnl0ZU9mZnNldCksdS5nZXRJc0luc3RhbmNlZCgpJiYodGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihzLHUuZ2V0SW5zdGFuY2VEaXZpc29yKCkpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fCh0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChzKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goZikpKSl9fX0saS5wcm90b3R5cGUucmVjb3JkVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtyZXR1cm4gdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoYSksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHIsbiksdGhpcy5iaW5kSW5kZXhCdWZmZXIodCksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCksYX0saS5wcm90b3R5cGUuYmluZFZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3QhPT1lJiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9ZSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoZSksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9dCE9bnVsbCYmdC5pczMyQml0cyx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITApfSxpLnByb3RvdHlwZS5iaW5kQnVmZmVyc0RpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycyE9PWV8fHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnMhPT1hKXt0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPWUsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1hO3ZhciBzPWEuZ2V0QXR0cmlidXRlc0NvdW50KCk7dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKTtmb3IodmFyIG89MCx1PTA7dTxzO3UrKylpZih1PHIubGVuZ3RoKXt2YXIgZj1hLmdldEF0dHJpYnV0ZUxvY2F0aW9uKHUpO2Y+PTAmJih0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2ZdPSEwLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxmLHJbdV0sdGhpcy5fZ2wuRkxPQVQsITEsbixvKSksbys9clt1XSo0fX10aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9LGkucHJvdG90eXBlLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpeyF0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdHx8KHRoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0PW51bGwsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KG51bGwpKX0saS5wcm90b3R5cGUuYmluZEJ1ZmZlcnM9ZnVuY3Rpb24oZSx0LHIsbil7KHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnMhPT1lfHx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzIT09cikmJih0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPWUsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1yLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHIsbikpLHRoaXMuX2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZSh0KX0saS5wcm90b3R5cGUudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MCxyPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg7dDxyO3QrKyl7dmFyIG49dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVyc1t0XTtlIT1uJiZuLnJlZmVyZW5jZXMmJihlPW4sdGhpcy5iaW5kQXJyYXlCdWZmZXIobikpO3ZhciBhPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9uc1t0XTt0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGEsMCl9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5sZW5ndGg9MCx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoPTB9LGkucHJvdG90eXBlLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbihlKXt0aGlzLl9nbC5kZWxldGVWZXJ0ZXhBcnJheShlKX0saS5wcm90b3R5cGUuX3JlbGVhc2VCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVmZXJlbmNlcy0tLGUucmVmZXJlbmNlcz09PTA/KHRoaXMuX2RlbGV0ZUJ1ZmZlcihlKSwhMCk6ITF9LGkucHJvdG90eXBlLl9kZWxldGVCdWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKGUudW5kZXJseWluZ1Jlc291cmNlKX0saS5wcm90b3R5cGUudXBkYXRlQW5kQmluZEluc3RhbmNlc0J1ZmZlcj1mdW5jdGlvbihlLHQscil7aWYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSksdCYmdGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCx0KSxyWzBdLmluZGV4IT09dm9pZCAwKXRoaXMuYmluZEluc3RhbmNlc0J1ZmZlcihlLHIsITApO2Vsc2UgZm9yKHZhciBuPTA7bjw0O24rKyl7dmFyIGE9cltuXTt0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2FdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYSksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFthXT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLGEsNCx0aGlzLl9nbC5GTE9BVCwhMSw2NCxuKjE2KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGEsMSksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2goYSksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpfX0saS5wcm90b3R5cGUuYmluZEluc3RhbmNlc0J1ZmZlcj1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9ITApLHRoaXMuYmluZEFycmF5QnVmZmVyKGUpO3ZhciBuPTA7aWYocilmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtuKz1zLmF0dHJpYnV0ZVNpemUqNH1mb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtzLmluZGV4PT09dm9pZCAwJiYocy5pbmRleD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKHMuYXR0cmlidXRlTmFtZSkpLCEocy5pbmRleDwwKSYmKHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbcy5pbmRleF18fCh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzLmluZGV4KSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3MuaW5kZXhdPSEwKSx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUscy5pbmRleCxzLmF0dHJpYnV0ZVNpemUscy5hdHRyaWJ1dGVUeXBlfHx0aGlzLl9nbC5GTE9BVCxzLm5vcm1hbGl6ZWR8fCExLG4scy5vZmZzZXQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3Iocy5pbmRleCxzLmRpdmlzb3I9PT12b2lkIDA/MTpzLmRpdmlzb3IpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKHMuaW5kZXgpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChlKSl9fSxpLnByb3RvdHlwZS5kaXNhYmxlSW5zdGFuY2VBdHRyaWJ1dGVCeU5hbWU9ZnVuY3Rpb24oZSl7aWYoISF0aGlzLl9jdXJyZW50RWZmZWN0KXt2YXIgdD10aGlzLl9jdXJyZW50RWZmZWN0LmdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpO3RoaXMuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKHQpfX0saS5wcm90b3R5cGUuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0hMSxyOyhyPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpKSE9PS0xOyl0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuc3BsaWNlKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5zcGxpY2UociwxKSx0PSEwLHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmluZGV4T2YoZSk7dCYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IoZSwwKSx0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpKX0saS5wcm90b3R5cGUuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV09ITEsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW2VdLmFjdGl2ZT0hMX0saS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlLHQscixuKXt0aGlzLmRyYXdFbGVtZW50c1R5cGUoZT8wOjEsdCxyLG4pfSxpLnByb3RvdHlwZS5kcmF3UG9pbnRDbG91ZHM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZHJhd0FycmF5c1R5cGUoMixlLHQscil9LGkucHJvdG90eXBlLmRyYXdVbkluZGV4ZWQ9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5kcmF3QXJyYXlzVHlwZShlPzA6MSx0LHIsbil9LGkucHJvdG90eXBlLmRyYXdFbGVtZW50c1R5cGU9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7dmFyIGE9dGhpcy5fZHJhd01vZGUoZSkscz10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD90aGlzLl9nbC5VTlNJR05FRF9JTlQ6dGhpcy5fZ2wuVU5TSUdORURfU0hPUlQsbz10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD80OjI7bj90aGlzLl9nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQoYSxyLHMsdCpvLG4pOnRoaXMuX2dsLmRyYXdFbGVtZW50cyhhLHIscyx0Km8pfSxpLnByb3RvdHlwZS5kcmF3QXJyYXlzVHlwZT1mdW5jdGlvbihlLHQscixuKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTt2YXIgYT10aGlzLl9kcmF3TW9kZShlKTtuP3RoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQoYSx0LHIsbik6dGhpcy5fZ2wuZHJhd0FycmF5cyhhLHQscil9LGkucHJvdG90eXBlLl9kcmF3TW9kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVM7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDM6cmV0dXJuIHRoaXMuX2dsLlBPSU5UUztjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLkxJTkVTO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuTElORV9MT09QO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuTElORV9TVFJJUDtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX1NUUklQO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVfRkFOO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFU319LGkucHJvdG90eXBlLl9yZXBvcnREcmF3Q2FsbD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuX3JlbGVhc2VFZmZlY3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV0pe2RlbGV0ZSB0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XTt2YXIgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3QmJnRoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX19LGkucHJvdG90eXBlLl9kZWxldGVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0JiZ0LnByb2dyYW0mJih0LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPW51bGwsdGhpcy5fZ2wuZGVsZXRlUHJvZ3JhbSh0LnByb2dyYW0pKX0saS5wcm90b3R5cGUuX2dldEdsb2JhbERlZmluZXM9ZnVuY3Rpb24oZSl7aWYoZSl7dGhpcy5pc05EQ0hhbGZaUmFuZ2U/ZS5JU19ORENfSEFMRl9aUkFOR0U9IiI6ZGVsZXRlIGUuSVNfTkRDX0hBTEZfWlJBTkdFLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyP2UuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI9IiI6ZGVsZXRlIGUuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI7cmV0dXJufWVsc2V7dmFyIHQ9IiI7cmV0dXJuIHRoaXMuaXNORENIYWxmWlJhbmdlJiYodCs9IiNkZWZpbmUgSVNfTkRDX0hBTEZfWlJBTkdFIiksdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJih0JiYodCs9YApgKSx0Kz0iI2RlZmluZSBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUiIpLHR9fSxpLnByb3RvdHlwZS5jcmVhdGVFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCl7dmFyIGg7bD09PXZvaWQgMCYmKGw9U2UuR0xTTCk7dmFyIGM9ZS52ZXJ0ZXhFbGVtZW50fHxlLnZlcnRleHx8ZS52ZXJ0ZXhUb2tlbnx8ZS52ZXJ0ZXhTb3VyY2V8fGUsZD1lLmZyYWdtZW50RWxlbWVudHx8ZS5mcmFnbWVudHx8ZS5mcmFnbWVudFRva2VufHxlLmZyYWdtZW50U291cmNlfHxlLHA9dGhpcy5fZ2V0R2xvYmFsRGVmaW5lcygpLF89KGg9YSE9bnVsbD9hOnQuZGVmaW5lcykhPT1udWxsJiZoIT09dm9pZCAwP2g6IiI7cCYmKF8rPXApO3ZhciBnPWMrIisiK2QrIkAiK187aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW2ddKXt2YXIgbT10aGlzLl9jb21waWxlZEVmZmVjdHNbZ107cmV0dXJuIG8mJm0uaXNSZWFkeSgpJiZvKG0pLG19dmFyIHY9bmV3IGtlKGUsdCxyLG4sdGhpcyxhLHMsbyx1LGYsZyxsKTtyZXR1cm4gdGhpcy5fY29tcGlsZWRFZmZlY3RzW2ddPXYsdn0saS5fQ29uY2F0ZW5hdGVTaGFkZXI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0iIikscisodD90K2AKYDoiIikrZX0saS5wcm90b3R5cGUuX2NvbXBpbGVTaGFkZXI9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuX2NvbXBpbGVSYXdTaGFkZXIoaS5fQ29uY2F0ZW5hdGVTaGFkZXIoZSxyLG4pLHQpfSxpLnByb3RvdHlwZS5fY29tcGlsZVJhd1NoYWRlcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLl9nbDtyLmdldEVycm9yKCkhPXIuTk9fRVJST1I7KTt2YXIgbj1yLmNyZWF0ZVNoYWRlcih0PT09InZlcnRleCI/ci5WRVJURVhfU0hBREVSOnIuRlJBR01FTlRfU0hBREVSKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGNyZWF0aW5nIGEgZ2wgIi5jb25jYXQodCwiIHNoYWRlciBvYmplY3QuIGdsIGVycm9yPSIpLmNvbmNhdChyLmdldEVycm9yKCksIiwgZ2wgaXNDb250ZXh0TG9zdD0iKS5jb25jYXQoci5pc0NvbnRleHRMb3N0KCksIiwgX2NvbnRleHRXYXNMb3N0PSIpLmNvbmNhdCh0aGlzLl9jb250ZXh0V2FzTG9zdCkpO3JldHVybiByLnNoYWRlclNvdXJjZShuLGUpLHIuY29tcGlsZVNoYWRlcihuKSxufSxpLnByb3RvdHlwZS5fZ2V0U2hhZGVyU291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UoZSl9LGkucHJvdG90eXBlLmNyZWF0ZVJhd1NoYWRlclByb2dyYW09ZnVuY3Rpb24oZSx0LHIsbixhKXthPT09dm9pZCAwJiYoYT1udWxsKSxuPW58fHRoaXMuX2dsO3ZhciBzPXRoaXMuX2NvbXBpbGVSYXdTaGFkZXIodCwidmVydGV4Iiksbz10aGlzLl9jb21waWxlUmF3U2hhZGVyKHIsImZyYWdtZW50Iik7cmV0dXJuIHRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oZSxzLG8sbixhKX0saS5wcm90b3R5cGUuY3JlYXRlU2hhZGVyUHJvZ3JhbT1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9bnVsbCksYT1hfHx0aGlzLl9nbDt2YXIgbz10aGlzLl93ZWJHTFZlcnNpb24+MT9gI3ZlcnNpb24gMzAwIGVzCiNkZWZpbmUgV0VCR0wyIApgOiIiLHU9dGhpcy5fY29tcGlsZVNoYWRlcih0LCJ2ZXJ0ZXgiLG4sbyksZj10aGlzLl9jb21waWxlU2hhZGVyKHIsImZyYWdtZW50IixuLG8pO3JldHVybiB0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdSxmLGEscyl9LGkucHJvdG90eXBlLmlubGluZVNoYWRlckNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGkucHJvdG90eXBlLmNyZWF0ZVBpcGVsaW5lQ29udGV4dD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVW47cmV0dXJuIHQuZW5naW5lPXRoaXMsdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUmJih0LmlzUGFyYWxsZWxDb21waWxlZD0hMCksdH0saS5wcm90b3R5cGUuY3JlYXRlTWF0ZXJpYWxDb250ZXh0PWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5jcmVhdGVEcmF3Q29udGV4dD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuX2NyZWF0ZVNoYWRlclByb2dyYW09ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09cywhcyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO3JldHVybiBuLmF0dGFjaFNoYWRlcihzLHQpLG4uYXR0YWNoU2hhZGVyKHMsciksbi5saW5rUHJvZ3JhbShzKSxlLmNvbnRleHQ9bixlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9cixlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksc30saS5wcm90b3R5cGUuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGV4dCxyPWUudmVydGV4U2hhZGVyLG49ZS5mcmFnbWVudFNoYWRlcixhPWUucHJvZ3JhbSxzPXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihhLHQuTElOS19TVEFUVVMpO2lmKCFzKXtpZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHIsdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXt2YXIgbz10aGlzLl9nbC5nZXRTaGFkZXJJbmZvTG9nKHIpO2lmKG8pdGhyb3cgZS52ZXJ0ZXhDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJWRVJURVggU0hBREVSICIrbyl9aWYoIXRoaXMuX2dsLmdldFNoYWRlclBhcmFtZXRlcihuLHRoaXMuX2dsLkNPTVBJTEVfU1RBVFVTKSl7dmFyIG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhuKTtpZihvKXRocm93IGUuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJGUkFHTUVOVCBTSEFERVIgIitvKX12YXIgdT10LmdldFByb2dyYW1JbmZvTG9nKGEpO2lmKHUpdGhyb3cgZS5wcm9ncmFtTGlua0Vycm9yPXUsbmV3IEVycm9yKHUpfWlmKHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcyl7dC52YWxpZGF0ZVByb2dyYW0oYSk7dmFyIGY9dC5nZXRQcm9ncmFtUGFyYW1ldGVyKGEsdC5WQUxJREFURV9TVEFUVVMpO2lmKCFmKXt2YXIgdT10LmdldFByb2dyYW1JbmZvTG9nKGEpO2lmKHUpdGhyb3cgZS5wcm9ncmFtVmFsaWRhdGlvbkVycm9yPXUsbmV3IEVycm9yKHUpfX10LmRlbGV0ZVNoYWRlcihyKSx0LmRlbGV0ZVNoYWRlcihuKSxlLnZlcnRleFNoYWRlcj12b2lkIDAsZS5mcmFnbWVudFNoYWRlcj12b2lkIDAsZS5vbkNvbXBpbGVkJiYoZS5vbkNvbXBpbGVkKCksZS5vbkNvbXBpbGVkPXZvaWQgMCl9LGkucHJvdG90eXBlLl9wcmVwYXJlUGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3ZhciBoPWU7bj9oLnByb2dyYW09dGhpcy5jcmVhdGVSYXdTaGFkZXJQcm9ncmFtKGgsdCxyLHZvaWQgMCxmKTpoLnByb2dyYW09dGhpcy5jcmVhdGVTaGFkZXJQcm9ncmFtKGgsdCxyLHUsdm9pZCAwLGYpLGgucHJvZ3JhbS5fX1NQRUNUT1JfcmVidWlsZFByb2dyYW09b30saS5wcm90b3R5cGUuX2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZD1mdW5jdGlvbihlKXt2YXIgdD1lO3JldHVybiB0aGlzLl9nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHQucHJvZ3JhbSx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZS5DT01QTEVUSU9OX1NUQVRVU19LSFIpPyh0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dCh0KSwhMCk6ITF9LGkucHJvdG90eXBlLl9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZD1mdW5jdGlvbihlLHQpe3ZhciByPWU7aWYoIXIuaXNQYXJhbGxlbENvbXBpbGVkKXt0KCk7cmV0dXJufXZhciBuPXIub25Db21waWxlZDtuP3Iub25Db21waWxlZD1mdW5jdGlvbigpe24oKSx0KCl9OnIub25Db21waWxlZD10fSxpLnByb3RvdHlwZS5nZXRVbmlmb3Jtcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1uZXcgQXJyYXksbj1lLGE9MDthPHQubGVuZ3RoO2ErKylyLnB1c2godGhpcy5fZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKG4ucHJvZ3JhbSx0W2FdKSk7cmV0dXJuIHJ9LGkucHJvdG90eXBlLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj1lLGE9MDthPHQubGVuZ3RoO2ErKyl0cnl7ci5wdXNoKHRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKG4ucHJvZ3JhbSx0W2FdKSl9Y2F0Y2h7ci5wdXNoKC0xKX1yZXR1cm4gcn0saS5wcm90b3R5cGUuZW5hYmxlRWZmZWN0PWZ1bmN0aW9uKGUpe2U9ZSE9PW51bGwmJlF0LklzV3JhcHBlcihlKT9lLmVmZmVjdDplLCEoIWV8fGU9PT10aGlzLl9jdXJyZW50RWZmZWN0KSYmKHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsZT1lLHRoaXMuYmluZFNhbXBsZXJzKGUpLHRoaXMuX2N1cnJlbnRFZmZlY3Q9ZSxlLm9uQmluZCYmZS5vbkJpbmQoZSksZS5fb25CaW5kT2JzZXJ2YWJsZSYmZS5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfSxpLnByb3RvdHlwZS5zZXRJbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFpKGUsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJpKGUsdCxyKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEludDM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zaShlLHQscixuKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEludDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTRpKGUsdCxyLG4sYSksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWl2KGUsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yaXYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEludEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNpdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGl2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aDwxPyExOih0aGlzLl9nbC51bmlmb3JtMWZ2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yZnYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNmdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGZ2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRNYXRyaWNlcz1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4NGZ2KGUsITEsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgzeDM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0TWF0cml4MngyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm1NYXRyaXgyZnYoZSwhMSx0KSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEZsb2F0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xZihlLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0RmxvYXQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJmKGUsdCxyKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTNmKGUsdCxyLG4pLCEwKTohMX0saS5wcm90b3R5cGUuc2V0RmxvYXQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00ZihlLHQscixuLGEpLCEwKTohMX0saS5wcm90b3R5cGUuYXBwbHlTdGF0ZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2FscGhhU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkKXt0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMTt2YXIgZT10aGlzLl9jb2xvcldyaXRlO3RoaXMuX2dsLmNvbG9yTWFzayhlLGUsZSxlKX19LGkucHJvdG90eXBlLnNldENvbG9yV3JpdGU9ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuX2NvbG9yV3JpdGUmJih0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9jb2xvcldyaXRlPWUpfSxpLnByb3RvdHlwZS5nZXRDb2xvcldyaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yV3JpdGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhDdWxsaW5nU3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbHBoYVN0YXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhU3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsU3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbFN0YXRlQ29tcG9zZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuY2xlYXJJbnRlcm5hbFRleHR1cmVzQ2FjaGU9ZnVuY3Rpb24oKXt0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9W119LGkucHJvdG90eXBlLndpcGVDYWNoZXM9ZnVuY3Rpb24oZSl7dGhpcy5wcmV2ZW50Q2FjaGVXaXBlQmV0d2VlbkZyYW1lcyYmIWV8fCh0aGlzLl9jdXJyZW50RWZmZWN0PW51bGwsdGhpcy5fdmlld3BvcnRDYWNoZWQueD0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9MCx0aGlzLl92aWV3cG9ydENhY2hlZC56PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQudz0wLHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksZSYmKHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5yZXNldFRleHR1cmVDYWNoZSgpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2FscGhhU3RhdGUucmVzZXQoKSx0aGlzLl9hbHBoYU1vZGU9MSx0aGlzLl9hbHBoYUVxdWF0aW9uPTAsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLDApLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCkpfSxpLnByb3RvdHlwZS5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2wsbj1yLk5FQVJFU1QsYT1yLk5FQVJFU1Q7c3dpdGNoKGUpe2Nhc2UgMTE6bj1yLkxJTkVBUix0P2E9ci5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6YT1yLkxJTkVBUjticmVhaztjYXNlIDM6bj1yLkxJTkVBUix0P2E9ci5MSU5FQVJfTUlQTUFQX0xJTkVBUjphPXIuTElORUFSO2JyZWFrO2Nhc2UgODpuPXIuTkVBUkVTVCx0P2E9ci5ORUFSRVNUX01JUE1BUF9MSU5FQVI6YT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSA0Om49ci5ORUFSRVNULHQ/YT1yLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6YT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSA1Om49ci5ORUFSRVNULHQ/YT1yLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDphPXIuTElORUFSO2JyZWFrO2Nhc2UgNjpuPXIuTkVBUkVTVCx0P2E9ci5MSU5FQVJfTUlQTUFQX0xJTkVBUjphPXIuTElORUFSO2JyZWFrO2Nhc2UgNzpuPXIuTkVBUkVTVCxhPXIuTElORUFSO2JyZWFrO2Nhc2UgMTpuPXIuTkVBUkVTVCxhPXIuTkVBUkVTVDticmVhaztjYXNlIDk6bj1yLkxJTkVBUix0P2E9ci5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOmE9ci5ORUFSRVNUO2JyZWFrO2Nhc2UgMTA6bj1yLkxJTkVBUix0P2E9ci5ORUFSRVNUX01JUE1BUF9MSU5FQVI6YT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSAyOm49ci5MSU5FQVIsYT1yLkxJTkVBUjticmVhaztjYXNlIDEyOm49ci5MSU5FQVIsYT1yLk5FQVJFU1Q7YnJlYWt9cmV0dXJue21pbjphLG1hZzpufX0saS5wcm90b3R5cGUuX2NyZWF0ZVRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHRleHR1cmUiKTtyZXR1cm4gZX0saS5wcm90b3R5cGUuX2NyZWF0ZUhhcmR3YXJlVGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVm4odGhpcy5fY3JlYXRlVGV4dHVyZSgpLHRoaXMuX2dsKX0saS5wcm90b3R5cGUuX2NyZWF0ZUludGVybmFsVGV4dHVyZT1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj15ZS5Vbmtub3duKTt2YXIgYT17fTt0IT09dm9pZCAwJiZ0eXBlb2YgdD09Im9iamVjdCI/KGEuZ2VuZXJhdGVNaXBNYXBzPXQuZ2VuZXJhdGVNaXBNYXBzLGEudHlwZT10LnR5cGU9PT12b2lkIDA/MDp0LnR5cGUsYS5zYW1wbGluZ01vZGU9dC5zYW1wbGluZ01vZGU9PT12b2lkIDA/Mzp0LnNhbXBsaW5nTW9kZSxhLmZvcm1hdD10LmZvcm1hdD09PXZvaWQgMD81OnQuZm9ybWF0KTooYS5nZW5lcmF0ZU1pcE1hcHM9dCxhLnR5cGU9MCxhLnNhbXBsaW5nTW9kZT0zLGEuZm9ybWF0PTUpLChhLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGEudHlwZT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYoYS5zYW1wbGluZ01vZGU9MSksYS50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoYS50eXBlPTAsei5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gVHlwZSBmb3JjZWQgdG8gVEVYVFVSRVRZUEVfVU5TSUdORURfQllURSIpKTt2YXIgcz10aGlzLl9nbCxvPW5ldyBxdCh0aGlzLG4pLHU9ZS53aWR0aHx8ZSxmPWUuaGVpZ2h0fHxlLGw9ZS5sYXllcnN8fDAsaD10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoYS5zYW1wbGluZ01vZGUsISFhLmdlbmVyYXRlTWlwTWFwcyksYz1sIT09MD9zLlRFWFRVUkVfMkRfQVJSQVk6cy5URVhUVVJFXzJELGQ9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoYS50eXBlLGEuZm9ybWF0KSxwPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGEuZm9ybWF0KSxfPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYS50eXBlKTtyZXR1cm4gdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShjLG8pLGwhPT0wPyhvLmlzMkRBcnJheT0hMCxzLnRleEltYWdlM0QoYywwLGQsdSxmLGwsMCxwLF8sbnVsbCkpOnMudGV4SW1hZ2UyRChjLDAsZCx1LGYsMCxwLF8sbnVsbCkscy50ZXhQYXJhbWV0ZXJpKGMscy5URVhUVVJFX01BR19GSUxURVIsaC5tYWcpLHMudGV4UGFyYW1ldGVyaShjLHMuVEVYVFVSRV9NSU5fRklMVEVSLGgubWluKSxzLnRleFBhcmFtZXRlcmkoYyxzLlRFWFRVUkVfV1JBUF9TLHMuQ0xBTVBfVE9fRURHRSkscy50ZXhQYXJhbWV0ZXJpKGMscy5URVhUVVJFX1dSQVBfVCxzLkNMQU1QX1RPX0VER0UpLGEuZ2VuZXJhdGVNaXBNYXBzJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChjKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGMsbnVsbCksby5iYXNlV2lkdGg9dSxvLmJhc2VIZWlnaHQ9ZixvLndpZHRoPXUsby5oZWlnaHQ9ZixvLmRlcHRoPWwsby5pc1JlYWR5PSEwLG8uc2FtcGxlcz0xLG8uZ2VuZXJhdGVNaXBNYXBzPSEhYS5nZW5lcmF0ZU1pcE1hcHMsby5zYW1wbGluZ01vZGU9YS5zYW1wbGluZ01vZGUsby50eXBlPWEudHlwZSxvLmZvcm1hdD1hLmZvcm1hdCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChvKSxvfSxpLnByb3RvdHlwZS5fZ2V0VXNlU1JHQkJ1ZmZlcj1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZ0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmKHRoaXMud2ViR0xWZXJzaW9uPjF8fHRoaXMuaXNXZWJHUFV8fHQpfSxpLnByb3RvdHlwZS5fY3JlYXRlVGV4dHVyZUJhc2U9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLF8sZyl7dmFyIG09dGhpczthPT09dm9pZCAwJiYoYT0zKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSxsPT09dm9pZCAwJiYobD1udWxsKSxoPT09dm9pZCAwJiYoaD1udWxsKSxjPT09dm9pZCAwJiYoYz1udWxsKSxkPT09dm9pZCAwJiYoZD1udWxsKSxlPWV8fCIiO3ZhciB2PWUuc3Vic3RyKDAsNSk9PT0iZGF0YToiLFM9ZS5zdWJzdHIoMCw1KT09PSJibG9iOiIsTT12JiZlLmluZGV4T2YoIjtiYXNlNjQsIikhPT0tMSxBPWh8fG5ldyBxdCh0aGlzLHllLlVybCksUj1lO3RoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwmJiFNJiYhaCYmIWwmJihlPXRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwoZSkpLFIhPT1lJiYoQS5fb3JpZ2luYWxVcmw9Uik7dmFyIHk9ZS5sYXN0SW5kZXhPZigiLiIpLEM9ZHx8KHk+LTE/ZS5zdWJzdHJpbmcoeSkudG9Mb3dlckNhc2UoKToiIiksdz1udWxsLEY9Qy5pbmRleE9mKCI/Iik7Rj4tMSYmKEM9Qy5zcGxpdCgiPyIpWzBdKTtmb3IodmFyIEQ9MCxYPWkuX1RleHR1cmVMb2FkZXJzO0Q8WC5sZW5ndGg7RCsrKXt2YXIgVz1YW0RdO2lmKFcuY2FuTG9hZChDLHApKXt3PVc7YnJlYWt9fW4mJm4uX2FkZFBlbmRpbmdEYXRhKEEpLEEudXJsPWUsQS5nZW5lcmF0ZU1pcE1hcHM9IXQsQS5zYW1wbGluZ01vZGU9YSxBLmludmVydFk9cixBLl91c2VTUkdCQnVmZmVyPXRoaXMuX2dldFVzZVNSR0JCdWZmZXIoISFnLHQpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fChBLl9idWZmZXI9bCk7dmFyIE49bnVsbDtzJiYhaCYmKE49QS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHMpKSxofHx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChBKTt2YXIgaj1mdW5jdGlvbihxLFope24mJm4uX3JlbW92ZVBlbmRpbmdEYXRhKEEpLGU9PT1SPyhOJiZBLm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUoTiksSi5Vc2VGYWxsYmFja1RleHR1cmUmJm0uX2NyZWF0ZVRleHR1cmVCYXNlKEouRmFsbGJhY2tUZXh0dXJlLHQsQS5pbnZlcnRZLG4sYSxudWxsLG8sdSxmLGwsQSkscT0ocXx8IlVua25vd24gZXJyb3IiKSsoSi5Vc2VGYWxsYmFja1RleHR1cmU/IiAtIEZhbGxiYWNrIHRleHR1cmUgd2FzIHVzZWQiOiIiKSxBLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7bWVzc2FnZTpxLGV4Y2VwdGlvbjpafSksbyYmbyhxLFopKTooei5XYXJuKCJGYWlsZWQgdG8gbG9hZCAiLmNvbmNhdChlLCIsIGZhbGxpbmcgYmFjayB0byAiKS5jb25jYXQoUikpLG0uX2NyZWF0ZVRleHR1cmVCYXNlKFIsdCxBLmludmVydFksbixhLHMsbyx1LGYsbCxBLGMsZCxwLF8sZykpfTtpZih3KXt2YXIgSz1mdW5jdGlvbihxKXt3LmxvYWREYXRhKHEsQSxmdW5jdGlvbihaLG1lLHhlLE5lLFllLE90KXtPdD9qKCJUZXh0dXJlTG9hZGVyIGZhaWxlZCB0byBsb2FkIGRhdGEiKTp1KEEsQyxuLHt3aWR0aDpaLGhlaWdodDptZX0sQS5pbnZlcnRZLCF4ZSxOZSxmdW5jdGlvbigpe3JldHVybiBZZSgpLCExfSxhKX0sXyl9O2w/bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP0sobmV3IFVpbnQ4QXJyYXkobCkpOkFycmF5QnVmZmVyLmlzVmlldyhsKT9LKGwpOm8mJm8oIlVuYWJsZSB0byBsb2FkOiBvbmx5IEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBpcyBzdXBwb3J0ZWQiLG51bGwpOnRoaXMuX2xvYWRGaWxlKGUsZnVuY3Rpb24ocSl7cmV0dXJuIEsobmV3IFVpbnQ4QXJyYXkocSkpfSx2b2lkIDAsbj9uLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAsITAsZnVuY3Rpb24ocSxaKXtqKCJVbmFibGUgdG8gbG9hZCAiKyhxJiZxLnJlc3BvbnNlVVJMLFopKX0pfWVsc2V7dmFyIGFlPWZ1bmN0aW9uKHEpe1MmJiFtLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0JiYoQS5fYnVmZmVyPXEpLHUoQSxDLG4scSxBLmludmVydFksdCwhMSxmLGEpfTshdnx8TT9sJiYodHlwZW9mIGwuZGVjb2Rpbmc9PSJzdHJpbmcifHxsLmNsb3NlKT9hZShsKTppLl9GaWxlVG9vbHNMb2FkSW1hZ2UoZSxhZSxqLG4/bi5vZmZsaW5lUHJvdmlkZXI6bnVsbCxwLEEuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTp0eXBlb2YgbD09InN0cmluZyJ8fGwgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KGwpfHxsIGluc3RhbmNlb2YgQmxvYj9pLl9GaWxlVG9vbHNMb2FkSW1hZ2UobCxhZSxqLG4/bi5vZmZsaW5lUHJvdmlkZXI6bnVsbCxwLEEuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTpsJiZhZShsKX1yZXR1cm4gQX0saS5wcm90b3R5cGUuY3JlYXRlVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsXyl7dmFyIGc9dGhpcztyZXR1cm4gYT09PXZvaWQgMCYmKGE9Mykscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksdT09PXZvaWQgMCYmKHU9bnVsbCksZj09PXZvaWQgMCYmKGY9bnVsbCksbD09PXZvaWQgMCYmKGw9bnVsbCksaD09PXZvaWQgMCYmKGg9bnVsbCksdGhpcy5fY3JlYXRlVGV4dHVyZUJhc2UoZSx0LHIsbixhLHMsbyx0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlLmJpbmQodGhpcyksZnVuY3Rpb24obSx2LFMsTSxBLFIpe3ZhciB5PWcuX2dsLEM9Uy53aWR0aD09PW0mJlMuaGVpZ2h0PT09dix3PWw/Zy5fZ2V0SW50ZXJuYWxGb3JtYXQobCxBLl91c2VTUkdCQnVmZmVyKTpNPT09Ii5qcGciJiYhQS5fdXNlU1JHQkJ1ZmZlcj95LlJHQjpBLl91c2VTUkdCQnVmZmVyP3kuU1JHQjhfQUxQSEE4OnkuUkdCQSxGPWw/Zy5fZ2V0SW50ZXJuYWxGb3JtYXQobCk6TT09PSIuanBnIiYmIUEuX3VzZVNSR0JCdWZmZXI/eS5SR0I6eS5SR0JBO2lmKEEuX3VzZVNSR0JCdWZmZXImJmcud2ViR0xWZXJzaW9uPT09MSYmKEY9dyksQylyZXR1cm4geS50ZXhJbWFnZTJEKHkuVEVYVFVSRV8yRCwwLHcsRix5LlVOU0lHTkVEX0JZVEUsUyksITE7dmFyIEQ9Zy5fY2Fwcy5tYXhUZXh0dXJlU2l6ZTtpZihTLndpZHRoPkR8fFMuaGVpZ2h0PkR8fCFnLl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZylyZXR1cm4gZy5fcHJlcGFyZVdvcmtpbmdDYW52YXMoKSwhZy5fd29ya2luZ0NhbnZhc3x8IWcuX3dvcmtpbmdDb250ZXh0fHwoZy5fd29ya2luZ0NhbnZhcy53aWR0aD1tLGcuX3dvcmtpbmdDYW52YXMuaGVpZ2h0PXYsZy5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKFMsMCwwLFMud2lkdGgsUy5oZWlnaHQsMCwwLG0sdikseS50ZXhJbWFnZTJEKHkuVEVYVFVSRV8yRCwwLHcsRix5LlVOU0lHTkVEX0JZVEUsZy5fd29ya2luZ0NhbnZhcyksQS53aWR0aD1tLEEuaGVpZ2h0PXYpLCExO3ZhciBYPW5ldyBxdChnLHllLlRlbXApO3JldHVybiBnLl9iaW5kVGV4dHVyZURpcmVjdGx5KHkuVEVYVFVSRV8yRCxYLCEwKSx5LnRleEltYWdlMkQoeS5URVhUVVJFXzJELDAsdyxGLHkuVU5TSUdORURfQllURSxTKSxnLl9yZXNjYWxlVGV4dHVyZShYLEEsbix3LGZ1bmN0aW9uKCl7Zy5fcmVsZWFzZVRleHR1cmUoWCksZy5fYmluZFRleHR1cmVEaXJlY3RseSh5LlRFWFRVUkVfMkQsQSwhMCksUigpfSksITB9LHUsZixsLGgsYyxkLF8pfSxpLl9GaWxlVG9vbHNMb2FkSW1hZ2U9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3Rocm93IFUoIkZpbGVUb29scyIpfSxpLnByb3RvdHlwZS5fcmVzY2FsZVRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt9LGkucHJvdG90eXBlLmNyZWF0ZVJhd1RleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYpe3Rocm93IFUoIkVuZ2luZS5SYXdUZXh0dXJlIil9LGkucHJvdG90eXBlLmNyZWF0ZVJhd0N1YmVUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7dGhyb3cgVSgiRW5naW5lLlJhd1RleHR1cmUiKX0saS5wcm90b3R5cGUuY3JlYXRlUmF3VGV4dHVyZTNEPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3Rocm93IFUoIkVuZ2luZS5SYXdUZXh0dXJlIil9LGkucHJvdG90eXBlLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3Rocm93IFUoIkVuZ2luZS5SYXdUZXh0dXJlIil9LGkucHJvdG90eXBlLl91bnBhY2tGbGlwWT1mdW5jdGlvbihlKXt0aGlzLl91bnBhY2tGbGlwWUNhY2hlZCE9PWUmJih0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGU/MTowKSx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkJiYodGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9ZSkpfSxpLnByb3RvdHlwZS5fZ2V0VW5wYWNrQWxpZ25lbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVU5QQUNLX0FMSUdOTUVOVCl9LGkucHJvdG90eXBlLl9nZXRUZXh0dXJlVGFyZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQ3ViZT90aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQOmUuaXMzRD90aGlzLl9nbC5URVhUVVJFXzNEOmUuaXMyREFycmF5fHxlLmlzTXVsdGl2aWV3P3RoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVk6dGhpcy5fZ2wuVEVYVFVSRV8yRH0saS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZT1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPXRoaXMuX2dldFRleHR1cmVUYXJnZXQodCksYT10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZSx0LmdlbmVyYXRlTWlwTWFwc3x8cik7dGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobix0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsYS5tYWcsdCksdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobix0aGlzLl9nbC5URVhUVVJFX01JTl9GSUxURVIsYS5taW4pLHImJih0LmdlbmVyYXRlTWlwTWFwcz0hMCx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChuKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLG51bGwpLHQuc2FtcGxpbmdNb2RlPWV9LGkucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVEaW1lbnNpb25zPWZ1bmN0aW9uKGUsdCxyLG4pe30saS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVdyYXBwaW5nTW9kZT1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgYT10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KGUpO3QhPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoYSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodCksZSksZS5fY2FjaGVkV3JhcFU9dCksciE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihhLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZShyKSxlKSxlLl9jYWNoZWRXcmFwVj1yKSwoZS5pczJEQXJyYXl8fGUuaXMzRCkmJm4hPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoYSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUix0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUobiksZSksZS5fY2FjaGVkV3JhcFI9biksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShhLG51bGwpfSxpLnByb3RvdHlwZS5fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0xKTt2YXIgbz10LndpZHRofHx0LHU9dC5oZWlnaHR8fHQsZj10LmxheWVyc3x8MDtlLmJhc2VXaWR0aD1vLGUuYmFzZUhlaWdodD11LGUud2lkdGg9byxlLmhlaWdodD11LGUuaXMyREFycmF5PWY+MCxlLmRlcHRoPWYsZS5pc1JlYWR5PSEwLGUuc2FtcGxlcz1zLGUuZ2VuZXJhdGVNaXBNYXBzPSExLGUuc2FtcGxpbmdNb2RlPW4/MjoxLGUudHlwZT0wLGUuX2NvbXBhcmlzb25GdW5jdGlvbj1hO3ZhciBsPXRoaXMuX2dsLGg9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKSxjPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLnNhbXBsaW5nTW9kZSwhMSk7bC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX01BR19GSUxURVIsYy5tYWcpLGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9NSU5fRklMVEVSLGMubWluKSxsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfV1JBUF9TLGwuQ0xBTVBfVE9fRURHRSksbC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX1dSQVBfVCxsLkNMQU1QX1RPX0VER0UpLGE9PT0wPyhsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfQ09NUEFSRV9GVU5DLDUxNSksbC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX0NPTVBBUkVfTU9ERSxsLk5PTkUpKToobC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX0NPTVBBUkVfRlVOQyxhKSxsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGwuQ09NUEFSRV9SRUZfVE9fVEVYVFVSRSkpfSxpLnByb3RvdHlwZS5fdXBsb2FkQ29tcHJlc3NlZERhdGFUb1RleHR1cmVEaXJlY3RseT1mdW5jdGlvbihlLHQscixuLGEscyxvKXtzPT09dm9pZCAwJiYocz0wKSxvPT09dm9pZCAwJiYobz0wKTt2YXIgdT10aGlzLl9nbCxmPXUuVEVYVFVSRV8yRDtpZihlLmlzQ3ViZSYmKGY9dS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grcyksZS5fdXNlU1JHQkJ1ZmZlcilzd2l0Y2godCl7Y2FzZSAzNjQ5Mjp0PXUuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUO2JyZWFrO2Nhc2UgMzc4MDg6dD11LkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUjticmVhaztjYXNlIDMzNzc2OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9dS5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzM3Nzk6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD11LkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7ZGVmYXVsdDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrfXRoaXMuX2dsLmNvbXByZXNzZWRUZXhJbWFnZTJEKGYsbyx0LHIsbiwwLGEpfSxpLnByb3RvdHlwZS5fdXBsb2FkRGF0YVRvVGV4dHVyZURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKSxzPT09dm9pZCAwJiYocz0hMSk7dmFyIG89dGhpcy5fZ2wsdT10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksZj10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbD1hPT09dm9pZCAwP3RoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxlLmZvcm1hdCxlLl91c2VTUkdCQnVmZmVyKTp0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChhLGUuX3VzZVNSR0JCdWZmZXIpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7dmFyIGg9by5URVhUVVJFXzJEO2UuaXNDdWJlJiYoaD1vLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtyKTt2YXIgYz1NYXRoLnJvdW5kKE1hdGgubG9nKGUud2lkdGgpKk1hdGguTE9HMkUpLGQ9TWF0aC5yb3VuZChNYXRoLmxvZyhlLmhlaWdodCkqTWF0aC5MT0cyRSkscD1zP2Uud2lkdGg6TWF0aC5wb3coMixNYXRoLm1heChjLW4sMCkpLF89cz9lLmhlaWdodDpNYXRoLnBvdygyLE1hdGgubWF4KGQtbiwwKSk7by50ZXhJbWFnZTJEKGgsbixsLHAsXywwLGYsdSx0KX0saS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZURhdGE9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtvPT09dm9pZCAwJiYobz0wKSx1PT09dm9pZCAwJiYodT0wKTt2YXIgZj10aGlzLl9nbCxsPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxoPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KTt0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO3ZhciBjPWYuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGM9Zi5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbyksZi50ZXhTdWJJbWFnZTJEKGMsdSxyLG4sYSxzLGgsbCx0KX0saS5wcm90b3R5cGUuX3VwbG9hZEFycmF5QnVmZmVyVmlld1RvVGV4dHVyZT1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKTt2YXIgYT10aGlzLl9nbCxzPWUuaXNDdWJlP2EuVEVYVFVSRV9DVUJFX01BUDphLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLGUsITApLHRoaXMuX3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQscixuKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsbnVsbCwhMCl9LGkucHJvdG90eXBlLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9dGhpcy5fZ2w7aWYoISFzKXt2YXIgbz10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoYSwhcik7cy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfTUFHX0ZJTFRFUixvLm1hZykscy50ZXhQYXJhbWV0ZXJpKHMuVEVYVFVSRV8yRCxzLlRFWFRVUkVfTUlOX0ZJTFRFUixvLm1pbiksIXImJiFuJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfMkQsbnVsbCksdCYmdC5fcmVtb3ZlUGVuZGluZ0RhdGEoZSksZS5vbkxvYWRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLGUub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCl9fSxpLnByb3RvdHlwZS5fcHJlcGFyZVdlYkdMVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7dmFyIGw9dGhpcztmPT09dm9pZCAwJiYoZj0zKTt2YXIgaD10aGlzLmdldENhcHMoKS5tYXhUZXh0dXJlU2l6ZSxjPU1hdGgubWluKGgsdGhpcy5uZWVkUE9UVGV4dHVyZXM/aS5HZXRFeHBvbmVudE9mVHdvKG4ud2lkdGgsaCk6bi53aWR0aCksZD1NYXRoLm1pbihoLHRoaXMubmVlZFBPVFRleHR1cmVzP2kuR2V0RXhwb25lbnRPZlR3byhuLmhlaWdodCxoKTpuLmhlaWdodCkscD10aGlzLl9nbDtpZighIXApe2lmKCFlLl9oYXJkd2FyZVRleHR1cmUpe3ImJnIuX3JlbW92ZVBlbmRpbmdEYXRhKGUpO3JldHVybn10aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHAuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShhPT09dm9pZCAwPyEwOiEhYSksZS5iYXNlV2lkdGg9bi53aWR0aCxlLmJhc2VIZWlnaHQ9bi5oZWlnaHQsZS53aWR0aD1jLGUuaGVpZ2h0PWQsZS5pc1JlYWR5PSEwLCF1KGMsZCxuLHQsZSxmdW5jdGlvbigpe2wuX3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSxyLHMsbyxmKX0pJiZ0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUscixzLG8sZil9fSxpLnByb3RvdHlwZS5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHM9ZnVuY3Rpb24oZSx0LHIsbixhKXthPT09dm9pZCAwJiYoYT0xKTt2YXIgcz10aGlzLl9nbDtpZihlJiZ0KXJldHVybiB0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIocixuLGEscy5ERVBUSF9TVEVOQ0lMLHMuREVQVEgyNF9TVEVOQ0lMOCxzLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCk7aWYodCl7dmFyIG89cy5ERVBUSF9DT01QT05FTlQxNjtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjEmJihvPXMuREVQVEhfQ09NUE9ORU5UMzJGKSx0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIocixuLGEsbyxvLHMuREVQVEhfQVRUQUNITUVOVCl9cmV0dXJuIGU/dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKHIsbixhLHMuU1RFTkNJTF9JTkRFWDgscy5TVEVOQ0lMX0lOREVYOCxzLlNURU5DSUxfQVRUQUNITUVOVCk6bnVsbH0saS5wcm90b3R5cGUuX2NyZWF0ZVJlbmRlckJ1ZmZlcj1mdW5jdGlvbihlLHQscixuLGEscyxvKXtvPT09dm9pZCAwJiYobz0hMCk7dmFyIHU9dGhpcy5fZ2wsZj11LmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB1LmJpbmRSZW5kZXJidWZmZXIodS5SRU5ERVJCVUZGRVIsZikscj4xJiZ1LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZT91LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSh1LlJFTkRFUkJVRkZFUixyLGEsZSx0KTp1LnJlbmRlcmJ1ZmZlclN0b3JhZ2UodS5SRU5ERVJCVUZGRVIsbixlLHQpLHUuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodS5GUkFNRUJVRkZFUixzLHUuUkVOREVSQlVGRkVSLGYpLG8mJnUuYmluZFJlbmRlcmJ1ZmZlcih1LlJFTkRFUkJVRkZFUixudWxsKSxmfSxpLnByb3RvdHlwZS5fcmVsZWFzZVRleHR1cmU9ZnVuY3Rpb24oZSl7dmFyIHQ7dGhpcy5fZGVsZXRlVGV4dHVyZSgodD1lLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC51bmRlcmx5aW5nUmVzb3VyY2UpLHRoaXMudW5iaW5kQWxsVGV4dHVyZXMoKTt2YXIgcj10aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuaW5kZXhPZihlKTtyIT09LTEmJnRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5zcGxpY2UociwxKSxlLl9sb2RUZXh0dXJlSGlnaCYmZS5fbG9kVGV4dHVyZUhpZ2guZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVNaWQmJmUuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVMb3cmJmUuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLGUuX2lycmFkaWFuY2VUZXh0dXJlJiZlLl9pcnJhZGlhbmNlVGV4dHVyZS5kaXNwb3NlKCl9LGkucHJvdG90eXBlLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zcGxpY2UodCwxKX0saS5wcm90b3R5cGUuX2RlbGV0ZVRleHR1cmU9ZnVuY3Rpb24oZSl7ZSYmdGhpcy5fZ2wuZGVsZXRlVGV4dHVyZShlKX0saS5wcm90b3R5cGUuX3NldFByb2dyYW09ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFByb2dyYW0hPT1lJiYodGhpcy5fZ2wudXNlUHJvZ3JhbShlKSx0aGlzLl9jdXJyZW50UHJvZ3JhbT1lKX0saS5wcm90b3R5cGUuYmluZFNhbXBsZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UGlwZWxpbmVDb250ZXh0KCk7dGhpcy5fc2V0UHJvZ3JhbSh0LnByb2dyYW0pO2Zvcih2YXIgcj1lLmdldFNhbXBsZXJzKCksbj0wO248ci5sZW5ndGg7bisrKXt2YXIgYT1lLmdldFVuaWZvcm0ocltuXSk7YSYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbbl09YSl9dGhpcy5fY3VycmVudEVmZmVjdD1udWxsfSxpLnByb3RvdHlwZS5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZT1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbCE9PXRoaXMuX2FjdGl2ZUNoYW5uZWwmJih0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUwK3RoaXMuX2FjdGl2ZUNoYW5uZWwpLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX0saS5wcm90b3R5cGUuX2JpbmRUZXh0dXJlRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGEscztyPT09dm9pZCAwJiYocj0hMSksbj09PXZvaWQgMCYmKG49ITEpO3ZhciBvPSExLHU9dCYmdC5fYXNzb2NpYXRlZENoYW5uZWw+LTE7ciYmdSYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9dC5fYXNzb2NpYXRlZENoYW5uZWwpO3ZhciBmPXRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXTtpZihmIT09dHx8bil7aWYodGhpcy5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpLHQmJnQuaXNNdWx0aXZpZXcpdGhyb3cgY29uc29sZS5lcnJvcihlLHQpLCJfYmluZFRleHR1cmVEaXJlY3RseSBjYWxsZWQgd2l0aCBhIG11bHRpdmlldyB0ZXh0dXJlISI7dGhpcy5fZ2wuYmluZFRleHR1cmUoZSwocz0oYT10PT1udWxsP3ZvaWQgMDp0Ll9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS51bmRlcmx5aW5nUmVzb3VyY2UpIT09bnVsbCYmcyE9PXZvaWQgMD9zOm51bGwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXT10LHQmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1lbHNlIHImJihvPSEwLHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSk7cmV0dXJuIHUmJiFyJiZ0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwodC5fYXNzb2NpYXRlZENoYW5uZWwsdGhpcy5fYWN0aXZlQ2hhbm5lbCksb30saS5wcm90b3R5cGUuX2JpbmRUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyKXtpZihlIT09dm9pZCAwKXt0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9ZSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO3ZhciBuPXQ/dGhpcy5fZ2V0VGV4dHVyZVRhcmdldCh0KTp0aGlzLl9nbC5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobix0KX19LGkucHJvdG90eXBlLnVuYmluZEFsbFRleHR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztlKyspdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4pe2UhPT12b2lkIDAmJih0JiYodGhpcy5fYm91bmRVbmlmb3Jtc1tlXT10KSx0aGlzLl9zZXRUZXh0dXJlKGUscikpfSxpLnByb3RvdHlwZS5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fYm91bmRVbmlmb3Jtc1tlXTshcnx8ci5fY3VycmVudFN0YXRlPT09dHx8KHRoaXMuX2dsLnVuaWZvcm0xaShyLHQpLHIuX2N1cnJlbnRTdGF0ZT10KX0saS5wcm90b3R5cGUuX2dldFRleHR1cmVXcmFwTW9kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5SRVBFQVQ7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5DTEFNUF9UT19FREdFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTUlSUk9SRURfUkVQRUFUfXJldHVybiB0aGlzLl9nbC5SRVBFQVR9LGkucHJvdG90eXBlLl9zZXRUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYocj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSExKSwhdClyZXR1cm4gdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdIT1udWxsJiYodGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpKSwhMTtpZih0LnZpZGVvKXRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0LnVwZGF0ZSgpO2Vsc2UgaWYodC5kZWxheUxvYWRTdGF0ZT09PTQpcmV0dXJuIHQuZGVsYXlMb2FkKCksITE7dmFyIHM7bj9zPXQuZGVwdGhTdGVuY2lsVGV4dHVyZTp0LmlzUmVhZHkoKT9zPXQuZ2V0SW50ZXJuYWxUZXh0dXJlKCk6dC5pc0N1YmU/cz10aGlzLmVtcHR5Q3ViZVRleHR1cmU6dC5pczNEP3M9dGhpcy5lbXB0eVRleHR1cmUzRDp0LmlzMkRBcnJheT9zPXRoaXMuZW1wdHlUZXh0dXJlMkRBcnJheTpzPXRoaXMuZW1wdHlUZXh0dXJlLCFyJiZzJiYocy5fYXNzb2NpYXRlZENoYW5uZWw9ZSk7dmFyIG89ITA7dGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdPT09cyYmKHJ8fHRoaXMuX2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbChzLl9hc3NvY2lhdGVkQ2hhbm5lbCxlKSxvPSExKSx0aGlzLl9hY3RpdmVDaGFubmVsPWU7dmFyIHU9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChzKTtpZihvJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHUscyxyKSxzJiYhcy5pc011bHRpdmlldyl7aWYocy5pc0N1YmUmJnMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXQuY29vcmRpbmF0ZXNNb2RlKXtzLl9jYWNoZWRDb29yZGluYXRlc01vZGU9dC5jb29yZGluYXRlc01vZGU7dmFyIGY9dC5jb29yZGluYXRlc01vZGUhPT0zJiZ0LmNvb3JkaW5hdGVzTW9kZSE9PTU/MTowO3Qud3JhcFU9Zix0LndyYXBWPWZ9cy5fY2FjaGVkV3JhcFUhPT10LndyYXBVJiYocy5fY2FjaGVkV3JhcFU9dC53cmFwVSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcih1LHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBVKSxzKSkscy5fY2FjaGVkV3JhcFYhPT10LndyYXBWJiYocy5fY2FjaGVkV3JhcFY9dC53cmFwVix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcih1LHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBWKSxzKSkscy5pczNEJiZzLl9jYWNoZWRXcmFwUiE9PXQud3JhcFImJihzLl9jYWNoZWRXcmFwUj10LndyYXBSLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHUsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFIpLHMpKSx0aGlzLl9zZXRBbmlzb3Ryb3BpY0xldmVsKHUscyx0LmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwpfXJldHVybiEwfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlQXJyYXk9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlPT09dm9pZCAwfHwhdCkpeyghdGhpcy5fdGV4dHVyZVVuaXRzfHx0aGlzLl90ZXh0dXJlVW5pdHMubGVuZ3RoIT09ci5sZW5ndGgpJiYodGhpcy5fdGV4dHVyZVVuaXRzPW5ldyBJbnQzMkFycmF5KHIubGVuZ3RoKSk7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBzPXJbYV0uZ2V0SW50ZXJuYWxUZXh0dXJlKCk7cz8odGhpcy5fdGV4dHVyZVVuaXRzW2FdPWUrYSxzLl9hc3NvY2lhdGVkQ2hhbm5lbD1lK2EpOnRoaXMuX3RleHR1cmVVbml0c1thXT0tMX10aGlzLl9nbC51bmlmb3JtMWl2KHQsdGhpcy5fdGV4dHVyZVVuaXRzKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl0aGlzLl9zZXRUZXh0dXJlKHRoaXMuX3RleHR1cmVVbml0c1tvXSxyW29dLCEwKX19LGkucHJvdG90eXBlLl9zZXRBbmlzb3Ryb3BpY0xldmVsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbjt0LnNhbXBsaW5nTW9kZSE9PTExJiZ0LnNhbXBsaW5nTW9kZSE9PTMmJnQuc2FtcGxpbmdNb2RlIT09MiYmKHI9MSksbiYmdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCE9PXImJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVyRmxvYXQoZSxuLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULE1hdGgubWluKHIsdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5KSx0KSx0Ll9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPXIpfSxpLnByb3RvdHlwZS5fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0PWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxuLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJmKGUsdCxyKX0saS5wcm90b3R5cGUuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyPWZ1bmN0aW9uKGUsdCxyLG4pe24mJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxuLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKGUsdCxyKX0saS5wcm90b3R5cGUudW5iaW5kQWxsQXR0cmlidXRlcz1mdW5jdGlvbigpe2lmKHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcyl7dGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExO2Zvcih2YXIgZT0wO2U8dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzO2UrKyl0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpO3JldHVybn1mb3IodmFyIGU9MCx0PXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQubGVuZ3RoO2U8dDtlKyspZT49dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzfHwhdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtlXXx8dGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKX0saS5wcm90b3R5cGUucmVsZWFzZUVmZmVjdHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXt2YXIgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV0uZ2V0UGlwZWxpbmVDb250ZXh0KCk7dGhpcy5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KHQpfXRoaXMuX2NvbXBpbGVkRWZmZWN0cz17fX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlO3RoaXMuc3RvcFJlbmRlckxvb3AoKSx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlJiZ0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW1wdHlUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlUZXh0dXJlKSx0aGlzLl9lbXB0eVRleHR1cmU9bnVsbCksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmU9bnVsbCksdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciYmdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciksdGhpcy5yZWxlYXNlRWZmZWN0cygpLChlPXRoaXMucmVsZWFzZUNvbXB1dGVFZmZlY3RzKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSx0aGlzLl9ib3VuZFVuaWZvcm1zPVtdLGRlKCkmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKSksdGhpcy5fd29ya2luZ0NhbnZhcz1udWxsLHRoaXMuX3dvcmtpbmdDb250ZXh0PW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPVtdLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1udWxsLHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj1udWxsLGtlLlJlc2V0Q2FjaGUoKTtmb3IodmFyIHQ9MCxyPXRoaXMuX2FjdGl2ZVJlcXVlc3RzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uYWJvcnQoKX10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpfSxpLnByb3RvdHlwZS5hdHRhY2hDb250ZXh0TG9zdEV2ZW50PWZ1bmN0aW9uKGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLGUsITEpfSxpLnByb3RvdHlwZS5hdHRhY2hDb250ZXh0UmVzdG9yZWRFdmVudD1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsZSwhMSl9LGkucHJvdG90eXBlLmdldEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsLmdldEVycm9yKCl9LGkucHJvdG90eXBlLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMSl9LGkucHJvdG90eXBlLl9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDIpfSxpLnByb3RvdHlwZS5fY2FuUmVuZGVyVG9GcmFtZWJ1ZmZlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fZ2w7dC5nZXRFcnJvcigpIT09dC5OT19FUlJPUjspO3ZhciByPSEwLG49dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsbiksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUpLDEsMSwwLHQuUkdCQSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUpLG51bGwpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsdC5ORUFSRVNUKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLHQuTkVBUkVTVCk7dmFyIGE9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsYSksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELG4sMCk7dmFyIHM9dC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHQuRlJBTUVCVUZGRVIpO2lmKHI9ciYmcz09PXQuRlJBTUVCVUZGRVJfQ09NUExFVEUscj1yJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SLHImJih0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCkscj1yJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SKSxyKXt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpO3ZhciBvPXQuUkdCQSx1PXQuVU5TSUdORURfQllURSxmPW5ldyBVaW50OEFycmF5KDQpO3QucmVhZFBpeGVscygwLDAsMSwxLG8sdSxmKSxyPXImJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1J9Zm9yKHQuZGVsZXRlVGV4dHVyZShuKSx0LmRlbGV0ZUZyYW1lYnVmZmVyKGEpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7IXImJnQuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTtyZXR1cm4gcn0saS5wcm90b3R5cGUuX2dldFdlYkdMVGV4dHVyZVR5cGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUztjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNX1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1zd2l0Y2goZSl7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5CWVRFO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlNIT1JUO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQ7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5JTlQ7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlQ7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5GTE9BVDtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkhBTEZfRkxPQVQ7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY7Y2FzZSAxMjpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY7Y2FzZSAxNTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWfXJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFfSxpLnByb3RvdHlwZS5fZ2V0SW50ZXJuYWxGb3JtYXQ9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTtzd2l0Y2goZSl7Y2FzZSAwOnI9dGhpcy5fZ2wuQUxQSEE7YnJlYWs7Y2FzZSAxOnI9dGhpcy5fZ2wuTFVNSU5BTkNFO2JyZWFrO2Nhc2UgMjpyPXRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTticmVhaztjYXNlIDY6cj10aGlzLl9nbC5SRUQ7YnJlYWs7Y2FzZSA3OnI9dGhpcy5fZ2wuUkc7YnJlYWs7Y2FzZSA0OnI9dD90aGlzLl9nbC5TUkdCOnRoaXMuX2dsLlJHQjticmVhaztjYXNlIDU6cj10P3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBO2JyZWFrfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXN3aXRjaChlKXtjYXNlIDg6cj10aGlzLl9nbC5SRURfSU5URUdFUjticmVhaztjYXNlIDk6cj10aGlzLl9nbC5SR19JTlRFR0VSO2JyZWFrO2Nhc2UgMTA6cj10aGlzLl9nbC5SR0JfSU5URUdFUjticmVhaztjYXNlIDExOnI9dGhpcy5fZ2wuUkdCQV9JTlRFR0VSO2JyZWFrfXJldHVybiByfSxpLnByb3RvdHlwZS5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl93ZWJHTFZlcnNpb249PT0xKXtpZih0IT09dm9pZCAwKXN3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkFMUEhBO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2Nhc2UgNDpyZXR1cm4gcj90aGlzLl9nbC5TUkdCOnRoaXMuX2dsLlJHQn1yZXR1cm4gdGhpcy5fZ2wuUkdCQX1zd2l0Y2goZSl7Y2FzZSAzOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4X1NOT1JNO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4X1NOT1JNO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOF9TTk9STTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlI4STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOEk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOEk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQThJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkE4X1NOT1JNfWNhc2UgMDpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SODtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHODtjYXNlIDQ6cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjg6dGhpcy5fZ2wuUkdCODtjYXNlIDU6cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE4O2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOFVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjhVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOFVJO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTh9Y2FzZSA0OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzE2STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2STtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZJfWNhc2UgNTpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMTZVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJfWNhc2UgNjpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkczMkk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySX1jYXNlIDc6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjMyVUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMyVUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSX1jYXNlIDE6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjMyRjtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHMzJGO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJGO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGfWNhc2UgMjpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMTZGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkcxNkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IxNkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkZ9Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCNTY1O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlIxMUZfRzExRl9CMTBGO2Nhc2UgMTQ6cmV0dXJuIHRoaXMuX2dsLlJHQjlfRTU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SR0JBNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHQjVfQTE7Y2FzZSAxMTpzd2l0Y2godCl7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMjtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyfX1yZXR1cm4gcj90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTh9LGkucHJvdG90eXBlLl9nZXRSR0JBTXVsdGlTYW1wbGVCdWZmZXJGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0xP3RoaXMuX2dsLlJHQkEzMkY6ZT09PTI/dGhpcy5fZ2wuUkdCQTE2Rjp0aGlzLl9nbC5SR0JBOH0saS5wcm90b3R5cGUuX2xvYWRGaWxlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz10aGlzLHU9aS5fRmlsZVRvb2xzTG9hZEZpbGUoZSx0LHIsbixhLHMpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKHUpLHUub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe28uX2FjdGl2ZVJlcXVlc3RzLnNwbGljZShvLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGYpLDEpfSksdX0saS5fRmlsZVRvb2xzTG9hZEZpbGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3Rocm93IFUoIkZpbGVUb29scyIpfSxpLnByb3RvdHlwZS5yZWFkUGl4ZWxzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITApO3ZhciBvPWE/NDozLHU9YT90aGlzLl9nbC5SR0JBOnRoaXMuX2dsLlJHQixmPW5ldyBVaW50OEFycmF5KG4qcipvKTtyZXR1cm4gcyYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZ2wucmVhZFBpeGVscyhlLHQscixuLHUsdGhpcy5fZ2wuVU5TSUdORURfQllURSxmKSxQcm9taXNlLnJlc29sdmUoZil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJc1N1cHBvcnRlZEFzeW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzU3VwcG9ydGVkKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJc1N1cHBvcnRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzU3VwcG9ydGVkKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT1udWxsKXJldHVybiF0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O2lmKHRoaXMuX0lzU3VwcG9ydGVkPT09bnVsbCl0cnl7dmFyIGU9dGhpcy5fY3JlYXRlQ2FudmFzKDEsMSksdD1lLmdldENvbnRleHQoIndlYmdsIil8fGUuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIik7dGhpcy5fSXNTdXBwb3J0ZWQ9dCE9bnVsbCYmISF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWNhdGNoe3RoaXMuX0lzU3VwcG9ydGVkPSExfXJldHVybiB0aGlzLl9Jc1N1cHBvcnRlZH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkhhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PT09bnVsbCl0cnl7dmFyIGU9dGhpcy5fY3JlYXRlQ2FudmFzKDEsMSksdD1lLmdldENvbnRleHQoIndlYmdsIix7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH0pfHxlLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KTt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSF0fWNhdGNoe3RoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ITF9cmV0dXJuIHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5DZWlsaW5nUE9UPWZ1bmN0aW9uKGUpe3JldHVybiBlLS0sZXw9ZT4+MSxlfD1lPj4yLGV8PWU+PjQsZXw9ZT4+OCxlfD1lPj4xNixlKyssZX0saS5GbG9vclBPVD1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfGU+PjEsZT1lfGU+PjIsZT1lfGU+PjQsZT1lfGU+PjgsZT1lfGU+PjE2LGUtKGU+PjEpfSxpLk5lYXJlc3RQT1Q9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5DZWlsaW5nUE9UKGUpLHI9aS5GbG9vclBPVChlKTtyZXR1cm4gdC1lPmUtcj9yOnR9LGkuR2V0RXhwb25lbnRPZlR3bz1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9Mik7dmFyIG47c3dpdGNoKHIpe2Nhc2UgMTpuPWkuRmxvb3JQT1QoZSk7YnJlYWs7Y2FzZSAyOm49aS5OZWFyZXN0UE9UKGUpO2JyZWFrO2Nhc2UgMzpkZWZhdWx0Om49aS5DZWlsaW5nUE9UKGUpO2JyZWFrfXJldHVybiBNYXRoLm1pbihuLHQpfSxpLlF1ZXVlTmV3RnJhbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZGUoKT8odHx8KHQ9d2luZG93KSx0LnJlcXVlc3RQb3N0QW5pbWF0aW9uRnJhbWU/dC5yZXF1ZXN0UG9zdEFuaW1hdGlvbkZyYW1lKGUpOnQucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZT90LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZT90Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOndpbmRvdy5zZXRUaW1lb3V0KGUsMTYpKTp0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIT0idW5kZWZpbmVkIj9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6c2V0VGltZW91dChlLDE2KX0saS5wcm90b3R5cGUuZ2V0SG9zdERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ6ZG9jdW1lbnR9LGkuRXhjZXB0aW9uTGlzdD1be2tleToiQ2hyb21lLzYzLjAiLGNhcHR1cmU6IjYzXFwuMFxcLjMyMzlcXC4oXFxkKykiLGNhcHR1cmVDb25zdHJhaW50OjEwOCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJGaXJlZm94LzU4IixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJGaXJlZm94LzU5IixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJDaHJvbWUvNzIuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzczLis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6IkNocm9tZS83NC4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZS83MSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZS83MiIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfV0saS5fVGV4dHVyZUxvYWRlcnM9W10saS5Db2xsaXNpb25zRXBzaWxvbj0uMDAxLGkuX0lzU3VwcG9ydGVkPW51bGwsaS5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1udWxsLGl9KCksTHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTm93Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGtyLklzV2luZG93T2JqZWN0RXhpc3QoKSYmd2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGl9KCksem49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2U9PT12b2lkIDAmJihlPTMwKSx0aGlzLl9lbmFibGVkPSEwLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWU9bmV3IEduKGUpfXJldHVybiBpLnByb3RvdHlwZS5zYW1wbGVGcmFtZT1mdW5jdGlvbihlKXtpZihlPT09dm9pZCAwJiYoZT1MdC5Ob3cpLCEhdGhpcy5fZW5hYmxlZCl7aWYodGhpcy5fbGFzdEZyYW1lVGltZU1zIT1udWxsKXt2YXIgdD1lLXRoaXMuX2xhc3RGcmFtZVRpbWVNczt0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmFkZCh0KX10aGlzLl9sYXN0RnJhbWVUaW1lTXM9ZX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZUZyYW1lVGltZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmF2ZXJhZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhdmVyYWdlRnJhbWVUaW1lVmFyaWFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS52YXJpYW5jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImluc3RhbnRhbmVvdXNGcmFtZVRpbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5oaXN0b3J5KDApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZUZQUyIse2dldDpmdW5jdGlvbigpe3JldHVybiAxZTMvdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaW5zdGFudGFuZW91c0ZQUyIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKTtyZXR1cm4gZT09PTA/MDoxZTMvZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzU2F0dXJhdGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaXNTYXR1cmF0ZWQoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkPSEwfSxpLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUucmVzZXQoKX0saX0oKSxHbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fc2FtcGxlcz1uZXcgQXJyYXkoZSksdGhpcy5yZXNldCgpfXJldHVybiBpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYodGhpcy5pc1NhdHVyYXRlZCgpKXt2YXIgcj10aGlzLl9zYW1wbGVzW3RoaXMuX3Bvc107dD1yLXRoaXMuYXZlcmFnZSx0aGlzLmF2ZXJhZ2UtPXQvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX20yLT10KihyLXRoaXMuYXZlcmFnZSl9ZWxzZSB0aGlzLl9zYW1wbGVDb3VudCsrO3Q9ZS10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlKz10L3RoaXMuX3NhbXBsZUNvdW50LHRoaXMuX20yKz10KihlLXRoaXMuYXZlcmFnZSksdGhpcy52YXJpYW5jZT10aGlzLl9tMi8odGhpcy5fc2FtcGxlQ291bnQtMSksdGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdPWUsdGhpcy5fcG9zKyssdGhpcy5fcG9zJT10aGlzLl9zYW1wbGVzLmxlbmd0aH0saS5wcm90b3R5cGUuaGlzdG9yeT1mdW5jdGlvbihlKXtpZihlPj10aGlzLl9zYW1wbGVDb3VudHx8ZT49dGhpcy5fc2FtcGxlcy5sZW5ndGgpcmV0dXJuIDA7dmFyIHQ9dGhpcy5fd3JhcFBvc2l0aW9uKHRoaXMuX3Bvcy0xKTtyZXR1cm4gdGhpcy5fc2FtcGxlc1t0aGlzLl93cmFwUG9zaXRpb24odC1lKV19LGkucHJvdG90eXBlLmlzU2F0dXJhdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NhbXBsZUNvdW50Pj10aGlzLl9zYW1wbGVzLmxlbmd0aH0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmF2ZXJhZ2U9MCx0aGlzLnZhcmlhbmNlPTAsdGhpcy5fc2FtcGxlQ291bnQ9MCx0aGlzLl9wb3M9MCx0aGlzLl9tMj0wfSxpLnByb3RvdHlwZS5fd3JhcFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NhbXBsZXMubGVuZ3RoO3JldHVybihlJXQrdCkldH0saX0oKSwkdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lPTAsdGhpcy5fbWluPTAsdGhpcy5fbWF4PTAsdGhpcy5fYXZlcmFnZT0wLHRoaXMuX2xhc3RTZWNBdmVyYWdlPTAsdGhpcy5fY3VycmVudD0wLHRoaXMuX3RvdGFsVmFsdWVDb3VudD0wLHRoaXMuX3RvdGFsQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVGltZT0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50PTB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWluIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1heCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhdmVyYWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F2ZXJhZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJsYXN0U2VjQXZlcmFnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXN0U2VjQXZlcmFnZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1cnJlbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRvdGFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsQWNjdW11bGF0ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFZhbHVlQ291bnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZmV0Y2hOZXdGcmFtZT1mdW5jdGlvbigpe3RoaXMuX3RvdGFsVmFsdWVDb3VudCsrLHRoaXMuX2N1cnJlbnQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudCsrfSxpLnByb3RvdHlwZS5hZGRDb3VudD1mdW5jdGlvbihlLHQpeyFpLkVuYWJsZWR8fCh0aGlzLl9jdXJyZW50Kz1lLHQmJnRoaXMuX2ZldGNoUmVzdWx0KCkpfSxpLnByb3RvdHlwZS5iZWdpbk1vbml0b3Jpbmc9ZnVuY3Rpb24oKXshaS5FbmFibGVkfHwodGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT1MdC5Ob3cpfSxpLnByb3RvdHlwZS5lbmRNb25pdG9yaW5nPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPSEwKSwhIWkuRW5hYmxlZCl7ZSYmdGhpcy5mZXRjaE5ld0ZyYW1lKCk7dmFyIHQ9THQuTm93O3RoaXMuX2N1cnJlbnQ9dC10aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lLGUmJnRoaXMuX2ZldGNoUmVzdWx0KCl9fSxpLnByb3RvdHlwZS5fZmV0Y2hSZXN1bHQ9ZnVuY3Rpb24oKXt0aGlzLl90b3RhbEFjY3VtdWxhdGVkKz10aGlzLl9jdXJyZW50LHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZCs9dGhpcy5fY3VycmVudCx0aGlzLl9taW49TWF0aC5taW4odGhpcy5fbWluLHRoaXMuX2N1cnJlbnQpLHRoaXMuX21heD1NYXRoLm1heCh0aGlzLl9tYXgsdGhpcy5fY3VycmVudCksdGhpcy5fYXZlcmFnZT10aGlzLl90b3RhbEFjY3VtdWxhdGVkL3RoaXMuX3RvdGFsVmFsdWVDb3VudDt2YXIgZT1MdC5Ob3c7ZS10aGlzLl9sYXN0U2VjVGltZT4xZTMmJih0aGlzLl9sYXN0U2VjQXZlcmFnZT10aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQvdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQsdGhpcy5fbGFzdFNlY1RpbWU9ZSx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wKX0saS5FbmFibGVkPSEwLGl9KCk7cmUucHJvdG90eXBlLnNldEFscGhhQ29uc3RhbnRzPWZ1bmN0aW9uKGksZSx0LHIpe3RoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZENvbnN0YW50cyhpLGUsdCxyKX0scmUucHJvdG90eXBlLnNldEFscGhhTW9kZT1mdW5jdGlvbihpLGUpe2lmKGU9PT12b2lkIDAmJihlPSExKSx0aGlzLl9hbHBoYU1vZGUhPT1pKXtzd2l0Y2goaSl7Y2FzZSAwOnRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMTticmVhaztjYXNlIDc6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDg6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuRFNUX0NPTE9SLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgOTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0NPTE9SLHRoaXMuX2dsLkNPTlNUQU5UX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19DT05TVEFOVF9BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTA6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuRFNUX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX0RTVF9BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FX01JTlVTX0RTVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVha31lfHwodGhpcy5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9aT09PTApLHRoaXMuX2FscGhhTW9kZT1pfX0scmUucHJvdG90eXBlLmdldEFscGhhTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYU1vZGV9LHJlLnByb3RvdHlwZS5zZXRBbHBoYUVxdWF0aW9uPWZ1bmN0aW9uKGkpe2lmKHRoaXMuX2FscGhhRXF1YXRpb24hPT1pKXtzd2l0Y2goaSl7Y2FzZSAwOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzQsMzI3NzQpO2JyZWFrO2Nhc2UgMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc4LDMyNzc4KTticmVhaztjYXNlIDI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3OSwzMjc3OSk7YnJlYWs7Y2FzZSAzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzYsMzI3NzYpO2JyZWFrO2Nhc2UgNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc1LDMyNzc1KTticmVhaztjYXNlIDU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NSwzMjc3NCk7YnJlYWt9dGhpcy5fYWxwaGFFcXVhdGlvbj1pfX0scmUucHJvdG90eXBlLmdldEFscGhhRXF1YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFFcXVhdGlvbn07ZnVuY3Rpb24gWG4oaSxlLHQscil7c3dpdGNoKHQ9PT12b2lkIDAmJih0PSExKSxpKXtjYXNlIDM6e3ZhciBuPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50OEFycmF5KGUpOm5ldyBJbnQ4QXJyYXkoZSk7cmV0dXJuIHImJm4uc2V0KG5ldyBJbnQ4QXJyYXkocikpLG59Y2FzZSAwOnt2YXIgYT1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIHImJmEuc2V0KG5ldyBVaW50OEFycmF5KHIpKSxhfWNhc2UgNDp7dmFyIHM9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQxNkFycmF5KGUpOm5ldyBJbnQxNkFycmF5KHQ/ZS8yOmUpO3JldHVybiByJiZzLnNldChuZXcgSW50MTZBcnJheShyKSksc31jYXNlIDU6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMjp7dmFyIG89ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MTZBcnJheShlKTpuZXcgVWludDE2QXJyYXkodD9lLzI6ZSk7cmV0dXJuIHImJm8uc2V0KG5ldyBVaW50MTZBcnJheShyKSksb31jYXNlIDY6e3ZhciB1PWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50MzJBcnJheShlKTpuZXcgSW50MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gciYmdS5zZXQobmV3IEludDMyQXJyYXkocikpLHV9Y2FzZSA3OmNhc2UgMTE6Y2FzZSAxMjpjYXNlIDEzOmNhc2UgMTQ6Y2FzZSAxNTp7dmFyIGY9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MzJBcnJheShlKTpuZXcgVWludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIHImJmYuc2V0KG5ldyBVaW50MzJBcnJheShyKSksZn1jYXNlIDE6e3ZhciBsPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRmxvYXQzMkFycmF5KGUpOm5ldyBGbG9hdDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIHImJmwuc2V0KG5ldyBGbG9hdDMyQXJyYXkocikpLGx9fXZhciBoPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheShlKTpuZXcgVWludDhBcnJheShlKTtyZXR1cm4gciYmaC5zZXQobmV3IFVpbnQ4QXJyYXkocikpLGh9cmUucHJvdG90eXBlLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmM9ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvKXt2YXIgdSxmO3I9PT12b2lkIDAmJihyPS0xKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz0hMCksbz09PXZvaWQgMCYmKG89ITEpO3ZhciBsPXRoaXMuX2dsO2lmKCFsKXRocm93IG5ldyBFcnJvcigiRW5naW5lIGRvZXMgbm90IGhhdmUgZ2wgcmVuZGVyaW5nIGNvbnRleHQuIik7aWYoIXRoaXMuX2R1bW15RnJhbWVidWZmZXIpe3ZhciBoPWwuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighaCl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHVtbXkgZnJhbWVidWZmZXIiKTt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPWh9bC5iaW5kRnJhbWVidWZmZXIobC5GUkFNRUJVRkZFUix0aGlzLl9kdW1teUZyYW1lYnVmZmVyKSxyPi0xP2wuZnJhbWVidWZmZXJUZXh0dXJlMkQobC5GUkFNRUJVRkZFUixsLkNPTE9SX0FUVEFDSE1FTlQwLGwuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3IsKHU9aS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnUudW5kZXJseWluZ1Jlc291cmNlLG4pOmwuZnJhbWVidWZmZXJUZXh0dXJlMkQobC5GUkFNRUJVRkZFUixsLkNPTE9SX0FUVEFDSE1FTlQwLGwuVEVYVFVSRV8yRCwoZj1pLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8Zj09PXZvaWQgMD92b2lkIDA6Zi51bmRlcmx5aW5nUmVzb3VyY2Usbik7dmFyIGM9aS50eXBlIT09dm9pZCAwP3RoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoaS50eXBlKTpsLlVOU0lHTkVEX0JZVEU7aWYobylhfHwoYT1YbihpLnR5cGUsNCplKnQpKTtlbHNlIHN3aXRjaChjKXtjYXNlIGwuVU5TSUdORURfQllURTphfHwoYT1uZXcgVWludDhBcnJheSg0KmUqdCkpLGM9bC5VTlNJR05FRF9CWVRFO2JyZWFrO2RlZmF1bHQ6YXx8KGE9bmV3IEZsb2F0MzJBcnJheSg0KmUqdCkpLGM9bC5GTE9BVDticmVha31yZXR1cm4gcyYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksbC5yZWFkUGl4ZWxzKDAsMCxlLHQsbC5SR0JBLGMsYSksbC5iaW5kRnJhbWVidWZmZXIobC5GUkFNRUJVRkZFUix0aGlzLl9jdXJyZW50RnJhbWVidWZmZXIpLGF9LHJlLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHM9ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9LTEpLG49PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPSEwKSxvPT09dm9pZCAwJiYobz0hMSksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyhpLGUsdCxyLG4sYSxzLG8pKX0scmUucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcj1mdW5jdGlvbihpLGUsdCl7dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSXT1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKGkpO3ZhciByO2UgaW5zdGFuY2VvZiBVaW50MTZBcnJheXx8ZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5P3I9ZTpyPWkuaXMzMkJpdHM/bmV3IFVpbnQzMkFycmF5KGUpOm5ldyBVaW50MTZBcnJheShlKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHIsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpfSxyZS5wcm90b3R5cGUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcj1mdW5jdGlvbihpLGUsdCxyKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihpKSx0PT09dm9pZCAwJiYodD0wKTt2YXIgbj1lLmxlbmd0aHx8ZS5ieXRlTGVuZ3RoO3I9PT12b2lkIDB8fHI+PW4mJnQ9PT0wP2UgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsZSk6ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQrcikpOihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZT1uZXcgVWludDhBcnJheShlLHQscik6ZT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQrdCxyKSx0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKX07dmFyIG9lPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEpe2E9PT12b2lkIDAmJihhPSExKTt2YXIgcz1pLmNhbGwodGhpcyx0LHIsbixhKXx8dGhpcztpZihzLmVuYWJsZU9mZmxpbmVTdXBwb3J0PSExLHMuZGlzYWJsZU1hbmlmZXN0Q2hlY2s9ITEscy5zY2VuZXM9bmV3IEFycmF5LHMuX3ZpcnR1YWxTY2VuZXM9bmV3IEFycmF5LHMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHMuaXNQb2ludGVyTG9jaz0hMSxzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQ2FudmFzQmx1ck9ic2VydmFibGU9bmV3IE8scy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGU9bmV3IE8scy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlPW5ldyBPLHMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXI9bnVsbCxzLm9uRW5kRnJhbWVPYnNlcnZhYmxlPW5ldyBPLHMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IE8scy5vbkFmdGVyU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlPW5ldyBPLHMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hMSxzLl9sb2Nrc3RlcE1heFN0ZXBzPTQscy5fdGltZVN0ZXA9MS82MCxzLl9mcHM9NjAscy5fZGVsdGFUaW1lPTAscy5fZHJhd0NhbGxzPW5ldyAkdCxzLmNhbnZhc1RhYkluZGV4PTEscy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kPSExLHMuX3BlcmZvcm1hbmNlTW9uaXRvcj1uZXcgem4scy5fY29tcGF0aWJpbGl0eU1vZGU9ITAscy5jdXJyZW50UmVuZGVyUGFzc0lkPTAscy5fcmVuZGVyUGFzc05hbWVzPVsibWFpbiJdLGUuSW5zdGFuY2VzLnB1c2gocyksIXQpcmV0dXJuIHM7aWYocy5fZmVhdHVyZXMuc3VwcG9ydFJlbmRlclBhc3Nlcz0hMCxuPXMuX2NyZWF0aW9uT3B0aW9ucyx0LmdldENvbnRleHQpe3ZhciBvPXQ7aWYocy5fc2hhcmVkSW5pdChvLCEhbi5kb05vdEhhbmRsZVRvdWNoQWN0aW9uLG4uYXVkaW9FbmdpbmUpLGRlKCkpe3ZhciB1PWRvY3VtZW50O3MuX29uRnVsbHNjcmVlbkNoYW5nZT1mdW5jdGlvbigpe3UuZnVsbHNjcmVlbiE9PXZvaWQgMD9zLmlzRnVsbHNjcmVlbj11LmZ1bGxzY3JlZW46dS5tb3pGdWxsU2NyZWVuIT09dm9pZCAwP3MuaXNGdWxsc2NyZWVuPXUubW96RnVsbFNjcmVlbjp1LndlYmtpdElzRnVsbFNjcmVlbiE9PXZvaWQgMD9zLmlzRnVsbHNjcmVlbj11LndlYmtpdElzRnVsbFNjcmVlbjp1Lm1zSXNGdWxsU2NyZWVuIT09dm9pZCAwJiYocy5pc0Z1bGxzY3JlZW49dS5tc0lzRnVsbFNjcmVlbikscy5pc0Z1bGxzY3JlZW4mJnMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkJiZvJiZlLl9SZXF1ZXN0UG9pbnRlcmxvY2sobyl9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2UiLHMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW96ZnVsbHNjcmVlbmNoYW5nZSIscy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIixzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1zZnVsbHNjcmVlbmNoYW5nZSIscy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxzLl9vblBvaW50ZXJMb2NrQ2hhbmdlPWZ1bmN0aW9uKCl7cy5pc1BvaW50ZXJMb2NrPXUubW96UG9pbnRlckxvY2tFbGVtZW50PT09b3x8dS53ZWJraXRQb2ludGVyTG9ja0VsZW1lbnQ9PT1vfHx1Lm1zUG9pbnRlckxvY2tFbGVtZW50PT09b3x8dS5wb2ludGVyTG9ja0VsZW1lbnQ9PT1vfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIscy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibXNwb2ludGVybG9ja2NoYW5nZSIscy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW96cG9pbnRlcmxvY2tjaGFuZ2UiLHMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdHBvaW50ZXJsb2NrY2hhbmdlIixzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSwhZS5hdWRpb0VuZ2luZSYmbi5hdWRpb0VuZ2luZSYmZS5BdWRpb0VuZ2luZUZhY3RvcnkmJihlLmF1ZGlvRW5naW5lPWUuQXVkaW9FbmdpbmVGYWN0b3J5KHMuZ2V0UmVuZGVyaW5nQ2FudmFzKCkscy5nZXRBdWRpb0NvbnRleHQoKSxzLmdldEF1ZGlvRGVzdGluYXRpb24oKSkpfXMuX2Nvbm5lY3RWUkV2ZW50cygpLHMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9ZS5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5IT09dm9pZCAwLHMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hIW4uZGV0ZXJtaW5pc3RpY0xvY2tzdGVwLHMuX2xvY2tzdGVwTWF4U3RlcHM9bi5sb2Nrc3RlcE1heFN0ZXBzfHwwLHMuX3RpbWVTdGVwPW4udGltZVN0ZXB8fDEvNjB9cmV0dXJuIHMuX3ByZXBhcmVWUkNvbXBvbmVudCgpLG4uYXV0b0VuYWJsZVdlYlZSJiZzLmluaXRXZWJWUigpLHN9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJOcG1QYWNrYWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJlLk5wbVBhY2thZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlZlcnNpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcmUuVmVyc2lvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEouSW5zdGFuY2VzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMYXN0Q3JlYXRlZEVuZ2luZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBKLkxhc3RDcmVhdGVkRW5naW5lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMYXN0Q3JlYXRlZFNjZW5lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEouTGFzdENyZWF0ZWRTY2VuZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jcmVhdGVJbWFnZUJpdG1hcEZyb21Tb3VyY2U9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLGE9bmV3IFByb21pc2UoZnVuY3Rpb24ocyxvKXt2YXIgdT1uZXcgSW1hZ2U7dS5vbmxvYWQ9ZnVuY3Rpb24oKXt1LmRlY29kZSgpLnRoZW4oZnVuY3Rpb24oKXtuLmNyZWF0ZUltYWdlQml0bWFwKHUscikudGhlbihmdW5jdGlvbihmKXtzKGYpfSl9KX0sdS5vbmVycm9yPWZ1bmN0aW9uKCl7bygiRXJyb3IgbG9hZGluZyBpbWFnZSAiLmNvbmNhdCh1LnNyYykpfSx1LnNyYz10fSk7cmV0dXJuIGF9LGUucHJvdG90eXBlLmNyZWF0ZUltYWdlQml0bWFwPWZ1bmN0aW9uKHQscil7cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKHQscil9LGUucHJvdG90eXBlLnJlc2l6ZUltYWdlQml0bWFwPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLmNyZWF0ZUNhbnZhcyhyLG4pLHM9YS5nZXRDb250ZXh0KCIyZCIpO2lmKCFzKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGdldCAyZCBjb250ZXh0IGZvciByZXNpemVJbWFnZUJpdG1hcCIpO3MuZHJhd0ltYWdlKHQsMCwwKTt2YXIgbz1zLmdldEltYWdlRGF0YSgwLDAscixuKS5kYXRhO3JldHVybiBvfSxlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5PWZ1bmN0aW9uKHQscil7Zm9yKHZhciBuPTA7bjxlLkluc3RhbmNlcy5sZW5ndGg7bisrKWZvcih2YXIgYT1lLkluc3RhbmNlc1tuXSxzPTA7czxhLnNjZW5lcy5sZW5ndGg7cysrKWEuc2NlbmVzW3NdLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KHQscil9LGUuRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5PWZ1bmN0aW9uKHQpe3Rocm93IFUoIkxvYWRpbmdTY3JlZW4iKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWUuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3Rvcnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwZXJmb3JtYW5jZU1vbml0b3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcGF0aWJpbGl0eU1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGF0aWJpbGl0eU1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jb21wYXRpYmlsaXR5TW9kZT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRJbnB1dEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzfSxlLnByb3RvdHlwZS5fc2hhcmVkSW5pdD1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcztpZihpLnByb3RvdHlwZS5fc2hhcmVkSW5pdC5jYWxsKHRoaXMsdCxyLG4pLHRoaXMuX29uQ2FudmFzRm9jdXM9ZnVuY3Rpb24oKXthLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX0sdGhpcy5fb25DYW52YXNCbHVyPWZ1bmN0aW9uKCl7YS5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX0sdC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksdC5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLHRoaXMuX29uQmx1cj1mdW5jdGlvbigpe2EuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZCYmYS5fcGVyZm9ybWFuY2VNb25pdG9yLmRpc2FibGUoKSxhLl93aW5kb3dJc0JhY2tncm91bmQ9ITB9LHRoaXMuX29uRm9jdXM9ZnVuY3Rpb24oKXthLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQmJmEuX3BlcmZvcm1hbmNlTW9uaXRvci5lbmFibGUoKSxhLl93aW5kb3dJc0JhY2tncm91bmQ9ITF9LHRoaXMuX29uQ2FudmFzUG9pbnRlck91dD1mdW5jdGlvbihvKXtkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KG8uY2xpZW50WCxvLmNsaWVudFkpIT09dCYmYS5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhvKX0sZGUoKSl7dmFyIHM9dGhpcy5nZXRIb3N0V2luZG93KCk7cyYmKHMuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25CbHVyKSxzLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkZvY3VzKSl9dC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpLHJ8fHRoaXMuX2Rpc2FibGVUb3VjaEFjdGlvbigpLCFlLmF1ZGlvRW5naW5lJiZuJiZlLkF1ZGlvRW5naW5lRmFjdG9yeSYmKGUuYXVkaW9FbmdpbmU9ZS5BdWRpb0VuZ2luZUZhY3RvcnkodGhpcy5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmdldEF1ZGlvQ29udGV4dCgpLHRoaXMuZ2V0QXVkaW9EZXN0aW5hdGlvbigpKSl9LGUucHJvdG90eXBlLmdldEFzcGVjdFJhdGlvPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPXQudmlld3BvcnQ7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgocikqbi53aWR0aC8odGhpcy5nZXRSZW5kZXJIZWlnaHQocikqbi5oZWlnaHQpfSxlLnByb3RvdHlwZS5nZXRTY3JlZW5Bc3BlY3RSYXRpbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKCEwKS90aGlzLmdldFJlbmRlckhlaWdodCghMCl9LGUucHJvdG90eXBlLmdldFJlbmRlcmluZ0NhbnZhc0NsaWVudFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfSxlLnByb3RvdHlwZS5nZXRJbnB1dEVsZW1lbnRDbGllbnRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLmdldElucHV0RWxlbWVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGx9LGUucHJvdG90eXBlLmlzRGV0ZXJtaW5pc3RpY0xvY2tTdGVwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcH0sZS5wcm90b3R5cGUuZ2V0TG9ja3N0ZXBNYXhTdGVwcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzfSxlLnByb3RvdHlwZS5nZXRUaW1lU3RlcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lU3RlcCoxZTN9LGUucHJvdG90eXBlLmdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXA9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMCksdC5nZW5lcmF0ZU1pcE1hcHMpe3ZhciBuPXRoaXMuX2dsO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobi5URVhUVVJFX0NVQkVfTUFQLHQsITApLG4uZ2VuZXJhdGVNaXBtYXAobi5URVhUVVJFX0NVQkVfTUFQKSxyJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV9DVUJFX01BUCxudWxsKX19LGUucHJvdG90eXBlLmdldERlcHRoQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdH0sZS5wcm90b3R5cGUuc2V0RGVwdGhCdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PXR9LGUucHJvdG90eXBlLmdldERlcHRoV3JpdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrfSxlLnByb3RvdHlwZS5zZXREZXB0aFdyaXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz10fSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdH0sZS5wcm90b3R5cGUuc2V0U3RlbmNpbEJ1ZmZlcj1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9dH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbE1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrfSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsTWFzaz1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE1hc2s9dH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbEZ1bmN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY30sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZn0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbEZ1bmN0aW9uTWFzaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNNYXNrfSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsRnVuY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jPXR9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZT1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNSZWY9dH0sZS5wcm90b3R5cGUuc2V0U3RlbmNpbEZ1bmN0aW9uTWFzaz1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNNYXNrPXR9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxPcGVyYXRpb25GYWlsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsfSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsT3BlcmF0aW9uUGFzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzc30sZS5wcm90b3R5cGUuc2V0U3RlbmNpbE9wZXJhdGlvbkZhaWw9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxGYWlsPXR9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWw9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcERlcHRoRmFpbD10fSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsT3BlcmF0aW9uUGFzcz1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcz10fSxlLnByb3RvdHlwZS5zZXREaXRoZXJpbmdTdGF0ZT1mdW5jdGlvbih0KXt0P3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ESVRIRVIpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuRElUSEVSKX0sZS5wcm90b3R5cGUuc2V0UmFzdGVyaXplclN0YXRlPWZ1bmN0aW9uKHQpe3Q/dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpOnRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpfSxlLnByb3RvdHlwZS5nZXREZXB0aEZ1bmN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuY30sZS5wcm90b3R5cGUuc2V0RGVwdGhGdW5jdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dH0sZS5wcm90b3R5cGUuc2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlcj1mdW5jdGlvbigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTYpfSxlLnByb3RvdHlwZS5zZXREZXB0aEZ1bmN0aW9uVG9HcmVhdGVyT3JFcXVhbD1mdW5jdGlvbigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTgpfSxlLnByb3RvdHlwZS5zZXREZXB0aEZ1bmN0aW9uVG9MZXNzPWZ1bmN0aW9uKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxMyl9LGUucHJvdG90eXBlLnNldERlcHRoRnVuY3Rpb25Ub0xlc3NPckVxdWFsPWZ1bmN0aW9uKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNSl9LGUucHJvdG90eXBlLmNhY2hlU3RlbmNpbFN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVkU3RlbmNpbEJ1ZmZlcj10aGlzLmdldFN0ZW5jaWxCdWZmZXIoKSx0aGlzLl9jYWNoZWRTdGVuY2lsRnVuY3Rpb249dGhpcy5nZXRTdGVuY2lsRnVuY3Rpb24oKSx0aGlzLl9jYWNoZWRTdGVuY2lsTWFzaz10aGlzLmdldFN0ZW5jaWxNYXNrKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3M9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uUGFzcygpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25GYWlsPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwoKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCgpLHRoaXMuX2NhY2hlZFN0ZW5jaWxSZWZlcmVuY2U9dGhpcy5nZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UoKX0sZS5wcm90b3R5cGUucmVzdG9yZVN0ZW5jaWxTdGF0ZT1mdW5jdGlvbigpe3RoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uKHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbiksdGhpcy5zZXRTdGVuY2lsTWFzayh0aGlzLl9jYWNoZWRTdGVuY2lsTWFzayksdGhpcy5zZXRTdGVuY2lsQnVmZmVyKHRoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXIpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvblBhc3ModGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3MpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWwpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKSx0aGlzLnNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSh0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlKX0sZS5wcm90b3R5cGUuc2V0RGlyZWN0Vmlld3BvcnQ9ZnVuY3Rpb24odCxyLG4sYSl7dmFyIHM9dGhpcy5fY2FjaGVkVmlld3BvcnQ7cmV0dXJuIHRoaXMuX2NhY2hlZFZpZXdwb3J0PW51bGwsdGhpcy5fdmlld3BvcnQodCxyLG4sYSksc30sZS5wcm90b3R5cGUuc2Npc3NvckNsZWFyPWZ1bmN0aW9uKHQscixuLGEscyl7dGhpcy5lbmFibGVTY2lzc29yKHQscixuLGEpLHRoaXMuY2xlYXIocywhMCwhMCwhMCksdGhpcy5kaXNhYmxlU2Npc3NvcigpfSxlLnByb3RvdHlwZS5lbmFibGVTY2lzc29yPWZ1bmN0aW9uKHQscixuLGEpe3ZhciBzPXRoaXMuX2dsO3MuZW5hYmxlKHMuU0NJU1NPUl9URVNUKSxzLnNjaXNzb3IodCxyLG4sYSl9LGUucHJvdG90eXBlLmRpc2FibGVTY2lzc29yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2w7dC5kaXNhYmxlKHQuU0NJU1NPUl9URVNUKX0sZS5wcm90b3R5cGUuX3JlcG9ydERyYXdDYWxsPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PTEpLHRoaXMuX2RyYXdDYWxscy5hZGRDb3VudCh0LCExKX0sZS5wcm90b3R5cGUuaW5pdFdlYlZSPWZ1bmN0aW9uKCl7dGhyb3cgVSgiV2ViVlJDYW1lcmEiKX0sZS5wcm90b3R5cGUuX3ByZXBhcmVWUkNvbXBvbmVudD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2Nvbm5lY3RWUkV2ZW50cz1mdW5jdGlvbih0LHIpe30sZS5wcm90b3R5cGUuX3N1Ym1pdFZSRnJhbWU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmRpc2FibGVWUj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaXNWUlByZXNlbnRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuX3JlcXVlc3RWUkZyYW1lPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fbG9hZEZpbGVBc3luYz1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocyxvKXthLl9sb2FkRmlsZSh0LGZ1bmN0aW9uKHUpe3ModSl9LHZvaWQgMCxyLG4sZnVuY3Rpb24odSxmKXtvKGYpfSl9KX0sZS5wcm90b3R5cGUuZ2V0VmVydGV4U2hhZGVyU291cmNlPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dsLmdldEF0dGFjaGVkU2hhZGVycyh0KTtyZXR1cm4gcj90aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UoclswXSk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0RnJhZ21lbnRTaGFkZXJTb3VyY2U9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKHQpO3JldHVybiByP3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZShyWzFdKTpudWxsfSxlLnByb3RvdHlwZS5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKHQscixuLGEpe3QhPT12b2lkIDAmJihyJiYodGhpcy5fYm91bmRVbmlmb3Jtc1t0XT1yKSwhbnx8IW4uZGVwdGhTdGVuY2lsVGV4dHVyZT90aGlzLl9zZXRUZXh0dXJlKHQsbnVsbCx2b2lkIDAsdm9pZCAwLGEpOnRoaXMuX3NldFRleHR1cmUodCxuLCExLCEwLGEpKX0sZS5wcm90b3R5cGUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzcz1mdW5jdGlvbih0LHIsbil7dmFyIGEscz1udWxsO3ImJihyLl90ZXh0dXJlcy5kYXRhW3IuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXT9zPXIuX3RleHR1cmVzLmRhdGFbci5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdOnIuX2ZvcmNlZE91dHB1dFRleHR1cmUmJihzPXIuX2ZvcmNlZE91dHB1dFRleHR1cmUpKSx0aGlzLl9iaW5kVGV4dHVyZSh0LChhPXM9PW51bGw/dm9pZCAwOnMudGV4dHVyZSkhPT1udWxsJiZhIT09dm9pZCAwP2E6bnVsbCxuKX0sZS5wcm90b3R5cGUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dD1mdW5jdGlvbih0LHIsbil7dmFyIGEsczt0aGlzLl9iaW5kVGV4dHVyZSh0LChzPShhPXI9PW51bGw/dm9pZCAwOnIuX291dHB1dFRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS50ZXh0dXJlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLG4pfSxlLnByb3RvdHlwZS5fcmVidWlsZEJ1ZmZlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuc2NlbmVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24ucmVzZXRDYWNoZWRNYXRlcmlhbCgpLG4uX3JlYnVpbGRHZW9tZXRyaWVzKCksbi5fcmVidWlsZFRleHR1cmVzKCl9Zm9yKHZhciBhPTAscz10aGlzLl92aXJ0dWFsU2NlbmVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbj1zW2FdO24ucmVzZXRDYWNoZWRNYXRlcmlhbCgpLG4uX3JlYnVpbGRHZW9tZXRyaWVzKCksbi5fcmVidWlsZFRleHR1cmVzKCl9aS5wcm90b3R5cGUuX3JlYnVpbGRCdWZmZXJzLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9yZW5kZXJGcmFtZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbdF07cigpfX0sZS5wcm90b3R5cGUuX3JlbmRlckxvb3A9ZnVuY3Rpb24oKXtpZighdGhpcy5fY29udGV4dFdhc0xvc3Qpe3ZhciB0PSEwOyF0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQmJnRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZCYmKHQ9ITEpLHQmJih0aGlzLmJlZ2luRnJhbWUoKSx0aGlzLl9yZW5kZXJWaWV3cygpfHx0aGlzLl9yZW5kZXJGcmFtZSgpLHRoaXMuZW5kRnJhbWUoKSl9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj8odGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZXF1ZXN0SUQ9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlbmRlckZ1bmN0aW9ufHx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRCk6dGhpcy5pc1ZSUHJlc2VudGluZygpP3RoaXMuX3JlcXVlc3RWUkZyYW1lKCk6dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX0sZS5wcm90b3R5cGUuX3JlbmRlclZpZXdzPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLnN3aXRjaEZ1bGxzY3JlZW49ZnVuY3Rpb24odCl7dGhpcy5pc0Z1bGxzY3JlZW4/dGhpcy5leGl0RnVsbHNjcmVlbigpOnRoaXMuZW50ZXJGdWxsc2NyZWVuKHQpfSxlLnByb3RvdHlwZS5lbnRlckZ1bGxzY3JlZW49ZnVuY3Rpb24odCl7dGhpcy5pc0Z1bGxzY3JlZW58fCh0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZD10LHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmZS5fUmVxdWVzdEZ1bGxzY3JlZW4odGhpcy5fcmVuZGVyaW5nQ2FudmFzKSl9LGUucHJvdG90eXBlLmV4aXRGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dGhpcy5pc0Z1bGxzY3JlZW4mJmUuX0V4aXRGdWxsc2NyZWVuKCl9LGUucHJvdG90eXBlLmVudGVyUG9pbnRlcmxvY2s9ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJmUuX1JlcXVlc3RQb2ludGVybG9jayh0aGlzLl9yZW5kZXJpbmdDYW52YXMpfSxlLnByb3RvdHlwZS5leGl0UG9pbnRlcmxvY2s9ZnVuY3Rpb24oKXtlLl9FeGl0UG9pbnRlcmxvY2soKX0sZS5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe3RoaXMuX21lYXN1cmVGcHMoKSx0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGkucHJvdG90eXBlLmJlZ2luRnJhbWUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZW5kRnJhbWU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5lbmRGcmFtZS5jYWxsKHRoaXMpLHRoaXMuX3N1Ym1pdFZSRnJhbWUoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PSExKSwhdGhpcy5pc1ZSUHJlc2VudGluZygpJiZpLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQscixuKXtpZihuPT09dm9pZCAwJiYobj0hMSksIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IWkucHJvdG90eXBlLnNldFNpemUuY2FsbCh0aGlzLHQscixuKSlyZXR1cm4hMTtpZih0aGlzLnNjZW5lcyl7Zm9yKHZhciBhPTA7YTx0aGlzLnNjZW5lcy5sZW5ndGg7YSsrKWZvcih2YXIgcz10aGlzLnNjZW5lc1thXSxvPTA7bzxzLmNhbWVyYXMubGVuZ3RoO28rKyl7dmFyIHU9cy5jYW1lcmFzW29dO3UuX2N1cnJlbnRSZW5kZXJJZD0wfXRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmV0dXJuITB9LGUucHJvdG90eXBlLl9kZWxldGVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24odCl7dmFyIHI9dDtyJiZyLnByb2dyYW0mJnIudHJhbnNmb3JtRmVlZGJhY2smJih0aGlzLmRlbGV0ZVRyYW5zZm9ybUZlZWRiYWNrKHIudHJhbnNmb3JtRmVlZGJhY2spLHIudHJhbnNmb3JtRmVlZGJhY2s9bnVsbCksaS5wcm90b3R5cGUuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dC5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLmNyZWF0ZVNoYWRlclByb2dyYW09ZnVuY3Rpb24odCxyLG4sYSxzLG8pe289PT12b2lkIDAmJihvPW51bGwpLHM9c3x8dGhpcy5fZ2wsdGhpcy5vbkJlZm9yZVNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIHU9aS5wcm90b3R5cGUuY3JlYXRlU2hhZGVyUHJvZ3JhbS5jYWxsKHRoaXMsdCxyLG4sYSxzLG8pO3JldHVybiB0aGlzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHV9LGUucHJvdG90eXBlLl9jcmVhdGVTaGFkZXJQcm9ncmFtPWZ1bmN0aW9uKHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9bnVsbCk7dmFyIG89YS5jcmVhdGVQcm9ncmFtKCk7aWYodC5wcm9ncmFtPW8sIW8pdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHByb2dyYW0iKTtpZihhLmF0dGFjaFNoYWRlcihvLHIpLGEuYXR0YWNoU2hhZGVyKG8sbiksdGhpcy53ZWJHTFZlcnNpb24+MSYmcyl7dmFyIHU9dGhpcy5jcmVhdGVUcmFuc2Zvcm1GZWVkYmFjaygpO3RoaXMuYmluZFRyYW5zZm9ybUZlZWRiYWNrKHUpLHRoaXMuc2V0VHJhbmZvcm1GZWVkYmFja1ZhcnlpbmdzKG8scyksdC50cmFuc2Zvcm1GZWVkYmFjaz11fXJldHVybiBhLmxpbmtQcm9ncmFtKG8pLHRoaXMud2ViR0xWZXJzaW9uPjEmJnMmJnRoaXMuYmluZFRyYW5zZm9ybUZlZWRiYWNrKG51bGwpLHQuY29udGV4dD1hLHQudmVydGV4U2hhZGVyPXIsdC5mcmFnbWVudFNoYWRlcj1uLHQuaXNQYXJhbGxlbENvbXBpbGVkfHx0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dCh0KSxvfSxlLnByb3RvdHlwZS5fcmVsZWFzZVRleHR1cmU9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuX3JlbGVhc2VUZXh0dXJlLmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlci5jYWxsKHRoaXMsdCksdGhpcy5zY2VuZXMuZm9yRWFjaChmdW5jdGlvbihyKXtyLnBvc3RQcm9jZXNzZXMuZm9yRWFjaChmdW5jdGlvbihuKXtuLl9vdXRwdXRUZXh0dXJlPT09dCYmKG4uX291dHB1dFRleHR1cmU9bnVsbCl9KSxyLmNhbWVyYXMuZm9yRWFjaChmdW5jdGlvbihuKXtuLl9wb3N0UHJvY2Vzc2VzLmZvckVhY2goZnVuY3Rpb24oYSl7YSYmYS5fb3V0cHV0VGV4dHVyZT09PXQmJihhLl9vdXRwdXRUZXh0dXJlPW51bGwpfSl9KX0pfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJQYXNzTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50UmVuZGVyUGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzW3RoaXMuY3VycmVudFJlbmRlclBhc3NJZF19LGUucHJvdG90eXBlLmNyZWF0ZVJlbmRlclBhc3NJZD1mdW5jdGlvbih0KXt2YXIgcj0rK2UuX1JlbmRlclBhc3NJZENvdW50ZXI7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1tyXT10IT1udWxsP3Q6Ik5PTkFNRSIscn0sZS5wcm90b3R5cGUucmVsZWFzZVJlbmRlclBhc3NJZD1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdF09dm9pZCAwO2Zvcih2YXIgcj0wO3I8dGhpcy5zY2VuZXMubGVuZ3RoOysrcilmb3IodmFyIG49dGhpcy5zY2VuZXNbcl0sYT0wO2E8bi5tZXNoZXMubGVuZ3RoOysrYSl7dmFyIHM9bi5tZXNoZXNbYV07aWYocy5zdWJNZXNoZXMpZm9yKHZhciBvPTA7bzxzLnN1Yk1lc2hlcy5sZW5ndGg7KytvKXt2YXIgdT1zLnN1Yk1lc2hlc1tvXTt1Ll9yZW1vdmVEcmF3V3JhcHBlcih0KX19fSxlLnByb3RvdHlwZS5fcmVzY2FsZVRleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzO3RoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKTt2YXIgdT10aGlzLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoe3dpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fSx7Z2VuZXJhdGVNaXBNYXBzOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6MixnZW5lcmF0ZURlcHRoQnVmZmVyOiExLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMX0pOyF0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJmUuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkmJih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9ZS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSh0aGlzKSksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5nZXRFZmZlY3QoKS5leGVjdXRlV2hlbkNvbXBpbGVkKGZ1bmN0aW9uKCl7by5fcmVzY2FsZVBvc3RQcm9jZXNzLm9uQXBwbHk9ZnVuY3Rpb24obCl7bC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0KX07dmFyIGY9bjtmfHwoZj1vLnNjZW5lc1tvLnNjZW5lcy5sZW5ndGgtMV0pLGYucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihbby5fcmVzY2FsZVBvc3RQcm9jZXNzXSx1LCEwKSxvLl9iaW5kVGV4dHVyZURpcmVjdGx5KG8uX2dsLlRFWFRVUkVfMkQsciwhMCksby5fZ2wuY29weVRleEltYWdlMkQoby5fZ2wuVEVYVFVSRV8yRCwwLGEsMCwwLHIud2lkdGgsci5oZWlnaHQsMCksby51bkJpbmRGcmFtZWJ1ZmZlcih1KSx1LmRpc3Bvc2UoKSxzJiZzKCl9KX0sZS5wcm90b3R5cGUuZ2V0RnBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zwc30sZS5wcm90b3R5cGUuZ2V0RGVsdGFUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbHRhVGltZX0sZS5wcm90b3R5cGUuX21lYXN1cmVGcHM9ZnVuY3Rpb24oKXt0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3Iuc2FtcGxlRnJhbWUoKSx0aGlzLl9mcHM9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmF2ZXJhZ2VGUFMsdGhpcy5fZGVsdGFUaW1lPXRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5pbnN0YW50YW5lb3VzRnJhbWVUaW1lfHwwfSxlLnByb3RvdHlwZS5fdXBsb2FkSW1hZ2VUb1RleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSl7bj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9MCk7dmFyIHM9dGhpcy5fZ2wsbz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKHQudHlwZSksdT10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdCh0LmZvcm1hdCksZj10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdCh0LnR5cGUsdSksbD10LmlzQ3ViZT9zLlRFWFRVUkVfQ1VCRV9NQVA6cy5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobCx0LCEwKSx0aGlzLl91bnBhY2tGbGlwWSh0LmludmVydFkpO3ZhciBoPXMuVEVYVFVSRV8yRDt0LmlzQ3ViZSYmKGg9cy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbikscy50ZXhJbWFnZTJEKGgsYSxmLHUsbyxyKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGwsbnVsbCwhMCl9LGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVDb21wYXJpc29uRnVuY3Rpb249ZnVuY3Rpb24odCxyKXtpZih0aGlzLndlYkdMVmVyc2lvbj09PTEpe3ouRXJyb3IoIldlYkdMIDEgZG9lcyBub3Qgc3VwcG9ydCB0ZXh0dXJlIGNvbXBhcmlzb24uIik7cmV0dXJufXZhciBuPXRoaXMuX2dsO3QuaXNDdWJlPyh0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsdCwhMCkscj09PTA/KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLk5PTkUpKToobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCkpOih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsdCwhMCkscj09PTA/KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLk5PTkUpKToobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfTU9ERSxuLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCkpLHQuX2NvbXBhcmlzb25GdW5jdGlvbj1yfSxlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZXNCdWZmZXI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIGluc3RhbmNlIGJ1ZmZlciIpO3ZhciBuPW5ldyBadChyKTtyZXR1cm4gbi5jYXBhY2l0eT10LHRoaXMuYmluZEFycmF5QnVmZmVyKG4pLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSxuLnJlZmVyZW5jZXM9MSxufSxlLnByb3RvdHlwZS5kZWxldGVJbnN0YW5jZXNCdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKHQpfSxlLnByb3RvdHlwZS5fY2xpZW50V2FpdEFzeW5jPWZ1bmN0aW9uKHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0xMCk7dmFyIGE9dGhpcy5fZ2w7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7dmFyIHU9ZnVuY3Rpb24oKXt2YXIgZj1hLmNsaWVudFdhaXRTeW5jKHQsciwwKTtpZihmPT1hLldBSVRfRkFJTEVEKXtvKCk7cmV0dXJufWlmKGY9PWEuVElNRU9VVF9FWFBJUkVEKXtzZXRUaW1lb3V0KHUsbik7cmV0dXJufXMoKX07dSgpfSl9LGUucHJvdG90eXBlLl9yZWFkUGl4ZWxzQXN5bmM9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPDIpdGhyb3cgbmV3IEVycm9yKCJfcmVhZFBpeGVsc0FzeW5jIG9ubHkgd29yayBvbiBXZWJHTDIrIik7dmFyIGY9dGhpcy5fZ2wsbD1mLmNyZWF0ZUJ1ZmZlcigpO2YuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLGwpLGYuYnVmZmVyRGF0YShmLlBJWEVMX1BBQ0tfQlVGRkVSLHUuYnl0ZUxlbmd0aCxmLlNUUkVBTV9SRUFEKSxmLnJlYWRQaXhlbHModCxyLG4sYSxzLG8sMCksZi5iaW5kQnVmZmVyKGYuUElYRUxfUEFDS19CVUZGRVIsbnVsbCk7dmFyIGg9Zi5mZW5jZVN5bmMoZi5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwwKTtyZXR1cm4gaD8oZi5mbHVzaCgpLHRoaXMuX2NsaWVudFdhaXRBc3luYyhoLDAsMTApLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZi5kZWxldGVTeW5jKGgpLGYuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLGwpLGYuZ2V0QnVmZmVyU3ViRGF0YShmLlBJWEVMX1BBQ0tfQlVGRkVSLDAsdSksZi5iaW5kQnVmZmVyKGYuUElYRUxfUEFDS19CVUZGRVIsbnVsbCksZi5kZWxldGVCdWZmZXIobCksdX0pKTpudWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuaGlkZUxvYWRpbmdVSSgpLHRoaXMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpO3RoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7KXRoaXMucG9zdFByb2Nlc3Nlc1swXS5kaXNwb3NlKCk7Zm9yKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmRpc3Bvc2UoKTt0aGlzLnNjZW5lcy5sZW5ndGg7KXRoaXMuc2NlbmVzWzBdLmRpc3Bvc2UoKTtmb3IoO3RoaXMuX3ZpcnR1YWxTY2VuZXMubGVuZ3RoOyl0aGlzLl92aXJ0dWFsU2NlbmVzWzBdLmRpc3Bvc2UoKTtlLkluc3RhbmNlcy5sZW5ndGg9PT0xJiZlLmF1ZGlvRW5naW5lJiYoZS5hdWRpb0VuZ2luZS5kaXNwb3NlKCksZS5hdWRpb0VuZ2luZT1udWxsKSx0aGlzLmRpc2FibGVWUigpLGRlKCkmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25CbHVyKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCkpLFVyKCkmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vemZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zcG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1venBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSkpKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7dmFyIHQ9ZS5JbnN0YW5jZXMuaW5kZXhPZih0aGlzKTt0Pj0wJiZlLkluc3RhbmNlcy5zcGxpY2UodCwxKSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNGb2N1c09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLmNsZWFyKCl9LGUucHJvdG90eXBlLl9kaXNhYmxlVG91Y2hBY3Rpb249ZnVuY3Rpb24oKXshdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwhdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZXx8KHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUoInRvdWNoLWFjdGlvbiIsIm5vbmUiKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zdHlsZS5tc1RvdWNoQWN0aW9uPSJub25lIil9LGUucHJvdG90eXBlLmRpc3BsYXlMb2FkaW5nVUk9ZnVuY3Rpb24oKXtpZighIWRlKCkpe3ZhciB0PXRoaXMubG9hZGluZ1NjcmVlbjt0JiZ0LmRpc3BsYXlMb2FkaW5nVUkoKX19LGUucHJvdG90eXBlLmhpZGVMb2FkaW5nVUk9ZnVuY3Rpb24oKXtpZighIWRlKCkpe3ZhciB0PXRoaXMuX2xvYWRpbmdTY3JlZW47dCYmdC5oaWRlTG9hZGluZ1VJKCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvYWRpbmdTY3JlZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbG9hZGluZ1NjcmVlbiYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiYodGhpcy5fbG9hZGluZ1NjcmVlbj1lLkRlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeSh0aGlzLl9yZW5kZXJpbmdDYW52YXMpKSx0aGlzLl9sb2FkaW5nU2NyZWVufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9hZGluZ1NjcmVlbj10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ1VJVGV4dCIse3NldDpmdW5jdGlvbih0KXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJVGV4dD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ1VJQmFja2dyb3VuZENvbG9yIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlCYWNrZ3JvdW5kQ29sb3I9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jcmVhdGVWaWRlb0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIil9LGUuX1JlcXVlc3RQb2ludGVybG9jaz1mdW5jdGlvbih0KXt0LnJlcXVlc3RQb2ludGVyTG9jaz10LnJlcXVlc3RQb2ludGVyTG9ja3x8dC5tc1JlcXVlc3RQb2ludGVyTG9ja3x8dC5tb3pSZXF1ZXN0UG9pbnRlckxvY2t8fHQud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrLHQucmVxdWVzdFBvaW50ZXJMb2NrJiZ0LnJlcXVlc3RQb2ludGVyTG9jaygpfSxlLl9FeGl0UG9pbnRlcmxvY2s9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudDtkb2N1bWVudC5leGl0UG9pbnRlckxvY2s9ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrfHx0Lm1zRXhpdFBvaW50ZXJMb2NrfHx0Lm1vekV4aXRQb2ludGVyTG9ja3x8dC53ZWJraXRFeGl0UG9pbnRlckxvY2ssZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX0sZS5fUmVxdWVzdEZ1bGxzY3JlZW49ZnVuY3Rpb24odCl7dmFyIHI9dC5yZXF1ZXN0RnVsbHNjcmVlbnx8dC5tc1JlcXVlc3RGdWxsc2NyZWVufHx0LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVufHx0Lm1velJlcXVlc3RGdWxsU2NyZWVuOyFyfHxyLmNhbGwodCl9LGUuX0V4aXRGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQ7ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTp0Lm1vekNhbmNlbEZ1bGxTY3JlZW4/dC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6dC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuP3Qud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpOnQubXNDYW5jZWxGdWxsU2NyZWVuJiZ0Lm1zQ2FuY2VsRnVsbFNjcmVlbigpfSxlLnByb3RvdHlwZS5nZXRGb250T2Zmc2V0PWZ1bmN0aW9uKHQpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtyLmlubmVySFRNTD0iSGciLHIuc2V0QXR0cmlidXRlKCJzdHlsZSIsImZvbnQ6ICIuY29uY2F0KHQsIiAhaW1wb3J0YW50IikpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO24uc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixuLnN0eWxlLndpZHRoPSIxcHgiLG4uc3R5bGUuaGVpZ2h0PSIwcHgiLG4uc3R5bGUudmVydGljYWxBbGlnbj0iYm90dG9tIjt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCIsYS5hcHBlbmRDaGlsZChyKSxhLmFwcGVuZENoaWxkKG4pLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dmFyIHM9MCxvPTA7dHJ5e289bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3Atci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3Asbi5zdHlsZS52ZXJ0aWNhbEFsaWduPSJiYXNlbGluZSIscz1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcH1maW5hbGx5e2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSl9cmV0dXJue2FzY2VudDpzLGhlaWdodDpvLGRlc2NlbnQ6by1zfX0sZS5BTFBIQV9ESVNBQkxFPTAsZS5BTFBIQV9BREQ9MSxlLkFMUEhBX0NPTUJJTkU9MixlLkFMUEhBX1NVQlRSQUNUPTMsZS5BTFBIQV9NVUxUSVBMWT00LGUuQUxQSEFfTUFYSU1JWkVEPTUsZS5BTFBIQV9PTkVPTkU9NixlLkFMUEhBX1BSRU1VTFRJUExJRUQ9NyxlLkFMUEhBX1BSRU1VTFRJUExJRURfUE9SVEVSRFVGRj04LGUuQUxQSEFfSU5URVJQT0xBVEU9OSxlLkFMUEhBX1NDUkVFTk1PREU9MTAsZS5ERUxBWUxPQURTVEFURV9OT05FPTAsZS5ERUxBWUxPQURTVEFURV9MT0FERUQ9MSxlLkRFTEFZTE9BRFNUQVRFX0xPQURJTkc9MixlLkRFTEFZTE9BRFNUQVRFX05PVExPQURFRD00LGUuTkVWRVI9NTEyLGUuQUxXQVlTPTUxOSxlLkxFU1M9NTEzLGUuRVFVQUw9NTE0LGUuTEVRVUFMPTUxNSxlLkdSRUFURVI9NTE2LGUuR0VRVUFMPTUxOCxlLk5PVEVRVUFMPTUxNyxlLktFRVA9NzY4MCxlLlJFUExBQ0U9NzY4MSxlLklOQ1I9NzY4MixlLkRFQ1I9NzY4MyxlLklOVkVSVD01Mzg2LGUuSU5DUl9XUkFQPTM0MDU1LGUuREVDUl9XUkFQPTM0MDU2LGUuVEVYVFVSRV9DTEFNUF9BRERSRVNTTU9ERT0wLGUuVEVYVFVSRV9XUkFQX0FERFJFU1NNT0RFPTEsZS5URVhUVVJFX01JUlJPUl9BRERSRVNTTU9ERT0yLGUuVEVYVFVSRUZPUk1BVF9BTFBIQT0wLGUuVEVYVFVSRUZPUk1BVF9MVU1JTkFOQ0U9MSxlLlRFWFRVUkVGT1JNQVRfTFVNSU5BTkNFX0FMUEhBPTIsZS5URVhUVVJFRk9STUFUX1JHQj00LGUuVEVYVFVSRUZPUk1BVF9SR0JBPTUsZS5URVhUVVJFRk9STUFUX1JFRD02LGUuVEVYVFVSRUZPUk1BVF9SPTYsZS5URVhUVVJFRk9STUFUX1JHPTcsZS5URVhUVVJFRk9STUFUX1JFRF9JTlRFR0VSPTgsZS5URVhUVVJFRk9STUFUX1JfSU5URUdFUj04LGUuVEVYVFVSRUZPUk1BVF9SR19JTlRFR0VSPTksZS5URVhUVVJFRk9STUFUX1JHQl9JTlRFR0VSPTEwLGUuVEVYVFVSRUZPUk1BVF9SR0JBX0lOVEVHRVI9MTEsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9CWVRFPTAsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlQ9MCxlLlRFWFRVUkVUWVBFX0ZMT0FUPTEsZS5URVhUVVJFVFlQRV9IQUxGX0ZMT0FUPTIsZS5URVhUVVJFVFlQRV9CWVRFPTMsZS5URVhUVVJFVFlQRV9TSE9SVD00LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlQ9NSxlLlRFWFRVUkVUWVBFX0lOVD02LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5URUdFUj03LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlRfNF80XzRfND04LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlRfNV81XzVfMT05LGUuVEVYVFVSRVRZUEVfVU5TSUdORURfU0hPUlRfNV82XzU9MTAsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY9MTEsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMjRfOD0xMixlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVY9MTMsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY9MTQsZS5URVhUVVJFVFlQRV9GTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVY9MTUsZS5URVhUVVJFX05FQVJFU1RfU0FNUExJTkdNT0RFPTEsZS5URVhUVVJFX0JJTElORUFSX1NBTVBMSU5HTU9ERT0yLGUuVEVYVFVSRV9UUklMSU5FQVJfU0FNUExJTkdNT0RFPTMsZS5URVhUVVJFX05FQVJFU1RfTkVBUkVTVF9NSVBMSU5FQVI9OCxlLlRFWFRVUkVfTElORUFSX0xJTkVBUl9NSVBORUFSRVNUPTExLGUuVEVYVFVSRV9MSU5FQVJfTElORUFSX01JUExJTkVBUj0zLGUuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1RfTUlQTkVBUkVTVD00LGUuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUl9NSVBORUFSRVNUPTUsZS5URVhUVVJFX05FQVJFU1RfTElORUFSX01JUExJTkVBUj02LGUuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUj03LGUuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1Q9MSxlLlRFWFRVUkVfTElORUFSX05FQVJFU1RfTUlQTkVBUkVTVD05LGUuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVF9NSVBMSU5FQVI9MTAsZS5URVhUVVJFX0xJTkVBUl9MSU5FQVI9MixlLlRFWFRVUkVfTElORUFSX05FQVJFU1Q9MTIsZS5URVhUVVJFX0VYUExJQ0lUX01PREU9MCxlLlRFWFRVUkVfU1BIRVJJQ0FMX01PREU9MSxlLlRFWFRVUkVfUExBTkFSX01PREU9MixlLlRFWFRVUkVfQ1VCSUNfTU9ERT0zLGUuVEVYVFVSRV9QUk9KRUNUSU9OX01PREU9NCxlLlRFWFRVUkVfU0tZQk9YX01PREU9NSxlLlRFWFRVUkVfSU5WQ1VCSUNfTU9ERT02LGUuVEVYVFVSRV9FUVVJUkVDVEFOR1VMQVJfTU9ERT03LGUuVEVYVFVSRV9GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERT04LGUuVEVYVFVSRV9GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERT05LGUuU0NBTEVNT0RFX0ZMT09SPTEsZS5TQ0FMRU1PREVfTkVBUkVTVD0yLGUuU0NBTEVNT0RFX0NFSUxJTkc9MyxlLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5PW51bGwsZS5fUmVuZGVyUGFzc0lkQ291bnRlcj0wLGV9KHJlKTtyZS5wcm90b3R5cGUuX2RlYnVnUHVzaEdyb3VwPWZ1bmN0aW9uKGksZSl7fSxyZS5wcm90b3R5cGUuX2RlYnVnUG9wR3JvdXA9ZnVuY3Rpb24oaSl7fSxyZS5wcm90b3R5cGUuX2RlYnVnSW5zZXJ0TWFya2VyPWZ1bmN0aW9uKGksZSl7fSxyZS5wcm90b3R5cGUuX2RlYnVnRmx1c2hQZW5kaW5nQ29tbWFuZHM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEhuKGkpe3JldHVybiBuZXcgb2UoaSwhMCx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwLHN0ZW5jaWw6ITB9KX12YXIgJD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuV2l0aGluRXBzaWxvbj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPTE0MDEyOThlLTUxKSxNYXRoLmFicyhlLXQpPD1yfSxpLlRvSGV4PWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiBlPD0xNT8oIjAiK3QpLnRvVXBwZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfSxpLlNpZ249ZnVuY3Rpb24oZSl7cmV0dXJuIGU9K2UsZT09PTB8fGlzTmFOKGUpP2U6ZT4wPzE6LTF9LGkuQ2xhbXA9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0xKSxNYXRoLm1pbihyLE1hdGgubWF4KHQsZSkpfSxpLkxvZzI9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubG9nKGUpKk1hdGguTE9HMkV9LGkuSUxvZzI9ZnVuY3Rpb24oZSl7aWYoTWF0aC5sb2cyKXJldHVybiBNYXRoLmZsb29yKE1hdGgubG9nMihlKSk7aWYoZTwwKXJldHVybiBOYU47aWYoZT09PTApcmV0dXJuLTEvMDt2YXIgdD0wO2lmKGU8MSl7Zm9yKDtlPDE7KXQrKyxlPWUqMjt0PS10fWVsc2UgaWYoZT4xKWZvcig7ZT4xOyl0KyssZT1NYXRoLmZsb29yKGUvMik7cmV0dXJuIHR9LGkuUmVwZWF0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtTWF0aC5mbG9vcihlL3QpKnR9LGkuTm9ybWFsaXplPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4oZS10KS8oci10KX0saS5EZW5vcm1hbGl6ZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUqKHItdCkrdH0saS5EZWx0YUFuZ2xlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIHI+MTgwJiYoci09MzYwKSxyfSxpLlBpbmdQb25nPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5SZXBlYXQoZSx0KjIpO3JldHVybiB0LU1hdGguYWJzKHItdCl9LGkuU21vb3RoU3RlcD1mdW5jdGlvbihlLHQscil7dmFyIG49aS5DbGFtcChyKTtyZXR1cm4gbj0tMipuKm4qbiszKm4qbix0Km4rZSooMS1uKX0saS5Nb3ZlVG93YXJkcz1mdW5jdGlvbihlLHQscil7dmFyIG49MDtyZXR1cm4gTWF0aC5hYnModC1lKTw9cj9uPXQ6bj1lK2kuU2lnbih0LWUpKnIsbn0saS5Nb3ZlVG93YXJkc0FuZ2xlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLkRlbHRhQW5nbGUoZSx0KSxhPTA7cmV0dXJuLXI8biYmbjxyP2E9dDoodD1lK24sYT1pLk1vdmVUb3dhcmRzKGUsdCxyKSksYX0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSsodC1lKSpyfSxpLkxlcnBBbmdsZT1mdW5jdGlvbihlLHQscil7dmFyIG49aS5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIG4+MTgwJiYobi09MzYwKSxlK24qaS5DbGFtcChyKX0saS5JbnZlcnNlTGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49MDtyZXR1cm4gZSE9dD9uPWkuQ2xhbXAoKHItZSkvKHQtZSkpOm49MCxufSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXM7cmV0dXJuIGUqdStyKmYrdCpsK24qaH0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYTtyZXR1cm4ocy1hKSo2KmUrKDMqcy00KmErMSkqdCsoLXMrYSkqNipyKygzKnMtMiphKSpufSxpLlJhbmRvbVJhbmdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10P2U6TWF0aC5yYW5kb20oKSoodC1lKStlfSxpLlJhbmdlVG9QZXJjZW50PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4oZS10KS8oci10KX0saS5QZXJjZW50VG9SYW5nZT1mdW5jdGlvbihlLHQscil7cmV0dXJuKHItdCkqZSt0fSxpLk5vcm1hbGl6ZVJhZGlhbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUtPWkuVHdvUGkqTWF0aC5mbG9vcigoZStNYXRoLlBJKS9pLlR3b1BpKSxlfSxpLkhDRj1mdW5jdGlvbihlLHQpe3ZhciByPWUldDtyZXR1cm4gcj09PTA/dDppLkhDRih0LHIpfSxpLlR3b1BpPU1hdGguUEkqMixpfSgpLE50PTEvMi4yLEJ0PTIuMixmZT0uMDAxLE1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5CdWlsZEFycmF5PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGU7KytuKXIucHVzaCh0KCkpO3JldHVybiByfSxpLkJ1aWxkVHVwbGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5CdWlsZEFycmF5KGUsdCl9LGl9KCksU2k9e307ZnVuY3Rpb24gT2UoaSxlKXtTaVtpXT1lfWZ1bmN0aW9uIFJ0KGkpe3JldHVybiBTaVtpXX12YXIgcGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXtlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKSx0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cn1yZXR1cm4gaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIn0ifSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ29sb3IzIn0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYix0aGlzfSxpLnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksaS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc30saS5wcm90b3R5cGUudG9Db2xvcjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTEpLG5ldyBfZSh0aGlzLnIsdGhpcy5nLHRoaXMuYixlKX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3ZhciBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX0saS5wcm90b3R5cGUudG9MdW1pbmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yKi4zK3RoaXMuZyouNTkrdGhpcy5iKi4xMX0saS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iKX0saS5wcm90b3R5cGUubXVsdGlwbHlUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMucj09PWUuciYmdGhpcy5nPT09ZS5nJiZ0aGlzLmI9PT1lLmJ9LGkucHJvdG90eXBlLmVxdWFsc0Zsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMucj09PWUmJnRoaXMuZz09PXQmJnRoaXMuYj09PXJ9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdGhpc30saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0aGlzfSxpLnByb3RvdHlwZS5jbGFtcFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MSksci5yPSQuQ2xhbXAodGhpcy5yLGUsdCksci5nPSQuQ2xhbXAodGhpcy5nLGUsdCksci5iPSQuQ2xhbXAodGhpcy5iLGUsdCksdGhpc30saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYil9LGkucHJvdG90eXBlLmFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnIrZS5yLHQuZz10aGlzLmcrZS5nLHQuYj10aGlzLmIrZS5iLHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnItZS5yLHRoaXMuZy1lLmcsdGhpcy5iLWUuYil9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdGhpc30saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5yLHRoaXMuZyx0aGlzLmIpfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxyKX0saS5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnJvdW5kKHRoaXMucioyNTUpLHQ9TWF0aC5yb3VuZCh0aGlzLmcqMjU1KSxyPU1hdGgucm91bmQodGhpcy5iKjI1NSk7cmV0dXJuIiMiKyQuVG9IZXgoZSkrJC5Ub0hleCh0KSskLlRvSGV4KHIpfSxpLnByb3RvdHlwZS50b0xpbmVhclNwYWNlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvSFNWPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIHRoaXMudG9IU1ZUb1JlZihlKSxlfSxpLnByb3RvdHlwZS50b0hTVlRvUmVmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucixyPXRoaXMuZyxuPXRoaXMuYixhPU1hdGgubWF4KHQscixuKSxzPU1hdGgubWluKHQscixuKSxvPTAsdT0wLGY9YSxsPWEtczthIT09MCYmKHU9bC9hKSxhIT1zJiYoYT09dD8obz0oci1uKS9sLHI8biYmKG8rPTYpKTphPT1yP289KG4tdCkvbCsyOmE9PW4mJihvPSh0LXIpL2wrNCksbyo9NjApLGUucj1vLGUuZz11LGUuYj1mfSxpLnByb3RvdHlwZS50b0xpbmVhclNwYWNlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIsQnQpLGUuZz1NYXRoLnBvdyh0aGlzLmcsQnQpLGUuYj1NYXRoLnBvdyh0aGlzLmIsQnQpLHRoaXN9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLE50KSxlLmc9TWF0aC5wb3codGhpcy5nLE50KSxlLmI9TWF0aC5wb3codGhpcy5iLE50KSx0aGlzfSxpLkhTVnRvUkdCVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9cip0LHM9ZS82MCxvPWEqKDEtTWF0aC5hYnMocyUyLTEpKSx1PTAsZj0wLGw9MDtzPj0wJiZzPD0xPyh1PWEsZj1vKTpzPj0xJiZzPD0yPyh1PW8sZj1hKTpzPj0yJiZzPD0zPyhmPWEsbD1vKTpzPj0zJiZzPD00PyhmPW8sbD1hKTpzPj00JiZzPD01Pyh1PW8sbD1hKTpzPj01JiZzPD02JiYodT1hLGw9byk7dmFyIGg9ci1hO24uc2V0KHUraCxmK2gsbCtoKX0saS5Gcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09NylyZXR1cm4gbmV3IGkoMCwwLDApO3ZhciB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLHI9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNiksbj1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KTtyZXR1cm4gaS5Gcm9tSW50cyh0LHIsbil9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdLGVbdCsyXSl9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PTApLHIucj1lW3RdLHIuZz1lW3QrMV0sci5iPWVbdCsyXX0saS5Gcm9tSW50cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBpKGUvMjU1LHQvMjU1LHIvMjU1KX0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCk7cmV0dXJuIGkuTGVycFRvUmVmKGUsdCxyLG4pLG59LGkuTGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe24ucj1lLnIrKHQuci1lLnIpKnIsbi5nPWUuZysodC5nLWUuZykqcixuLmI9ZS5iKyh0LmItZS5iKSpyfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLnIqdStyLnIqZit0LnIqbCtuLnIqaCxkPWUuZyp1K3IuZypmK3QuZypsK24uZypoLHA9ZS5iKnUrci5iKmYrdC5iKmwrbi5iKmg7cmV0dXJuIG5ldyBpKGMsZCxwKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWkuQmxhY2soKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxyLG4sYSxzKSxzfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWEqYTtzLnI9KG8tYSkqNiplLnIrKDMqby00KmErMSkqdC5yKygtbythKSo2KnIucisoMypvLTIqYSkqbi5yLHMuZz0oby1hKSo2KmUuZysoMypvLTQqYSsxKSp0LmcrKC1vK2EpKjYqci5nKygzKm8tMiphKSpuLmcscy5iPShvLWEpKjYqZS5iKygzKm8tNCphKzEpKnQuYisoLW8rYSkqNipyLmIrKDMqby0yKmEpKm4uYn0saS5SZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwwLDApfSxpLkdyZWVuPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMSwwKX0saS5CbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwxKX0saS5CbGFjaz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJCbGFja1JlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0JsYWNrUmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5XaGl0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDEsMSl9LGkuUHVycGxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC41LDAsLjUpfSxpLk1hZ2VudGE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwwLDEpfSxpLlllbGxvdz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDEsMCl9LGkuR3JheT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSguNSwuNSwuNSl9LGkuVGVhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDEsMSl9LGkuUmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSxNYXRoLnJhbmRvbSgpKX0saS5fQmxhY2tSZWFkT25seT1pLkJsYWNrKCksaX0oKSxfZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7ZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MSksdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPXIsdGhpcy5hPW59cmV0dXJuIGkucHJvdG90eXBlLmFkZEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucis9ZS5yLHRoaXMuZys9ZS5nLHRoaXMuYis9ZS5iLHRoaXMuYSs9ZS5hLHRoaXN9LGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLGVbdCszXT10aGlzLmEsdGhpc30saS5wcm90b3R5cGUuZnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGkuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYiYmdGhpcy5hPT09ZS5hfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iLHRoaXMuYStlLmEpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIsdGhpcy5hLWUuYSl9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdC5hPXRoaXMuYS1lLmEsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuciplLHRoaXMuZyplLHRoaXMuYiplLHRoaXMuYSplKX0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUsdC5nPXRoaXMuZyplLHQuYj10aGlzLmIqZSx0LmE9dGhpcy5hKmUsdGhpc30saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0LmErPXRoaXMuYSplLHRoaXN9LGkucHJvdG90eXBlLmNsYW1wVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0xKSxyLnI9JC5DbGFtcCh0aGlzLnIsZSx0KSxyLmc9JC5DbGFtcCh0aGlzLmcsZSx0KSxyLmI9JC5DbGFtcCh0aGlzLmIsZSx0KSxyLmE9JC5DbGFtcCh0aGlzLmEsZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yKmUucix0aGlzLmcqZS5nLHRoaXMuYiplLmIsdGhpcy5hKmUuYSl9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLnIsdC5nPXRoaXMuZyplLmcsdC5iPXRoaXMuYiplLmIsdC5hPXRoaXMuYSplLmEsdH0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIiBBOiIrdGhpcy5hKyJ9In0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkNvbG9yNCJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZT1lKjM5N14odGhpcy5hKjI1NXwwKSxlfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpcy5hPWUuYSx0aGlzfSxpLnByb3RvdHlwZS5jb3B5RnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPXIsdGhpcy5hPW4sdGhpc30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxyLG4pfSxpLnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbihlKXtlPT09dm9pZCAwJiYoZT0hMSk7dmFyIHQ9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSxyPU1hdGgucm91bmQodGhpcy5nKjI1NSksbj1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO2lmKGUpcmV0dXJuIiMiKyQuVG9IZXgodCkrJC5Ub0hleChyKSskLlRvSGV4KG4pO3ZhciBhPU1hdGgucm91bmQodGhpcy5hKjI1NSk7cmV0dXJuIiMiKyQuVG9IZXgodCkrJC5Ub0hleChyKSskLlRvSGV4KG4pKyQuVG9IZXgoYSl9LGkucHJvdG90eXBlLnRvTGluZWFyU3BhY2U9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy50b0xpbmVhclNwYWNlVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9MaW5lYXJTcGFjZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLEJ0KSxlLmc9TWF0aC5wb3codGhpcy5nLEJ0KSxlLmI9TWF0aC5wb3codGhpcy5iLEJ0KSxlLmE9dGhpcy5hLHRoaXN9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvR2FtbWFTcGFjZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLE50KSxlLmc9TWF0aC5wb3codGhpcy5nLE50KSxlLmI9TWF0aC5wb3codGhpcy5iLE50KSxlLmE9dGhpcy5hLHRoaXN9LGkuRnJvbUhleFN0cmluZz1mdW5jdGlvbihlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTkmJmUubGVuZ3RoIT09NylyZXR1cm4gbmV3IGkoMCwwLDAsMCk7dmFyIHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSwzKSwxNikscj1wYXJzZUludChlLnN1YnN0cmluZygzLDUpLDE2KSxuPXBhcnNlSW50KGUuc3Vic3RyaW5nKDUsNyksMTYpLGE9ZS5sZW5ndGg9PT05P3BhcnNlSW50KGUuc3Vic3RyaW5nKDcsOSksMTYpOjI1NTtyZXR1cm4gaS5Gcm9tSW50cyh0LHIsbixhKX0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCwwKTtyZXR1cm4gaS5MZXJwVG9SZWYoZSx0LHIsbiksbn0saS5MZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7bi5yPWUucisodC5yLWUucikqcixuLmc9ZS5nKyh0LmctZS5nKSpyLG4uYj1lLmIrKHQuYi1lLmIpKnIsbi5hPWUuYSsodC5hLWUuYSkqcn0saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS5yKnUrci5yKmYrdC5yKmwrbi5yKmgsZD1lLmcqdStyLmcqZit0LmcqbCtuLmcqaCxwPWUuYip1K3IuYipmK3QuYipsK24uYipoLF89ZS5hKnUrci5hKmYrdC5hKmwrbi5hKmg7cmV0dXJuIG5ldyBpKGMsZCxwLF8pfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bmV3IGk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy5yPShvLWEpKjYqZS5yKygzKm8tNCphKzEpKnQucisoLW8rYSkqNipyLnIrKDMqby0yKmEpKm4ucixzLmc9KG8tYSkqNiplLmcrKDMqby00KmErMSkqdC5nKygtbythKSo2KnIuZysoMypvLTIqYSkqbi5nLHMuYj0oby1hKSo2KmUuYisoMypvLTQqYSsxKSp0LmIrKC1vK2EpKjYqci5iKygzKm8tMiphKSpuLmIscy5hPShvLWEpKjYqZS5hKygzKm8tNCphKzEpKnQuYSsoLW8rYSkqNipyLmErKDMqby0yKmEpKm4uYX0saS5Gcm9tQ29sb3IzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTEpLG5ldyBpKGUucixlLmcsZS5iLHQpfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9MCksci5yPWVbdF0sci5nPWVbdCsxXSxyLmI9ZVt0KzJdLHIuYT1lW3QrM119LGkuRnJvbUludHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKGUvMjU1LHQvMjU1LHIvMjU1LG4vMjU1KX0saS5DaGVja0NvbG9yczQ9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aD09PXQqMyl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rPTMpe3ZhciBhPW4vMyo0O3JbYV09ZVtuXSxyW2ErMV09ZVtuKzFdLHJbYSsyXT1lW24rMl0sclthKzNdPTF9cmV0dXJuIHJ9cmV0dXJuIGV9LGl9KCksaHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkNvbG9yMz1NZS5CdWlsZEFycmF5KDMscGUuQmxhY2spLGkuQ29sb3I0PU1lLkJ1aWxkQXJyYXkoMyxmdW5jdGlvbigpe3JldHVybiBuZXcgX2UoMCwwLDAsMCl9KSxpfSgpO09lKCJCQUJZTE9OLkNvbG9yMyIscGUpLE9lKCJCQUJZTE9OLkNvbG9yNCIsX2UpO3ZhciBNaT1mdW5jdGlvbihpLGUpe3JldHVybiFpfHxpLmdldENsYXNzTmFtZSYmaS5nZXRDbGFzc05hbWUoKT09PSJNZXNoIj9udWxsOmkuZ2V0Q2xhc3NOYW1lJiZpLmdldENsYXNzTmFtZSgpPT09IlN1Yk1lc2giP2kuY2xvbmUoZSk6aS5jbG9uZT9pLmNsb25lKCk6bnVsbH07ZnVuY3Rpb24gam4oaSl7dmFyIGU9W107ZG8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaSkuZm9yRWFjaChmdW5jdGlvbih0KXtlLmluZGV4T2YodCk9PT0tMSYmZS5wdXNoKHQpfSk7d2hpbGUoaT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoaSkpO3JldHVybiBlfXZhciBHcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuRGVlcENvcHk9ZnVuY3Rpb24oZSx0LHIsbil7Zm9yKHZhciBhPWpuKGUpLHM9MCxvPWE7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107aWYoISh1WzBdPT09Il8iJiYoIW58fG4uaW5kZXhPZih1KT09PS0xKSkmJiFNbih1LCJPYnNlcnZhYmxlIikmJiEociYmci5pbmRleE9mKHUpIT09LTEpKXt2YXIgZj1lW3VdLGw9dHlwZW9mIGY7aWYobCE9PSJmdW5jdGlvbiIpdHJ5e2lmKGw9PT0ib2JqZWN0IilpZihmIGluc3RhbmNlb2YgQXJyYXkpe2lmKHRbdV09W10sZi5sZW5ndGg+MClpZih0eXBlb2YgZlswXT09Im9iamVjdCIpZm9yKHZhciBoPTA7aDxmLmxlbmd0aDtoKyspe3ZhciBjPU1pKGZbaF0sdCk7dFt1XS5pbmRleE9mKGMpPT09LTEmJnRbdV0ucHVzaChjKX1lbHNlIHRbdV09Zi5zbGljZSgwKX1lbHNlIHRbdV09TWkoZix0KTtlbHNlIHRbdV09Zn1jYXRjaChkKXt6Lldhcm4oZC5tZXNzYWdlKX19fX0saX0oKTtmdW5jdGlvbiBLbigpe3JldHVybiB0eXBlb2YgX25hdGl2ZSE9InVuZGVmaW5lZCImJl9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q/bmV3IF9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q6bmV3IFhNTEh0dHBSZXF1ZXN0fXZhciBjcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl94aHI9S24oKX1yZXR1cm4gaS5wcm90b3R5cGUuX2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGkuQ3VzdG9tUmVxdWVzdEhlYWRlcnMpe3ZhciB0PWkuQ3VzdG9tUmVxdWVzdEhlYWRlcnNbZV07dCYmdGhpcy5feGhyLnNldFJlcXVlc3RIZWFkZXIoZSx0KX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25wcm9ncmVzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIub25wcm9ncmVzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3hoci5vbnByb2dyZXNzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyZWFkeVN0YXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5yZWFkeVN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RhdHVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGF0dXNUZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXNUZXh0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVzcG9uc2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVzcG9uc2VVUkwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVVJMfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVzcG9uc2VUZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVRleHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyZXNwb25zZVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVHlwZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3hoci5yZXNwb25zZVR5cGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRpbWVvdXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnRpbWVvdXR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl94aHIudGltZW91dD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3hoci5hZGRFdmVudExpc3RlbmVyKGUsdCxyKX0saS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQscil7dGhpcy5feGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LHIpfSxpLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuX3hoci5hYm9ydCgpfSxpLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2kuQ3VzdG9tUmVxdWVzdEhlYWRlcnMmJnRoaXMuX2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzKCksdGhpcy5feGhyLnNlbmQoZSl9LGkucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPWkuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthKHRoaXMuX3hocix0KX1yZXR1cm4gdD10LnJlcGxhY2UoImZpbGU6aHR0cDoiLCJodHRwOiIpLHQ9dC5yZXBsYWNlKCJmaWxlOmh0dHBzOiIsImh0dHBzOiIpLHRoaXMuX3hoci5vcGVuKGUsdCwhMCl9LGkucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSxpLnByb3RvdHlwZS5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5feGhyLmdldFJlc3BvbnNlSGVhZGVyKGUpfSxpLkN1c3RvbVJlcXVlc3RIZWFkZXJzPXt9LGkuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycz1uZXcgQXJyYXksaX0oKSxkcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuRmlsZXNUb0xvYWQ9e30saX0oKSxZbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuRXhwb25lbnRpYWxCYWNrb2ZmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTMpLHQ9PT12b2lkIDAmJih0PTUwMCksZnVuY3Rpb24ocixuLGEpe3JldHVybiBuLnN0YXR1cyE9PTB8fGE+PWV8fHIuaW5kZXhPZigiZmlsZToiKSE9PS0xPy0xOk1hdGgucG93KDIsYSkqdH19LGl9KCksSnQ9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBlLl9zZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQscil7cmV0dXJuIHQuX19wcm90b19fPXIsdH0sZX0oRXJyb3IpLFB0PXtNZXNoSW52YWxpZFBvc2l0aW9uc0Vycm9yOjAsVW5zdXBwb3J0ZWRUZXh0dXJlRXJyb3I6MWUzLEdMVEZMb2FkZXJVbmV4cGVjdGVkTWFnaWNFcnJvcjoyZTMsU2NlbmVMb2FkZXJFcnJvcjozZTMsTG9hZEZpbGVFcnJvcjo0ZTMsUmVxdWVzdEZpbGVFcnJvcjo0MDAxLFJlYWRGaWxlRXJyb3I6NDAwMn0sQ3Q9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBhLmVycm9yQ29kZT1yLGEuaW5uZXJFcnJvcj1uLGEubmFtZT0iUnVudGltZUVycm9yIixKdC5fc2V0UHJvdG90eXBlT2YoYSxlLnByb3RvdHlwZSksYX1yZXR1cm4gZX0oSnQpLHByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5TZXRJbW1lZGlhdGU9ZnVuY3Rpb24oZSl7ZGUoKSYmd2luZG93LnNldEltbWVkaWF0ZT93aW5kb3cuc2V0SW1tZWRpYXRlKGUpOnNldFRpbWVvdXQoZSwxKX0saX0oKSxlcixxbj1mdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8sdSxmKXtlcj17RGVjb2RlQmFzZTY0VXJsVG9CaW5hcnk6aSxEZWNvZGVCYXNlNjRVcmxUb1N0cmluZzplLERlZmF1bHRSZXRyeVN0cmF0ZWd5OnQuRGVmYXVsdFJldHJ5U3RyYXRlZ3ksQmFzZVVybDp0LkJhc2VVcmwsQ29yc0JlaGF2aW9yOnQuQ29yc0JlaGF2aW9yLFByZXByb2Nlc3NVcmw6dC5QcmVwcm9jZXNzVXJsLElzQmFzZTY0RGF0YVVybDpyLElzRmlsZVVSTDpuLExvYWRGaWxlOmEsTG9hZEltYWdlOnMsUmVhZEZpbGU6byxSZXF1ZXN0RmlsZTp1LFNldENvcnNCZWhhdmlvcjpmfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXIsIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihsKXt0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGVyLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGwpe3QuQmFzZVVybD1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlciwiUHJlcHJvY2Vzc1VybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlByZXByb2Nlc3NVcmx9LHNldDpmdW5jdGlvbihsKXt0LlByZXByb2Nlc3NVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXIsIkNvcnNCZWhhdmlvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGwpe3QuQ29yc0JlaGF2aW9yPWx9fSl9LFpuPW5ldyBSZWdFeHAoL15kYXRhOihbXixdK1wvW14sXSspPztiYXNlNjQsL2kpLEFpPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxQdC5Mb2FkRmlsZUVycm9yKXx8dGhpcztyZXR1cm4gbi5uYW1lPSJMb2FkRmlsZUVycm9yIixKdC5fc2V0UHJvdG90eXBlT2YobixlLnByb3RvdHlwZSksciBpbnN0YW5jZW9mIGNyP24ucmVxdWVzdD1yOm4uZmlsZT1yLG59cmV0dXJuIGV9KEN0KSxSaT1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQsUHQuUmVxdWVzdEZpbGVFcnJvcil8fHRoaXM7cmV0dXJuIG4ucmVxdWVzdD1yLG4ubmFtZT0iUmVxdWVzdEZpbGVFcnJvciIsSnQuX3NldFByb3RvdHlwZU9mKG4sZS5wcm90b3R5cGUpLG59cmV0dXJuIGV9KEN0KSxRbj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQsUHQuUmVhZEZpbGVFcnJvcil8fHRoaXM7cmV0dXJuIG4uZmlsZT1yLG4ubmFtZT0iUmVhZEZpbGVFcnJvciIsSnQuX3NldFByb3RvdHlwZU9mKG4sZS5wcm90b3R5cGUpLG59cmV0dXJuIGV9KEN0KSxUZT17RGVmYXVsdFJldHJ5U3RyYXRlZ3k6WW4uRXhwb25lbnRpYWxCYWNrb2ZmKCksQmFzZVVybDoiIixDb3JzQmVoYXZpb3I6ImFub255bW91cyIsUHJlcHJvY2Vzc1VybDpmdW5jdGlvbihpKXtyZXR1cm4gaX19LFBpPWZ1bmN0aW9uKGkpe3JldHVybiBpPWkucmVwbGFjZSgvIy9tZywiJTIzIiksaX0sWHI9ZnVuY3Rpb24oaSxlKXtpZighKGkmJmkuaW5kZXhPZigiZGF0YToiKT09PTApJiZUZS5Db3JzQmVoYXZpb3IpaWYodHlwZW9mIFRlLkNvcnNCZWhhdmlvcj09InN0cmluZyJ8fFRlLkNvcnNCZWhhdmlvciBpbnN0YW5jZW9mIFN0cmluZyllLmNyb3NzT3JpZ2luPVRlLkNvcnNCZWhhdmlvcjtlbHNle3ZhciB0PVRlLkNvcnNCZWhhdmlvcihpKTt0JiYoZS5jcm9zc09yaWdpbj10KX19LEhyPWZ1bmN0aW9uKGksZSx0LHIsbixhKXt2YXIgcztuPT09dm9pZCAwJiYobj0iIik7dmFyIG8sdT0hMTtpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhpKT90eXBlb2YgQmxvYiE9InVuZGVmaW5lZCI/KG89VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbaV0se3R5cGU6bn0pKSx1PSEwKTpvPSJkYXRhOiIuY29uY2F0KG4sIjtiYXNlNjQsIikrYmkoaSk6aSBpbnN0YW5jZW9mIEJsb2I/KG89VVJMLmNyZWF0ZU9iamVjdFVSTChpKSx1PSEwKToobz1QaShpKSxvPVRlLlByZXByb2Nlc3NVcmwoaSkpO3ZhciBmPUouTGFzdENyZWF0ZWRFbmdpbmUsbD1mdW5jdGlvbih2KXtpZih0KXt2YXIgUz1vfHxpLnRvU3RyaW5nKCk7dCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIuY29uY2F0KFMuaW5kZXhPZigiaHR0cCIpPT09MHx8Uy5sZW5ndGg8PTEyOD9TOlMuc2xpY2UoMCwxMjgpKyIuLi4iKSx2KX19O2lmKHR5cGVvZiBJbWFnZT09InVuZGVmaW5lZCJ8fCgocz1mPT1udWxsP3ZvaWQgMDpmLl9mZWF0dXJlcy5mb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50KSE9PW51bGwmJnMhPT12b2lkIDA/czohMSkpcmV0dXJuIER0KG8sZnVuY3Rpb24odil7Zi5jcmVhdGVJbWFnZUJpdG1hcChuZXcgQmxvYihbdl0se3R5cGU6bn0pLGNlKHtwcmVtdWx0aXBseUFscGhhOiJub25lIn0sYSkpLnRoZW4oZnVuY3Rpb24oUyl7ZShTKSx1JiZVUkwucmV2b2tlT2JqZWN0VVJMKG8pfSkuY2F0Y2goZnVuY3Rpb24oUyl7dCYmdCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIraSxTKX0pfSx2b2lkIDAscnx8dm9pZCAwLCEwLGZ1bmN0aW9uKHYsUyl7bChTKX0pLG51bGw7dmFyIGg9bmV3IEltYWdlO1hyKG8saCk7dmFyIGM9ZnVuY3Rpb24oKXtoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGMpLGgucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGUoaCksdSYmaC5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwoaC5zcmMpfSxkPWZ1bmN0aW9uKHYpe2gucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsYyksaC5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsZCksbCh2KSx1JiZoLnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTChoLnNyYyl9O2guYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsYyksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCk7dmFyIHA9ZnVuY3Rpb24oKXtoLnNyYz1vfSxfPWZ1bmN0aW9uKCl7ciYmci5sb2FkSW1hZ2UobyxoKX07aWYoby5zdWJzdHIoMCw1KSE9PSJibG9iOiImJm8uc3Vic3RyKDAsNSkhPT0iZGF0YToiJiZyJiZyLmVuYWJsZVRleHR1cmVzT2ZmbGluZSlyLm9wZW4oXyxwKTtlbHNle2lmKG8uaW5kZXhPZigiZmlsZToiKSE9PS0xKXt2YXIgZz1kZWNvZGVVUklDb21wb25lbnQoby5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7aWYoZHIuRmlsZXNUb0xvYWRbZ10pe3RyeXt2YXIgbTt0cnl7bT1VUkwuY3JlYXRlT2JqZWN0VVJMKGRyLkZpbGVzVG9Mb2FkW2ddKX1jYXRjaHttPVVSTC5jcmVhdGVPYmplY3RVUkwoZHIuRmlsZXNUb0xvYWRbZ10pfWguc3JjPW0sdT0hMH1jYXRjaHtoLnNyYz0iIn1yZXR1cm4gaH19cCgpfXJldHVybiBofSx0cj1mdW5jdGlvbihpLGUsdCxyLG4pe3ZhciBhPW5ldyBGaWxlUmVhZGVyLHM9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBPLGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuYWJvcnQoKX19O3JldHVybiBhLm9ubG9hZGVuZD1mdW5jdGlvbihvKXtyZXR1cm4gcy5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyl9LG4mJihhLm9uZXJyb3I9ZnVuY3Rpb24obyl7bihuZXcgUW4oIlVuYWJsZSB0byByZWFkICIuY29uY2F0KGkubmFtZSksaSkpfSksYS5vbmxvYWQ9ZnVuY3Rpb24obyl7ZShvLnRhcmdldC5yZXN1bHQpfSx0JiYoYS5vbnByb2dyZXNzPXQpLHI/YS5yZWFkQXNBcnJheUJ1ZmZlcihpKTphLnJlYWRBc1RleHQoaSksc30sRHQ9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7aWYoaS5uYW1lKXJldHVybiB0cihpLGUsdCxuLGE/ZnVuY3Rpb24oaCl7YSh2b2lkIDAsaCl9OnZvaWQgMCk7dmFyIG89aTtpZihvLmluZGV4T2YoImZpbGU6IikhPT0tMSl7dmFyIHU9ZGVjb2RlVVJJQ29tcG9uZW50KG8uc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO3UuaW5kZXhPZigiLi8iKT09PTAmJih1PXUuc3Vic3RyaW5nKDIpKTt2YXIgZj1kci5GaWxlc1RvTG9hZFt1XTtpZihmKXJldHVybiB0cihmLGUsdCxuLGE/ZnVuY3Rpb24oaCl7cmV0dXJuIGEodm9pZCAwLG5ldyBBaShoLm1lc3NhZ2UsaC5maWxlKSl9OnZvaWQgMCl9aWYoX3Iobykpe3ZhciBsPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fTt0cnl7ZShuP0tyKG8pOkRpKG8pKX1jYXRjaChoKXthP2Eodm9pZCAwLGgpOnouRXJyb3IoaC5tZXNzYWdlfHwiRmFpbGVkIHRvIHBhcnNlIHRoZSBEYXRhIFVSTCIpfXJldHVybiBwci5TZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXtsLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKX0pLGx9cmV0dXJuIGpyKG8sZnVuY3Rpb24oaCxjKXtlKGgsYz9jLnJlc3BvbnNlVVJMOnZvaWQgMCl9LHQscixuLGE/ZnVuY3Rpb24oaCl7YShoLnJlcXVlc3QsbmV3IEFpKGgubWVzc2FnZSxoLnJlcXVlc3QpKX06dm9pZCAwLHMpfSxqcj1mdW5jdGlvbihpLGUsdCxyLG4sYSxzKXtpPVBpKGkpLGk9VGUuUHJlcHJvY2Vzc1VybChpKTt2YXIgbz1UZS5CYXNlVXJsK2ksdT0hMSxmPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiB1PSEwfX0sbD1mdW5jdGlvbigpe3ZhciBkPW5ldyBjcixwPW51bGwsXyxnPWZ1bmN0aW9uKCl7ZCYmKHQmJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLF8mJmQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsXyksZC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkZW5kIixnKSksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZiksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5jbGVhcigpfTtmLmFib3J0PWZ1bmN0aW9uKCl7dT0hMCxnKCksZCYmZC5yZWFkeVN0YXRlIT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpJiZkLmFib3J0KCkscCE9PW51bGwmJihjbGVhclRpbWVvdXQocCkscD1udWxsKSxkPW51bGx9O3ZhciBtPWZ1bmN0aW9uKFMpe3ZhciBNPVMubWVzc2FnZXx8IlVua25vd24gZXJyb3IiO2EmJmQ/YShuZXcgUmkoTSxkKSk6ei5FcnJvcihNKX0sdj1mdW5jdGlvbihTKXtpZighIWQpe2lmKGQub3BlbigiR0VUIixvKSxzKXRyeXtzKGQpfWNhdGNoKE0pe20oTSk7cmV0dXJufW4mJihkLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0JiZkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix0KSxkLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLGcpLF89ZnVuY3Rpb24oKXtpZighKHV8fCFkKSYmZC5yZWFkeVN0YXRlPT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpKXtpZihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLF8pLGQuc3RhdHVzPj0yMDAmJmQuc3RhdHVzPDMwMHx8ZC5zdGF0dXM9PT0wJiYoIWRlKCl8fENpKCkpKXt0cnl7ZShuP2QucmVzcG9uc2U6ZC5yZXNwb25zZVRleHQsZCl9Y2F0Y2goeSl7bSh5KX1yZXR1cm59dmFyIE09VGUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k7aWYoTSl7dmFyIEE9TShvLGQsUyk7aWYoQSE9PS0xKXtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLGcpLGQ9bmV3IGNyLHA9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB2KFMrMSl9LEEpO3JldHVybn19dmFyIFI9bmV3IFJpKCJFcnJvciBzdGF0dXM6ICIrZC5zdGF0dXMrIiAiK2Quc3RhdHVzVGV4dCsiIC0gVW5hYmxlIHRvIGxvYWQgIitvLGQpO2EmJmEoUil9fSxkLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLF8pLGQuc2VuZCgpfX07digwKX07aWYociYmci5lbmFibGVTY2VuZU9mZmxpbmUpe3ZhciBoPWZ1bmN0aW9uKGQpe2QmJmQuc3RhdHVzPjQwMD9hJiZhKGQpOmwoKX0sYz1mdW5jdGlvbigpe3ImJnIubG9hZEZpbGUoVGUuQmFzZVVybCtpLGZ1bmN0aW9uKGQpe3V8fGUoZCksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZil9LHQ/ZnVuY3Rpb24oZCl7dXx8dChkKX06dm9pZCAwLGgsbil9O3Iub3BlbihjLGgpfWVsc2UgbCgpO3JldHVybiBmfSxDaT1mdW5jdGlvbigpe3JldHVybiB0eXBlb2YgbG9jYXRpb24hPSJ1bmRlZmluZWQiJiZsb2NhdGlvbi5wcm90b2NvbD09PSJmaWxlOiJ9LF9yPWZ1bmN0aW9uKGkpe3JldHVybiBabi50ZXN0KGkpfTtmdW5jdGlvbiBLcihpKXtyZXR1cm4gQW4oaS5zcGxpdCgiLCIpWzFdKX12YXIgRGk9ZnVuY3Rpb24oaSl7cmV0dXJuIEVpKGkuc3BsaXQoIiwiKVsxXSl9LCRuPWZ1bmN0aW9uKCl7cmUuX0ZpbGVUb29sc0xvYWRJbWFnZT1IcixyZS5fRmlsZVRvb2xzTG9hZEZpbGU9RHQsWXQuX0ZpbGVUb29sc0xvYWRGaWxlPUR0fTskbigpLHFuKEtyLERpLFRlLF9yLENpLER0LEhyLHRyLGpyLFhyKTt2YXIgUWU7KGZ1bmN0aW9uKGkpe2lbaS5QZW5kaW5nPTBdPSJQZW5kaW5nIixpW2kuRnVsZmlsbGVkPTFdPSJGdWxmaWxsZWQiLGlbaS5SZWplY3RlZD0yXT0iUmVqZWN0ZWQifSkoUWV8fChRZT17fSkpO3ZhciBKbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvdW50PTAsdGhpcy50YXJnZXQ9MCx0aGlzLnJlc3VsdHM9W119cmV0dXJuIGl9KCksZWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5fc3RhdGU9UWUuUGVuZGluZyx0aGlzLl9jaGlsZHJlbj1uZXcgQXJyYXksdGhpcy5fcmVqZWN0V2FzQ29uc3VtZWQ9ITEsISFlKXRyeXtlKGZ1bmN0aW9uKHIpe3QuX3Jlc29sdmUocil9LGZ1bmN0aW9uKHIpe3QuX3JlamVjdChyKX0pfWNhdGNoKHIpe3RoaXMuX3JlamVjdChyKX19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX3Jlc3VsdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHRWYWx1ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3Jlc3VsdFZhbHVlPWUsdGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQuX3Jlc3VsdD09PXZvaWQgMCYmKHRoaXMuX3BhcmVudC5fcmVzdWx0PWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfSxpLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPW5ldyBpO3JldHVybiBuLl9vbkZ1bGZpbGxlZD1lLG4uX29uUmVqZWN0ZWQ9dCx0aGlzLl9jaGlsZHJlbi5wdXNoKG4pLG4uX3BhcmVudD10aGlzLHRoaXMuX3N0YXRlIT09UWUuUGVuZGluZyYmc2V0VGltZW91dChmdW5jdGlvbigpe3IuX3N0YXRlPT09UWUuRnVsZmlsbGVkfHxyLl9yZWplY3RXYXNDb25zdW1lZD9uLl9yZXNvbHZlKHIuX3Jlc3VsdCk6bi5fcmVqZWN0KHIuX3JlYXNvbil9KSxufSxpLnByb3RvdHlwZS5fbW92ZUNoaWxkcmVuPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcztpZigodD10aGlzLl9jaGlsZHJlbikucHVzaC5hcHBseSh0LGUuc3BsaWNlKDAsZS5sZW5ndGgpKSx0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGYpe2YuX3BhcmVudD1yfSksdGhpcy5fc3RhdGU9PT1RZS5GdWxmaWxsZWQpZm9yKHZhciBuPTAsYT10aGlzLl9jaGlsZHJlbjtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtzLl9yZXNvbHZlKHRoaXMuX3Jlc3VsdCl9ZWxzZSBpZih0aGlzLl9zdGF0ZT09PVFlLlJlamVjdGVkKWZvcih2YXIgbz0wLHU9dGhpcy5fY2hpbGRyZW47bzx1Lmxlbmd0aDtvKyspe3ZhciBzPXVbb107cy5fcmVqZWN0KHRoaXMuX3JlYXNvbil9fSxpLnByb3RvdHlwZS5fcmVzb2x2ZT1mdW5jdGlvbihlKXt0cnl7dGhpcy5fc3RhdGU9UWUuRnVsZmlsbGVkO3ZhciB0PW51bGw7aWYodGhpcy5fb25GdWxmaWxsZWQmJih0PXRoaXMuX29uRnVsZmlsbGVkKGUpKSx0IT1udWxsKWlmKHQuX3N0YXRlIT09dm9pZCAwKXt2YXIgcj10O3IuX3BhcmVudD10aGlzLHIuX21vdmVDaGlsZHJlbih0aGlzLl9jaGlsZHJlbiksZT1yLl9yZXN1bHR9ZWxzZSBlPXQ7dGhpcy5fcmVzdWx0PWU7Zm9yKHZhciBuPTAsYT10aGlzLl9jaGlsZHJlbjtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtzLl9yZXNvbHZlKGUpfXRoaXMuX2NoaWxkcmVuLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9vbkZ1bGZpbGxlZCxkZWxldGUgdGhpcy5fb25SZWplY3RlZH1jYXRjaChvKXt0aGlzLl9yZWplY3QobywhMCl9fSxpLnByb3RvdHlwZS5fcmVqZWN0PWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX3N0YXRlPVFlLlJlamVjdGVkLHRoaXMuX3JlYXNvbj1lLHRoaXMuX29uUmVqZWN0ZWQmJiF0KXRyeXt0aGlzLl9vblJlamVjdGVkKGUpLHRoaXMuX3JlamVjdFdhc0NvbnN1bWVkPSEwfWNhdGNoKHMpe2U9c31mb3IodmFyIHI9MCxuPXRoaXMuX2NoaWxkcmVuO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO3RoaXMuX3JlamVjdFdhc0NvbnN1bWVkP2EuX3Jlc29sdmUobnVsbCk6YS5fcmVqZWN0KGUpfXRoaXMuX2NoaWxkcmVuLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9vbkZ1bGZpbGxlZCxkZWxldGUgdGhpcy5fb25SZWplY3RlZH0saS5yZXNvbHZlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiB0Ll9yZXNvbHZlKGUpLHR9LGkuX1JlZ2lzdGVyRm9yRnVsZmlsbG1lbnQ9ZnVuY3Rpb24oZSx0LHIpe2UudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gdC5yZXN1bHRzW3JdPW4sdC5jb3VudCsrLHQuY291bnQ9PT10LnRhcmdldCYmdC5yb290UHJvbWlzZS5fcmVzb2x2ZSh0LnJlc3VsdHMpLG51bGx9LGZ1bmN0aW9uKG4pe3Qucm9vdFByb21pc2UuX3N0YXRlIT09UWUuUmVqZWN0ZWQmJnQucm9vdFByb21pc2UuX3JlamVjdChuKX0pfSxpLmFsbD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaSxyPW5ldyBKbjtpZihyLnRhcmdldD1lLmxlbmd0aCxyLnJvb3RQcm9taXNlPXQsZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaS5fUmVnaXN0ZXJGb3JGdWxmaWxsbWVudChlW25dLHIsbik7ZWxzZSB0Ll9yZXNvbHZlKFtdKTtyZXR1cm4gdH0saS5yYWNlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO2lmKGUubGVuZ3RoKWZvcih2YXIgcj0wLG49ZTtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLnRoZW4oZnVuY3Rpb24ocyl7cmV0dXJuIHQmJih0Ll9yZXNvbHZlKHMpLHQ9bnVsbCksbnVsbH0sZnVuY3Rpb24ocyl7dCYmKHQuX3JlamVjdChzKSx0PW51bGwpfSl9cmV0dXJuIHR9LGl9KCksdGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkFwcGx5PWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPSExKSxlfHx0eXBlb2YgUHJvbWlzZT09InVuZGVmaW5lZCIpe3ZhciB0PXdpbmRvdzt0LlByb21pc2U9ZWF9fSxpfSgpLGdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5JbnN0YW50aWF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMmJnRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc1tlXSlyZXR1cm4gdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdO3ZhciB0PVJ0KGUpO2lmKHQpcmV0dXJuIHQ7ei5XYXJuKGUrIiBub3QgZm91bmQsIHlvdSBtYXkgaGF2ZSBtaXNzZWQgYW4gaW1wb3J0LiIpO2Zvcih2YXIgcj1lLnNwbGl0KCIuIiksbj13aW5kb3d8fHRoaXMsYT0wLHM9ci5sZW5ndGg7YTxzO2ErKyluPW5bclthXV07cmV0dXJuIHR5cGVvZiBuIT0iZnVuY3Rpb24iP251bGw6bn0saS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPXt9LGl9KCk7ZnVuY3Rpb24geGkoKXtyZXR1cm4ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oaSl7dmFyIGU9TWF0aC5yYW5kb20oKSoxNnwwLHQ9aT09PSJ4Ij9lOmUmM3w4O3JldHVybiB0LnRvU3RyaW5nKDE2KX0pfXZhciB2cj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuU2xpY2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnNsaWNlP2Uuc2xpY2UodCxyKTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLHQscil9LGkuU2xpY2VUb0FycmF5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnNsaWNlKHQscik6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0LHIpfSxpfSgpLGllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkJhc2VVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVGUuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGUpe1RlLkJhc2VVcmw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRGVmYXVsdFJldHJ5U3RyYXRlZ3kiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVGUuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihlKXtUZS5EZWZhdWx0UmV0cnlTdHJhdGVneT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJDb3JzQmVoYXZpb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVGUuQ29yc0JlaGF2aW9yfSxzZXQ6ZnVuY3Rpb24oZSl7VGUuQ29yc0JlaGF2aW9yPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlVzZUZhbGxiYWNrVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBKLlVzZUZhbGxiYWNrVGV4dHVyZX0sc2V0OmZ1bmN0aW9uKGUpe0ouVXNlRmFsbGJhY2tUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ3IuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc30sc2V0OmZ1bmN0aW9uKGUpe2dyLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiZmFsbGJhY2tUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEouRmFsbGJhY2tUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7Si5GYWxsYmFja1RleHR1cmU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkZldGNoVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPU1hdGguYWJzKGUpKnIlcnwwLHU9TWF0aC5hYnModCkqbiVufDAsZj0obyt1KnIpKjQ7cy5yPWFbZl0vMjU1LHMuZz1hW2YrMV0vMjU1LHMuYj1hW2YrMl0vMjU1LHMuYT1hW2YrM10vMjU1fSxpLk1peD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUqKDEtcikrdCpyfSxpLkluc3RhbnRpYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBnci5JbnN0YW50aWF0ZShlKX0saS5TbGljZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHZyLlNsaWNlKGUsdCxyKX0saS5TbGljZVRvQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2ci5TbGljZVRvQXJyYXkoZSx0LHIpfSxpLlNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXtwci5TZXRJbW1lZGlhdGUoZSl9LGkuSXNFeHBvbmVudE9mVHdvPWZ1bmN0aW9uKGUpe3ZhciB0PTE7ZG8gdCo9Mjt3aGlsZSh0PGUpO3JldHVybiB0PT09ZX0saS5GbG9hdFJvdW5kPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmZyb3VuZD9NYXRoLmZyb3VuZChlKTooaS5fdG1wRmxvYXRBcnJheVswXT1lLGkuX3RtcEZsb2F0QXJyYXlbMF0pfSxpLkdldEZpbGVuYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gdDwwP2U6ZS5zdWJzdHJpbmcodCsxKX0saS5HZXRGb2xkZXJQYXRoPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gcjwwP3Q/ZToiIjplLnN1YnN0cmluZygwLHIrMSl9LGkuVG9EZWdyZWVzPWZ1bmN0aW9uKGUpe3JldHVybiBlKjE4MC9NYXRoLlBJfSxpLlRvUmFkaWFucz1mdW5jdGlvbihlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH0saS5NYWtlQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCE9PSEwJiYoZT09PXZvaWQgMHx8ZT09bnVsbCk/bnVsbDpBcnJheS5pc0FycmF5KGUpP2U6W2VdfSxpLkdldFBvaW50ZXJQcmVmaXg9ZnVuY3Rpb24oZSl7dmFyIHQ9InBvaW50ZXIiO3JldHVybiBkZSgpJiYhd2luZG93LlBvaW50ZXJFdmVudCYmKHQ9Im1vdXNlIiksZS5fYmFkRGVza3RvcE9TJiYhZS5fYmFkT1MmJiEoZG9jdW1lbnQmJiJvbnRvdWNoZW5kImluIGRvY3VtZW50KSYmKHQ9Im1vdXNlIiksdH0saS5TZXRDb3JzQmVoYXZpb3I9ZnVuY3Rpb24oZSx0KXtYcihlLHQpfSxpLkNsZWFuVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvIy9nbSwiJTIzIiksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlByZXByb2Nlc3NVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVGUuUHJlcHJvY2Vzc1VybH0sc2V0OmZ1bmN0aW9uKGUpe1RlLlByZXByb2Nlc3NVcmw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkxvYWRJbWFnZT1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIEhyKGUsdCxyLG4sYSxzKX0saS5Mb2FkRmlsZT1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIER0KGUsdCxyLG4sYSxzKX0saS5Mb2FkRmlsZUFzeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe0R0KGUsZnVuY3Rpb24oYSl7cihhKX0sdm9pZCAwLHZvaWQgMCx0LGZ1bmN0aW9uKGEscyl7bihzKX0pfSl9LGkuTG9hZFNjcmlwdD1mdW5jdGlvbihlLHQscixuKXtpZighIWRlKCkpe3ZhciBhPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0scz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtzLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvamF2YXNjcmlwdCIpLHMuc2V0QXR0cmlidXRlKCJzcmMiLGUpLG4mJihzLmlkPW4pLHMub25sb2FkPWZ1bmN0aW9uKCl7dCYmdCgpfSxzLm9uZXJyb3I9ZnVuY3Rpb24obyl7ciYmcigiVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICciLmNvbmNhdChlLCInIiksbyl9LGEuYXBwZW5kQ2hpbGQocyl9fSxpLkxvYWRTY3JpcHRBc3luYz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4sYSl7ci5Mb2FkU2NyaXB0KGUsZnVuY3Rpb24oKXtuKCl9LGZ1bmN0aW9uKHMsbyl7YShvKX0pfSl9LGkuUmVhZEZpbGVBc0RhdGFVUkw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBGaWxlUmVhZGVyLGE9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBPLGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uYWJvcnQoKX19O3JldHVybiBuLm9ubG9hZGVuZD1mdW5jdGlvbihzKXthLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX0sbi5vbmxvYWQ9ZnVuY3Rpb24ocyl7dChzLnRhcmdldC5yZXN1bHQpfSxuLm9ucHJvZ3Jlc3M9cixuLnJlYWRBc0RhdGFVUkwoZSksYX0saS5SZWFkRmlsZT1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiB0cihlLHQscixuLGEpfSxpLkZpbGVBc1VSTD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQmxvYihbZV0pLHI9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTCxuPXIuY3JlYXRlT2JqZWN0VVJMKHQpO3JldHVybiBufSxpLkZvcm1hdD1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0yKSxlLnRvRml4ZWQodCl9LGkuRGVlcENvcHk9ZnVuY3Rpb24oZSx0LHIsbil7R3IuRGVlcENvcHkoZSx0LHIsbil9LGkuSXNFbXB0eT1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXJldHVybiExO3JldHVybiEwfSxpLlJlZ2lzdGVyVG9wUm9vdEV2ZW50cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO2UuYWRkRXZlbnRMaXN0ZW5lcihuLm5hbWUsbi5oYW5kbGVyLCExKTt0cnl7d2luZG93LnBhcmVudCYmd2luZG93LnBhcmVudC5hZGRFdmVudExpc3RlbmVyKG4ubmFtZSxuLmhhbmRsZXIsITEpfWNhdGNoe319fSxpLlVucmVnaXN0ZXJUb3BSb290RXZlbnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4ubmFtZSxuLmhhbmRsZXIpO3RyeXtlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLm5hbWUsbi5oYW5kbGVyKX1jYXRjaHt9fX0saS5EdW1wRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3JldHVybiBhPT09dm9pZCAwJiYoYT0iaW1hZ2UvcG5nIiksQnIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG8sdTtyZXR1cm4gd3QodGhpcyxmdW5jdGlvbihmKXtzd2l0Y2goZi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHIucmVhZFBpeGVscygwLDAsZSx0KV07Y2FzZSAxOnJldHVybiBvPWYuc2VudCgpLHU9bmV3IFVpbnQ4QXJyYXkoby5idWZmZXIpLGkuRHVtcERhdGEoZSx0LHUsbixhLHMsITApLFsyXX19KX0pfSxpLkR1bXBEYXRhPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXthPT09dm9pZCAwJiYoYT0iaW1hZ2UvcG5nIiksbz09PXZvaWQgMCYmKG89ITEpLHU9PT12b2lkIDAmJih1PSExKSxpLl9TY3JlZW5zaG90Q2FudmFzfHwoaS5fU2NyZWVuc2hvdENhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSksaS5fU2NyZWVuc2hvdENhbnZhcy53aWR0aD1lLGkuX1NjcmVlbnNob3RDYW52YXMuaGVpZ2h0PXQ7dmFyIGw9aS5fU2NyZWVuc2hvdENhbnZhcy5nZXRDb250ZXh0KCIyZCIpO2lmKGwpe2lmKHIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2Zvcih2YXIgaD1uZXcgVWludDhBcnJheShyLmxlbmd0aCksYz1yLmxlbmd0aDtjLS07KXt2YXIgZD1yW2NdO2hbY109ZDwwPzA6ZD4xPzE6TWF0aC5yb3VuZChkKjI1NSl9cj1ofXZhciBwPWwuY3JlYXRlSW1hZ2VEYXRhKGUsdCksXz1wLmRhdGE7Xy5zZXQociksbC5wdXRJbWFnZURhdGEocCwwLDApO3ZhciBnPWkuX1NjcmVlbnNob3RDYW52YXM7aWYobyl7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7bS53aWR0aD1lLG0uaGVpZ2h0PXQ7dmFyIHY9bS5nZXRDb250ZXh0KCIyZCIpO2lmKCF2KXJldHVybjt2LnRyYW5zbGF0ZSgwLHQpLHYuc2NhbGUoMSwtMSksdi5kcmF3SW1hZ2UoaS5fU2NyZWVuc2hvdENhbnZhcywwLDApLGc9bX11P2kuVG9CbG9iKGcsZnVuY3Rpb24oUyl7dmFyIE09bmV3IEZpbGVSZWFkZXI7TS5vbmxvYWQ9ZnVuY3Rpb24oQSl7dmFyIFI9QS50YXJnZXQucmVzdWx0O24mJm4oUil9LE0ucmVhZEFzQXJyYXlCdWZmZXIoUyl9LGEsZik6aS5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShuLGEscyxnLGYpfX0saS5EdW1wRGF0YUFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7cmV0dXJuIG49PT12b2lkIDAmJihuPSJpbWFnZS9wbmciKSxzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITEpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKGYpe2kuRHVtcERhdGEoZSx0LHIsZnVuY3Rpb24obCl7cmV0dXJuIGYobCl9LG4sYSxzLG8sdSl9KX0saS5Ub0Jsb2I9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ImltYWdlL3BuZyIpLGUudG9CbG9ifHwoZS50b0Jsb2I9ZnVuY3Rpb24oYSxzLG8pe3ZhciB1PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgZj1hdG9iKHUudG9EYXRhVVJMKHMsbykuc3BsaXQoIiwiKVsxXSksbD1mLmxlbmd0aCxoPW5ldyBVaW50OEFycmF5KGwpLGM9MDtjPGw7YysrKWhbY109Zi5jaGFyQ29kZUF0KGMpO2EobmV3IEJsb2IoW2hdKSl9KX0pLGUudG9CbG9iKGZ1bmN0aW9uKGEpe3QoYSl9LHIsbil9LGkuRW5jb2RlU2NyZWVuc2hvdENhbnZhc0RhdGE9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0PT09dm9pZCAwJiYodD0iaW1hZ2UvcG5nIiksZSl7dmFyIHM9KG4hPW51bGw/bjppLl9TY3JlZW5zaG90Q2FudmFzKS50b0RhdGFVUkwodCxhKTtlKHMpfWVsc2UgdGhpcy5Ub0Jsb2IobiE9bnVsbD9uOmkuX1NjcmVlbnNob3RDYW52YXMsZnVuY3Rpb24obyl7aWYoImRvd25sb2FkImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSl7aWYoIXIpe3ZhciB1PW5ldyBEYXRlLGY9KHUuZ2V0RnVsbFllYXIoKSsiLSIrKHUuZ2V0TW9udGgoKSsxKSkuc2xpY2UoMikrIi0iK3UuZ2V0RGF0ZSgpKyJfIit1LmdldEhvdXJzKCkrIi0iKygiMCIrdS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKTtyPSJzY3JlZW5zaG90XyIrZisiLnBuZyJ9aS5Eb3dubG9hZChvLHIpfWVsc2UgaWYobyl7dmFyIGw9VVJMLmNyZWF0ZU9iamVjdFVSTChvKSxoPXdpbmRvdy5vcGVuKCIiKTtpZighaClyZXR1cm47dmFyIGM9aC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtjLm9ubG9hZD1mdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwobCl9LGMuc3JjPWwsaC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpfX0sdCxhKX0saS5Eb3dubG9hZD1mdW5jdGlvbihlLHQpe2lmKG5hdmlnYXRvciYmbmF2aWdhdG9yLm1zU2F2ZUJsb2Ipe25hdmlnYXRvci5tc1NhdmVCbG9iKGUsdCk7cmV0dXJufXZhciByPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksbi5zdHlsZS5kaXNwbGF5PSJub25lIixuLmhyZWY9cixuLmRvd25sb2FkPXQsbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtuLnBhcmVudEVsZW1lbnQmJm4ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChuKX0pLG4uY2xpY2soKSx3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChyKX0saS5CYWNrQ29tcGF0Q2FtZXJhTm9QcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGVbMF09PSJib29sZWFuIj9lWzBdOnR5cGVvZiBlWzFdPT0iYm9vbGVhbiI/ZVsxXTohMX0saS5DcmVhdGVTY3JlZW5zaG90PWZ1bmN0aW9uKGUsdCxyLG4sYSl7dGhyb3cgVSgiU2NyZWVuc2hvdFRvb2xzIil9LGkuQ3JlYXRlU2NyZWVuc2hvdEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4pe3Rocm93IFUoIlNjcmVlbnNob3RUb29scyIpfSxpLkNyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3Rocm93IFUoIlNjcmVlbnNob3RUb29scyIpfSxpLkNyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3Rocm93IFUoIlNjcmVlbnNob3RUb29scyIpfSxpLlJhbmRvbUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHhpKCl9LGkuSXNCYXNlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF9yKGUpfSxpLkRlY29kZUJhc2U2ND1mdW5jdGlvbihlKXtyZXR1cm4gS3IoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJlcnJvcnNDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB6LmVycm9yc0NvdW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuTG9nPWZ1bmN0aW9uKGUpe3ouTG9nKGUpfSxpLldhcm49ZnVuY3Rpb24oZSl7ei5XYXJuKGUpfSxpLkVycm9yPWZ1bmN0aW9uKGUpe3ouRXJyb3IoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMb2dDYWNoZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB6LkxvZ0NhY2hlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ2xlYXJMb2dDYWNoZT1mdW5jdGlvbigpe3ouQ2xlYXJMb2dDYWNoZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTG9nTGV2ZWxzIix7c2V0OmZ1bmN0aW9uKGUpe3ouTG9nTGV2ZWxzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlBlcmZvcm1hbmNlTG9nTGV2ZWwiLHtzZXQ6ZnVuY3Rpb24oZSl7aWYoKGUmaS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpPT09aS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpe2kuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fU3RhcnRVc2VyTWFyayxpLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1pLl9FbmRVc2VyTWFyaztyZXR1cm59aWYoKGUmaS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCk9PT1pLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsKXtpLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPWkuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlLGkuRW5kUGVyZm9ybWFuY2VDb3VudGVyPWkuX0VuZFBlcmZvcm1hbmNlQ29uc29sZTtyZXR1cm59aS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1pLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLGkuRW5kUGVyZm9ybWFuY2VDb3VudGVyPWkuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQ9ZnVuY3Rpb24oZSx0KXt9LGkuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9TdGFydFVzZXJNYXJrPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCFpLl9wZXJmb3JtYW5jZSl7aWYoIWRlKCkpcmV0dXJuO2kuX3BlcmZvcm1hbmNlPXdpbmRvdy5wZXJmb3JtYW5jZX0hdHx8IWkuX3BlcmZvcm1hbmNlLm1hcmt8fGkuX3BlcmZvcm1hbmNlLm1hcmsoZSsiLUJlZ2luIil9LGkuX0VuZFVzZXJNYXJrPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLCEoIXR8fCFpLl9wZXJmb3JtYW5jZS5tYXJrKSYmKGkuX3BlcmZvcm1hbmNlLm1hcmsoZSsiLUVuZCIpLGkuX3BlcmZvcm1hbmNlLm1lYXN1cmUoZSxlKyItQmVnaW4iLGUrIi1FbmQiKSl9LGkuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLCEhdCYmKGkuX1N0YXJ0VXNlck1hcmsoZSx0KSxjb25zb2xlLnRpbWUmJmNvbnNvbGUudGltZShlKSl9LGkuX0VuZFBlcmZvcm1hbmNlQ29uc29sZT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSEwKSwhIXQmJihpLl9FbmRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZUVuZChlKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJOb3ciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTHQuTm93fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuR2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPW51bGw7aWYoIXQmJmUuZ2V0Q2xhc3NOYW1lKXI9ZS5nZXRDbGFzc05hbWUoKTtlbHNle2lmKGUgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBuPXQ/ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cj1uLmNvbnN0cnVjdG9yLl9fYmpzY2xhc3NOYW1lX199cnx8KHI9dHlwZW9mIGUpfXJldHVybiByfSxpLkZpcnN0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj1lO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKHQoYSkpcmV0dXJuIGF9cmV0dXJuIG51bGx9LGkuZ2V0RnVsbENsYXNzTmFtZT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSExKTt2YXIgcj1udWxsLG49bnVsbDtpZighdCYmZS5nZXRDbGFzc05hbWUpcj1lLmdldENsYXNzTmFtZSgpO2Vsc2V7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIGE9dD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyPWEuY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfXyxuPWEuY29uc3RydWN0b3IuX19ianNtb2R1bGVOYW1lX199cnx8KHI9dHlwZW9mIGUpfXJldHVybiByPyhuIT1udWxsP24rIi4iOiIiKStyOm51bGx9LGkuRGVsYXlBc3luYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QoKX0sZSl9KX0saS5Jc1NhZmFyaT1mdW5jdGlvbigpe3JldHVybiB5aSgpPy9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk6ITF9LGkuVXNlQ3VzdG9tUmVxdWVzdEhlYWRlcnM9ITEsaS5DdXN0b21SZXF1ZXN0SGVhZGVycz1jci5DdXN0b21SZXF1ZXN0SGVhZGVycyxpLl90bXBGbG9hdEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMSksaS5HZXRET01UZXh0Q29udGVudD1WcixpLkdldEFic29sdXRlVXJsPXR5cGVvZiBkb2N1bWVudD09Im9iamVjdCI/ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiB0LmhyZWY9ZSx0LmhyZWZ9OnR5cGVvZiBVUkw9PSJmdW5jdGlvbiImJnR5cGVvZiBsb2NhdGlvbj09Im9iamVjdCI/ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBVUkwoZSxsb2NhdGlvbi5vcmlnaW4pLmhyZWZ9OmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGdldCBhYnNvbHV0ZSBVUkwuIE92ZXJyaWRlIEJBQllMT04uVG9vbHMuR2V0QWJzb2x1dGVVcmwgdG8gYSBjdXN0b20gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBjdXJyZW50IGNvbnRleHQuIil9LGkuTm9uZUxvZ0xldmVsPXouTm9uZUxvZ0xldmVsLGkuTWVzc2FnZUxvZ0xldmVsPXouTWVzc2FnZUxvZ0xldmVsLGkuV2FybmluZ0xvZ0xldmVsPXouV2FybmluZ0xvZ0xldmVsLGkuRXJyb3JMb2dMZXZlbD16LkVycm9yTG9nTGV2ZWwsaS5BbGxMb2dMZXZlbD16LkFsbExvZ0xldmVsLGkuSXNXaW5kb3dPYmplY3RFeGlzdD1kZSxpLlBlcmZvcm1hbmNlTm9uZUxvZ0xldmVsPTAsaS5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWw9MSxpLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsPTIsaS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1pLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLGkuRW5kUGVyZm9ybWFuY2VDb3VudGVyPWkuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLGl9KCkscmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe249PT12b2lkIDAmJihuPTApLHRoaXMuaXRlcmF0aW9ucz1lLHRoaXMuaW5kZXg9bi0xLHRoaXMuX2RvbmU9ITEsdGhpcy5fZm49dCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2s9cn1yZXR1cm4gaS5wcm90b3R5cGUuZXhlY3V0ZU5leHQ9ZnVuY3Rpb24oKXt0aGlzLl9kb25lfHwodGhpcy5pbmRleCsxPHRoaXMuaXRlcmF0aW9ucz8oKyt0aGlzLmluZGV4LHRoaXMuX2ZuKHRoaXMpKTp0aGlzLmJyZWFrTG9vcCgpKX0saS5wcm90b3R5cGUuYnJlYWtMb29wPWZ1bmN0aW9uKCl7dGhpcy5fZG9uZT0hMCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2soKX0saS5SdW49ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49MCk7dmFyIGE9bmV3IGkoZSx0LHIsbik7cmV0dXJuIGEuZXhlY3V0ZU5leHQoKSxhfSxpLlN5bmNBc3luY0Zvckxvb3A9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3JldHVybiBzPT09dm9pZCAwJiYocz0wKSxpLlJ1bihNYXRoLmNlaWwoZS90KSxmdW5jdGlvbihvKXthJiZhKCk/by5icmVha0xvb3AoKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciB1PTA7dTx0OysrdSl7dmFyIGY9by5pbmRleCp0K3U7aWYoZj49ZSlicmVhaztpZihyKGYpLGEmJmEoKSl7by5icmVha0xvb3AoKTticmVha319by5leGVjdXRlTmV4dCgpfSxzKX0sbil9LGl9KCk7Si5GYWxsYmFja1RleHR1cmU9ImRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVlBQmdBQUQvNFFCbVJYaHBaZ0FBVFUwQUtnQUFBQWdBQkFFYUFBVUFBQUFCQUFBQVBnRWJBQVVBQUFBQkFBQUFSZ0VvQUFNQUFBQUJBQUlBQUFFeEFBSUFBQUFRQUFBQVRnQUFBQUFBQUFCZ0FBQUFBUUFBQUdBQUFBQUJjR0ZwYm5RdWJtVjBJRFF1TUM0MUFQL2JBRU1BQkFJREF3TUNCQU1EQXdRRUJBUUZDUVlGQlFVRkN3Z0lCZ2tOQ3cwTkRRc01EQTRRRkJFT0R4TVBEQXdTR0JJVEZSWVhGeGNPRVJrYkdSWWFGQllYRnYvYkFFTUJCQVFFQlFVRkNnWUdDaFlQREE4V0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGdi9BQUJFSUFRQUJBQU1CSWdBQ0VRRURFUUgveEFBZkFBQUJCUUVCQVFFQkFRQUFBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRUFBQ0FRTURBZ1FEQlFVRUJBQUFBWDBCQWdNQUJCRUZFaUV4UVFZVFVXRUhJbkVVTW9HUm9RZ2pRckhCRlZMUjhDUXpZbktDQ1FvV0Z4Z1pHaVVtSnlncEtqUTFOamM0T1RwRFJFVkdSMGhKU2xOVVZWWlhXRmxhWTJSbFptZG9hV3B6ZEhWMmQzaDVlb09FaFlhSGlJbUtrcE9VbFphWG1KbWFvcU9rcGFhbnFLbXFzck8wdGJhM3VMbTZ3c1BFeGNiSHlNbkswdFBVMWRiWDJObmE0ZUxqNU9YbTUranA2dkh5OC9UMTl2ZjQrZnIveEFBZkFRQURBUUVCQVFFQkFRRUJBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRVFBQ0FRSUVCQU1FQndVRUJBQUJBbmNBQVFJREVRUUZJVEVHRWtGUkIyRnhFeUl5Z1FnVVFwR2hzY0VKSXpOUzhCVmljdEVLRmlRMDRTWHhGeGdaR2lZbktDa3FOVFkzT0RrNlEwUkZSa2RJU1VwVFZGVldWMWhaV21Oa1pXWm5hR2xxYzNSMWRuZDRlWHFDZzRTRmhvZUlpWXFTazVTVmxwZVltWnFpbzZTbHBxZW9xYXF5czdTMXRyZTR1YnJDdzhURnhzZkl5Y3JTMDlUVjF0ZlkyZHJpNCtUbDV1Zm82ZXJ5OC9UMTl2ZjQrZnIvMmdBTUF3RUFBaEVERVFBL0FQSDZLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NkNpaWlnRDVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JRb29vb0Erb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92b0tLS0tBUGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQLy9aIix0YS5BcHBseSgpO3ZhciBCZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5sZW5ndGg9MCx0aGlzLmRhdGE9bmV3IEFycmF5KGUpLHRoaXMuX2lkPWkuX0dsb2JhbElkKyt9cmV0dXJuIGkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy5kYXRhW3RoaXMubGVuZ3RoKytdPWUsdGhpcy5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGgqPTIpfSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWUodGhpcy5kYXRhW3RdKX0saS5wcm90b3R5cGUuc29ydD1mdW5jdGlvbihlKXt0aGlzLmRhdGEuc29ydChlKX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMuZGF0YSYmKHRoaXMuZGF0YS5sZW5ndGg9MCx0aGlzLmRhdGE9W10pfSxpLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCtlLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrZS5sZW5ndGgpKjIpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT0oZS5kYXRhfHxlKVt0XX19LGkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhLmluZGV4T2YoZSk7cmV0dXJuIHQ+PXRoaXMubGVuZ3RoPy0xOnR9LGkucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGV4T2YoZSkhPT0tMX0saS5fR2xvYmFsSWQ9MCxpfSgpLFV0PWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9kdXBsaWNhdGVJZD0wLHR9cmV0dXJuIGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsdCksdC5fX3NtYXJ0QXJyYXlGbGFnc3x8KHQuX19zbWFydEFycmF5RmxhZ3M9e30pLHQuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPXRoaXMuX2R1cGxpY2F0ZUlkfSxlLnByb3RvdHlwZS5wdXNoTm9EdXBsaWNhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19zbWFydEFycmF5RmxhZ3MmJnQuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPT09dGhpcy5fZHVwbGljYXRlSWQ/ITE6KHRoaXMucHVzaCh0KSwhMCl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kdXBsaWNhdGVJZCsrfSxlLnByb3RvdHlwZS5jb25jYXRXaXRoTm9EdXBsaWNhdGU9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCt0Lmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrdC5sZW5ndGgpKjIpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj0odC5kYXRhfHx0KVtyXTt0aGlzLnB1c2hOb0R1cGxpY2F0ZShuKX19fSxlfShCZSksSWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fY291bnQ9MCx0aGlzLl9kYXRhPXt9fXJldHVybiBpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuY2xlYXIoKSxlLmZvckVhY2goZnVuY3Rpb24ocixuKXtyZXR1cm4gdC5hZGQocixuKX0pfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGF0YVtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0fSxpLnByb3RvdHlwZS5nZXRPckFkZFdpdGhGYWN0b3J5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXQoZSk7cmV0dXJuIHIhPT12b2lkIDB8fChyPXQoZSksciYmdGhpcy5hZGQoZSxyKSkscn0saS5wcm90b3R5cGUuZ2V0T3JBZGQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdldChlKTtyZXR1cm4gciE9PXZvaWQgMD9yOih0aGlzLmFkZChlLHQpLHQpfSxpLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGF0YVtlXSE9PXZvaWQgMH0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwrK3RoaXMuX2NvdW50LCEwKX0saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV09PT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwhMCl9LGkucHJvdG90eXBlLmdldEFuZFJlbW92ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldChlKTtyZXR1cm4gdCE9PXZvaWQgMD8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCx0KTpudWxsfSxpLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udGFpbnMoZSk/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsITApOiExfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2RhdGE9e30sdGhpcy5fY291bnQ9MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLl9kYXRhKXt2YXIgcj10aGlzLl9kYXRhW3RdO2UodCxyKX19LGkucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLl9kYXRhKXt2YXIgcj10aGlzLl9kYXRhW3RdLG49ZSh0LHIpO2lmKG4pcmV0dXJuIG59cmV0dXJuIG51bGx9LGl9KCksaWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkV2YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXRjaCgvXChbXlwoXCldKlwpL2cpP2U9ZS5yZXBsYWNlKC9cKFteXChcKV0qXCkvZyxmdW5jdGlvbihyKXtyZXR1cm4gcj1yLnNsaWNlKDEsci5sZW5ndGgtMSksaS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KHIsdCl9KTplPWkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChlLHQpLGU9PT0idHJ1ZSI/ITA6ZT09PSJmYWxzZSI/ITE6aS5FdmFsKGUsdCl9LGkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudD1mdW5jdGlvbihlLHQpe3Q9dHx8ZnVuY3Rpb24obCl7cmV0dXJuIGw9PT0idHJ1ZSJ9O3ZhciByLG49ZS5zcGxpdCgifHwiKTtmb3IodmFyIGEgaW4gbilpZihuLmhhc093blByb3BlcnR5KGEpKXt2YXIgcz1pLl9TaW1wbGlmeU5lZ2F0aW9uKG5bYV0udHJpbSgpKSxvPXMuc3BsaXQoIiYmIik7aWYoby5sZW5ndGg+MSlmb3IodmFyIHU9MDt1PG8ubGVuZ3RoOysrdSl7dmFyIGY9aS5fU2ltcGxpZnlOZWdhdGlvbihvW3VdLnRyaW0oKSk7aWYoZiE9PSJ0cnVlIiYmZiE9PSJmYWxzZSI/ZlswXT09PSIhIj9yPSF0KGYuc3Vic3RyaW5nKDEpKTpyPXQoZik6cj1mPT09InRydWUiLCFyKXtzPSJmYWxzZSI7YnJlYWt9fWlmKHJ8fHM9PT0idHJ1ZSIpe3I9ITA7YnJlYWt9cyE9PSJ0cnVlIiYmcyE9PSJmYWxzZSI/c1swXT09PSIhIj9yPSF0KHMuc3Vic3RyaW5nKDEpKTpyPXQocyk6cj1zPT09InRydWUifXJldHVybiByPyJ0cnVlIjoiZmFsc2UifSxpLl9TaW1wbGlmeU5lZ2F0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvXltccyFdKy8sZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKC9bXHNdL2csZnVuY3Rpb24oKXtyZXR1cm4iIn0pLHQubGVuZ3RoJTI/IiEiOiIifSksZT1lLnRyaW0oKSxlPT09IiF0cnVlIj9lPSJmYWxzZSI6ZT09PSIhZmFsc2UiJiYoZT0idHJ1ZSIpLGV9LGl9KCksc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkVuYWJsZUZvcj1mdW5jdGlvbihlKXtlLl90YWdzPWUuX3RhZ3N8fHt9LGUuaGFzVGFncz1mdW5jdGlvbigpe3JldHVybiBpLkhhc1RhZ3MoZSl9LGUuYWRkVGFncz1mdW5jdGlvbih0KXtyZXR1cm4gaS5BZGRUYWdzVG8oZSx0KX0sZS5yZW1vdmVUYWdzPWZ1bmN0aW9uKHQpe3JldHVybiBpLlJlbW92ZVRhZ3NGcm9tKGUsdCl9LGUubWF0Y2hlc1RhZ3NRdWVyeT1mdW5jdGlvbih0KXtyZXR1cm4gaS5NYXRjaGVzUXVlcnkoZSx0KX19LGkuRGlzYWJsZUZvcj1mdW5jdGlvbihlKXtkZWxldGUgZS5fdGFncyxkZWxldGUgZS5oYXNUYWdzLGRlbGV0ZSBlLmFkZFRhZ3MsZGVsZXRlIGUucmVtb3ZlVGFncyxkZWxldGUgZS5tYXRjaGVzVGFnc1F1ZXJ5fSxpLkhhc1RhZ3M9ZnVuY3Rpb24oZSl7aWYoIWUuX3RhZ3MpcmV0dXJuITE7dmFyIHQ9ZS5fdGFncztmb3IodmFyIHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXJldHVybiEwO3JldHVybiExfSxpLkdldFRhZ3M9ZnVuY3Rpb24oZSx0KXtpZih0PT09dm9pZCAwJiYodD0hMCksIWUuX3RhZ3MpcmV0dXJuIG51bGw7aWYodCl7dmFyIHI9W107Zm9yKHZhciBuIGluIGUuX3RhZ3MpZS5fdGFncy5oYXNPd25Qcm9wZXJ0eShuKSYmZS5fdGFnc1tuXT09PSEwJiZyLnB1c2gobik7cmV0dXJuIHIuam9pbigiICIpfWVsc2UgcmV0dXJuIGUuX3RhZ3N9LGkuQWRkVGFnc1RvPWZ1bmN0aW9uKGUsdCl7aWYoISF0JiZ0eXBlb2YgdD09InN0cmluZyIpe3ZhciByPXQuc3BsaXQoIiAiKTtyLmZvckVhY2goZnVuY3Rpb24obixhLHMpe2kuX0FkZFRhZ1RvKGUsbil9KX19LGkuX0FkZFRhZ1RvPWZ1bmN0aW9uKGUsdCl7dD10LnRyaW0oKSwhKHQ9PT0iInx8dD09PSJ0cnVlInx8dD09PSJmYWxzZSIpJiYodC5tYXRjaCgvW1xzXS8pfHx0Lm1hdGNoKC9eKFshXXwoW3xdfFsmXSl7Mn0pLyl8fChpLkVuYWJsZUZvcihlKSxlLl90YWdzW3RdPSEwKSl9LGkuUmVtb3ZlVGFnc0Zyb209ZnVuY3Rpb24oZSx0KXtpZighIWkuSGFzVGFncyhlKSl7dmFyIHI9dC5zcGxpdCgiICIpO2Zvcih2YXIgbiBpbiByKWkuX1JlbW92ZVRhZ0Zyb20oZSxyW25dKX19LGkuX1JlbW92ZVRhZ0Zyb209ZnVuY3Rpb24oZSx0KXtkZWxldGUgZS5fdGFnc1t0XX0saS5NYXRjaGVzUXVlcnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMD8hMDp0PT09IiI/aS5IYXNUYWdzKGUpOmlhLkV2YWwodCxmdW5jdGlvbihyKXtyZXR1cm4gaS5IYXNUYWdzKGUpJiZlLl90YWdzW3JdfSl9LGl9KCksRmU9ZnVuY3Rpb24oaSl7cmV0dXJuIHBhcnNlSW50KGkudG9TdHJpbmcoKS5yZXBsYWNlKC9cVy9nLCIiKSl9LGJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHRoaXMueD1lLHRoaXMueT10fXJldHVybiBpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7WDogIi5jb25jYXQodGhpcy54LCIgWTogIikuY29uY2F0KHRoaXMueSwifSIpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVmVjdG9yMiJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9RmUodGhpcy54KSx0PUZlKHRoaXMueSkscj1lO3JldHVybiByPXIqMzk3XnQscn0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54K2UueCx0aGlzLnkrZS55KX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdGhpc30saS5wcm90b3R5cGUuYWRkSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc30saS5wcm90b3R5cGUuYWRkVmVjdG9yMz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54K2UueCx0aGlzLnkrZS55KX0saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC1lLngsdGhpcy55LWUueSl9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3RJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngqZS54LHRoaXMueSplLnkpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5QnlGbG9hdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQpfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC9lLngsdGhpcy55L2UueSl9LGkucHJvdG90eXBlLmRpdmlkZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHRoaXN9LGkucHJvdG90eXBlLmRpdmlkZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC10aGlzLngsLXRoaXMueSl9LGkucHJvdG90eXBlLm5lZ2F0ZUluUGxhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMueCotMSx0aGlzLnkqLTEpfSxpLnByb3RvdHlwZS5zY2FsZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoMCwwKTtyZXR1cm4gdGhpcy5zY2FsZVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHRoaXN9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9LGkucHJvdG90eXBlLmVxdWFsc1dpdGhFcHNpbG9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PWZlKSxlJiYkLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmJC5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9LGkucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSkpfSxpLnByb3RvdHlwZS5mcmFjdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSkpfSxpLnByb3RvdHlwZS5yb3RhdGVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSk7cmV0dXJuIHQueD1yKnRoaXMueC1uKnRoaXMueSx0Lnk9bip0aGlzLngrcip0aGlzLnksdGhpc30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX0saS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTm9ybWFsaXplVG9SZWYodGhpcyx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngsdGhpcy55KX0saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCl9LGkuT25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXX0saS5DYXRtdWxsUm9tPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9LjUqKDIqdC54KygtZS54K3IueCkqYSsoMiplLngtNSp0LngrNCpyLngtbi54KSpzKygtZS54KzMqdC54LTMqci54K24ueCkqbyksZj0uNSooMip0LnkrKC1lLnkrci55KSphKygyKmUueS01KnQueSs0KnIueS1uLnkpKnMrKC1lLnkrMyp0LnktMypyLnkrbi55KSpvKTtyZXR1cm4gbmV3IGkodSxmKX0saS5DbGFtcD1mdW5jdGlvbihlLHQscil7dmFyIG49ZS54O249bj5yLng/ci54Om4sbj1uPHQueD90Lng6bjt2YXIgYT1lLnk7cmV0dXJuIGE9YT5yLnk/ci55OmEsYT1hPHQueT90Lnk6YSxuZXcgaShuLGEpfSxpLkhlcm1pdGU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0yKm8tMypzKzEsZj0tMipvKzMqcyxsPW8tMipzK2EsaD1vLXMsYz1lLngqdStyLngqZit0LngqbCtuLngqaCxkPWUueSp1K3IueSpmK3QueSpsK24ueSpoO3JldHVybiBuZXcgaShjLGQpfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9aS5aZXJvKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQscixuLGEscyksc30saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz1hKmE7cy54PShvLWEpKjYqZS54KygzKm8tNCphKzEpKnQueCsoLW8rYSkqNipyLngrKDMqby0yKmEpKm4ueCxzLnk9KG8tYSkqNiplLnkrKDMqby00KmErMSkqdC55KygtbythKSo2KnIueSsoMypvLTIqYSkqbi55fSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUueCsodC54LWUueCkqcixhPWUueSsodC55LWUueSkqcjtyZXR1cm4gbmV3IGkobixhKX0saS5Eb3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fSxpLk5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD1pLlplcm8oKTtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9LGkuTm9ybWFsaXplVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmxlbmd0aCgpO3IhPT0wJiYodC54PWUueC9yLHQueT1lLnkvcil9LGkuTWluaW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLng8dC54P2UueDp0Lngsbj1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBpKHIsbil9LGkuTWF4aW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLng+dC54P2UueDp0Lngsbj1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBpKHIsbil9LGkuVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuVHJhbnNmb3JtVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQubSxhPWUueCpuWzBdK2UueSpuWzRdK25bMTJdLHM9ZS54Km5bMV0rZS55Km5bNV0rblsxM107ci54PWEsci55PXN9LGkuUG9pbnRJblRyaWFuZ2xlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPS41Kigtci55Km4ueCt0LnkqKC1yLngrbi54KSt0LngqKHIueS1uLnkpK3IueCpuLnkpLHM9YTwwPy0xOjEsbz0odC55Km4ueC10Lngqbi55KyhuLnktdC55KSplLngrKHQueC1uLngpKmUueSkqcyx1PSh0Lngqci55LXQueSpyLngrKHQueS1yLnkpKmUueCsoci54LXQueCkqZS55KSpzO3JldHVybiBvPjAmJnU+MCYmbyt1PDIqYSpzfSxpLkRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguc3FydChpLkRpc3RhbmNlU3F1YXJlZChlLHQpKX0saS5EaXN0YW5jZVNxdWFyZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLngtdC54LG49ZS55LXQueTtyZXR1cm4gcipyK24qbn0saS5DZW50ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5DZW50ZXJUb1JlZihlLHQsaS5aZXJvKCkpfSxpLkNlbnRlclRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5jb3B5RnJvbUZsb2F0cygoZS54K3QueCkvMiwoZS55K3QueSkvMil9LGkuRGlzdGFuY2VPZlBvaW50RnJvbVNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuRGlzdGFuY2VTcXVhcmVkKHQscik7aWYobj09PTApcmV0dXJuIGkuRGlzdGFuY2UoZSx0KTt2YXIgYT1yLnN1YnRyYWN0KHQpLHM9TWF0aC5tYXgoMCxNYXRoLm1pbigxLGkuRG90KGUuc3VidHJhY3QodCksYSkvbikpLG89dC5hZGQoYS5tdWx0aXBseUJ5RmxvYXRzKHMscykpO3JldHVybiBpLkRpc3RhbmNlKGUsbyl9LGl9KCksRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLHRoaXMuX2lzRGlydHk9ITAsdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntYOiAiLmNvbmNhdCh0aGlzLl94LCIgWTogIikuY29uY2F0KHRoaXMuX3ksIiBaOiAiKS5jb25jYXQodGhpcy5feiwifSIpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVmVjdG9yMyJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9RmUodGhpcy5feCksdD1GZSh0aGlzLl95KSxyPUZlKHRoaXMuX3opLG49ZTtyZXR1cm4gbj1uKjM5N150LG49biozOTdecixufSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS50b1F1YXRlcm5pb249ZnVuY3Rpb24oKXtyZXR1cm4gZWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5feSx0aGlzLl94LHRoaXMuX3opfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZEluUGxhY2VGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUuYWRkSW5QbGFjZUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LHRoaXMueis9cix0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3grZS5feCx0aGlzLl95K2UuX3ksdGhpcy5feitlLl96KX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9LGkucHJvdG90eXBlLnN1YnRyYWN0SW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLl94LHRoaXMueS09ZS5feSx0aGlzLnotPWUuX3osdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gtZS5feCx0aGlzLl95LWUuX3ksdGhpcy5fei1lLl96KX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgaSh0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otcil9LGkucHJvdG90eXBlLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gtZSx0aGlzLl95LXQsdGhpcy5fei1yKX0saS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96KX0saS5wcm90b3R5cGUubmVnYXRlSW5QbGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfSxpLnByb3RvdHlwZS5uZWdhdGVUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLl94Ki0xLHRoaXMuX3kqLTEsdGhpcy5feiotMSl9LGkucHJvdG90eXBlLnNjYWxlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmFkZEluUGxhY2VGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX0saS5wcm90b3R5cGUucHJvamVjdE9uUGxhbmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gdGhpcy5wcm9qZWN0T25QbGFuZVRvUmVmKGUsdCxyKSxyfSxpLnByb3RvdHlwZS5wcm9qZWN0T25QbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLm5vcm1hbCxhPWUuZCxzPVYuVmVjdG9yM1swXTt0aGlzLnN1YnRyYWN0VG9SZWYodCxzKSxzLm5vcm1hbGl6ZSgpO3ZhciBvPWkuRG90KHMsbiksdT0tKGkuRG90KHQsbikrYSkvbyxmPXMuc2NhbGVJblBsYWNlKHUpO3QuYWRkVG9SZWYoZixyKX0saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLl94PT09ZS5feCYmdGhpcy5feT09PWUuX3kmJnRoaXMuX3o9PT1lLl96fSxpLnByb3RvdHlwZS5lcXVhbHNXaXRoRXBzaWxvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1mZSksZSYmJC5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmJC5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmJC5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KX0saS5wcm90b3R5cGUuZXF1YWxzVG9GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl94PT09ZSYmdGhpcy5feT09PXQmJnRoaXMuX3o9PT1yfSxpLnByb3RvdHlwZS5tdWx0aXBseUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS5feCx0aGlzLnkqPWUuX3ksdGhpcy56Kj1lLl96LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm11bHRpcGx5QnlGbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLl94LHRoaXMuX3kqZS5feSx0aGlzLl96KmUuX3opfSxpLnByb3RvdHlwZS5tdWx0aXBseUJ5RmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IGkodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KnIpfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuX3gvZS5feCx0aGlzLl95L2UuX3ksdGhpcy5fei9lLl96KX0saS5wcm90b3R5cGUuZGl2aWRlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94L2UuX3gsdGhpcy5feS9lLl95LHRoaXMuX3ovZS5feil9LGkucHJvdG90eXBlLmRpdmlkZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX0saS5wcm90b3R5cGUubWluaW1pemVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5tYXhpbWl6ZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9LGkucHJvdG90eXBlLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLHI8dGhpcy5feiYmKHRoaXMuej1yKSx0aGlzfSxpLnByb3RvdHlwZS5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT50aGlzLl94JiYodGhpcy54PWUpLHQ+dGhpcy5feSYmKHRoaXMueT10KSxyPnRoaXMuX3omJih0aGlzLno9ciksdGhpc30saS5wcm90b3R5cGUuaXNOb25Vbmlmb3JtV2l0aGluRXBzaWxvbj1mdW5jdGlvbihlKXt2YXIgdD1NYXRoLmFicyh0aGlzLl94KSxyPU1hdGguYWJzKHRoaXMuX3kpO2lmKCEkLldpdGhpbkVwc2lsb24odCxyLGUpKXJldHVybiEwO3ZhciBuPU1hdGguYWJzKHRoaXMuX3opO3JldHVybiEkLldpdGhpbkVwc2lsb24odCxuLGUpfHwhJC5XaXRoaW5FcHNpbG9uKHIsbixlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc05vblVuaWZvcm0iLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLmFicyh0aGlzLl94KSx0PU1hdGguYWJzKHRoaXMuX3kpO2lmKGUhPT10KXJldHVybiEwO3ZhciByPU1hdGguYWJzKHRoaXMuX3opO3JldHVybiBlIT09cn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiBuZXcgaShNYXRoLmZsb29yKHRoaXMuX3gpLE1hdGguZmxvb3IodGhpcy5feSksTWF0aC5mbG9vcih0aGlzLl96KSl9LGkucHJvdG90eXBlLmZyYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feil9LGkucHJvdG90eXBlLmxlbmd0aFNxdWFyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3p9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vcm1hbGl6ZUZyb21MZW5ndGgodGhpcy5sZW5ndGgoKSl9LGkucHJvdG90eXBlLnJlb3JkZXJJblBsYWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLGU9PT0ieHl6Ij90aGlzOihWLlZlY3RvcjNbMF0uY29weUZyb20odGhpcyksWyJ4IiwieSIsInoiXS5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7dFtyXT1WLlZlY3RvcjNbMF1bZVtuXV19KSx0aGlzKX0saS5wcm90b3R5cGUucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b1JvdGF0aW9uTWF0cml4KFYuTWF0cml4WzBdKSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcyxWLk1hdHJpeFswXSx0KSx0fSxpLnByb3RvdHlwZS5yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsVi5WZWN0b3IzWzBdKSxWLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxWLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoVi5WZWN0b3IzWzBdLHIpLHJ9LGkucHJvdG90eXBlLmNyb3NzPWZ1bmN0aW9uKGUpe3JldHVybiBpLkNyb3NzKHRoaXMsZSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZUZyb21MZW5ndGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0wfHxlPT09MT90aGlzOnRoaXMuc2NhbGVJblBsYWNlKDEvZSl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZVRvTmV3PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGkoMCwwLDApO3JldHVybiB0aGlzLm5vcm1hbGl6ZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLm5vcm1hbGl6ZVRvUmVmPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLl94LHRoaXMuX3ksdGhpcy5feil9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9cix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxyKX0saS5wcm90b3R5cGUuc2V0QWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej1lLHRoaXN9LGkuR2V0Q2xpcEZhY3Rvcj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1pLkRvdChlLHIpLW4scz1pLkRvdCh0LHIpLW4sbz1hLyhhLXMpO3JldHVybiBvfSxpLkdldEFuZ2xlQmV0d2VlblZlY3RvcnM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUubm9ybWFsaXplVG9SZWYoVi5WZWN0b3IzWzFdKSxhPXQubm9ybWFsaXplVG9SZWYoVi5WZWN0b3IzWzJdKSxzPWkuRG90KG4sYSksbz1NYXRoLmFjb3MocyksdT1WLlZlY3RvcjNbM107cmV0dXJuIGkuQ3Jvc3NUb1JlZihuLGEsdSksaS5Eb3QodSxyKT4wP2lzTmFOKG8pPzA6bzppc05hTihvKT8tTWF0aC5QSTotTWF0aC5hY29zKHMpfSxpLkdldEFuZ2xlQmV0d2VlblZlY3RvcnNPblBsYW5lPWZ1bmN0aW9uKGUsdCxyKXtWLlZlY3RvcjNbMF0uY29weUZyb20oZSk7dmFyIG49Vi5WZWN0b3IzWzBdO1YuVmVjdG9yM1sxXS5jb3B5RnJvbSh0KTt2YXIgYT1WLlZlY3RvcjNbMV07Vi5WZWN0b3IzWzJdLmNvcHlGcm9tKHIpO3ZhciBzPVYuVmVjdG9yM1syXSxvPVYuVmVjdG9yM1szXSx1PVYuVmVjdG9yM1s0XTtuLm5vcm1hbGl6ZSgpLGEubm9ybWFsaXplKCkscy5ub3JtYWxpemUoKSxpLkNyb3NzVG9SZWYocyxuLG8pLGkuQ3Jvc3NUb1JlZihvLHMsdSk7dmFyIGY9TWF0aC5hdGFuMihpLkRvdChhLG8pLGkuRG90KGEsdSkpO3JldHVybiAkLk5vcm1hbGl6ZVJhZGlhbnMoZil9LGkuU2xlcnBUb1JlZj1mdW5jdGlvbihlLHQscixuKXtyPSQuQ2xhbXAociwwLDEpO3ZhciBhPVYuVmVjdG9yM1swXSxzPVYuVmVjdG9yM1sxXSxvLHU7YS5jb3B5RnJvbShlKSxvPWEubGVuZ3RoKCksYS5ub3JtYWxpemVGcm9tTGVuZ3RoKG8pLHMuY29weUZyb20odCksdT1zLmxlbmd0aCgpLHMubm9ybWFsaXplRnJvbUxlbmd0aCh1KTt2YXIgZj1pLkRvdChhLHMpLGwsaDtpZihmPDEtZmUpe3ZhciBjPU1hdGguYWNvcyhmKSxkPTEvTWF0aC5zaW4oYyk7bD1NYXRoLnNpbigoMS1yKSpjKSpkLGg9TWF0aC5zaW4ocipjKSpkfWVsc2UgbD0xLXIsaD1yO2Euc2NhbGVJblBsYWNlKGwpLHMuc2NhbGVJblBsYWNlKGgpLG4uY29weUZyb20oYSkuYWRkSW5QbGFjZShzKSxuLnNjYWxlSW5QbGFjZSgkLkxlcnAobyx1LHIpKX0saS5TbW9vdGhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe2kuU2xlcnBUb1JlZihlLHQsbj09PTA/MTpyL24sYSl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdLGVbdCsyXSl9LGkuRnJvbUZsb2F0QXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5Gcm9tQXJyYXkoZSx0KX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXSxyLno9ZVt0KzJdfSxpLkZyb21GbG9hdEFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpLkZyb21BcnJheVRvUmVmKGUsdCxyKX0saS5Gcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7bi5jb3B5RnJvbUZsb2F0cyhlLHQscil9LGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMCl9LGkuT25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSwxKX0saS5VcD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDEsMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJVcFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX1VwUmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJpZ2h0UmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fUmlnaHRSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGVmdFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0xlZnRSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGVmdEhhbmRlZEZvcndhcmRSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9MZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJSaWdodEhhbmRlZEZvcndhcmRSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiWmVyb1JlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX1plcm9SZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkRvd249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwtMSwwKX0saS5Gb3J3YXJkPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0hMSksbmV3IGkoMCwwLGU/LTE6MSl9LGkuQmFja3dhcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSExKSxuZXcgaSgwLDAsZT8xOi0xKX0saS5SaWdodD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDAsMCl9LGkuTGVmdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtMSwwLDApfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmPWZ1bmN0aW9uKGUsdCxyKXtpLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQscil9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLm0sbz1lKnNbMF0rdCpzWzRdK3Iqc1s4XStzWzEyXSx1PWUqc1sxXSt0KnNbNV0rcipzWzldK3NbMTNdLGY9ZSpzWzJdK3Qqc1s2XStyKnNbMTBdK3NbMTRdLGw9MS8oZSpzWzNdK3Qqc1s3XStyKnNbMTFdK3NbMTVdKTthLng9bypsLGEueT11KmwsYS56PWYqbH0saS5UcmFuc2Zvcm1Ob3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZj1mdW5jdGlvbihlLHQscil7dGhpcy5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxyKX0saS5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLm07YS54PWUqc1swXSt0KnNbNF0rcipzWzhdLGEueT1lKnNbMV0rdCpzWzVdK3Iqc1s5XSxhLno9ZSpzWzJdK3Qqc1s2XStyKnNbMTBdfSxpLkNhdG11bGxSb209ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0uNSooMip0Ll94KygtZS5feCtyLl94KSphKygyKmUuX3gtNSp0Ll94KzQqci5feC1uLl94KSpzKygtZS5feCszKnQuX3gtMypyLl94K24uX3gpKm8pLGY9LjUqKDIqdC5feSsoLWUuX3krci5feSkqYSsoMiplLl95LTUqdC5feSs0KnIuX3ktbi5feSkqcysoLWUuX3krMyp0Ll95LTMqci5feStuLl95KSpvKSxsPS41KigyKnQuX3orKC1lLl96K3IuX3opKmErKDIqZS5fei01KnQuX3orNCpyLl96LW4uX3opKnMrKC1lLl96KzMqdC5fei0zKnIuX3orbi5feikqbyk7cmV0dXJuIG5ldyBpKHUsZixsKX0saS5DbGFtcD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuQ2xhbXBUb1JlZihlLHQscixuKSxufSxpLkNsYW1wVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9ZS5feDthPWE+ci5feD9yLl94OmEsYT1hPHQuX3g/dC5feDphO3ZhciBzPWUuX3k7cz1zPnIuX3k/ci5feTpzLHM9czx0Ll95P3QuX3k6czt2YXIgbz1lLl96O289bz5yLl96P3IuX3o6byxvPW88dC5fej90Ll96Om8sbi5jb3B5RnJvbUZsb2F0cyhhLHMsbyl9LGkuQ2hlY2tFeHRlbmRzPWZ1bmN0aW9uKGUsdCxyKXt0Lm1pbmltaXplSW5QbGFjZShlKSxyLm1heGltaXplSW5QbGFjZShlKX0saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS5feCp1K3IuX3gqZit0Ll94Kmwrbi5feCpoLGQ9ZS5feSp1K3IuX3kqZit0Ll95Kmwrbi5feSpoLHA9ZS5feip1K3IuX3oqZit0Ll96Kmwrbi5feipoO3JldHVybiBuZXcgaShjLGQscCl9LGkuSGVybWl0ZTFzdERlcml2YXRpdmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1pLlplcm8oKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxyLG4sYSxzKSxzfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWEqYTtzLng9KG8tYSkqNiplLngrKDMqby00KmErMSkqdC54KygtbythKSo2KnIueCsoMypvLTIqYSkqbi54LHMueT0oby1hKSo2KmUueSsoMypvLTQqYSsxKSp0LnkrKC1vK2EpKjYqci55KygzKm8tMiphKSpuLnkscy56PShvLWEpKjYqZS56KygzKm8tNCphKzEpKnQueisoLW8rYSkqNipyLnorKDMqby0yKmEpKm4uen0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCk7cmV0dXJuIGkuTGVycFRvUmVmKGUsdCxyLG4pLG59LGkuTGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe24ueD1lLl94Kyh0Ll94LWUuX3gpKnIsbi55PWUuX3krKHQuX3ktZS5feSkqcixuLno9ZS5feisodC5fei1lLl96KSpyfSxpLkRvdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5fen0saS5Dcm9zcz1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLkNyb3NzVG9SZWYoZSx0LHIpLHJ9LGkuQ3Jvc3NUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5feSp0Ll96LWUuX3oqdC5feSxhPWUuX3oqdC5feC1lLl94KnQuX3oscz1lLl94KnQuX3ktZS5feSp0Ll94O3IuY29weUZyb21GbG9hdHMobixhLHMpfSxpLk5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD1pLlplcm8oKTtyZXR1cm4gaS5Ob3JtYWxpemVUb1JlZihlLHQpLHR9LGkuTm9ybWFsaXplVG9SZWY9ZnVuY3Rpb24oZSx0KXtlLm5vcm1hbGl6ZVRvUmVmKHQpfSxpLlByb2plY3Q9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9bmV3IGk7cmV0dXJuIGkuUHJvamVjdFRvUmVmKGUsdCxyLG4sYSksYX0saS5Qcm9qZWN0VG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLndpZHRoLG89bi5oZWlnaHQsdT1uLngsZj1uLnksbD1WLk1hdHJpeFsxXTtJLkZyb21WYWx1ZXNUb1JlZihzLzIsMCwwLDAsMCwtby8yLDAsMCwwLDAsLjUsMCx1K3MvMixvLzIrZiwuNSwxLGwpO3ZhciBoPVYuTWF0cml4WzBdO3JldHVybiB0Lm11bHRpcGx5VG9SZWYocixoKSxoLm11bHRpcGx5VG9SZWYobCxoKSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSxoLGEpLGF9LGkuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LHIpO3ZhciBuPXQubSxhPWUuX3gqblszXStlLl95Km5bN10rZS5feipuWzExXStuWzE1XTskLldpdGhpbkVwc2lsb24oYSwxKSYmci5zY2FsZUluUGxhY2UoMS9hKX0saS5VbnByb2plY3RGcm9tVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIHRoaXMuVW5wcm9qZWN0KGUsdCxyLG4sYSxJLklkZW50aXR5UmVhZE9ubHkpfSxpLlVucHJvamVjdD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89aS5aZXJvKCk7cmV0dXJuIGkuVW5wcm9qZWN0VG9SZWYoZSx0LHIsbixhLHMsbyksb30saS5VbnByb2plY3RUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvKXtpLlVucHJvamVjdEZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQscixuLGEscyxvKX0saS5VbnByb2plY3RGbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7dmFyIGwsaD1WLk1hdHJpeFswXTtzLm11bHRpcGx5VG9SZWYobyxoKSxoLm11bHRpcGx5VG9SZWYodSxoKSxoLmludmVydCgpO3ZhciBjPVYuVmVjdG9yM1swXTtjLng9ZS9uKjItMSxjLnk9LSh0L2EqMi0xKSwoKGw9Si5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLmlzTkRDSGFsZlpSYW5nZSk/Yy56PXI6Yy56PTIqci0xLGkuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGMsaCxmKX0saS5NaW5pbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5taW5pbWl6ZUluUGxhY2UodCkscn0saS5NYXhpbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5tYXhpbWl6ZUluUGxhY2UodCkscn0saS5EaXN0YW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLnNxcnQoaS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9LGkuRGlzdGFuY2VTcXVhcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5feC10Ll94LG49ZS5feS10Ll95LGE9ZS5fei10Ll96O3JldHVybiByKnIrbipuK2EqYX0saS5Qcm9qZWN0T25UcmlhbmdsZVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9Vi5WZWN0b3IzWzBdLG89Vi5WZWN0b3IzWzFdLHU9Vi5WZWN0b3IzWzJdLGY9Vi5WZWN0b3IzWzNdLGw9Vi5WZWN0b3IzWzRdO3Iuc3VidHJhY3RUb1JlZih0LHMpLG4uc3VidHJhY3RUb1JlZih0LG8pLG4uc3VidHJhY3RUb1JlZihyLHUpO3ZhciBoPXMubGVuZ3RoKCksYz1vLmxlbmd0aCgpLGQ9dS5sZW5ndGgoKTtpZihoPGZlfHxjPGZlfHxkPGZlKXJldHVybiBhLmNvcHlGcm9tKHQpLGkuRGlzdGFuY2UoZSx0KTtlLnN1YnRyYWN0VG9SZWYodCxsKSxpLkNyb3NzVG9SZWYocyxvLGYpO3ZhciBwPWYubGVuZ3RoKCk7aWYocDxmZSlyZXR1cm4gYS5jb3B5RnJvbSh0KSxpLkRpc3RhbmNlKGUsdCk7Zi5ub3JtYWxpemVGcm9tTGVuZ3RoKHApO3ZhciBfPWwubGVuZ3RoKCk7aWYoXzxmZSlyZXR1cm4gYS5jb3B5RnJvbSh0KSwwO2wubm9ybWFsaXplRnJvbUxlbmd0aChfKTt2YXIgZz1pLkRvdChmLGwpLG09Vi5WZWN0b3IzWzVdLHY9Vi5WZWN0b3IzWzZdO20uY29weUZyb20oZikuc2NhbGVJblBsYWNlKC1fKmcpLHYuY29weUZyb20oZSkuYWRkSW5QbGFjZShtKTt2YXIgUz1WLlZlY3RvcjNbNF0sTT1WLlZlY3RvcjNbNV0sQT1WLlZlY3RvcjNbN10sUj1WLlZlY3RvcjNbOF07Uy5jb3B5RnJvbShzKS5zY2FsZUluUGxhY2UoMS9oKSxSLmNvcHlGcm9tKG8pLnNjYWxlSW5QbGFjZSgxL2MpLFMuYWRkSW5QbGFjZShSKS5zY2FsZUluUGxhY2UoLTEpLE0uY29weUZyb20ocykuc2NhbGVJblBsYWNlKC0xL2gpLFIuY29weUZyb20odSkuc2NhbGVJblBsYWNlKDEvZCksTS5hZGRJblBsYWNlKFIpLnNjYWxlSW5QbGFjZSgtMSksQS5jb3B5RnJvbSh1KS5zY2FsZUluUGxhY2UoLTEvZCksUi5jb3B5RnJvbShvKS5zY2FsZUluUGxhY2UoLTEvYyksQS5hZGRJblBsYWNlKFIpLnNjYWxlSW5QbGFjZSgtMSk7dmFyIHk9Vi5WZWN0b3IzWzldLEMsdyxGLEQ7eS5jb3B5RnJvbSh2KS5zdWJ0cmFjdEluUGxhY2UodCksaS5Dcm9zc1RvUmVmKFMseSxSKSxDPWkuRG90KFIsZiksdz1DLHkuY29weUZyb20odikuc3VidHJhY3RJblBsYWNlKHIpLGkuQ3Jvc3NUb1JlZihNLHksUiksQz1pLkRvdChSLGYpLEY9Qyx5LmNvcHlGcm9tKHYpLnN1YnRyYWN0SW5QbGFjZShuKSxpLkNyb3NzVG9SZWYoQSx5LFIpLEM9aS5Eb3QoUixmKSxEPUM7dmFyIFg9Vi5WZWN0b3IzWzEwXSxXLE47dz4wJiZGPDA/KFguY29weUZyb20ocyksVz10LE49cik6Rj4wJiZEPDA/KFguY29weUZyb20odSksVz1yLE49bik6KFguY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xKSxXPW4sTj10KTt2YXIgaj1WLlZlY3RvcjNbOV0sSz1WLlZlY3RvcjNbNF07Vy5zdWJ0cmFjdFRvUmVmKHYsUiksTi5zdWJ0cmFjdFRvUmVmKHYsaiksaS5Dcm9zc1RvUmVmKFIsaixLKTt2YXIgYWU9aS5Eb3QoSyxmKTwwO2lmKCFhZSlyZXR1cm4gYS5jb3B5RnJvbSh2KSxNYXRoLmFicyhfKmcpO3ZhciBxPVYuVmVjdG9yM1s1XTtpLkNyb3NzVG9SZWYoWCxLLHEpLHEubm9ybWFsaXplKCk7dmFyIFo9Vi5WZWN0b3IzWzldO1ouY29weUZyb20oVykuc3VidHJhY3RJblBsYWNlKHYpO3ZhciBtZT1aLmxlbmd0aCgpO2lmKG1lPGZlKXJldHVybiBhLmNvcHlGcm9tKFcpLGkuRGlzdGFuY2UoZSxXKTtaLm5vcm1hbGl6ZUZyb21MZW5ndGgobWUpO3ZhciB4ZT1pLkRvdChxLFopLE5lPVYuVmVjdG9yM1s3XTtOZS5jb3B5RnJvbSh2KS5hZGRJblBsYWNlKHEuc2NhbGVJblBsYWNlKG1lKnhlKSksUi5jb3B5RnJvbShOZSkuc3VidHJhY3RJblBsYWNlKFcpLF89WC5sZW5ndGgoKSxYLm5vcm1hbGl6ZUZyb21MZW5ndGgoXyk7dmFyIFllPWkuRG90KFIsWCkvTWF0aC5tYXgoXyxmZSk7cmV0dXJuIFllPSQuQ2xhbXAoWWUsMCwxKSxOZS5jb3B5RnJvbShXKS5hZGRJblBsYWNlKFguc2NhbGVJblBsYWNlKFllKl8pKSxhLmNvcHlGcm9tKE5lKSxpLkRpc3RhbmNlKGUsTmUpfSxpLkNlbnRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLkNlbnRlclRvUmVmKGUsdCxpLlplcm8oKSl9LGkuQ2VudGVyVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmNvcHlGcm9tRmxvYXRzKChlLl94K3QuX3gpLzIsKGUuX3krdC5feSkvMiwoZS5feit0Ll96KS8yKX0saS5Sb3RhdGlvbkZyb21BeGlzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLlplcm8oKTtyZXR1cm4gaS5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LHIsbiksbn0saS5Sb3RhdGlvbkZyb21BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9Vi5RdWF0ZXJuaW9uWzBdO2VlLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LHIsYSksYS50b0V1bGVyQW5nbGVzVG9SZWYobil9LGkuX1VwUmVhZE9ubHk9aS5VcCgpLGkuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9aS5Gb3J3YXJkKCExKSxpLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seT1pLkZvcndhcmQoITApLGkuX1JpZ2h0UmVhZE9ubHk9aS5SaWdodCgpLGkuX0xlZnRSZWFkT25seT1pLkxlZnQoKSxpLl9aZXJvUmVhZE9ubHk9aS5aZXJvKCksaX0oKSxkdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy54PWUsdGhpcy55PXQsdGhpcy56PXIsdGhpcy53PW59cmV0dXJuIGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntYOiAiLmNvbmNhdCh0aGlzLngsIiBZOiAiKS5jb25jYXQodGhpcy55LCIgWjogIikuY29uY2F0KHRoaXMueiwiIFc6ICIpLmNvbmNhdCh0aGlzLncsIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlZlY3RvcjQifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUZlKHRoaXMueCksdD1GZSh0aGlzLnkpLHI9RmUodGhpcy56KSxuPUZlKHRoaXMudyksYT1lO3JldHVybiBhPWEqMzk3XnQsYT1hKjM5N15yLGE9YSozOTdebixhfSxpLnByb3RvdHlwZS5hc0FycmF5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGVbdF09dGhpcy54LGVbdCsxXT10aGlzLnksZVt0KzJdPXRoaXMueixlW3QrM109dGhpcy53LHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueCtlLngsdGhpcy55K2UueSx0aGlzLnorZS56LHRoaXMudytlLncpfSxpLnByb3RvdHlwZS5hZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0Lno9dGhpcy56K2Uueix0Lnc9dGhpcy53K2Uudyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngtZS54LHRoaXMueS1lLnksdGhpcy56LWUueix0aGlzLnctZS53KX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54LWUueCx0Lnk9dGhpcy55LWUueSx0Lno9dGhpcy56LWUueix0Lnc9dGhpcy53LWUudyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1yLHRoaXMudy1uKX0saS5wcm90b3R5cGUuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gYS54PXRoaXMueC1lLGEueT10aGlzLnktdCxhLno9dGhpcy56LXIsYS53PXRoaXMudy1uLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtdGhpcy54LC10aGlzLnksLXRoaXMueiwtdGhpcy53KX0saS5wcm90b3R5cGUubmVnYXRlSW5QbGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9LGkucHJvdG90eXBlLm5lZ2F0ZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMueCotMSx0aGlzLnkqLTEsdGhpcy56Ki0xLHRoaXMudyotMSl9LGkucHJvdG90eXBlLnNjYWxlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpcy53Kj1lLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0Lno9dGhpcy56KmUsdC53PXRoaXMudyplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHQueis9dGhpcy56KmUsdC53Kz10aGlzLncqZSx0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud30saS5wcm90b3R5cGUuZXF1YWxzV2l0aEVwc2lsb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ZmUpLGUmJiQuV2l0aGluRXBzaWxvbih0aGlzLngsZS54LHQpJiYkLldpdGhpbkVwc2lsb24odGhpcy55LGUueSx0KSYmJC5XaXRoaW5FcHNpbG9uKHRoaXMueixlLnosdCkmJiQuV2l0aGluRXBzaWxvbih0aGlzLncsZS53LHQpfSxpLnByb3RvdHlwZS5lcXVhbHNUb0Zsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09ciYmdGhpcy53PT09bn0saS5wcm90b3R5cGUubXVsdGlwbHlJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzLnoqPWUueix0aGlzLncqPWUudyx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54KmUueCx0aGlzLnkqZS55LHRoaXMueiplLnosdGhpcy53KmUudyl9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHlCeUZsb2F0cz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQsdGhpcy56KnIsdGhpcy53Km4pfSxpLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueC9lLngsdGhpcy55L2UueSx0aGlzLnovZS56LHRoaXMudy9lLncpfSxpLnByb3RvdHlwZS5kaXZpZGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0aGlzfSxpLnByb3RvdHlwZS5kaXZpZGVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpdmlkZVRvUmVmKGUsdGhpcyl9LGkucHJvdG90eXBlLm1pbmltaXplSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS54PHRoaXMueCYmKHRoaXMueD1lLngpLGUueTx0aGlzLnkmJih0aGlzLnk9ZS55KSxlLno8dGhpcy56JiYodGhpcy56PWUueiksZS53PHRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9LGkucHJvdG90eXBlLm1heGltaXplSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9LGkucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSksTWF0aC5mbG9vcih0aGlzLnopLE1hdGguZmxvb3IodGhpcy53KSl9LGkucHJvdG90eXBlLmZyYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMueC1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55LU1hdGguZmxvb3IodGhpcy55KSx0aGlzLnotTWF0aC5mbG9vcih0aGlzLnopLHRoaXMudy1NYXRoLmZsb29yKHRoaXMudykpfSxpLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLnd9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX0saS5wcm90b3R5cGUudG9WZWN0b3IzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFKHRoaXMueCx0aGlzLnksdGhpcy56KX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1uLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscixuKX0saS5wcm90b3R5cGUuc2V0QWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgaShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXSxyLno9ZVt0KzJdLHIudz1lW3QrM119LGkuRnJvbUZsb2F0QXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7aS5Gcm9tQXJyYXlUb1JlZihlLHQscil9LGkuRnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7YS54PWUsYS55PXQsYS56PXIsYS53PW59LGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMCwwKX0saS5PbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMSwxLDEsMSl9LGkuTm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciB0PWkuWmVybygpO3JldHVybiBpLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH0saS5Ob3JtYWxpemVUb1JlZj1mdW5jdGlvbihlLHQpe3QuY29weUZyb20oZSksdC5ub3JtYWxpemUoKX0saS5NaW5pbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5taW5pbWl6ZUluUGxhY2UodCkscn0saS5NYXhpbWl6ZT1mdW5jdGlvbihlLHQpe3ZhciByPWUuY2xvbmUoKTtyZXR1cm4gci5tYXhpbWl6ZUluUGxhY2UodCkscn0saS5EaXN0YW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLnNxcnQoaS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9LGkuRGlzdGFuY2VTcXVhcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS54LXQueCxuPWUueS10LnksYT1lLnotdC56LHM9ZS53LXQudztyZXR1cm4gcipyK24qbithKmErcypzfSxpLkNlbnRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLkNlbnRlclRvUmVmKGUsdCxpLlplcm8oKSl9LGkuQ2VudGVyVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmNvcHlGcm9tRmxvYXRzKChlLngrdC54KS8yLChlLnkrdC55KS8yLChlLnordC56KS8yLChlLncrdC53KS8yKX0saS5UcmFuc2Zvcm1Db29yZGluYXRlcz1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZj1mdW5jdGlvbihlLHQscil7aS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LHIpfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bi5tLG89ZSpzWzBdK3Qqc1s0XStyKnNbOF0rc1sxMl0sdT1lKnNbMV0rdCpzWzVdK3Iqc1s5XStzWzEzXSxmPWUqc1syXSt0KnNbNl0rcipzWzEwXStzWzE0XSxsPWUqc1szXSt0KnNbN10rcipzWzExXStzWzE1XTthLng9byxhLnk9dSxhLno9ZixhLnc9bH0saS5UcmFuc2Zvcm1Ob3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49dC5tLGE9ZS54Km5bMF0rZS55Km5bNF0rZS56Km5bOF0scz1lLngqblsxXStlLnkqbls1XStlLnoqbls5XSxvPWUueCpuWzJdK2UueSpuWzZdK2UueipuWzEwXTtyLng9YSxyLnk9cyxyLno9byxyLnc9ZS53fSxpLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YS5tO3MueD1lKm9bMF0rdCpvWzRdK3Iqb1s4XSxzLnk9ZSpvWzFdK3Qqb1s1XStyKm9bOV0scy56PWUqb1syXSt0Km9bNl0rcipvWzEwXSxzLnc9bn0saS5Gcm9tVmVjdG9yMz1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxuZXcgaShlLl94LGUuX3ksZS5feix0KX0saX0oKSxlZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7ZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MSksdGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9cix0aGlzLl93PW59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3l9LHNldDpmdW5jdGlvbihlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdz1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1g6ICIuY29uY2F0KHRoaXMuX3gsIiBZOiAiKS5jb25jYXQodGhpcy5feSwiIFo6ICIpLmNvbmNhdCh0aGlzLl96LCIgVzogIikuY29uY2F0KHRoaXMuX3csIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlF1YXRlcm5pb24ifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUZlKHRoaXMuX3gpLHQ9RmUodGhpcy5feSkscj1GZSh0aGlzLl96KSxuPUZlKHRoaXMuX3cpLGE9ZTtyZXR1cm4gYT1hKjM5N150LGE9YSozOTdecixhPWEqMzk3Xm4sYX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVyblt0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93XX0saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLl94PT09ZS5feCYmdGhpcy5feT09PWUuX3kmJnRoaXMuX3o9PT1lLl96JiZ0aGlzLl93PT09ZS5fd30saS5wcm90b3R5cGUuZXF1YWxzV2l0aEVwc2lsb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ZmUpLGUmJiQuV2l0aGluRXBzaWxvbih0aGlzLl94LGUuX3gsdCkmJiQuV2l0aGluRXBzaWxvbih0aGlzLl95LGUuX3ksdCkmJiQuV2l0aGluRXBzaWxvbih0aGlzLl96LGUuX3osdCkmJiQuV2l0aGluRXBzaWxvbih0aGlzLl93LGUuX3csdCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3cpfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUuX3gsdGhpcy55PWUuX3ksdGhpcy56PWUuX3osdGhpcy53PWUuX3csdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1uLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscixuKX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfSxpLnByb3RvdHlwZS5hZGRJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl94Kz1lLl94LHRoaXMuX3krPWUuX3ksdGhpcy5feis9ZS5feix0aGlzLl93Kz1lLl93LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94LWUuX3gsdGhpcy5feS1lLl95LHRoaXMuX3otZS5feix0aGlzLl93LWUuX3cpfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUsdGhpcy5fdyplKX0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy5feCplLHQueT10aGlzLl95KmUsdC56PXRoaXMuX3oqZSx0Lnc9dGhpcy5fdyplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpcy53Kj1lLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54Kz10aGlzLl94KmUsdC55Kz10aGlzLl95KmUsdC56Kz10aGlzLl96KmUsdC53Kz10aGlzLl93KmUsdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoMCwwLDAsMSk7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHQpLHR9LGkucHJvdG90eXBlLm11bHRpcGx5VG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl94KmUuX3crdGhpcy5feSplLl96LXRoaXMuX3oqZS5feSt0aGlzLl93KmUuX3gsbj0tdGhpcy5feCplLl96K3RoaXMuX3kqZS5fdyt0aGlzLl96KmUuX3grdGhpcy5fdyplLl95LGE9dGhpcy5feCplLl95LXRoaXMuX3kqZS5feCt0aGlzLl96KmUuX3crdGhpcy5fdyplLl96LHM9LXRoaXMuX3gqZS5feC10aGlzLl95KmUuX3ktdGhpcy5feiplLl96K3RoaXMuX3cqZS5fdztyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyhyLG4sYSxzKSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHRoaXMpLHRoaXN9LGkucHJvdG90eXBlLmNvbmp1Z2F0ZVRvUmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96LHRoaXMuX3cpLHRoaXN9LGkucHJvdG90eXBlLmNvbmp1Z2F0ZUluUGxhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXMueio9LTEsdGhpc30saS5wcm90b3R5cGUuY29uanVnYXRlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGkoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3osdGhpcy5fdyk7cmV0dXJuIGV9LGkucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93KX0saS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGgoKTtpZihlPT09MClyZXR1cm4gdGhpczt2YXIgdD0xL2U7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpcy56Kj10LHRoaXMudyo9dCx0aGlzfSxpLnByb3RvdHlwZS50b0V1bGVyQW5nbGVzPWZ1bmN0aW9uKCl7dmFyIGU9RS5aZXJvKCk7cmV0dXJuIHRoaXMudG9FdWxlckFuZ2xlc1RvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvRXVsZXJBbmdsZXNUb1JlZj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl96LHI9dGhpcy5feCxuPXRoaXMuX3ksYT10aGlzLl93LHM9YSphLG89dCp0LHU9cipyLGY9bipuLGw9bip0LXIqYSxoPS40OTk5OTk5O3JldHVybiBsPC1oPyhlLnk9MipNYXRoLmF0YW4yKG4sYSksZS54PU1hdGguUEkvMixlLno9MCk6bD5oPyhlLnk9MipNYXRoLmF0YW4yKG4sYSksZS54PS1NYXRoLlBJLzIsZS56PTApOihlLno9TWF0aC5hdGFuMigyKihyKm4rdCphKSwtby11K2YrcyksZS54PU1hdGguYXNpbigtMioodCpuLXIqYSkpLGUueT1NYXRoLmF0YW4yKDIqKHQqcituKmEpLG8tdS1mK3MpKSx0aGlzfSxpLnByb3RvdHlwZS50b1JvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKGUpe3JldHVybiBJLkZyb21RdWF0ZXJuaW9uVG9SZWYodGhpcyxlKSx0aGlzfSxpLnByb3RvdHlwZS5mcm9tUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0aGlzKSx0aGlzfSxpLkZyb21Sb3RhdGlvbk1hdHJpeD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHQpLHR9LGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm0sbj1yWzBdLGE9cls0XSxzPXJbOF0sbz1yWzFdLHU9cls1XSxmPXJbOV0sbD1yWzJdLGg9cls2XSxjPXJbMTBdLGQ9bit1K2MscDtkPjA/KHA9LjUvTWF0aC5zcXJ0KGQrMSksdC53PS4yNS9wLHQueD0oaC1mKSpwLHQueT0ocy1sKSpwLHQuej0oby1hKSpwKTpuPnUmJm4+Yz8ocD0yKk1hdGguc3FydCgxK24tdS1jKSx0Lnc9KGgtZikvcCx0Lng9LjI1KnAsdC55PShhK28pL3AsdC56PShzK2wpL3ApOnU+Yz8ocD0yKk1hdGguc3FydCgxK3Utbi1jKSx0Lnc9KHMtbCkvcCx0Lng9KGErbykvcCx0Lnk9LjI1KnAsdC56PShmK2gpL3ApOihwPTIqTWF0aC5zcXJ0KDErYy1uLXUpLHQudz0oby1hKS9wLHQueD0ocytsKS9wLHQueT0oZitoKS9wLHQuej0uMjUqcCl9LGkuRG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fd30saS5BcmVDbG9zZT1mdW5jdGlvbihlLHQpe3ZhciByPWkuRG90KGUsdCk7cmV0dXJuIHI+PTB9LGkuU21vb3RoVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uPT09MD8xOnIvbjtzPSQuQ2xhbXAocywwLDEpLGkuU2xlcnBUb1JlZihlLHQscyxhKX0saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwwLDApfSxpLkludmVyc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKC1lLl94LC1lLl95LC1lLl96LGUuX3cpfSxpLkludmVyc2VUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnNldCgtZS5feCwtZS5feSwtZS5feixlLl93KSx0fSxpLklkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwwLDEpfSxpLklzSWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX3g9PT0wJiZlLl95PT09MCYmZS5fej09PTAmJmUuX3c9PT0xfSxpLlJvdGF0aW9uQXhpcz1mdW5jdGlvbihlLHQpe3JldHVybiBpLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCxuZXcgaSl9LGkuUm90YXRpb25BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguc2luKHQvMik7cmV0dXJuIGUubm9ybWFsaXplKCksci53PU1hdGguY29zKHQvMiksci54PWUuX3gqbixyLnk9ZS5feSpuLHIuej1lLl96Km4scn0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IGkoZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3IueD1lW3RdLHIueT1lW3QrMV0sci56PWVbdCsyXSxyLnc9ZVt0KzNdfSxpLkZyb21FdWxlckFuZ2xlcz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUscixuKSxufSxpLkZyb21FdWxlckFuZ2xlc1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLHIsbiksbn0saS5Gcm9tRXVsZXJWZWN0b3I9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLl95LGUuX3gsZS5feix0KSx0fSxpLkZyb21FdWxlclZlY3RvclRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLl95LGUuX3gsZS5feix0KSx0fSxpLkZyb21Vbml0VmVjdG9yc1RvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1FLkRvdChlLHQpKzE7cmV0dXJuIG48ZmU/TWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopP3Iuc2V0KC1lLnksZS54LDAsMCk6ci5zZXQoMCwtZS56LGUueSwwKTooRS5Dcm9zc1RvUmVmKGUsdCx4LlZlY3RvcjNbMF0pLHIuc2V0KHguVmVjdG9yM1swXS54LHguVmVjdG9yM1swXS55LHguVmVjdG9yM1swXS56LG4pKSxyLm5vcm1hbGl6ZSgpfSxpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxyLG4pLG59LGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1yKi41LHM9dCouNSxvPWUqLjUsdT1NYXRoLnNpbihhKSxmPU1hdGguY29zKGEpLGw9TWF0aC5zaW4ocyksaD1NYXRoLmNvcyhzKSxjPU1hdGguc2luKG8pLGQ9TWF0aC5jb3Mobyk7bi54PWQqbCpmK2MqaCp1LG4ueT1jKmgqZi1kKmwqdSxuLno9ZCpoKnUtYypsKmYsbi53PWQqaCpmK2MqbCp1fSxpLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQscixuKSxufSxpLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT0ocitlKSouNSxzPShyLWUpKi41LG89dCouNTtuLng9TWF0aC5jb3MocykqTWF0aC5zaW4obyksbi55PU1hdGguc2luKHMpKk1hdGguc2luKG8pLG4uej1NYXRoLnNpbihhKSpNYXRoLmNvcyhvKSxuLnc9TWF0aC5jb3MoYSkqTWF0aC5jb3Mobyl9LGkuUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKDAsMCwwLDApO3JldHVybiBpLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LHIsbiksbn0saS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVYuTWF0cml4WzBdO0kuRnJvbVhZWkF4ZXNUb1JlZihlLm5vcm1hbGl6ZSgpLHQubm9ybWFsaXplKCksci5ub3JtYWxpemUoKSxhKSxpLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGEsbil9LGkuRnJvbUxvb2tEaXJlY3Rpb25MSD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBpO3JldHVybiBpLkZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQscikscn0saS5Gcm9tTG9va0RpcmVjdGlvbkxIVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVYuTWF0cml4WzBdO0kuTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LG4pLGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobixyKX0saS5Gcm9tTG9va0RpcmVjdGlvblJIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxyKSxyfSxpLkZyb21Mb29rRGlyZWN0aW9uUkhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49Vi5NYXRyaXhbMF07cmV0dXJuIEkuTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LG4pLGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobixyKX0saS5TbGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49aS5JZGVudGl0eSgpO3JldHVybiBpLlNsZXJwVG9SZWYoZSx0LHIsbiksbn0saS5TbGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhLHMsbz1lLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5feitlLl93KnQuX3csdT0hMTtpZihvPDAmJih1PSEwLG89LW8pLG8+Ljk5OTk5OSlzPTEtcixhPXU/LXI6cjtlbHNle3ZhciBmPU1hdGguYWNvcyhvKSxsPTEvTWF0aC5zaW4oZik7cz1NYXRoLnNpbigoMS1yKSpmKSpsLGE9dT8tTWF0aC5zaW4ocipmKSpsOk1hdGguc2luKHIqZikqbH1uLng9cyplLl94K2EqdC5feCxuLnk9cyplLl95K2EqdC5feSxuLno9cyplLl96K2EqdC5feixuLnc9cyplLl93K2EqdC5fd30saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS5feCp1K3IuX3gqZit0Ll94Kmwrbi5feCpoLGQ9ZS5feSp1K3IuX3kqZit0Ll95Kmwrbi5feSpoLHA9ZS5feip1K3IuX3oqZit0Ll96Kmwrbi5feipoLF89ZS5fdyp1K3IuX3cqZit0Ll93Kmwrbi5fdypoO3JldHVybiBuZXcgaShjLGQscCxfKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWkuWmVybygpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LHIsbixhLHMpLHN9LGkuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YSphO3MueD0oby1hKSo2KmUueCsoMypvLTQqYSsxKSp0LngrKC1vK2EpKjYqci54KygzKm8tMiphKSpuLngscy55PShvLWEpKjYqZS55KygzKm8tNCphKzEpKnQueSsoLW8rYSkqNipyLnkrKDMqby0yKmEpKm4ueSxzLno9KG8tYSkqNiplLnorKDMqby00KmErMSkqdC56KygtbythKSo2KnIueisoMypvLTIqYSkqbi56LHMudz0oby1hKSo2KmUudysoMypvLTQqYSsxKSp0LncrKC1vK2EpKjYqci53KygzKm8tMiphKSpuLnd9LGl9KCksST1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMCx0aGlzLl9pc0lkZW50aXR5M3gyPSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMCx0aGlzLnVwZGF0ZUZsYWc9LTEsQXQuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2UmJkF0Lk1hdHJpeFRyYWNrZWRNYXRyaWNlcy5wdXNoKHRoaXMpLHRoaXMuX209bmV3IEF0Lk1hdHJpeEN1cnJlbnRUeXBlKDE2KSx0aGlzLm1hcmtBc1VwZGF0ZWQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlVzZTY0Qml0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiBBdC5NYXRyaXhVc2U2NEJpdHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX219LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUubWFya0FzVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMudXBkYXRlRmxhZz1pLl91cGRhdGVGbGFnU2VlZCsrLHRoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eTN4Mj0hMSx0aGlzLl9pc0lkZW50aXR5RGlydHk9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwfSxpLnByb3RvdHlwZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXM9ZnVuY3Rpb24oZSx0LHIsbil7dD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj0hMCksdGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8cix0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOm59LGkucHJvdG90eXBlLmlzSWRlbnRpdHk9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc0lkZW50aXR5RGlydHkpe3RoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMTt2YXIgZT10aGlzLl9tO3RoaXMuX2lzSWRlbnRpdHk9ZVswXT09PTEmJmVbMV09PT0wJiZlWzJdPT09MCYmZVszXT09PTAmJmVbNF09PT0wJiZlWzVdPT09MSYmZVs2XT09PTAmJmVbN109PT0wJiZlWzhdPT09MCYmZVs5XT09PTAmJmVbMTBdPT09MSYmZVsxMV09PT0wJiZlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTF9cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHl9LGkucHJvdG90eXBlLmlzSWRlbnRpdHlBczN4Mj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5M3gyRGlydHkmJih0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITEsdGhpcy5fbVswXSE9PTF8fHRoaXMuX21bNV0hPT0xfHx0aGlzLl9tWzE1XSE9PTE/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9tWzFdIT09MHx8dGhpcy5fbVsyXSE9PTB8fHRoaXMuX21bM10hPT0wfHx0aGlzLl9tWzRdIT09MHx8dGhpcy5fbVs2XSE9PTB8fHRoaXMuX21bN10hPT0wfHx0aGlzLl9tWzhdIT09MHx8dGhpcy5fbVs5XSE9PTB8fHRoaXMuX21bMTBdIT09MHx8dGhpcy5fbVsxMV0hPT0wfHx0aGlzLl9tWzEyXSE9PTB8fHRoaXMuX21bMTNdIT09MHx8dGhpcy5fbVsxNF0hPT0wP3RoaXMuX2lzSWRlbnRpdHkzeDI9ITE6dGhpcy5faXNJZGVudGl0eTN4Mj0hMCksdGhpcy5faXNJZGVudGl0eTN4Mn0saS5wcm90b3R5cGUuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc0lkZW50aXR5PT09ITApcmV0dXJuIDE7dmFyIGU9dGhpcy5fbSx0PWVbMF0scj1lWzFdLG49ZVsyXSxhPWVbM10scz1lWzRdLG89ZVs1XSx1PWVbNl0sZj1lWzddLGw9ZVs4XSxoPWVbOV0sYz1lWzEwXSxkPWVbMTFdLHA9ZVsxMl0sXz1lWzEzXSxnPWVbMTRdLG09ZVsxNV0sdj1jKm0tZypkLFM9aCptLV8qZCxNPWgqZy1fKmMsQT1sKm0tcCpkLFI9bCpnLWMqcCx5PWwqXy1wKmgsQz0rKG8qdi11KlMrZipNKSx3PS0ocyp2LXUqQStmKlIpLEY9KyhzKlMtbypBK2YqeSksRD0tKHMqTS1vKlIrdSp5KTtyZXR1cm4gdCpDK3IqdytuKkYrYSpEfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX219LGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbX0saS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW52ZXJ0VG9SZWYodGhpcyksdGhpc30saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksdGhpc30saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiB0aGlzLmFkZFRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5fbSxuPXQuX20sYT1lLm0scz0wO3M8MTY7cysrKW5bc109cltzXSthW3NdO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRUb1NlbGY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX20scj1lLm0sbj0wO248MTY7bisrKXRbbl0rPXJbbl07cmV0dXJuIHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLmludmVydFRvUmVmPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4gaS5JZGVudGl0eVRvUmVmKGUpLHRoaXM7dmFyIHQ9dGhpcy5fbSxyPXRbMF0sbj10WzFdLGE9dFsyXSxzPXRbM10sbz10WzRdLHU9dFs1XSxmPXRbNl0sbD10WzddLGg9dFs4XSxjPXRbOV0sZD10WzEwXSxwPXRbMTFdLF89dFsxMl0sZz10WzEzXSxtPXRbMTRdLHY9dFsxNV0sUz1kKnYtbSpwLE09Yyp2LWcqcCxBPWMqbS1nKmQsUj1oKnYtXypwLHk9aCptLWQqXyxDPWgqZy1fKmMsdz0rKHUqUy1mKk0rbCpBKSxGPS0obypTLWYqUitsKnkpLEQ9KyhvKk0tdSpSK2wqQyksWD0tKG8qQS11KnkrZipDKSxXPXIqdytuKkYrYSpEK3MqWDtpZihXPT09MClyZXR1cm4gZS5jb3B5RnJvbSh0aGlzKSx0aGlzO3ZhciBOPTEvVyxqPWYqdi1tKmwsSz11KnYtZypsLGFlPXUqbS1nKmYscT1vKnYtXypsLFo9byptLV8qZixtZT1vKmctXyp1LHhlPWYqcC1kKmwsTmU9dSpwLWMqbCxZZT11KmQtYypmLE90PW8qcC1oKmwsb3I9bypkLWgqZix1cj1vKmMtaCp1LHhyPS0obipTLWEqTStzKkEpLElyPSsocipTLWEqUitzKnkpLE9yPS0ocipNLW4qUitzKkMpLEZyPSsocipBLW4qeSthKkMpLHdyPSsobipqLWEqSytzKmFlKSxMcj0tKHIqai1hKnErcypaKSxpdD0rKHIqSy1uKnErcyptZSksbnQ9LShyKmFlLW4qWithKm1lKSxhdD0tKG4qeGUtYSpOZStzKlllKSxzdD0rKHIqeGUtYSpPdCtzKm9yKSxmcj0tKHIqTmUtbipPdCtzKnVyKSx2aT0rKHIqWWUtbipvcithKnVyKTtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYodypOLHhyKk4sd3IqTixhdCpOLEYqTixJcipOLExyKk4sc3QqTixEKk4sT3IqTixpdCpOLGZyKk4sWCpOLEZyKk4sbnQqTix2aSpOLGUpLHRoaXN9LGkucHJvdG90eXBlLmFkZEF0SW5kZXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSs9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseUF0SW5kZXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSo9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9tWzEyXT1lLHRoaXMuX21bMTNdPXQsdGhpcy5fbVsxNF09cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9tWzEyXSs9ZSx0aGlzLl9tWzEzXSs9dCx0aGlzLl9tWzE0XSs9cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRUcmFuc2xhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5nZXRUcmFuc2xhdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgRSh0aGlzLl9tWzEyXSx0aGlzLl9tWzEzXSx0aGlzLl9tWzE0XSl9LGkucHJvdG90eXBlLmdldFRyYW5zbGF0aW9uVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUueD10aGlzLl9tWzEyXSxlLnk9dGhpcy5fbVsxM10sZS56PXRoaXMuX21bMTRdLHRoaXN9LGkucHJvdG90eXBlLnJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubTtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0sdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xKSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7ZS5jb3B5VG9BcnJheSh0aGlzLl9tKTt2YXIgdD1lO3JldHVybiB0aGlzLnVwZGF0ZUZsYWc9dC51cGRhdGVGbGFnLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHQuX2lzSWRlbnRpdHksdC5faXNJZGVudGl0eURpcnR5LHQuX2lzSWRlbnRpdHkzeDIsdC5faXNJZGVudGl0eTN4MkRpcnR5KSx0aGlzfSxpLnByb3RvdHlwZS5jb3B5VG9BcnJheT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PTApO3ZhciByPXRoaXMuX207cmV0dXJuIGVbdF09clswXSxlW3QrMV09clsxXSxlW3QrMl09clsyXSxlW3QrM109clszXSxlW3QrNF09cls0XSxlW3QrNV09cls1XSxlW3QrNl09cls2XSxlW3QrN109cls3XSxlW3QrOF09cls4XSxlW3QrOV09cls5XSxlW3QrMTBdPXJbMTBdLGVbdCsxMV09clsxMV0sZVt0KzEyXT1yWzEyXSxlW3QrMTNdPXJbMTNdLGVbdCsxNF09clsxNF0sZVt0KzE1XT1yWzE1XSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHk/KHQuY29weUZyb20oZSksdGhpcyk6ZS5faXNJZGVudGl0eT8odC5jb3B5RnJvbSh0aGlzKSx0aGlzKToodGhpcy5tdWx0aXBseVRvQXJyYXkoZSx0Ll9tLDApLHQubWFya0FzVXBkYXRlZCgpLHRoaXMpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX20sYT1lLm0scz1uWzBdLG89blsxXSx1PW5bMl0sZj1uWzNdLGw9bls0XSxoPW5bNV0sYz1uWzZdLGQ9bls3XSxwPW5bOF0sXz1uWzldLGc9blsxMF0sbT1uWzExXSx2PW5bMTJdLFM9blsxM10sTT1uWzE0XSxBPW5bMTVdLFI9YVswXSx5PWFbMV0sQz1hWzJdLHc9YVszXSxGPWFbNF0sRD1hWzVdLFg9YVs2XSxXPWFbN10sTj1hWzhdLGo9YVs5XSxLPWFbMTBdLGFlPWFbMTFdLHE9YVsxMl0sWj1hWzEzXSxtZT1hWzE0XSx4ZT1hWzE1XTtyZXR1cm4gdFtyXT1zKlIrbypGK3UqTitmKnEsdFtyKzFdPXMqeStvKkQrdSpqK2YqWix0W3IrMl09cypDK28qWCt1KksrZiptZSx0W3IrM109cyp3K28qVyt1KmFlK2YqeGUsdFtyKzRdPWwqUitoKkYrYypOK2QqcSx0W3IrNV09bCp5K2gqRCtjKmorZCpaLHRbcis2XT1sKkMraCpYK2MqSytkKm1lLHRbcis3XT1sKncraCpXK2MqYWUrZCp4ZSx0W3IrOF09cCpSK18qRitnKk4rbSpxLHRbcis5XT1wKnkrXypEK2cqaittKlosdFtyKzEwXT1wKkMrXypYK2cqSyttKm1lLHRbcisxMV09cCp3K18qVytnKmFlK20qeGUsdFtyKzEyXT12KlIrUypGK00qTitBKnEsdFtyKzEzXT12KnkrUypEK00qaitBKlosdFtyKzE0XT12KkMrUypYK00qSytBKm1lLHRbcisxNV09dip3K1MqVytNKmFlK0EqeGUsdGhpc30saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYoIXQpcmV0dXJuITE7aWYoKHRoaXMuX2lzSWRlbnRpdHl8fHQuX2lzSWRlbnRpdHkpJiYhdGhpcy5faXNJZGVudGl0eURpcnR5JiYhdC5faXNJZGVudGl0eURpcnR5KXJldHVybiB0aGlzLl9pc0lkZW50aXR5JiZ0Ll9pc0lkZW50aXR5O3ZhciByPXRoaXMubSxuPXQubTtyZXR1cm4gclswXT09PW5bMF0mJnJbMV09PT1uWzFdJiZyWzJdPT09blsyXSYmclszXT09PW5bM10mJnJbNF09PT1uWzRdJiZyWzVdPT09bls1XSYmcls2XT09PW5bNl0mJnJbN109PT1uWzddJiZyWzhdPT09bls4XSYmcls5XT09PW5bOV0mJnJbMTBdPT09blsxMF0mJnJbMTFdPT09blsxMV0mJnJbMTJdPT09blsxMl0mJnJbMTNdPT09blsxM10mJnJbMTRdPT09blsxNF0mJnJbMTVdPT09blsxNV19LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIGUuY29weUZyb20odGhpcyksZX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdHJpeCJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPUZlKHRoaXMuX21bMF0pLHQ9MTt0PDE2O3QrKyllPWUqMzk3XkZlKHRoaXMuX21bdF0pO3JldHVybiBlfSxpLnByb3RvdHlwZS5kZWNvbXBvc2VUb1RyYW5zZm9ybU5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucm90YXRpb25RdWF0ZXJuaW9uPWUucm90YXRpb25RdWF0ZXJuaW9ufHxuZXcgZWUsdGhpcy5kZWNvbXBvc2UoZS5zY2FsaW5nLGUucm90YXRpb25RdWF0ZXJuaW9uLGUucG9zaXRpb24pfSxpLnByb3RvdHlwZS5kZWNvbXBvc2U9ZnVuY3Rpb24oZSx0LHIsbil7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gciYmci5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDt2YXIgYT10aGlzLl9tO2lmKHImJnIuY29weUZyb21GbG9hdHMoYVsxMl0sYVsxM10sYVsxNF0pLGU9ZXx8Vi5WZWN0b3IzWzBdLGUueD1NYXRoLnNxcnQoYVswXSphWzBdK2FbMV0qYVsxXSthWzJdKmFbMl0pLGUueT1NYXRoLnNxcnQoYVs0XSphWzRdK2FbNV0qYVs1XSthWzZdKmFbNl0pLGUuej1NYXRoLnNxcnQoYVs4XSphWzhdK2FbOV0qYVs5XSthWzEwXSphWzEwXSksbil7dmFyIHM9bi5zY2FsaW5nLng8MD8tMToxLG89bi5zY2FsaW5nLnk8MD8tMToxLHU9bi5zY2FsaW5nLno8MD8tMToxO2UueCo9cyxlLnkqPW8sZS56Kj11fWVsc2UgdGhpcy5kZXRlcm1pbmFudCgpPD0wJiYoZS55Kj0tMSk7aWYoZS5feD09PTB8fGUuX3k9PT0wfHxlLl96PT09MClyZXR1cm4gdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMTtpZih0KXt2YXIgZj0xL2UuX3gsbD0xL2UuX3ksaD0xL2UuX3o7aS5Gcm9tVmFsdWVzVG9SZWYoYVswXSpmLGFbMV0qZixhWzJdKmYsMCxhWzRdKmwsYVs1XSpsLGFbNl0qbCwwLGFbOF0qaCxhWzldKmgsYVsxMF0qaCwwLDAsMCwwLDEsVi5NYXRyaXhbMF0pLGVlLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKFYuTWF0cml4WzBdLHQpfXJldHVybiEwfSxpLnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPjMpcmV0dXJuIG51bGw7dmFyIHQ9ZSo0O3JldHVybiBuZXcgZHQodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX0saS5wcm90b3R5cGUuc2V0Um93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0Um93RnJvbUZsb2F0cyhlLHQueCx0LnksdC56LHQudyl9LGkucHJvdG90eXBlLnRyYW5zcG9zZT1mdW5jdGlvbigpe3JldHVybiBpLlRyYW5zcG9zZSh0aGlzKX0saS5wcm90b3R5cGUudHJhbnNwb3NlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuVHJhbnNwb3NlVG9SZWYodGhpcyxlKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRSb3dGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYoZTwwfHxlPjMpcmV0dXJuIHRoaXM7dmFyIHM9ZSo0O3JldHVybiB0aGlzLl9tW3MrMF09dCx0aGlzLl9tW3MrMV09cix0aGlzLl9tW3MrMl09bix0aGlzLl9tW3MrM109YSx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gdGhpcy5zY2FsZVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8MTY7cisrKXQuX21bcl09dGhpcy5fbVtyXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjwxNjtyKyspdC5fbVtyXSs9dGhpcy5fbVtyXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS50b05vcm1hbE1hdHJpeD1mdW5jdGlvbihlKXt2YXIgdD1WLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7dmFyIHI9ZS5fbTtpLkZyb21WYWx1ZXNUb1JlZihyWzBdLHJbMV0sclsyXSwwLHJbNF0scls1XSxyWzZdLDAscls4XSxyWzldLHJbMTBdLDAsMCwwLDAsMSxlKX0saS5wcm90b3R5cGUuZ2V0Um90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9LGkucHJvdG90eXBlLmdldFJvdGF0aW9uTWF0cml4VG9SZWY9ZnVuY3Rpb24oZSl7dmFyIHQ9Vi5WZWN0b3IzWzBdO2lmKCF0aGlzLmRlY29tcG9zZSh0KSlyZXR1cm4gaS5JZGVudGl0eVRvUmVmKGUpLHRoaXM7dmFyIHI9dGhpcy5fbSxuPTEvdC5feCxhPTEvdC5feSxzPTEvdC5fejtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qcyxyWzldKnMsclsxMF0qcywwLDAsMCwwLDEsZSksdGhpc30saS5wcm90b3R5cGUudG9nZ2xlTW9kZWxNYXRyaXhIYW5kSW5QbGFjZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX207ZVsyXSo9LTEsZVs2XSo9LTEsZVs4XSo9LTEsZVs5XSo9LTEsZVsxNF0qPS0xLHRoaXMubWFya0FzVXBkYXRlZCgpfSxpLnByb3RvdHlwZS50b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9tO2VbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9MCk7dmFyIHI9bmV3IGk7cmV0dXJuIGkuRnJvbUFycmF5VG9SZWYoZSx0LHIpLHJ9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj0wO248MTY7bisrKXIuX21bbl09ZVtuK3RdO3IubWFya0FzVXBkYXRlZCgpfSxpLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZD1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9MDthPDE2O2ErKyluLl9tW2FdPWVbYSt0XSpyO24ubWFya0FzVXBkYXRlZCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSWRlbnRpdHlSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9pZGVudGl0eVJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuRnJvbVZhbHVlc1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxfLGcsbSl7dmFyIHY9bS5fbTt2WzBdPWUsdlsxXT10LHZbMl09cix2WzNdPW4sdls0XT1hLHZbNV09cyx2WzZdPW8sdls3XT11LHZbOF09Zix2WzldPWwsdlsxMF09aCx2WzExXT1jLHZbMTJdPWQsdlsxM109cCx2WzE0XT1fLHZbMTVdPWcsbS5tYXJrQXNVcGRhdGVkKCl9LGkuRnJvbVZhbHVlcz1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsXyxnKXt2YXIgbT1uZXcgaSx2PW0uX207cmV0dXJuIHZbMF09ZSx2WzFdPXQsdlsyXT1yLHZbM109bix2WzRdPWEsdls1XT1zLHZbNl09byx2WzddPXUsdls4XT1mLHZbOV09bCx2WzEwXT1oLHZbMTFdPWMsdlsxMl09ZCx2WzEzXT1wLHZbMTRdPV8sdlsxNV09ZyxtLm1hcmtBc1VwZGF0ZWQoKSxtfSxpLkNvbXBvc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkNvbXBvc2VUb1JlZihlLHQscixuKSxufSxpLkNvbXBvc2VUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uLl9tLHM9dC5feCxvPXQuX3ksdT10Ll96LGY9dC5fdyxsPXMrcyxoPW8rbyxjPXUrdSxkPXMqbCxwPXMqaCxfPXMqYyxnPW8qaCxtPW8qYyx2PXUqYyxTPWYqbCxNPWYqaCxBPWYqYyxSPWUuX3gseT1lLl95LEM9ZS5fejthWzBdPSgxLShnK3YpKSpSLGFbMV09KHArQSkqUixhWzJdPShfLU0pKlIsYVszXT0wLGFbNF09KHAtQSkqeSxhWzVdPSgxLShkK3YpKSp5LGFbNl09KG0rUykqeSxhWzddPTAsYVs4XT0oXytNKSpDLGFbOV09KG0tUykqQyxhWzEwXT0oMS0oZCtnKSkqQyxhWzExXT0wLGFbMTJdPXIuX3gsYVsxM109ci5feSxhWzE0XT1yLl96LGFbMTVdPTEsbi5tYXJrQXNVcGRhdGVkKCl9LGkuSWRlbnRpdHk9ZnVuY3Rpb24oKXt2YXIgZT1pLkZyb21WYWx1ZXMoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSk7cmV0dXJuIGUuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCEwKSxlfSxpLklkZW50aXR5VG9SZWY9ZnVuY3Rpb24oZSl7aS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCl9LGkuWmVybz1mdW5jdGlvbigpe3ZhciBlPWkuRnJvbVZhbHVlcygwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtyZXR1cm4gZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLGV9LGkuUm90YXRpb25YPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiBpLlJvdGF0aW9uWFRvUmVmKGUsdCksdH0saS5JbnZlcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGUuaW52ZXJ0VG9SZWYodCksdH0saS5Sb3RhdGlvblhUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7aS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLG4sciwwLDAsLXIsbiwwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMobj09PTEmJnI9PT0wKX0saS5Sb3RhdGlvblk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZVG9SZWYoZSx0KSx0fSxpLlJvdGF0aW9uWVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtpLkZyb21WYWx1ZXNUb1JlZihuLDAsLXIsMCwwLDEsMCwwLHIsMCxuLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhuPT09MSYmcj09PTApfSxpLlJvdGF0aW9uWj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvblpUb1JlZihlLHQpLHR9LGkuUm90YXRpb25aVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO2kuRnJvbVZhbHVlc1RvUmVmKG4sciwwLDAsLXIsbiwwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKG49PT0xJiZyPT09MCl9LGkuUm90YXRpb25BeGlzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25BeGlzVG9SZWYoZSx0LHIpLHJ9LGkuUm90YXRpb25BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguc2luKC10KSxhPU1hdGguY29zKC10KSxzPTEtYTtlLm5vcm1hbGl6ZSgpO3ZhciBvPXIuX207b1swXT1lLl94KmUuX3gqcythLG9bMV09ZS5feCplLl95KnMtZS5feipuLG9bMl09ZS5feCplLl96KnMrZS5feSpuLG9bM109MCxvWzRdPWUuX3kqZS5feCpzK2UuX3oqbixvWzVdPWUuX3kqZS5feSpzK2Esb1s2XT1lLl95KmUuX3oqcy1lLl94Km4sb1s3XT0wLG9bOF09ZS5feiplLl94KnMtZS5feSpuLG9bOV09ZS5feiplLl95KnMrZS5feCpuLG9bMTBdPWUuX3oqZS5feipzK2Esb1sxMV09MCxvWzEyXT0wLG9bMTNdPTAsb1sxNF09MCxvWzE1XT0xLHIubWFya0FzVXBkYXRlZCgpfSxpLlJvdGF0aW9uQWxpZ25Ub1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49RS5Eb3QodCxlKSxhPXIuX207aWYobjwtMStmZSlhWzBdPS0xLGFbMV09MCxhWzJdPTAsYVszXT0wLGFbNF09MCxhWzVdPS0xLGFbNl09MCxhWzddPTAsYVs4XT0wLGFbOV09MCxhWzEwXT0xLGFbMTFdPTA7ZWxzZXt2YXIgcz1FLkNyb3NzKHQsZSksbz0xLygxK24pO2FbMF09cy5feCpzLl94Km8rbixhWzFdPXMuX3kqcy5feCpvLXMuX3osYVsyXT1zLl96KnMuX3gqbytzLl95LGFbM109MCxhWzRdPXMuX3gqcy5feSpvK3MuX3osYVs1XT1zLl95KnMuX3kqbytuLGFbNl09cy5feipzLl95Km8tcy5feCxhWzddPTAsYVs4XT1zLl94KnMuX3oqby1zLl95LGFbOV09cy5feSpzLl96Km8rcy5feCxhWzEwXT1zLl96KnMuX3oqbytuLGFbMTFdPTB9YVsxMl09MCxhWzEzXT0wLGFbMTRdPTAsYVsxNV09MSxyLm1hcmtBc1VwZGF0ZWQoKX0saS5Sb3RhdGlvbllhd1BpdGNoUm9sbD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQscixuKSxufSxpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7ZWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQscixWLlF1YXRlcm5pb25bMF0pLFYuUXVhdGVybmlvblswXS50b1JvdGF0aW9uTWF0cml4KG4pfSxpLlNjYWxpbmc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlNjYWxpbmdUb1JlZihlLHQscixuKSxufSxpLlNjYWxpbmdUb1JlZj1mdW5jdGlvbihlLHQscixuKXtpLkZyb21WYWx1ZXNUb1JlZihlLDAsMCwwLDAsdCwwLDAsMCwwLHIsMCwwLDAsMCwxLG4pLG4uX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0xJiZ0PT09MSYmcj09PTEpfSxpLlRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5UcmFuc2xhdGlvblRvUmVmKGUsdCxyLG4pLG59LGkuVHJhbnNsYXRpb25Ub1JlZj1mdW5jdGlvbihlLHQscixuKXtpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsciwxLG4pLG4uX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmcj09PTApfSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkxlcnBUb1JlZihlLHQscixuKSxufSxpLkxlcnBUb1JlZj1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9bi5fbSxzPWUubSxvPXQubSx1PTA7dTwxNjt1KyspYVt1XT1zW3VdKigxLXIpK29bdV0qcjtuLm1hcmtBc1VwZGF0ZWQoKX0saS5EZWNvbXBvc2VMZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LHIsbiksbn0saS5EZWNvbXBvc2VMZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9Vi5WZWN0b3IzWzBdLHM9Vi5RdWF0ZXJuaW9uWzBdLG89Vi5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKGEscyxvKTt2YXIgdT1WLlZlY3RvcjNbMl0sZj1WLlF1YXRlcm5pb25bMV0sbD1WLlZlY3RvcjNbM107dC5kZWNvbXBvc2UodSxmLGwpO3ZhciBoPVYuVmVjdG9yM1s0XTtFLkxlcnBUb1JlZihhLHUscixoKTt2YXIgYz1WLlF1YXRlcm5pb25bMl07ZWUuU2xlcnBUb1JlZihzLGYscixjKTt2YXIgZD1WLlZlY3RvcjNbNV07RS5MZXJwVG9SZWYobyxsLHIsZCksaS5Db21wb3NlVG9SZWYoaCxjLGQsbil9LGkuTG9va0F0TEg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkxvb2tBdExIVG9SZWYoZSx0LHIsbiksbn0saS5Mb29rQXRMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVYuVmVjdG9yM1swXSxzPVYuVmVjdG9yM1sxXSxvPVYuVmVjdG9yM1syXTt0LnN1YnRyYWN0VG9SZWYoZSxvKSxvLm5vcm1hbGl6ZSgpLEUuQ3Jvc3NUb1JlZihyLG8sYSk7dmFyIHU9YS5sZW5ndGhTcXVhcmVkKCk7dT09PTA/YS54PTE6YS5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydCh1KSksRS5Dcm9zc1RvUmVmKG8sYSxzKSxzLm5vcm1hbGl6ZSgpO3ZhciBmPS1FLkRvdChhLGUpLGw9LUUuRG90KHMsZSksaD0tRS5Eb3QobyxlKTtpLkZyb21WYWx1ZXNUb1JlZihhLl94LHMuX3gsby5feCwwLGEuX3kscy5feSxvLl95LDAsYS5feixzLl96LG8uX3osMCxmLGwsaCwxLG4pfSxpLkxvb2tBdFJIPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Mb29rQXRSSFRvUmVmKGUsdCxyLG4pLG59LGkuTG9va0F0UkhUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1WLlZlY3RvcjNbMF0scz1WLlZlY3RvcjNbMV0sbz1WLlZlY3RvcjNbMl07ZS5zdWJ0cmFjdFRvUmVmKHQsbyksby5ub3JtYWxpemUoKSxFLkNyb3NzVG9SZWYocixvLGEpO3ZhciB1PWEubGVuZ3RoU3F1YXJlZCgpO3U9PT0wP2EueD0xOmEubm9ybWFsaXplRnJvbUxlbmd0aChNYXRoLnNxcnQodSkpLEUuQ3Jvc3NUb1JlZihvLGEscykscy5ub3JtYWxpemUoKTt2YXIgZj0tRS5Eb3QoYSxlKSxsPS1FLkRvdChzLGUpLGg9LUUuRG90KG8sZSk7aS5Gcm9tVmFsdWVzVG9SZWYoYS5feCxzLl94LG8uX3gsMCxhLl95LHMuX3ksby5feSwwLGEuX3oscy5feixvLl96LDAsZixsLGgsMSxuKX0saS5Mb29rRGlyZWN0aW9uTEg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQscikscn0saS5Mb29rRGlyZWN0aW9uTEhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49Vi5WZWN0b3IzWzBdO24uY29weUZyb20oZSksbi5zY2FsZUluUGxhY2UoLTEpO3ZhciBhPVYuVmVjdG9yM1sxXTtFLkNyb3NzVG9SZWYodCxuLGEpLGkuRnJvbVZhbHVlc1RvUmVmKGEuX3gsYS5feSxhLl96LDAsdC5feCx0Ll95LHQuX3osMCxuLl94LG4uX3ksbi5feiwwLDAsMCwwLDEscil9LGkuTG9va0RpcmVjdGlvblJIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LHIpLHJ9LGkuTG9va0RpcmVjdGlvblJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVYuVmVjdG9yM1syXTtFLkNyb3NzVG9SZWYodCxlLG4pLGkuRnJvbVZhbHVlc1RvUmVmKG4uX3gsbi5feSxuLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEscil9LGkuT3J0aG9MSD1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW5ldyBpO3JldHVybiBpLk9ydGhvTEhUb1JlZihlLHQscixuLHMsYSksc30saS5PcnRob0xIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPXIsdT1uLGY9Mi9lLGw9Mi90LGg9Mi8odS1vKSxjPS0odStvKS8odS1vKTtpLkZyb21WYWx1ZXNUb1JlZihmLDAsMCwwLDAsbCwwLDAsMCwwLGgsMCwwLDAsYywxLGEpLHMmJmEubXVsdGlwbHlUb1JlZihwdCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyhmPT09MSYmbD09PTEmJmg9PT0xJiZjPT09MCl9LGkuT3J0aG9PZmZDZW50ZXJMSD1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT1uZXcgaTtyZXR1cm4gaS5PcnRob09mZkNlbnRlckxIVG9SZWYoZSx0LHIsbixhLHMsdSxvKSx1fSxpLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3ZhciBmPWEsbD1zLGg9Mi8odC1lKSxjPTIvKG4tciksZD0yLyhsLWYpLHA9LShsK2YpLyhsLWYpLF89KGUrdCkvKGUtdCksZz0obityKS8oci1uKTtpLkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsYywwLDAsMCwwLGQsMCxfLGcscCwxLG8pLHUmJm8ubXVsdGlwbHlUb1JlZihwdCxvKSxvLm1hcmtBc1VwZGF0ZWQoKX0saS5PcnRob09mZkNlbnRlclJIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PW5ldyBpO3JldHVybiBpLk9ydGhvT2ZmQ2VudGVyUkhUb1JlZihlLHQscixuLGEscyx1LG8pLHV9LGkuT3J0aG9PZmZDZW50ZXJSSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7aS5PcnRob09mZkNlbnRlckxIVG9SZWYoZSx0LHIsbixhLHMsbyx1KSxvLl9tWzEwXSo9LTF9LGkuUGVyc3BlY3RpdmVMSD1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9MCk7dmFyIG89bmV3IGksdT1yLGY9bixsPTIqdS9lLGg9Mip1L3QsYz0oZit1KS8oZi11KSxkPS0yKmYqdS8oZi11KSxwPU1hdGgudGFuKHMpO3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZihsLDAsMCwwLDAsaCwwLHAsMCwwLGMsMSwwLDAsZCwwLG8pLGEmJm8ubXVsdGlwbHlUb1JlZihwdCxvKSxvLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksb30saS5QZXJzcGVjdGl2ZUZvdkxIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3M9PT12b2lkIDAmJihzPTApLG89PT12b2lkIDAmJihvPSExKTt2YXIgdT1uZXcgaTtyZXR1cm4gaS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LHIsbix1LCEwLGEscyxvKSx1fSxpLlBlcnNwZWN0aXZlRm92TEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7cz09PXZvaWQgMCYmKHM9ITApLHU9PT12b2lkIDAmJih1PTApLGY9PT12b2lkIDAmJihmPSExKTt2YXIgbD1yLGg9bixjPTEvTWF0aC50YW4oZSouNSksZD1zP2MvdDpjLHA9cz9jOmMqdCxfPWYmJmw9PT0wPy0xOmghPT0wPyhoK2wpLyhoLWwpOjEsZz1mJiZsPT09MD8yKmg6aCE9PTA/LTIqaCpsLyhoLWwpOi0yKmwsbT1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihkLDAsMCwwLDAscCwwLG0sMCwwLF8sMSwwLDAsZywwLGEpLG8mJmEubXVsdGlwbHlUb1JlZihwdCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZSZXZlcnNlTEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3M9PT12b2lkIDAmJihzPSEwKSx1PT09dm9pZCAwJiYodT0wKTt2YXIgZj0xL01hdGgudGFuKGUqLjUpLGw9cz9mL3Q6ZixoPXM/ZjpmKnQsYz1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihsLDAsMCwwLDAsaCwwLGMsMCwwLC1yLDEsMCwwLDEsMCxhKSxvJiZhLm11bHRpcGx5VG9SZWYocHQsYSksYS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfSxpLlBlcnNwZWN0aXZlRm92Ukg9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9MCksbz09PXZvaWQgMCYmKG89ITEpO3ZhciB1PW5ldyBpO3JldHVybiBpLlBlcnNwZWN0aXZlRm92UkhUb1JlZihlLHQscixuLHUsITAsYSxzLG8pLHV9LGkuUGVyc3BlY3RpdmVGb3ZSSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXtzPT09dm9pZCAwJiYocz0hMCksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9ITEpO3ZhciBsPXIsaD1uLGM9MS9NYXRoLnRhbihlKi41KSxkPXM/Yy90OmMscD1zP2M6Yyp0LF89ZiYmbD09PTA/MTpoIT09MD8tKGgrbCkvKGgtbCk6LTEsZz1mJiZsPT09MD8yKmg6aCE9PTA/LTIqaCpsLyhoLWwpOi0yKmwsbT1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihkLDAsMCwwLDAscCwwLG0sMCwwLF8sLTEsMCwwLGcsMCxhKSxvJiZhLm11bHRpcGx5VG9SZWYocHQsYSksYS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfSxpLlBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtzPT09dm9pZCAwJiYocz0hMCksdT09PXZvaWQgMCYmKHU9MCk7dmFyIGY9MS9NYXRoLnRhbihlKi41KSxsPXM/Zi90OmYsaD1zP2Y6Zip0LGM9TWF0aC50YW4odSk7aS5Gcm9tVmFsdWVzVG9SZWYobCwwLDAsMCwwLGgsMCxjLDAsMCwtciwtMSwwLDAsLTEsMCxhKSxvJiZhLm11bHRpcGx5VG9SZWYocHQsYSksYS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfSxpLlBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvKXthPT09dm9pZCAwJiYoYT0hMSksbz09PXZvaWQgMCYmKG89MCk7dmFyIHU9YT8tMToxLGY9TWF0aC50YW4oZS51cERlZ3JlZXMqTWF0aC5QSS8xODApLGw9TWF0aC50YW4oZS5kb3duRGVncmVlcypNYXRoLlBJLzE4MCksaD1NYXRoLnRhbihlLmxlZnREZWdyZWVzKk1hdGguUEkvMTgwKSxjPU1hdGgudGFuKGUucmlnaHREZWdyZWVzKk1hdGguUEkvMTgwKSxkPTIvKGgrYykscD0yLyhmK2wpLF89TWF0aC50YW4obyksZz1uLl9tO2dbMF09ZCxnWzFdPWdbMl09Z1szXT1nWzRdPTAsZ1s1XT1wLGdbNl09MCxnWzddPV8sZ1s4XT0oaC1jKSpkKi41LGdbOV09LSgoZi1sKSpwKi41KSxnWzEwXT0tci8odC1yKSxnWzExXT0xKnUsZ1sxMl09Z1sxM109Z1sxNV09MCxnWzE0XT0tKDIqcip0KS8oci10KSxzJiZuLm11bHRpcGx5VG9SZWYocHQsbiksbi5tYXJrQXNVcGRhdGVkKCl9LGkuR2V0RmluYWxNYXRyaXg9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWUud2lkdGgsdT1lLmhlaWdodCxmPWUueCxsPWUueSxoPWkuRnJvbVZhbHVlcyhvLzIsMCwwLDAsMCwtdS8yLDAsMCwwLDAscy1hLDAsZitvLzIsdS8yK2wsYSwxKSxjPVYuTWF0cml4WzBdO3JldHVybiB0Lm11bHRpcGx5VG9SZWYocixjKSxjLm11bHRpcGx5VG9SZWYobixjKSxjLm11bHRpcGx5KGgpfSxpLkdldEFzTWF0cml4MngyPWZ1bmN0aW9uKGUpe3ZhciB0PWUubSxyPVt0WzBdLHRbMV0sdFs0XSx0WzVdXTtyZXR1cm4gQXQuTWF0cml4VXNlNjRCaXRzP3I6bmV3IEZsb2F0MzJBcnJheShyKX0saS5HZXRBc01hdHJpeDN4Mz1mdW5jdGlvbihlKXt2YXIgdD1lLm0scj1bdFswXSx0WzFdLHRbMl0sdFs0XSx0WzVdLHRbNl0sdFs4XSx0WzldLHRbMTBdXTtyZXR1cm4gQXQuTWF0cml4VXNlNjRCaXRzP3I6bmV3IEZsb2F0MzJBcnJheShyKX0saS5UcmFuc3Bvc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuVHJhbnNwb3NlVG9SZWYoZSx0KSx0fSxpLlRyYW5zcG9zZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5fbSxuPWUubTtyWzBdPW5bMF0sclsxXT1uWzRdLHJbMl09bls4XSxyWzNdPW5bMTJdLHJbNF09blsxXSxyWzVdPW5bNV0scls2XT1uWzldLHJbN109blsxM10scls4XT1uWzJdLHJbOV09bls2XSxyWzEwXT1uWzEwXSxyWzExXT1uWzE0XSxyWzEyXT1uWzNdLHJbMTNdPW5bN10sclsxNF09blsxMV0sclsxNV09blsxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpfSxpLlJlZmxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUmVmbGVjdGlvblRvUmVmKGUsdCksdH0saS5SZWZsZWN0aW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXtlLm5vcm1hbGl6ZSgpO3ZhciByPWUubm9ybWFsLngsbj1lLm5vcm1hbC55LGE9ZS5ub3JtYWwueixzPS0yKnIsbz0tMipuLHU9LTIqYTtpLkZyb21WYWx1ZXNUb1JlZihzKnIrMSxvKnIsdSpyLDAscypuLG8qbisxLHUqbiwwLHMqYSxvKmEsdSphKzEsMCxzKmUuZCxvKmUuZCx1KmUuZCwxLHQpfSxpLkZyb21YWVpBeGVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7aS5Gcm9tVmFsdWVzVG9SZWYoZS5feCxlLl95LGUuX3osMCx0Ll94LHQuX3ksdC5feiwwLHIuX3gsci5feSxyLl96LDAsMCwwLDAsMSxuKX0saS5Gcm9tUXVhdGVybmlvblRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5feCplLl94LG49ZS5feSplLl95LGE9ZS5feiplLl96LHM9ZS5feCplLl95LG89ZS5feiplLl93LHU9ZS5feiplLl94LGY9ZS5feSplLl93LGw9ZS5feSplLl96LGg9ZS5feCplLl93O3QuX21bMF09MS0yKihuK2EpLHQuX21bMV09MioocytvKSx0Ll9tWzJdPTIqKHUtZiksdC5fbVszXT0wLHQuX21bNF09Mioocy1vKSx0Ll9tWzVdPTEtMiooYStyKSx0Ll9tWzZdPTIqKGwraCksdC5fbVs3XT0wLHQuX21bOF09MioodStmKSx0Ll9tWzldPTIqKGwtaCksdC5fbVsxMF09MS0yKihuK3IpLHQuX21bMTFdPTAsdC5fbVsxMl09MCx0Ll9tWzEzXT0wLHQuX21bMTRdPTAsdC5fbVsxNV09MSx0Lm1hcmtBc1VwZGF0ZWQoKX0saS5fdXBkYXRlRmxhZ1NlZWQ9MCxpLl9pZGVudGl0eVJlYWRPbmx5PWkuSWRlbnRpdHkoKSxpfSgpLFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlZlY3RvcjM9TWUuQnVpbGRUdXBsZSgxMSxFLlplcm8pLGkuTWF0cml4PU1lLkJ1aWxkVHVwbGUoMixJLklkZW50aXR5KSxpLlF1YXRlcm5pb249TWUuQnVpbGRUdXBsZSgzLGVlLlplcm8pLGl9KCkseD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuVmVjdG9yMj1NZS5CdWlsZFR1cGxlKDMsYmUuWmVybyksaS5WZWN0b3IzPU1lLkJ1aWxkVHVwbGUoMTMsRS5aZXJvKSxpLlZlY3RvcjQ9TWUuQnVpbGRUdXBsZSgzLGR0Llplcm8pLGkuUXVhdGVybmlvbj1NZS5CdWlsZFR1cGxlKDIsZWUuWmVybyksaS5NYXRyaXg9TWUuQnVpbGRUdXBsZSg4LEkuSWRlbnRpdHkpLGl9KCk7T2UoIkJBQllMT04uVmVjdG9yMiIsYmUpLE9lKCJCQUJZTE9OLlZlY3RvcjMiLEUpLE9lKCJCQUJZTE9OLlZlY3RvcjQiLGR0KSxPZSgiQkFCWUxPTi5NYXRyaXgiLEkpO3ZhciBwdD1JLkZyb21WYWx1ZXMoMSwwLDAsMCwwLDEsMCwwLDAsMCwuNSwwLDAsMCwuNSwxKSxPaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnJvb3ROb2Rlcz1uZXcgQXJyYXksdGhpcy5jYW1lcmFzPW5ldyBBcnJheSx0aGlzLmxpZ2h0cz1uZXcgQXJyYXksdGhpcy5tZXNoZXM9bmV3IEFycmF5LHRoaXMuc2tlbGV0b25zPW5ldyBBcnJheSx0aGlzLnBhcnRpY2xlU3lzdGVtcz1uZXcgQXJyYXksdGhpcy5hbmltYXRpb25zPVtdLHRoaXMuYW5pbWF0aW9uR3JvdXBzPW5ldyBBcnJheSx0aGlzLm11bHRpTWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLm1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLmdlb21ldHJpZXM9bmV3IEFycmF5LHRoaXMudHJhbnNmb3JtTm9kZXM9bmV3IEFycmF5LHRoaXMuYWN0aW9uTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMudGV4dHVyZXM9bmV3IEFycmF5LHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1udWxsLHRoaXMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXl9cmV0dXJuIGkuQWRkUGFyc2VyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9LGkuR2V0UGFyc2VyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9LGkuQWRkSW5kaXZpZHVhbFBhcnNlcj1mdW5jdGlvbihlLHQpe3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH0saS5HZXRJbmRpdmlkdWFsUGFyc2VyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdP3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV06bnVsbH0saS5QYXJzZT1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGEgaW4gdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzKXRoaXMuX0JhYnlsb25GaWxlUGFyc2Vycy5oYXNPd25Qcm9wZXJ0eShhKSYmdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2FdKGUsdCxyLG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVudmlyb25tZW50VGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXROb2Rlcz1mdW5jdGlvbigpe3ZhciBlPW5ldyBBcnJheTtyZXR1cm4gZT1lLmNvbmNhdCh0aGlzLm1lc2hlcyksZT1lLmNvbmNhdCh0aGlzLmxpZ2h0cyksZT1lLmNvbmNhdCh0aGlzLmNhbWVyYXMpLGU9ZS5jb25jYXQodGhpcy50cmFuc2Zvcm1Ob2RlcyksdGhpcy5za2VsZXRvbnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZT1lLmNvbmNhdCh0LmJvbmVzKX0pLGV9LGkuX0JhYnlsb25GaWxlUGFyc2Vycz17fSxpLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzPXt9LGl9KCksbXI9e30seXI9e30sRmk9ZnVuY3Rpb24oaSxlLHQpe3ZhciByPWkoKTtzZSYmc2UuQWRkVGFnc1RvKHIsZS50YWdzKTt2YXIgbj1ZcihyKTtmb3IodmFyIGEgaW4gbil7dmFyIHM9blthXSxvPWVbYV0sdT1zLnR5cGU7aWYobyE9bnVsbCYmKGEhPT0idW5pcXVlSWQifHxZLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSlzd2l0Y2godSl7Y2FzZSAwOmNhc2UgNjpjYXNlIDExOnJbYV09bzticmVhaztjYXNlIDE6clthXT10fHxvLmlzUmVuZGVyVGFyZ2V0P286by5jbG9uZSgpO2JyZWFrO2Nhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDc6Y2FzZSAxMDpjYXNlIDEyOnJbYV09dD9vOm8uY2xvbmUoKTticmVha319cmV0dXJuIHJ9O2Z1bmN0aW9uIG5hKGkpe3ZhciBlPWkuZ2V0Q2xhc3NOYW1lKCk7cmV0dXJuIG1yW2VdfHwobXJbZV09e30pLG1yW2VdfWZ1bmN0aW9uIFlyKGkpe3ZhciBlPWkuZ2V0Q2xhc3NOYW1lKCk7aWYoeXJbZV0pcmV0dXJuIHlyW2VdO3lyW2VdPXt9O2Zvcih2YXIgdD15cltlXSxyPWksbj1lO247KXt2YXIgYT1tcltuXTtmb3IodmFyIHMgaW4gYSl0W3NdPWFbc107dmFyIG89dm9pZCAwLHU9ITE7ZG97aWYobz1PYmplY3QuZ2V0UHJvdG90eXBlT2YociksIW8uZ2V0Q2xhc3NOYW1lKXt1PSEwO2JyZWFrfWlmKG8uZ2V0Q2xhc3NOYW1lKCkhPT1uKWJyZWFrO3I9b313aGlsZShvKTtpZih1KWJyZWFrO249by5nZXRDbGFzc05hbWUoKSxyPW99cmV0dXJuIHR9ZnVuY3Rpb24gJGUoaSxlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbj1uYSh0KTtuW3JdfHwobltyXT17dHlwZTppLHNvdXJjZU5hbWU6ZX0pfX1mdW5jdGlvbiBhYShpLGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1udWxsKSxmdW5jdGlvbih0LHIpe3ZhciBuPWV8fCJfIityO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW25dfSxzZXQ6ZnVuY3Rpb24oYSl7dHlwZW9mIHRoaXMuZXF1YWxzPT0iZnVuY3Rpb24iJiZ0aGlzLmVxdWFscyhhKXx8dGhpc1tuXSE9PWEmJih0aGlzW25dPWEsdFtpXS5hcHBseSh0aGlzKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fWZ1bmN0aW9uIHRlKGksZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPW51bGwpLGFhKGksZSl9ZnVuY3Rpb24gUChpKXtyZXR1cm4gJGUoMCxpKX1mdW5jdGlvbiB6ZShpKXtyZXR1cm4gJGUoMSxpKX1mdW5jdGlvbiB4dChpKXtyZXR1cm4gJGUoMixpKX1mdW5jdGlvbiBycihpKXtyZXR1cm4gJGUoMyxpKX1mdW5jdGlvbiBzYShpKXtyZXR1cm4gJGUoNCxpKX1mdW5jdGlvbiBvdChpKXtyZXR1cm4gJGUoNSxpKX1mdW5jdGlvbiBvYShpKXtyZXR1cm4gJGUoNixpKX1mdW5jdGlvbiB1YShpKXtyZXR1cm4gJGUoNyxpKX1mdW5jdGlvbiB3aShpKXtyZXR1cm4gJGUoOCxpKX1mdW5jdGlvbiBmYShpKXtyZXR1cm4gJGUoMTAsaSl9dmFyIFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zPWZ1bmN0aW9uKGUsdCl7aWYoZS5hbmltYXRpb25zKXt0LmFuaW1hdGlvbnM9W107Zm9yKHZhciByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7dmFyIG49ZS5hbmltYXRpb25zW3JdO3QuYW5pbWF0aW9ucy5wdXNoKG4uc2VyaWFsaXplKCkpfX19LGkuU2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLHNlJiYodC50YWdzPXNlLkdldFRhZ3MoZSkpO3ZhciByPVlyKGUpO2Zvcih2YXIgbiBpbiByKXt2YXIgYT1yW25dLHM9YS5zb3VyY2VOYW1lfHxuLG89YS50eXBlLHU9ZVtuXTtpZih1IT1udWxsJiYobiE9PSJ1bmlxdWVJZCJ8fGkuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChvKXtjYXNlIDA6dFtzXT11O2JyZWFrO2Nhc2UgMTp0W3NdPXUuc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSAyOnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSAzOnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDQ6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDU6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDY6dFtzXT11LmlkO2JyZWFrO2Nhc2UgNzp0W3NdPXUuc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSA4OnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSA5OnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDEwOnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSAxMTp0W3NdPXUuaWQ7YnJlYWs7Y2FzZSAxMjp0W3NdPXUuYXNBcnJheSgpO2JyZWFrfX1yZXR1cm4gdH0saS5QYXJzZT1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgYT1lKCk7bnx8KG49IiIpLHNlJiZzZS5BZGRUYWdzVG8oYSx0LnRhZ3MpO3ZhciBzPVlyKGEpO2Zvcih2YXIgbyBpbiBzKXt2YXIgdT1zW29dLGY9dFt1LnNvdXJjZU5hbWV8fG9dLGw9dS50eXBlO2lmKGYhPW51bGwmJihvIT09InVuaXF1ZUlkInx8aS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpe3ZhciBoPWE7c3dpdGNoKGwpe2Nhc2UgMDpoW29dPWY7YnJlYWs7Y2FzZSAxOnImJihoW29dPWkuX1RleHR1cmVQYXJzZXIoZixyLG4pKTticmVhaztjYXNlIDI6aFtvXT1wZS5Gcm9tQXJyYXkoZik7YnJlYWs7Y2FzZSAzOmhbb109aS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXIoZik7YnJlYWs7Y2FzZSA0Omhbb109YmUuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgNTpoW29dPUUuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgNjpyJiYoaFtvXT1yLmdldExhc3RNZXNoQnlJZChmKSk7YnJlYWs7Y2FzZSA3Omhbb109aS5fQ29sb3JDdXJ2ZXNQYXJzZXIoZik7YnJlYWs7Y2FzZSA4Omhbb109X2UuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgOTpoW29dPWkuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXIoZik7YnJlYWs7Y2FzZSAxMDpoW29dPWVlLkZyb21BcnJheShmKTticmVhaztjYXNlIDExOnImJihoW29dPXIuZ2V0Q2FtZXJhQnlJZChmKSk7YnJlYWs7Y2FzZSAxMjpoW29dPUkuRnJvbUFycmF5KGYpO2JyZWFrfX19cmV0dXJuIGF9LGkuQ2xvbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRmkoZSx0LCExKX0saS5JbnN0YW5jaWF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBGaShlLHQsITApfSxpLkFsbG93TG9hZGluZ1VuaXF1ZUlkPSExLGkuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9ZnVuY3Rpb24oZSl7dGhyb3cgVSgiSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIpfSxpLl9GcmVzbmVsUGFyYW1ldGVyc1BhcnNlcj1mdW5jdGlvbihlKXt0aHJvdyBVKCJGcmVzbmVsUGFyYW1ldGVycyIpfSxpLl9Db2xvckN1cnZlc1BhcnNlcj1mdW5jdGlvbihlKXt0aHJvdyBVKCJDb2xvckN1cnZlcyIpfSxpLl9UZXh0dXJlUGFyc2VyPWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBVKCJUZXh0dXJlIil9LGl9KCk7ZnVuY3Rpb24gX3QoaSxlLHQscil7dmFyIG49dC52YWx1ZTt0LnZhbHVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLHM9MDtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKWFbc109YXJndW1lbnRzW3NdO3ZhciBvPW47aWYodHlwZW9mIF9uYXRpdmUhPSJ1bmRlZmluZWQiJiZfbmF0aXZlW2VdKXt2YXIgdT1fbmF0aXZlW2VdO3I/bz1mdW5jdGlvbigpe2Zvcih2YXIgZj1bXSxsPTA7bDxhcmd1bWVudHMubGVuZ3RoO2wrKylmW2xdPWFyZ3VtZW50c1tsXTtyZXR1cm4gci5hcHBseSh2b2lkIDAsZik/dS5hcHBseSh2b2lkIDAsZik6bi5hcHBseSh2b2lkIDAsZil9Om89dX1yZXR1cm4gaVtlXT1vLG8uYXBwbHkodm9pZCAwLGEpfX1fdC5maWx0ZXI9ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gX3QoZSx0LHIsaSl9fTt2YXIgYnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2lmKHRoaXMuX2lzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5fbm9ybWFscz0hMSx0aGlzLl91dnM9ITEsdGhpcy5fbmVlZE5vcm1hbHM9ITEsdGhpcy5fbmVlZFVWcz0hMSx0aGlzLl9leHRlcm5hbFByb3BlcnRpZXM9ZSxlKWZvcih2YXIgdCBpbiBlKWUuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuX3NldERlZmF1bHRWYWx1ZSh0KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0RpcnR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUubWFya0FzUHJvY2Vzc2VkPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITEsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMSx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlTWlzY0RpcnR5PSExLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMSx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMX0saS5wcm90b3R5cGUubWFya0FzVW5wcm9jZXNzZWQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQWxsQXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSEwLHRoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNMaWdodERpcnR5PWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPSExKSx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD10aGlzLl9hcmVMaWdodHNEaXNwb3NlZHx8ZSx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNBdHRyaWJ1dGVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzVGV4dHVyZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzRnJlc25lbERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc01pc2NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNQcmVQYXNzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUucmVidWlsZD1mdW5jdGlvbigpe3RoaXMuX2tleXM9W107Zm9yKHZhciBlPTAsdD1PYmplY3Qua2V5cyh0aGlzKTtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTtyWzBdIT09Il8iJiZ0aGlzLl9rZXlzLnB1c2gocil9aWYodGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKWZvcih2YXIgbiBpbiB0aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpdGhpcy5fa2V5cy5wdXNoKG4pfSxpLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2tleXMubGVuZ3RoIT09ZS5fa2V5cy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2tleXNbdF07aWYodGhpc1tyXSE9PWVbcl0pcmV0dXJuITF9cmV0dXJuITB9LGkucHJvdG90eXBlLmNsb25lVG89ZnVuY3Rpb24oZSl7dGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aCYmKGUuX2tleXM9dGhpcy5fa2V5cy5zbGljZSgwKSk7Zm9yKHZhciB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2tleXNbdF07ZVtyXT10aGlzW3JdfX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2tleXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5fc2V0RGVmYXVsdFZhbHVlKHQpfSl9LGkucHJvdG90eXBlLl9zZXREZWZhdWx0VmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGEscyxvPShuPShyPSh0PXRoaXMuX2V4dGVybmFsUHJvcGVydGllcyk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0W2VdKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudHlwZSkhPT1udWxsJiZuIT09dm9pZCAwP246dHlwZW9mIHRoaXNbZV0sdT0ocz0oYT10aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YVtlXSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmRlZmF1bHQ7c3dpdGNoKG8pe2Nhc2UibnVtYmVyIjp0aGlzW2VdPXUhPW51bGw/dTowO2JyZWFrO2Nhc2Uic3RyaW5nIjp0aGlzW2VdPXUhPW51bGw/dToiIjticmVhaztkZWZhdWx0OnRoaXNbZV09dSE9bnVsbD91OiExO2JyZWFrfX0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9IiIsdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9rZXlzW3RdLG49dGhpc1tyXSxhPXR5cGVvZiBuO3N3aXRjaChhKXtjYXNlIm51bWJlciI6Y2FzZSJzdHJpbmciOmUrPSIjZGVmaW5lICIrcisiICIrbitgCmA7YnJlYWs7ZGVmYXVsdDpuJiYoZSs9IiNkZWZpbmUgIityK2AKYCk7YnJlYWt9fXJldHVybiBlfSxpfSgpLEVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX3RlbXBDb2xvcj1uZXcgX2UoMCwwLDAsMCksdGhpcy5fZ2xvYmFsQ3VydmU9bmV3IF9lKDAsMCwwLDApLHRoaXMuX2hpZ2hsaWdodHNDdXJ2ZT1uZXcgX2UoMCwwLDAsMCksdGhpcy5fbWlkdG9uZXNDdXJ2ZT1uZXcgX2UoMCwwLDAsMCksdGhpcy5fc2hhZG93c0N1cnZlPW5ldyBfZSgwLDAsMCwwKSx0aGlzLl9wb3NpdGl2ZUN1cnZlPW5ldyBfZSgwLDAsMCwwKSx0aGlzLl9uZWdhdGl2ZUN1cnZlPW5ldyBfZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxIdWU9MzAsdGhpcy5fZ2xvYmFsRGVuc2l0eT0wLHRoaXMuX2dsb2JhbFNhdHVyYXRpb249MCx0aGlzLl9nbG9iYWxFeHBvc3VyZT0wLHRoaXMuX2hpZ2hsaWdodHNIdWU9MzAsdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9MCx0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj0wLHRoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZT0wLHRoaXMuX21pZHRvbmVzSHVlPTMwLHRoaXMuX21pZHRvbmVzRGVuc2l0eT0wLHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj0wLHRoaXMuX21pZHRvbmVzRXhwb3N1cmU9MCx0aGlzLl9zaGFkb3dzSHVlPTMwLHRoaXMuX3NoYWRvd3NEZW5zaXR5PTAsdGhpcy5fc2hhZG93c1NhdHVyYXRpb249MCx0aGlzLl9zaGFkb3dzRXhwb3N1cmU9MH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJnbG9iYWxIdWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsSHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsSHVlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJnbG9iYWxEZW5zaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbERlbnNpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJnbG9iYWxTYXR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFNhdHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJnbG9iYWxFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxFeHBvc3VyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2dsb2JhbEV4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoaWdobGlnaHRzSHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNIdWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzSHVlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoaWdobGlnaHRzRGVuc2l0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzRGVuc2l0eX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hpZ2hsaWdodHNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoaWdobGlnaHRzU2F0dXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoaWdobGlnaHRzRXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtaWR0b25lc0h1ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc0h1ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21pZHRvbmVzSHVlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtaWR0b25lc0RlbnNpdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNEZW5zaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWlkdG9uZXNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtaWR0b25lc1NhdHVyYXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtaWR0b25lc0V4cG9zdXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzRXhwb3N1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9taWR0b25lc0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzaGFkb3dzSHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NIdWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zaGFkb3dzSHVlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzaGFkb3dzRGVuc2l0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzRGVuc2l0eX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NoYWRvd3NEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzaGFkb3dzU2F0dXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NoYWRvd3NTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzaGFkb3dzRXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93c0V4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2hhZG93c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkNvbG9yQ3VydmVzIn0saS5CaW5kPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cj09PXZvaWQgMCYmKHI9InZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiKSxuPT09dm9pZCAwJiYobj0idkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIiksYT09PXZvaWQgMCYmKGE9InZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmUiKSxlLl9kaXJ0eSYmKGUuX2RpcnR5PSExLGUuZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2dsb2JhbEh1ZSxlLl9nbG9iYWxEZW5zaXR5LGUuX2dsb2JhbFNhdHVyYXRpb24sZS5fZ2xvYmFsRXhwb3N1cmUsZS5fZ2xvYmFsQ3VydmUpLGUuZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2hpZ2hsaWdodHNIdWUsZS5faGlnaGxpZ2h0c0RlbnNpdHksZS5faGlnaGxpZ2h0c1NhdHVyYXRpb24sZS5faGlnaGxpZ2h0c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5faGlnaGxpZ2h0c0N1cnZlKSxlLmdldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9taWR0b25lc0h1ZSxlLl9taWR0b25lc0RlbnNpdHksZS5fbWlkdG9uZXNTYXR1cmF0aW9uLGUuX21pZHRvbmVzRXhwb3N1cmUsZS5fdGVtcENvbG9yKSxlLl90ZW1wQ29sb3IubXVsdGlwbHlUb1JlZihlLl9nbG9iYWxDdXJ2ZSxlLl9taWR0b25lc0N1cnZlKSxlLmdldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9zaGFkb3dzSHVlLGUuX3NoYWRvd3NEZW5zaXR5LGUuX3NoYWRvd3NTYXR1cmF0aW9uLGUuX3NoYWRvd3NFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX3NoYWRvd3NDdXJ2ZSksZS5faGlnaGxpZ2h0c0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fbWlkdG9uZXNDdXJ2ZSxlLl9wb3NpdGl2ZUN1cnZlKSxlLl9taWR0b25lc0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fc2hhZG93c0N1cnZlLGUuX25lZ2F0aXZlQ3VydmUpKSx0JiYodC5zZXRGbG9hdDQocixlLl9wb3NpdGl2ZUN1cnZlLnIsZS5fcG9zaXRpdmVDdXJ2ZS5nLGUuX3Bvc2l0aXZlQ3VydmUuYixlLl9wb3NpdGl2ZUN1cnZlLmEpLHQuc2V0RmxvYXQ0KG4sZS5fbWlkdG9uZXNDdXJ2ZS5yLGUuX21pZHRvbmVzQ3VydmUuZyxlLl9taWR0b25lc0N1cnZlLmIsZS5fbWlkdG9uZXNDdXJ2ZS5hKSx0LnNldEZsb2F0NChhLGUuX25lZ2F0aXZlQ3VydmUucixlLl9uZWdhdGl2ZUN1cnZlLmcsZS5fbmVnYXRpdmVDdXJ2ZS5iLGUuX25lZ2F0aXZlQ3VydmUuYSkpfSxpLlByZXBhcmVVbmlmb3Jtcz1mdW5jdGlvbihlKXtlLnB1c2goInZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIsInZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil9LGkucHJvdG90eXBlLmdldENvbG9yR3JhZGluZ0RhdGFUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe2UhPW51bGwmJihlPWkuY2xhbXAoZSwwLDM2MCksdD1pLmNsYW1wKHQsLTEwMCwxMDApLHI9aS5jbGFtcChyLC0xMDAsMTAwKSxuPWkuY2xhbXAobiwtMTAwLDEwMCksdD1pLmFwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKHQpLHQqPS41LG49aS5hcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihuKSx0PDAmJih0Kj0tMSxlPShlKzE4MCklMzYwKSxpLmZyb21IU0JUb1JlZihlLHQsNTArLjI1Km4sYSksYS5zY2FsZVRvUmVmKDIsYSksYS5hPTErLjAxKnIpfSxpLmFwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyPWZ1bmN0aW9uKGUpe2UvPTEwMDt2YXIgdD1NYXRoLmFicyhlKTtyZXR1cm4gdD1NYXRoLnBvdyh0LDIpLGU8MCYmKHQqPS0xKSx0Kj0xMDAsdH0saS5mcm9tSFNCVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9aS5jbGFtcChlLDAsMzYwKSxzPWkuY2xhbXAodC8xMDAsMCwxKSxvPWkuY2xhbXAoci8xMDAsMCwxKTtpZihzPT09MCluLnI9byxuLmc9byxuLmI9bztlbHNle2EvPTYwO3ZhciB1PU1hdGguZmxvb3IoYSksZj1hLXUsbD1vKigxLXMpLGg9byooMS1zKmYpLGM9byooMS1zKigxLWYpKTtzd2l0Y2godSl7Y2FzZSAwOm4ucj1vLG4uZz1jLG4uYj1sO2JyZWFrO2Nhc2UgMTpuLnI9aCxuLmc9byxuLmI9bDticmVhaztjYXNlIDI6bi5yPWwsbi5nPW8sbi5iPWM7YnJlYWs7Y2FzZSAzOm4ucj1sLG4uZz1oLG4uYj1vO2JyZWFrO2Nhc2UgNDpuLnI9YyxuLmc9bCxuLmI9bzticmVhaztkZWZhdWx0Om4ucj1vLG4uZz1sLG4uYj1oO2JyZWFrfX1uLmE9MX0saS5jbGFtcD1mdW5jdGlvbihlLHQscil7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsdCkscil9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIFkuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGl9LHRoaXMpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gWS5TZXJpYWxpemUodGhpcyl9LGkuUGFyc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIFkuUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGl9LGUsbnVsbCxudWxsKX0sVChbUCgpXSxpLnByb3RvdHlwZSwiX2dsb2JhbEh1ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfZ2xvYmFsRGVuc2l0eSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfZ2xvYmFsU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfZ2xvYmFsRXhwb3N1cmUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNIdWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNEZW5zaXR5Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9oaWdobGlnaHRzU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0V4cG9zdXJlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9taWR0b25lc0h1ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbWlkdG9uZXNEZW5zaXR5Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9taWR0b25lc1NhdHVyYXRpb24iLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX21pZHRvbmVzRXhwb3N1cmUiLHZvaWQgMCksaX0oKTtZLl9Db2xvckN1cnZlc1BhcnNlcj1Fci5QYXJzZSxmdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5JTUFHRVBST0NFU1NJTkc9ITEsdC5WSUdORVRURT0hMSx0LlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9ITEsdC5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hMSx0LlRPTkVNQVBQSU5HPSExLHQuVE9ORU1BUFBJTkdfQUNFUz0hMSx0LkNPTlRSQVNUPSExLHQuQ09MT1JDVVJWRVM9ITEsdC5DT0xPUkdSQURJTkc9ITEsdC5DT0xPUkdSQURJTkczRD0hMSx0LlNBTVBMRVIzREdSRUVOREVQVEg9ITEsdC5TQU1QTEVSM0RCR1JNQVA9ITEsdC5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0LkVYUE9TVVJFPSExLHQuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0LnJlYnVpbGQoKSx0fXJldHVybiBlfShicik7dmFyIFZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuY29sb3JDdXJ2ZXM9bmV3IEVyLHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPSExLHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPSEwLHRoaXMuX2NvbG9yR3JhZGluZ0JHUj0hMCx0aGlzLl9leHBvc3VyZT0xLHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD0hMSx0aGlzLl90b25lTWFwcGluZ1R5cGU9aS5UT05FTUFQUElOR19TVEFOREFSRCx0aGlzLl9jb250cmFzdD0xLHRoaXMudmlnbmV0dGVTdHJldGNoPTAsdGhpcy52aWduZXR0ZUNlbnRyZVg9MCx0aGlzLnZpZ25ldHRlQ2VudHJlWT0wLHRoaXMudmlnbmV0dGVXZWlnaHQ9MS41LHRoaXMudmlnbmV0dGVDb2xvcj1uZXcgX2UoMCwwLDAsMCksdGhpcy52aWduZXR0ZUNhbWVyYUZvdj0uNSx0aGlzLl92aWduZXR0ZUJsZW5kTW9kZT1pLlZJR05FVFRFTU9ERV9NVUxUSVBMWSx0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ITEsdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD0hMSx0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ITEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMub25VcGRhdGVQYXJhbWV0ZXJzPW5ldyBPfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbG9yQ3VydmVzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQhPT1lJiYodGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbG9yR3JhZGluZ1RleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmUhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb2xvckdyYWRpbmdFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGh9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb2xvckdyYWRpbmdCR1IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nQkdSfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JHcmFkaW5nQkdSIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0JHUj1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJleHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHBvc3VyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2V4cG9zdXJlIT09ZSYmKHRoaXMuX2V4cG9zdXJlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRvbmVNYXBwaW5nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRvbmVNYXBwaW5nVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ1R5cGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90b25lTWFwcGluZ1R5cGUhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdUeXBlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbnRyYXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRyYXN0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29udHJhc3QhPT1lJiYodGhpcy5fY29udHJhc3Q9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidmlnbmV0dGVCbGVuZE1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl92aWduZXR0ZUJsZW5kTW9kZSE9PWUmJih0aGlzLl92aWduZXR0ZUJsZW5kTW9kZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ2aWduZXR0ZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdmlnbmV0dGVFbmFibGVkIT09ZSYmKHRoaXMuX3ZpZ25ldHRlRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJza2lwRmluYWxDb2xvckNsYW1wIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXB9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wIT09ZSYmKHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXA9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXBwbHlCeVBvc3RQcm9jZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2FwcGx5QnlQb3N0UHJvY2VzcyE9PWUmJih0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzRW5hYmxlZCE9PWUmJih0aGlzLl9pc0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl91cGRhdGVQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7dGhpcy5vblVwZGF0ZVBhcmFtZXRlcnMubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiJ9LGkuUHJlcGFyZVVuaWZvcm1zPWZ1bmN0aW9uKGUsdCl7dC5FWFBPU1VSRSYmZS5wdXNoKCJleHBvc3VyZUxpbmVhciIpLHQuQ09OVFJBU1QmJmUucHVzaCgiY29udHJhc3QiKSx0LkNPTE9SR1JBRElORyYmZS5wdXNoKCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiksdC5WSUdORVRURSYmKGUucHVzaCgidkludmVyc2VTY3JlZW5TaXplIiksZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMSIpLGUucHVzaCgidmlnbmV0dGVTZXR0aW5nczIiKSksdC5DT0xPUkNVUlZFUyYmRXIuUHJlcGFyZVVuaWZvcm1zKGUpfSxpLlByZXBhcmVTYW1wbGVycz1mdW5jdGlvbihlLHQpe3QuQ09MT1JHUkFESU5HJiZlLnB1c2goInR4Q29sb3JUcmFuc2Zvcm0iKX0saS5wcm90b3R5cGUucHJlcGFyZURlZmluZXM9ZnVuY3Rpb24oZSx0KXtpZih0PT09dm9pZCAwJiYodD0hMSksdCE9PXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzfHwhdGhpcy5faXNFbmFibGVkKXtlLlZJR05FVFRFPSExLGUuVE9ORU1BUFBJTkc9ITEsZS5UT05FTUFQUElOR19BQ0VTPSExLGUuQ09OVFJBU1Q9ITEsZS5FWFBPU1VSRT0hMSxlLkNPTE9SQ1VSVkVTPSExLGUuQ09MT1JHUkFESU5HPSExLGUuQ09MT1JHUkFESU5HM0Q9ITEsZS5JTUFHRVBST0NFU1NJTkc9ITEsZS5TS0lQRklOQUxDT0xPUkNMQU1QPXRoaXMuc2tpcEZpbmFsQ29sb3JDbGFtcCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pc0VuYWJsZWQ7cmV0dXJufXN3aXRjaChlLlZJR05FVFRFPXRoaXMudmlnbmV0dGVFbmFibGVkLGUuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT10aGlzLnZpZ25ldHRlQmxlbmRNb2RlPT09aS5fVklHTkVUVEVNT0RFX01VTFRJUExZLGUuVklHTkVUVEVCTEVORE1PREVPUEFRVUU9IWUuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWSxlLlRPTkVNQVBQSU5HPXRoaXMudG9uZU1hcHBpbmdFbmFibGVkLHRoaXMuX3RvbmVNYXBwaW5nVHlwZSl7Y2FzZSBpLlRPTkVNQVBQSU5HX0FDRVM6ZS5UT05FTUFQUElOR19BQ0VTPSEwO2JyZWFrO2RlZmF1bHQ6ZS5UT05FTUFQUElOR19BQ0VTPSExO2JyZWFrfWUuQ09OVFJBU1Q9dGhpcy5jb250cmFzdCE9PTEsZS5FWFBPU1VSRT10aGlzLmV4cG9zdXJlIT09MSxlLkNPTE9SQ1VSVkVTPXRoaXMuY29sb3JDdXJ2ZXNFbmFibGVkJiYhIXRoaXMuY29sb3JDdXJ2ZXMsZS5DT0xPUkdSQURJTkc9dGhpcy5jb2xvckdyYWRpbmdFbmFibGVkJiYhIXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSxlLkNPTE9SR1JBRElORz9lLkNPTE9SR1JBRElORzNEPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pczNEOmUuQ09MT1JHUkFESU5HM0Q9ITEsZS5TQU1QTEVSM0RHUkVFTkRFUFRIPXRoaXMuY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgsZS5TQU1QTEVSM0RCR1JNQVA9dGhpcy5jb2xvckdyYWRpbmdCR1IsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyxlLlNLSVBGSU5BTENPTE9SQ0xBTVA9dGhpcy5za2lwRmluYWxDb2xvckNsYW1wLGUuSU1BR0VQUk9DRVNTSU5HPWUuVklHTkVUVEV8fGUuVE9ORU1BUFBJTkd8fGUuQ09OVFJBU1R8fGUuRVhQT1NVUkV8fGUuQ09MT1JDVVJWRVN8fGUuQ09MT1JHUkFESU5HfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuY29sb3JHcmFkaW5nRW5hYmxlZHx8IXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZXx8dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmlzUmVhZHkoKX0saS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZCYmdGhpcy5jb2xvckN1cnZlcyYmRXIuQmluZCh0aGlzLmNvbG9yQ3VydmVzLGUpLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZCl7dmFyIHI9MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlcldpZHRoKCksbj0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVySGVpZ2h0KCk7ZS5zZXRGbG9hdDIoInZJbnZlcnNlU2NyZWVuU2l6ZSIscixuKTt2YXIgYT10IT1udWxsP3Q6bi9yLHM9TWF0aC50YW4odGhpcy52aWduZXR0ZUNhbWVyYUZvdiouNSksbz1zKmEsdT1NYXRoLnNxcnQobypzKTtvPWllLk1peChvLHUsdGhpcy52aWduZXR0ZVN0cmV0Y2gpLHM9aWUuTWl4KHMsdSx0aGlzLnZpZ25ldHRlU3RyZXRjaCksZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MxIixvLHMsLW8qdGhpcy52aWduZXR0ZUNlbnRyZVgsLXMqdGhpcy52aWduZXR0ZUNlbnRyZVkpO3ZhciBmPS0yKnRoaXMudmlnbmV0dGVXZWlnaHQ7ZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MyIix0aGlzLnZpZ25ldHRlQ29sb3Iucix0aGlzLnZpZ25ldHRlQ29sb3IuZyx0aGlzLnZpZ25ldHRlQ29sb3IuYixmKX1pZihlLnNldEZsb2F0KCJleHBvc3VyZUxpbmVhciIsdGhpcy5leHBvc3VyZSksZS5zZXRGbG9hdCgiY29udHJhc3QiLHRoaXMuY29udHJhc3QpLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSl7ZS5zZXRUZXh0dXJlKCJ0eENvbG9yVHJhbnNmb3JtIix0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpO3ZhciBsPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5nZXRTaXplKCkuaGVpZ2h0O2Uuc2V0RmxvYXQ0KCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiwobC0xKS9sLC41L2wsbCx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUubGV2ZWwpfX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gWS5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sdGhpcyl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBZLlNlcmlhbGl6ZSh0aGlzKX0saS5QYXJzZT1mdW5jdGlvbihlKXtyZXR1cm4gWS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sZSxudWxsLG51bGwpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVklHTkVUVEVNT0RFX01VTFRJUExZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVklHTkVUVEVNT0RFX09QQVFVRSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfT1BBUVVFfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuVE9ORU1BUFBJTkdfU1RBTkRBUkQ9MCxpLlRPTkVNQVBQSU5HX0FDRVM9MSxpLl9WSUdORVRURU1PREVfTVVMVElQTFk9MCxpLl9WSUdORVRURU1PREVfT1BBUVVFPTEsVChbdWEoKV0saS5wcm90b3R5cGUsImNvbG9yQ3VydmVzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckN1cnZlc0VuYWJsZWQiLHZvaWQgMCksVChbemUoImNvbG9yR3JhZGluZ1RleHR1cmUiKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdUZXh0dXJlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nQkdSIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9leHBvc3VyZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl90b25lTWFwcGluZ1R5cGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2NvbnRyYXN0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlU3RyZXRjaCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRyZVgiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidmlnbmV0dGVDZW50cmVZIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlV2VpZ2h0Iix2b2lkIDApLFQoW3dpKCldLGkucHJvdG90eXBlLCJ2aWduZXR0ZUNvbG9yIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlQ2FtZXJhRm92Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl92aWduZXR0ZUJsZW5kTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfdmlnbmV0dGVFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9za2lwRmluYWxDb2xvckNsYW1wIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9hcHBseUJ5UG9zdFByb2Nlc3MiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2lzRW5hYmxlZCIsdm9pZCAwKSxpfSgpO1kuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9VnQuUGFyc2UscmUucHJvdG90eXBlLmNyZWF0ZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oaSl7dmFyIGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHVuaWZvcm0gYnVmZmVyIik7dmFyIHQ9bmV3IFp0KGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoaSksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCksdC5yZWZlcmVuY2VzPTEsdH0scmUucHJvdG90eXBlLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkeW5hbWljIHVuaWZvcm0gYnVmZmVyIik7dmFyIHQ9bmV3IFp0KGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGkpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxyZS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihpLGUsdCxyKXt0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKGkpLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDA/ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsZSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLGUuc3ViYXJyYXkodCx0K3IpKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQrcikpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCl9LHJlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihpKXt0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGk/aS51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LHJlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2U9ZnVuY3Rpb24oaSxlLHQpe3RoaXMuX2dsLmJpbmRCdWZmZXJCYXNlKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGUsaT9pLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0scmUucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oaSxlLHQpe3ZhciByPWkucHJvZ3JhbSxuPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KHIsZSk7dGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhyLG4sdCl9O3ZhciBUcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9ub1VCTz0hZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHRoaXMuX2R5bmFtaWM9cix0aGlzLl9uYW1lPW4hPW51bGw/bjoibm8tbmFtZSIsdGhpcy5fZGF0YT10fHxbXSx0aGlzLl91bmlmb3JtTG9jYXRpb25zPXt9LHRoaXMuX3VuaWZvcm1TaXplcz17fSx0aGlzLl91bmlmb3JtQXJyYXlTaXplcz17fSx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyPTAsdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycz1bXSx0aGlzLl9idWZmZXJJbmRleD0tMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRGcmFtZUlkPTApLHRoaXMuX25vVUJPPyh0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpY2VzPXRoaXMuX3VwZGF0ZU1hdHJpY2VzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yMz10aGlzLl91cGRhdGVWZWN0b3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3IzPXRoaXMuX3VwZGF0ZUNvbG9yM0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUNvbG9yND10aGlzLl91cGRhdGVDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50PXRoaXMuX3VwZGF0ZUludEZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDI9dGhpcy5fdXBkYXRlSW50MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUludDQ9dGhpcy5fdXBkYXRlSW50NEZvckVmZmVjdCk6KHRoaXMuX2VuZ2luZS5fdW5pZm9ybUJ1ZmZlcnMucHVzaCh0aGlzKSx0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4MngyPXRoaXMuX3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdD10aGlzLl91cGRhdGVGbG9hdEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mz10aGlzLl91cGRhdGVGbG9hdDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQ0PXRoaXMuX3VwZGF0ZUZsb2F0NEZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlQXJyYXk9dGhpcy5fdXBkYXRlQXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50QXJyYXk9dGhpcy5fdXBkYXRlSW50QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JVbmlmb3JtKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VVYm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbm9VQk99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1N5bmMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbmVlZFN5bmN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNEeW5hbWljPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R5bmFtaWMhPT12b2lkIDB9LGkucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyRGF0YX0saS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn0saS5wcm90b3R5cGUuX2ZpbGxBbGlnbm1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZTw9Mj90PWU6dD00LHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIldCE9PTApe3ZhciByPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI7dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dC10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQ7Zm9yKHZhciBuPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXItcixhPTA7YTxuO2ErKyl0aGlzLl9kYXRhLnB1c2goMCl9fSxpLnByb3RvdHlwZS5hZGRVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXtpZihyPT09dm9pZCAwJiYocj0wKSwhdGhpcy5fbm9VQk8mJnRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV09PT12b2lkIDApe3ZhciBuO2lmKHI+MCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXRocm93ImFkZFVuaWZvcm0gc2hvdWxkIG5vdCBiZSB1c2Ugd2l0aCBBcnJheSBpbiBVQk86ICIrZTtpZih0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdPXtzdHJpZGVTaXplOnQsYXJyYXlTaXplOnJ9LHQ9PTE2KXQ9dCpyO2Vsc2V7dmFyIGE9NC10LHM9YSpyO3Q9dCpyK3N9bj1bXTtmb3IodmFyIG89MDtvPHQ7bysrKW4ucHVzaCgwKX1lbHNle2lmKHQgaW5zdGFuY2VvZiBBcnJheSluPXQsdD1uLmxlbmd0aDtlbHNle3Q9dCxuPVtdO2Zvcih2YXIgbz0wO288dDtvKyspbi5wdXNoKDApfXRoaXMuX2ZpbGxBbGlnbm1lbnQodCl9dGhpcy5fdW5pZm9ybVNpemVzW2VdPXQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQ7Zm9yKHZhciBvPTA7bzx0O28rKyl0aGlzLl9kYXRhLnB1c2gobltvXSk7dGhpcy5fbmVlZFN5bmM9ITB9fSxpLnByb3RvdHlwZS5hZGRNYXRyaXg9ZnVuY3Rpb24oZSx0KXt0aGlzLmFkZFVuaWZvcm0oZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LnRvQXJyYXkoKSkpfSxpLnByb3RvdHlwZS5hZGRGbG9hdDI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVt0LHJdO3RoaXMuYWRkVW5pZm9ybShlLG4pfSxpLnByb3RvdHlwZS5hZGRGbG9hdDM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9W3QscixuXTt0aGlzLmFkZFVuaWZvcm0oZSxhKX0saS5wcm90b3R5cGUuYWRkQ29sb3IzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W3Qucix0LmcsdC5iXTt0aGlzLmFkZFVuaWZvcm0oZSxyKX0saS5wcm90b3R5cGUuYWRkQ29sb3I0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bdC5yLHQuZyx0LmIscl07dGhpcy5hZGRVbmlmb3JtKGUsbil9LGkucHJvdG90eXBlLmFkZFZlY3RvcjM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bdC54LHQueSx0LnpdO3RoaXMuYWRkVW5pZm9ybShlLHIpfSxpLnByb3RvdHlwZS5hZGRNYXRyaXgzeDM9ZnVuY3Rpb24oZSl7dGhpcy5hZGRVbmlmb3JtKGUsMTIpfSxpLnByb3RvdHlwZS5hZGRNYXRyaXgyeDI9ZnVuY3Rpb24oZSl7dGhpcy5hZGRVbmlmb3JtKGUsOCl9LGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3RoaXMuX25vVUJPfHx0aGlzLl9idWZmZXJ8fCh0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX2J1ZmZlckRhdGE9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9kYXRhKSx0aGlzLl9yZWJ1aWxkKCksdGhpcy5fbmVlZFN5bmM9ITApfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3RoaXMuX25vVUJPfHwhdGhpcy5fYnVmZmVyRGF0YXx8KHRoaXMuX2R5bmFtaWM/dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycy5wdXNoKFt0aGlzLl9idWZmZXIsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5jaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkP3RoaXMuX2J1ZmZlckRhdGEuc2xpY2UoKTp2b2lkIDBdKSx0aGlzLl9idWZmZXJJbmRleD10aGlzLl9idWZmZXJzLmxlbmd0aC0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfbnVtQnVmZmVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJzLmxlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9pbmRleEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fYnVmZmVyc0VxdWFsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpaWYoZVtyXSE9PXRbcl0pcmV0dXJuITE7cmV0dXJuITB9LGkucHJvdG90eXBlLl9jb3B5QnVmZmVyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpdFtyXT1lW3JdfSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKCksIXRoaXMuX2J1ZmZlcil7dGhpcy5jcmVhdGUoKTtyZXR1cm59aWYoIXRoaXMuX2R5bmFtaWMmJiF0aGlzLl9uZWVkU3luYyl7dGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWU7cmV0dXJufWlmKHRoaXMuX2J1ZmZlcnMmJnRoaXMuX2J1ZmZlcnMubGVuZ3RoPjEmJnRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKWlmKHRoaXMuX2J1ZmZlcnNFcXVhbCh0aGlzLl9idWZmZXJEYXRhLHRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKSl7dGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWU7cmV0dXJufWVsc2UgdGhpcy5fY29weUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhLHRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzFdKTt0aGlzLl9lbmdpbmUudXBkYXRlVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXIsdGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5fY29sbGVjdFVib3NVcGRhdGVkSW5GcmFtZSYmKGkuX3VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXXx8KGkuX3VwZGF0ZWRVYm9zSW5GcmFtZVt0aGlzLl9uYW1lXT0wKSxpLl91cGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV0rKyksdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT10aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWV9LGkucHJvdG90eXBlLl9jcmVhdGVOZXdCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXJJbmRleCsxPHRoaXMuX2J1ZmZlcnMubGVuZ3RoPyh0aGlzLl9idWZmZXJJbmRleCsrLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX25lZWRTeW5jPSEwKTp0aGlzLl9yZWJ1aWxkKCl9LGkucHJvdG90eXBlLl9jaGVja05ld0ZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9jdXJyZW50RnJhbWVJZCE9PXRoaXMuX2VuZ2luZS5mcmFtZUlkJiYodGhpcy5fY3VycmVudEZyYW1lSWQ9dGhpcy5fZW5naW5lLmZyYW1lSWQsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4wPyh0aGlzLl9uZWVkU3luYz10aGlzLl9idWZmZXJJbmRleCE9PTAsdGhpcy5fYnVmZmVySW5kZXg9MCx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0pOnRoaXMuX2J1ZmZlckluZGV4PS0xKX0saS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybT1mdW5jdGlvbihlLHQscil7dGhpcy5fY2hlY2tOZXdGcmFtZSgpO3ZhciBuPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV07aWYobj09PXZvaWQgMCl7aWYodGhpcy5fYnVmZmVyKXt6LkVycm9yKCJDYW5ub3QgYWRkIGFuIHVuaWZvcm0gYWZ0ZXIgVUJPIGhhcyBiZWVuIGNyZWF0ZWQuIik7cmV0dXJufXRoaXMuYWRkVW5pZm9ybShlLHIpLG49dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXX1pZih0aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCksdGhpcy5fZHluYW1pYylmb3IodmFyIHM9MDtzPHI7cysrKXRoaXMuX2J1ZmZlckRhdGFbbitzXT10W3NdO2Vsc2V7Zm9yKHZhciBhPSExLHM9MDtzPHI7cysrKShyPT09MTYmJiF0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXh8fHRoaXMuX2J1ZmZlckRhdGFbbitzXSE9PWllLkZsb2F0Um91bmQodFtzXSkpJiYoYT0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW24rc109dFtzXSk7dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fGF9fSxpLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTt2YXIgbj10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKG49PT12b2lkIDApe3ouRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBBcnJheSBkeW5hbWljYWxseS4gUGxlYXNlLCBhZGQgaXQgdXNpbmcgYWRkVW5pZm9ybS4iKTtyZXR1cm59dGhpcy5fYnVmZmVyfHx0aGlzLmNyZWF0ZSgpO3ZhciBhPXRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdO2lmKHRoaXMuX2R5bmFtaWMpZm9yKHZhciBmPTA7ZjxyO2YrKyl0aGlzLl9idWZmZXJEYXRhW24rZl09dFtmXTtlbHNle2Zvcih2YXIgcz0hMSxvPTAsdT0wLGY9MDtmPHI7ZisrKWlmKHRoaXMuX2J1ZmZlckRhdGFbbit1KjQrb10hPT1pZS5GbG9hdFJvdW5kKHRbZl0pJiYocz0hMCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlJiZ0aGlzLl9jcmVhdGVOZXdCdWZmZXIoKSx0aGlzLl9idWZmZXJEYXRhW24rdSo0K29dPXRbZl0pLG8rKyxvPT09YS5zdHJpZGVTaXplKXtmb3IoO288NDtvKyspdGhpcy5fYnVmZmVyRGF0YVtuK3UqNCtvXT0wO289MCx1Kyt9dGhpcy5fbmVlZFN5bmM9dGhpcy5fbmVlZFN5bmN8fHN9fSxpLnByb3RvdHlwZS5fY2FjaGVNYXRyaXg9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7dmFyIHI9dGhpcy5fdmFsdWVDYWNoZVtlXSxuPXQudXBkYXRlRmxhZztyZXR1cm4gciE9PXZvaWQgMCYmcj09PW4/ITE6KHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMCl9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXgzeDNGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjwzO3IrKylpLl90ZW1wQnVmZmVyW3IqNF09dFtyKjNdLGkuX3RlbXBCdWZmZXJbcio0KzFdPXRbciozKzFdLGkuX3RlbXBCdWZmZXJbcio0KzJdPXRbciozKzJdLGkuX3RlbXBCdWZmZXJbcio0KzNdPTA7dGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fdGVtcEJ1ZmZlciwxMil9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDN4MyhlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgyeDIoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeDJ4MkZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDI7cisrKWkuX3RlbXBCdWZmZXJbcio0XT10W3IqMl0saS5fdGVtcEJ1ZmZlcltyKjQrMV09dFtyKjIrMV0saS5fdGVtcEJ1ZmZlcltyKjQrMl09MCxpLl90ZW1wQnVmZmVyW3IqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLGkuX3RlbXBCdWZmZXIsOCl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdEZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX3RlbXBCdWZmZXJbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl90ZW1wQnVmZmVyLDEpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MihlK24sdCxyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0MkZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIpe2kuX3RlbXBCdWZmZXJbMF09dCxpLl90ZW1wQnVmZmVyWzFdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fdGVtcEJ1ZmZlciwyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdD1mdW5jdGlvbihlLHQscixuLGEpe2E9PT12b2lkIDAmJihhPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MyhlK2EsdCxyLG4pfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuKXtpLl90ZW1wQnVmZmVyWzBdPXQsaS5fdGVtcEJ1ZmZlclsxXT1yLGkuX3RlbXBCdWZmZXJbMl09bix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl90ZW1wQnVmZmVyLDMpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdDQoZStzLHQscixuLGEpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQ0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuLGEpe2kuX3RlbXBCdWZmZXJbMF09dCxpLl90ZW1wQnVmZmVyWzFdPXIsaS5fdGVtcEJ1ZmZlclsyXT1uLGkuX3RlbXBCdWZmZXJbM109YSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl90ZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXRBcnJheShlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlQXJyYXlGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEFycmF5KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludEFycmF5KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVJbnRBcnJheUZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl90ZW1wQnVmZmVySW50MzJWaWV3LnNldCh0KSx0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLGkuX3RlbXBCdWZmZXIsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZU1hdHJpeChlLHQpJiZ0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LnRvQXJyYXkoKSwxNil9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cmljZXMoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yM0ZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yMyhlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl90ZW1wQnVmZmVyWzBdPXQueCxpLl90ZW1wQnVmZmVyWzFdPXQueSxpLl90ZW1wQnVmZmVyWzJdPXQueix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl90ZW1wQnVmZmVyLDMpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yNEZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlVmVjdG9yNEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl90ZW1wQnVmZmVyWzBdPXQueCxpLl90ZW1wQnVmZmVyWzFdPXQueSxpLl90ZW1wQnVmZmVyWzJdPXQueixpLl90ZW1wQnVmZmVyWzNdPXQudyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl90ZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3IzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStyLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3IzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX3RlbXBCdWZmZXJbMF09dC5yLGkuX3RlbXBCdWZmZXJbMV09dC5nLGkuX3RlbXBCdWZmZXJbMl09dC5iLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX3RlbXBCdWZmZXIsMyl9LGkucHJvdG90eXBlLl91cGRhdGVDb2xvcjRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrbix0LHIpfSxpLnByb3RvdHlwZS5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXREaXJlY3RDb2xvcjQoZStyLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscil7aS5fdGVtcEJ1ZmZlclswXT10LnIsaS5fdGVtcEJ1ZmZlclsxXT10LmcsaS5fdGVtcEJ1ZmZlclsyXT10LmIsaS5fdGVtcEJ1ZmZlclszXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX3RlbXBCdWZmZXIsNCl9LGkucHJvdG90eXBlLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7aS5fdGVtcEJ1ZmZlclswXT10LnIsaS5fdGVtcEJ1ZmZlclsxXT10LmcsaS5fdGVtcEJ1ZmZlclsyXT10LmIsaS5fdGVtcEJ1ZmZlclszXT10LmEsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fdGVtcEJ1ZmZlciw0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUludEZvckVmZmVjdD1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUrcix0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUludEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl90ZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fdGVtcEJ1ZmZlciwxKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDJGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK24sdCxyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDJGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXtpLl90ZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsaS5fdGVtcEJ1ZmZlckludDMyVmlld1sxXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX3RlbXBCdWZmZXIsMil9LGkucHJvdG90eXBlLl91cGRhdGVJbnQzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK2EsdCxyLG4pfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50M0ZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIsbil7aS5fdGVtcEJ1ZmZlckludDMyVmlld1swXT10LGkuX3RlbXBCdWZmZXJJbnQzMlZpZXdbMV09cixpLl90ZW1wQnVmZmVySW50MzJWaWV3WzJdPW4sdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fdGVtcEJ1ZmZlciwzKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStzLHQscixuLGEpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50NEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIsbixhKXtpLl90ZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsaS5fdGVtcEJ1ZmZlckludDMyVmlld1sxXT1yLGkuX3RlbXBCdWZmZXJJbnQzMlZpZXdbMl09bixpLl90ZW1wQnVmZmVySW50MzJWaWV3WzNdPWEsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fdGVtcEJ1ZmZlciw0KX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VGV4dHVyZShlLHQpfSxpLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtRGlyZWN0bHk9ZnVuY3Rpb24oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm0oZSx0LHQubGVuZ3RoKSx0aGlzLnVwZGF0ZSgpfSxpLnByb3RvdHlwZS5iaW5kVG9FZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0PWUsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dH0saS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oKXshdGhpcy5fbm9VQk8mJnRoaXMuX2J1ZmZlciYmdGhpcy5fY3VycmVudEVmZmVjdCYmdGhpcy5fY3VycmVudEVmZmVjdC5iaW5kVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXIsdGhpcy5fY3VycmVudEVmZmVjdE5hbWUpfSxpLnByb3RvdHlwZS51bmJpbmRFZmZlY3Q9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT12b2lkIDB9LGkucHJvdG90eXBlLnNldERhdGFCdWZmZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIHRoaXMuX2J1ZmZlcj09PWU7Zm9yKHZhciB0PTA7dDx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuX2J1ZmZlcnNbdF07aWYoclswXT09PWUpcmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4PXQsdGhpcy5fYnVmZmVyPWUsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9ub1VCTyl7dmFyIGU9dGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycyx0PWUuaW5kZXhPZih0aGlzKTtpZih0IT09LTEmJihlW3RdPWVbZS5sZW5ndGgtMV0sZS5wb3AoKSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9idWZmZXJzKWZvcih2YXIgcj0wO3I8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytyKXt2YXIgbj10aGlzLl9idWZmZXJzW3JdWzBdO3RoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcihuKX1lbHNlIHRoaXMuX2J1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2J1ZmZlcikmJih0aGlzLl9idWZmZXI9bnVsbCl9fSxpLl91cGRhdGVkVWJvc0luRnJhbWU9e30saS5fTUFYX1VOSUZPUk1fU0laRT0yNTYsaS5fdGVtcEJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KGkuX01BWF9VTklGT1JNX1NJWkUpLGkuX3RlbXBCdWZmZXJJbnQzMlZpZXc9bmV3IFVpbnQzMkFycmF5KGkuX3RlbXBCdWZmZXIuYnVmZmVyKSxpfSgpLFNyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUpe249PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPSExKSxzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITEpLHRoaXMuX2lzQWxyZWFkeU93bmVkPSExLGUuZ2V0U2NlbmU/dGhpcy5fZW5naW5lPWUuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTp0aGlzLl9lbmdpbmU9ZSx0aGlzLl91cGRhdGFibGU9cix0aGlzLl9pbnN0YW5jZWQ9cyx0aGlzLl9kaXZpc29yPXV8fDEsdCBpbnN0YW5jZW9mIFRpPyh0aGlzLl9kYXRhPW51bGwsdGhpcy5fYnVmZmVyPXQpOih0aGlzLl9kYXRhPXQsdGhpcy5fYnVmZmVyPW51bGwpLHRoaXMuYnl0ZVN0cmlkZT1vP246bipGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsYXx8dGhpcy5jcmVhdGUoKX1yZXR1cm4gaS5wcm90b3R5cGUuY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3M9PT12b2lkIDAmJihzPSExKTt2YXIgdT1zP3Q6dCpGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsZj1uP3M/bjpuKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVDp0aGlzLmJ5dGVTdHJpZGU7cmV0dXJuIG5ldyBiKHRoaXMuX2VuZ2luZSx0aGlzLGUsdGhpcy5fdXBkYXRhYmxlLCEwLGYsYT09PXZvaWQgMD90aGlzLl9pbnN0YW5jZWQ6YSx1LHIsdm9pZCAwLHZvaWQgMCwhMCx0aGlzLl9kaXZpc29yfHxvKX0saS5wcm90b3R5cGUuaXNVcGRhdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRhYmxlfSxpLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGkucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJ9LGkucHJvdG90eXBlLmdldFN0cmlkZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL0Zsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVH0saS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPW51bGwpLCEoIWUmJnRoaXMuX2J1ZmZlcikmJihlPWV8fHRoaXMuX2RhdGEsISFlJiYodGhpcy5fYnVmZmVyP3RoaXMuX3VwZGF0YWJsZSYmKHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVmVydGV4QnVmZmVyKHRoaXMuX2J1ZmZlcixlKSx0aGlzLl9kYXRhPWUpOnRoaXMuX3VwZGF0YWJsZT8odGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVmVydGV4QnVmZmVyKGUpLHRoaXMuX2RhdGE9ZSk6dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoZSkpKX0saS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXI9bnVsbCx0aGlzLmNyZWF0ZSh0aGlzLl9kYXRhKX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuY3JlYXRlKGUpfSxpLnByb3RvdHlwZS51cGRhdGVEaXJlY3RseT1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0hMSksISF0aGlzLl9idWZmZXImJnRoaXMuX3VwZGF0YWJsZSYmKHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVmVydGV4QnVmZmVyKHRoaXMuX2J1ZmZlcixlLG4/dDp0KkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxyP3IqdGhpcy5ieXRlU3RyaWRlOnZvaWQgMCksdD09PTAmJnI9PT12b2lkIDA/dGhpcy5fZGF0YT1lOnRoaXMuX2RhdGE9bnVsbCl9LGkucHJvdG90eXBlLl9pbmNyZWFzZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtpZighIXRoaXMuX2J1ZmZlcil7aWYoIXRoaXMuX2lzQWxyZWFkeU93bmVkKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMDtyZXR1cm59dGhpcy5fYnVmZmVyLnJlZmVyZW5jZXMrK319LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXshdGhpcy5fYnVmZmVyfHx0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX2RhdGE9bnVsbCl9LGl9KCksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwKXtpZihoPT09dm9pZCAwJiYoaD0hMSksYz09PXZvaWQgMCYmKGM9ITEpLGQ9PT12b2lkIDAmJihkPTEpLHA9PT12b2lkIDAmJihwPSExKSx0IGluc3RhbmNlb2YgU3I/KHRoaXMuX2J1ZmZlcj10LHRoaXMuX293bnNCdWZmZXI9cCk6KHRoaXMuX2J1ZmZlcj1uZXcgU3IoZSx0LG4scyxhLG8sYyksdGhpcy5fb3duc0J1ZmZlcj0hMCksdGhpcy51bmlxdWVJZD1pLl9Db3VudGVyKyssdGhpcy5fa2luZD1yLGw9PW51bGwpe3ZhciBfPXRoaXMuZ2V0RGF0YSgpO3RoaXMudHlwZT1pLkZMT0FULF8gaW5zdGFuY2VvZiBJbnQ4QXJyYXk/dGhpcy50eXBlPWkuQllURTpfIGluc3RhbmNlb2YgVWludDhBcnJheT90aGlzLnR5cGU9aS5VTlNJR05FRF9CWVRFOl8gaW5zdGFuY2VvZiBJbnQxNkFycmF5P3RoaXMudHlwZT1pLlNIT1JUOl8gaW5zdGFuY2VvZiBVaW50MTZBcnJheT90aGlzLnR5cGU9aS5VTlNJR05FRF9TSE9SVDpfIGluc3RhbmNlb2YgSW50MzJBcnJheT90aGlzLnR5cGU9aS5JTlQ6XyBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiYodGhpcy50eXBlPWkuVU5TSUdORURfSU5UKX1lbHNlIHRoaXMudHlwZT1sO3ZhciBnPWkuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKTtjPyh0aGlzLl9zaXplPWZ8fChzP3MvZzppLkRlZHVjZVN0cmlkZShyKSksdGhpcy5ieXRlU3RyaWRlPXN8fHRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKmcsdGhpcy5ieXRlT2Zmc2V0PXV8fDApOih0aGlzLl9zaXplPWZ8fHN8fGkuRGVkdWNlU3RyaWRlKHIpLHRoaXMuYnl0ZVN0cmlkZT1zP3MqZzp0aGlzLl9idWZmZXIuYnl0ZVN0cmlkZXx8dGhpcy5fc2l6ZSpnLHRoaXMuYnl0ZU9mZnNldD0odXx8MCkqZyksdGhpcy5ub3JtYWxpemVkPWgsdGhpcy5faW5zdGFuY2VkPW8hPT12b2lkIDA/bzohMSx0aGlzLl9pbnN0YW5jZURpdmlzb3I9bz9kOjAsdGhpcy5fY29tcHV0ZUhhc2hDb2RlKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaW5zdGFuY2VEaXZpc29yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGl2aXNvcn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2luc3RhbmNlRGl2aXNvcj1lLGU9PTA/dGhpcy5faW5zdGFuY2VkPSExOnRoaXMuX2luc3RhbmNlZD0hMCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fY29tcHV0ZUhhc2hDb2RlPWZ1bmN0aW9uKCl7dGhpcy5oYXNoQ29kZT0odGhpcy50eXBlLTUxMjA8PDApKygodGhpcy5ub3JtYWxpemVkPzE6MCk8PDMpKyh0aGlzLl9zaXplPDw0KSsoKHRoaXMuX2luc3RhbmNlZD8xOjApPDw2KSsodGhpcy5ieXRlU3RyaWRlPDwxMil9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7IXRoaXMuX2J1ZmZlcnx8dGhpcy5fYnVmZmVyLl9yZWJ1aWxkKCl9LGkucHJvdG90eXBlLmdldEtpbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2luZH0saS5wcm90b3R5cGUuaXNVcGRhdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmlzVXBkYXRhYmxlKCl9LGkucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldERhdGEoKX0saS5wcm90b3R5cGUuZ2V0RmxvYXREYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXREYXRhKCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5nZXRTaXplKCkqaS5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpLGE9ZSp0aGlzLmdldFNpemUoKTtpZih0aGlzLnR5cGUhPT1pLkZMT0FUfHx0aGlzLmJ5dGVTdHJpZGUhPT1uKXt2YXIgcz1uZXcgRmxvYXQzMkFycmF5KGEpO3JldHVybiB0aGlzLmZvckVhY2goYSxmdW5jdGlvbihoLGMpe3JldHVybiBzW2NdPWh9KSxzfWlmKCEociBpbnN0YW5jZW9mIEFycmF5fHxyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXx8dGhpcy5ieXRlT2Zmc2V0IT09MHx8ci5sZW5ndGghPT1hKWlmKHIgaW5zdGFuY2VvZiBBcnJheSl7dmFyIG89dGhpcy5ieXRlT2Zmc2V0LzQ7cmV0dXJuIHZyLlNsaWNlKHIsbyxvK2EpfWVsc2V7aWYociBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgRmxvYXQzMkFycmF5KHIsdGhpcy5ieXRlT2Zmc2V0LGEpO3ZhciBvPXIuYnl0ZU9mZnNldCt0aGlzLmJ5dGVPZmZzZXQ7aWYodCl7dmFyIHU9bmV3IEZsb2F0MzJBcnJheShhKSxmPW5ldyBGbG9hdDMyQXJyYXkoci5idWZmZXIsbyxhKTtyZXR1cm4gdS5zZXQoZiksdX12YXIgbD1vJTQ7cmV0dXJuIGwmJihvPU1hdGgubWF4KDAsby1sKSksbmV3IEZsb2F0MzJBcnJheShyLmJ1ZmZlcixvLGEpfXJldHVybiB0P3ZyLlNsaWNlKHIpOnJ9LGkucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXIuZ2V0QnVmZmVyKCl9LGkucHJvdG90eXBlLmdldFN0cmlkZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL2kuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKX0saS5wcm90b3R5cGUuZ2V0T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnl0ZU9mZnNldC9pLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9LGkucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSExKSxlP3RoaXMuX3NpemUqaS5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpOnRoaXMuX3NpemV9LGkucHJvdG90eXBlLmdldElzSW5zdGFuY2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlZH0saS5wcm90b3R5cGUuZ2V0SW5zdGFuY2VEaXZpc29yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGl2aXNvcn0saS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmZlci5jcmVhdGUoZSl9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9idWZmZXIudXBkYXRlKGUpfSxpLnByb3RvdHlwZS51cGRhdGVEaXJlY3RseT1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuX2J1ZmZlci51cGRhdGVEaXJlY3RseShlLHQsdm9pZCAwLHIpfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fb3duc0J1ZmZlciYmdGhpcy5fYnVmZmVyLmRpc3Bvc2UoKX0saS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlLHQpe2kuRm9yRWFjaCh0aGlzLl9idWZmZXIuZ2V0RGF0YSgpLHRoaXMuYnl0ZU9mZnNldCx0aGlzLmJ5dGVTdHJpZGUsdGhpcy5fc2l6ZSx0aGlzLnR5cGUsZSx0aGlzLm5vcm1hbGl6ZWQsdCl9LGkuRGVkdWNlU3RyaWRlPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIGkuVVZLaW5kOmNhc2UgaS5VVjJLaW5kOmNhc2UgaS5VVjNLaW5kOmNhc2UgaS5VVjRLaW5kOmNhc2UgaS5VVjVLaW5kOmNhc2UgaS5VVjZLaW5kOnJldHVybiAyO2Nhc2UgaS5Ob3JtYWxLaW5kOmNhc2UgaS5Qb3NpdGlvbktpbmQ6cmV0dXJuIDM7Y2FzZSBpLkNvbG9yS2luZDpjYXNlIGkuTWF0cmljZXNJbmRpY2VzS2luZDpjYXNlIGkuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kOmNhc2UgaS5NYXRyaWNlc1dlaWdodHNLaW5kOmNhc2UgaS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6Y2FzZSBpLlRhbmdlbnRLaW5kOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGtpbmQgJyIrZSsiJyIpfX0saS5HZXRUeXBlQnl0ZUxlbmd0aD1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSBpLkJZVEU6Y2FzZSBpLlVOU0lHTkVEX0JZVEU6cmV0dXJuIDE7Y2FzZSBpLlNIT1JUOmNhc2UgaS5VTlNJR05FRF9TSE9SVDpyZXR1cm4gMjtjYXNlIGkuSU5UOmNhc2UgaS5VTlNJR05FRF9JTlQ6Y2FzZSBpLkZMT0FUOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHR5cGUgJyIuY29uY2F0KGUsIiciKSl9fSxpLkZvckVhY2g9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtpZihlIGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBmPXQvNCxsPXIvNCxoPTA7aDxzO2grPW4pe2Zvcih2YXIgYz0wO2M8bjtjKyspdShlW2YrY10saCtjKTtmKz1sfWVsc2UgZm9yKHZhciBkPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRGF0YVZpZXcoZSk6bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLHA9aS5HZXRUeXBlQnl0ZUxlbmd0aChhKSxoPTA7aDxzO2grPW4pe2Zvcih2YXIgXz10LGM9MDtjPG47YysrKXt2YXIgZz1pLl9HZXRGbG9hdFZhbHVlKGQsYSxfLG8pO3UoZyxoK2MpLF8rPXB9dCs9cn19LGkuX0dldEZsb2F0VmFsdWU9ZnVuY3Rpb24oZSx0LHIsbil7c3dpdGNoKHQpe2Nhc2UgaS5CWVRFOnt2YXIgYT1lLmdldEludDgocik7cmV0dXJuIG4mJihhPU1hdGgubWF4KGEvMTI3LC0xKSksYX1jYXNlIGkuVU5TSUdORURfQllURTp7dmFyIGE9ZS5nZXRVaW50OChyKTtyZXR1cm4gbiYmKGE9YS8yNTUpLGF9Y2FzZSBpLlNIT1JUOnt2YXIgYT1lLmdldEludDE2KHIsITApO3JldHVybiBuJiYoYT1NYXRoLm1heChhLzMyNzY3LC0xKSksYX1jYXNlIGkuVU5TSUdORURfU0hPUlQ6e3ZhciBhPWUuZ2V0VWludDE2KHIsITApO3JldHVybiBuJiYoYT1hLzY1NTM1KSxhfWNhc2UgaS5JTlQ6cmV0dXJuIGUuZ2V0SW50MzIociwhMCk7Y2FzZSBpLlVOU0lHTkVEX0lOVDpyZXR1cm4gZS5nZXRVaW50MzIociwhMCk7Y2FzZSBpLkZMT0FUOnJldHVybiBlLmdldEZsb2F0MzIociwhMCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29tcG9uZW50IHR5cGUgIi5jb25jYXQodCkpfX0saS5fQ291bnRlcj0wLGkuQllURT01MTIwLGkuVU5TSUdORURfQllURT01MTIxLGkuU0hPUlQ9NTEyMixpLlVOU0lHTkVEX1NIT1JUPTUxMjMsaS5JTlQ9NTEyNCxpLlVOU0lHTkVEX0lOVD01MTI1LGkuRkxPQVQ9NTEyNixpLlBvc2l0aW9uS2luZD0icG9zaXRpb24iLGkuTm9ybWFsS2luZD0ibm9ybWFsIixpLlRhbmdlbnRLaW5kPSJ0YW5nZW50IixpLlVWS2luZD0idXYiLGkuVVYyS2luZD0idXYyIixpLlVWM0tpbmQ9InV2MyIsaS5VVjRLaW5kPSJ1djQiLGkuVVY1S2luZD0idXY1IixpLlVWNktpbmQ9InV2NiIsaS5Db2xvcktpbmQ9ImNvbG9yIixpLkNvbG9ySW5zdGFuY2VLaW5kPSJpbnN0YW5jZUNvbG9yIixpLk1hdHJpY2VzSW5kaWNlc0tpbmQ9Im1hdHJpY2VzSW5kaWNlcyIsaS5NYXRyaWNlc1dlaWdodHNLaW5kPSJtYXRyaWNlc1dlaWdodHMiLGkuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kPSJtYXRyaWNlc0luZGljZXNFeHRyYSIsaS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ9Im1hdHJpY2VzV2VpZ2h0c0V4dHJhIixpfSgpLEplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX3BpY2tpbmdVbmF2YWlsYWJsZT0hMSx0aGlzLmhpdD0hMSx0aGlzLmRpc3RhbmNlPTAsdGhpcy5waWNrZWRQb2ludD1udWxsLHRoaXMucGlja2VkTWVzaD1udWxsLHRoaXMuYnU9MCx0aGlzLmJ2PTAsdGhpcy5mYWNlSWQ9LTEsdGhpcy5zdWJNZXNoRmFjZUlkPS0xLHRoaXMuc3ViTWVzaElkPTAsdGhpcy5waWNrZWRTcHJpdGU9bnVsbCx0aGlzLnRoaW5JbnN0YW5jZUluZGV4PS0xLHRoaXMucmF5PW51bGwsdGhpcy5vcmlnaW5NZXNoPW51bGwsdGhpcy5haW1UcmFuc2Zvcm09bnVsbCx0aGlzLmdyaXBUcmFuc2Zvcm09bnVsbH1yZXR1cm4gaS5wcm90b3R5cGUuZ2V0Tm9ybWFsPWZ1bmN0aW9uKGUsdCl7aWYoZT09PXZvaWQgMCYmKGU9ITEpLHQ9PT12b2lkIDAmJih0PSEwKSwhdGhpcy5waWNrZWRNZXNofHwhdGhpcy5waWNrZWRNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk5vcm1hbEtpbmQpKXJldHVybiBudWxsO3ZhciByPXRoaXMucGlja2VkTWVzaC5nZXRJbmRpY2VzKCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIG47aWYodCl7dmFyIGE9dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQpLHM9RS5Gcm9tQXJyYXkoYSxyW3RoaXMuZmFjZUlkKjNdKjMpLG89RS5Gcm9tQXJyYXkoYSxyW3RoaXMuZmFjZUlkKjMrMV0qMyksdT1FLkZyb21BcnJheShhLHJbdGhpcy5mYWNlSWQqMysyXSozKTtzPXMuc2NhbGUodGhpcy5idSksbz1vLnNjYWxlKHRoaXMuYnYpLHU9dS5zY2FsZSgxLXRoaXMuYnUtdGhpcy5idiksbj1uZXcgRShzLngrby54K3UueCxzLnkrby55K3UueSxzLnorby56K3Uueil9ZWxzZXt2YXIgZj10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGIuUG9zaXRpb25LaW5kKSxsPUUuRnJvbUFycmF5KGYsclt0aGlzLmZhY2VJZCozXSozKSxoPUUuRnJvbUFycmF5KGYsclt0aGlzLmZhY2VJZCozKzFdKjMpLGM9RS5Gcm9tQXJyYXkoZixyW3RoaXMuZmFjZUlkKjMrMl0qMyksZD1sLnN1YnRyYWN0KGgpLHA9Yy5zdWJ0cmFjdChoKTtuPUUuQ3Jvc3MoZCxwKX1pZihlKXt2YXIgXz10aGlzLnBpY2tlZE1lc2guZ2V0V29ybGRNYXRyaXgoKTt0aGlzLnBpY2tlZE1lc2gubm9uVW5pZm9ybVNjYWxpbmcmJih4Lk1hdHJpeFswXS5jb3B5RnJvbShfKSxfPXguTWF0cml4WzBdLF8uc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSxfLmludmVydCgpLF8udHJhbnNwb3NlVG9SZWYoeC5NYXRyaXhbMV0pLF89eC5NYXRyaXhbMV0pLG49RS5UcmFuc2Zvcm1Ob3JtYWwobixfKX1yZXR1cm4gbi5ub3JtYWxpemUoKSxufSxpLnByb3RvdHlwZS5nZXRUZXh0dXJlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtpZighdGhpcy5waWNrZWRNZXNofHwhdGhpcy5waWNrZWRNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChiLlVWS2luZCkpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGIuVVZLaW5kKTtpZighdClyZXR1cm4gbnVsbDt2YXIgcj1iZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjNdKjIpLG49YmUuRnJvbUFycmF5KHQsZVt0aGlzLmZhY2VJZCozKzFdKjIpLGE9YmUuRnJvbUFycmF5KHQsZVt0aGlzLmZhY2VJZCozKzJdKjIpO3JldHVybiByPXIuc2NhbGUodGhpcy5idSksbj1uLnNjYWxlKHRoaXMuYnYpLGE9YS5zY2FsZSgxLXRoaXMuYnUtdGhpcy5idiksbmV3IGJlKHIueCtuLngrYS54LHIueStuLnkrYS55KX0saX0oKSx3ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhLHMpe3RoaXMuc291cmNlPWUsdGhpcy5wb2ludGVyWD10LHRoaXMucG9pbnRlclk9cix0aGlzLm1lc2hVbmRlclBvaW50ZXI9bix0aGlzLnNvdXJjZUV2ZW50PWEsdGhpcy5hZGRpdGlvbmFsRGF0YT1zfXJldHVybiBpLkNyZWF0ZU5ldz1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5nZXRTY2VuZSgpO3JldHVybiBuZXcgaShlLG4ucG9pbnRlclgsbi5wb2ludGVyWSxuLm1lc2hVbmRlclBvaW50ZXJ8fGUsdCxyKX0saS5DcmVhdGVOZXdGcm9tU3ByaXRlPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgaShlLHQucG9pbnRlclgsdC5wb2ludGVyWSx0Lm1lc2hVbmRlclBvaW50ZXIscixuKX0saS5DcmVhdGVOZXdGcm9tU2NlbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkobnVsbCxlLnBvaW50ZXJYLGUucG9pbnRlclksZS5tZXNoVW5kZXJQb2ludGVyLHQpfSxpLkNyZWF0ZU5ld0Zyb21QcmltaXRpdmU9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKGUsdC54LHQueSxudWxsLHIsbil9LGl9KCksTXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3ZlcnRleEJ1ZmZlcnM9e30sdGhpcy5fc2NlbmU9ZX1yZXR1cm4gaS5wcm90b3R5cGUuX3ByZXBhcmVCdWZmZXJzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3ZlcnRleEJ1ZmZlcnNbYi5Qb3NpdGlvbktpbmRdKXt2YXIgZT1bXTtlLnB1c2goMSwxKSxlLnB1c2goLTEsMSksZS5wdXNoKC0xLC0xKSxlLnB1c2goMSwtMSksdGhpcy5fdmVydGV4QnVmZmVyc1tiLlBvc2l0aW9uS2luZF09bmV3IGIodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksZSxiLlBvc2l0aW9uS2luZCwhMSwhMSwyKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCl9fSxpLnByb3RvdHlwZS5fYnVpbGRJbmRleEJ1ZmZlcj1mdW5jdGlvbigpe3ZhciBlPVtdO2UucHVzaCgwKSxlLnB1c2goMSksZS5wdXNoKDIpLGUucHVzaCgwKSxlLnB1c2goMiksZS5wdXNoKDMpLHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNyZWF0ZUluZGV4QnVmZmVyKGUpfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbYi5Qb3NpdGlvbktpbmRdOyFlfHwoZS5fcmVidWlsZCgpLHRoaXMuX2J1aWxkSW5kZXhCdWZmZXIoKSl9LGkucHJvdG90eXBlLl9wcmVwYXJlRnJhbWU9ZnVuY3Rpb24oZSx0KXtlPT09dm9pZCAwJiYoZT1udWxsKSx0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgcj10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7cmV0dXJuIXJ8fCh0PXR8fHIuX3Bvc3RQcm9jZXNzZXMuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBuIT1udWxsfSksIXR8fHQubGVuZ3RoPT09MHx8IXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXNFbmFibGVkKT8hMToodFswXS5hY3RpdmF0ZShyLGUsdCE9bnVsbCksITApfSxpLnByb3RvdHlwZS5kaXJlY3RSZW5kZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvO3Q9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT0wKSxzPT09dm9pZCAwJiYocz0hMSk7Zm9yKHZhciB1PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLGY9MDtmPGUubGVuZ3RoO2YrKyl7ZjxlLmxlbmd0aC0xP2VbZisxXS5hY3RpdmF0ZSh0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsdD09bnVsbD92b2lkIDA6dC50ZXh0dXJlKToodD91LmJpbmRGcmFtZWJ1ZmZlcih0LG4sdm9pZCAwLHZvaWQgMCxyLGEpOnN8fHUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLChvPXUuX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fG89PT12b2lkIDB8fG8uY2FsbCh1LCJwb3N0IHByb2Nlc3MgIi5jb25jYXQoZVtmXS5uYW1lLCIgb3V0cHV0IikpKTt2YXIgbD1lW2ZdLGg9bC5hcHBseSgpO2gmJihsLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCksdGhpcy5fcHJlcGFyZUJ1ZmZlcnMoKSx1LmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsaCksdS5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KSxsLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoKSl9dS5zZXREZXB0aEJ1ZmZlcighMCksdS5zZXREZXB0aFdyaXRlKCEwKX0saS5wcm90b3R5cGUuX2ZpbmFsaXplRnJhbWU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgczthPT09dm9pZCAwJiYoYT0hMSk7dmFyIG89dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhbyYmKG49bnx8by5fcG9zdFByb2Nlc3Nlcy5maWx0ZXIoZnVuY3Rpb24oZCl7cmV0dXJuIGQhPW51bGx9KSwhKG4ubGVuZ3RoPT09MHx8IXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXNFbmFibGVkKSkpe2Zvcih2YXIgdT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxmPTAsbD1uLmxlbmd0aDtmPGw7ZisrKXt2YXIgaD1uW2ZdO2lmKGY8bC0xP2guX291dHB1dFRleHR1cmU9bltmKzFdLmFjdGl2YXRlKG8sdD09bnVsbD92b2lkIDA6dC50ZXh0dXJlKToodD8odS5iaW5kRnJhbWVidWZmZXIodCxyLHZvaWQgMCx2b2lkIDAsYSksaC5fb3V0cHV0VGV4dHVyZT10KToodS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksaC5fb3V0cHV0VGV4dHVyZT1udWxsKSwocz11Ll9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwodSwicG9zdCBwcm9jZXNzICIuY29uY2F0KG5bZl0ubmFtZSwiIG91dHB1dCIpKSksZSlicmVhazt2YXIgYz1oLmFwcGx5KCk7YyYmKGgub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhjKSx0aGlzLl9wcmVwYXJlQnVmZmVycygpLHUuYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcixjKSx1LmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpLGgub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGMpKX11LnNldERlcHRoQnVmZmVyKCEwKSx1LnNldERlcHRoV3JpdGUoITApLHUuc2V0QWxwaGFNb2RlKDApfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbYi5Qb3NpdGlvbktpbmRdO2UmJihlLmRpc3Bvc2UoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW2IuUG9zaXRpb25LaW5kXT1udWxsKSx0aGlzLl9pbmRleEJ1ZmZlciYmKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsKX0saX0oKSxsYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLmluZGV4PWUsdGhpcy5fb3BhcXVlU3ViTWVzaGVzPW5ldyBCZSgyNTYpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzPW5ldyBCZSgyNTYpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcz1uZXcgQmUoMjU2KSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXM9bmV3IEJlKDI1NiksdGhpcy5fcGFydGljbGVTeXN0ZW1zPW5ldyBCZSgyNTYpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzPW5ldyBCZSgyNTYpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzPW5ldyBVdCgxNiksdGhpcy5fc2NlbmU9dCx0aGlzLm9wYXF1ZVNvcnRDb21wYXJlRm49cix0aGlzLmFscGhhVGVzdFNvcnRDb21wYXJlRm49bix0aGlzLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj1hfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wYXF1ZVNvcnRDb21wYXJlRm4iLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbj1lLGU/dGhpcy5fcmVuZGVyT3BhcXVlPXRoaXMucmVuZGVyT3BhcXVlU29ydGVkOnRoaXMuX3JlbmRlck9wYXF1ZT1pLnJlbmRlclVuc29ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGFUZXN0U29ydENvbXBhcmVGbiIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPWUsZT90aGlzLl9yZW5kZXJBbHBoYVRlc3Q9dGhpcy5yZW5kZXJBbHBoYVRlc3RTb3J0ZWQ6dGhpcy5fcmVuZGVyQWxwaGFUZXN0PWkucmVuZGVyVW5zb3J0ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0cmFuc3BhcmVudFNvcnRDb21wYXJlRm4iLHtzZXQ6ZnVuY3Rpb24oZSl7ZT90aGlzLl90cmFuc3BhcmVudFNvcnRDb21wYXJlRm49ZTp0aGlzLl90cmFuc3BhcmVudFNvcnRDb21wYXJlRm49aS5kZWZhdWx0VHJhbnNwYXJlbnRTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJUcmFuc3BhcmVudD10aGlzLnJlbmRlclRyYW5zcGFyZW50U29ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQscixuKXtpZihlKXtlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMsdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMsdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKTtyZXR1cm59dmFyIGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmxlbmd0aCE9PTAmJihhLnNldENvbG9yV3JpdGUoITEpLHRoaXMuX3JlbmRlckFscGhhVGVzdCh0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpLGEuc2V0Q29sb3JXcml0ZSghMCkpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJPcGFxdWUodGhpcy5fb3BhcXVlU3ViTWVzaGVzKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyk7dmFyIHM9YS5nZXRTdGVuY2lsQnVmZmVyKCk7aWYoYS5zZXRTdGVuY2lsQnVmZmVyKCExKSx0JiZ0aGlzLl9yZW5kZXJTcHJpdGVzKCksciYmdGhpcy5fcmVuZGVyUGFydGljbGVzKG4pLHRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZyYmdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMubGVuZ3RoIT09MHx8dGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7aWYoYS5zZXRTdGVuY2lsQnVmZmVyKHMpLHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe3ZhciBvPXRoaXMuX3NjZW5lLmRlcHRoUGVlbGluZ1JlbmRlcmVyLnJlbmRlcih0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7by5sZW5ndGgmJnRoaXMuX3JlbmRlclRyYW5zcGFyZW50KG8pfWVsc2UgdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO2Euc2V0QWxwaGFNb2RlKDApfWlmKGEuc2V0U3RlbmNpbEJ1ZmZlcighMSksdGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoKXtmb3IodmFyIHU9MDt1PHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aDt1KyspdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGF0YVt1XS5yZW5kZXIoKTthLnNldEFscGhhTW9kZSgwKX1hLnNldFN0ZW5jaWxCdWZmZXIocyl9LGkucHJvdG90eXBlLnJlbmRlck9wYXF1ZVNvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5yZW5kZXJTb3J0ZWQoZSx0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMSl9LGkucHJvdG90eXBlLnJlbmRlckFscGhhVGVzdFNvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5yZW5kZXJTb3J0ZWQoZSx0aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMSl9LGkucHJvdG90eXBlLnJlbmRlclRyYW5zcGFyZW50U29ydGVkPWZ1bmN0aW9uKGUpe3JldHVybiBpLnJlbmRlclNvcnRlZChlLHRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITApfSxpLnJlbmRlclNvcnRlZD1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9MCxzLG89cj9yLmdsb2JhbFBvc2l0aW9uOmkuX3plcm9WZWN0b3I7YTxlLmxlbmd0aDthKyspcz1lLmRhdGFbYV0scy5fYWxwaGFJbmRleD1zLmdldE1lc2goKS5hbHBoYUluZGV4LHMuX2Rpc3RhbmNlVG9DYW1lcmE9RS5EaXN0YW5jZShzLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLG8pO3ZhciB1PWUuZGF0YS5zbGljZSgwLGUubGVuZ3RoKTtmb3IodCYmdS5zb3J0KHQpLGE9MDthPHUubGVuZ3RoO2ErKyl7aWYocz11W2FdLG4pe3ZhciBmPXMuZ2V0TWF0ZXJpYWwoKTtpZihmJiZmLm5lZWREZXB0aFByZVBhc3Mpe3ZhciBsPWYuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtsLnNldENvbG9yV3JpdGUoITEpLGwuc2V0QWxwaGFNb2RlKDApLHMucmVuZGVyKCExKSxsLnNldENvbG9yV3JpdGUoITApfX1zLnJlbmRlcihuKX19LGkucmVuZGVyVW5zb3J0ZWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWUuZGF0YVt0XTtyLnJlbmRlcighMSl9fSxpLmRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2FscGhhSW5kZXg+dC5fYWxwaGFJbmRleD8xOmUuX2FscGhhSW5kZXg8dC5fYWxwaGFJbmRleD8tMTppLmJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KX0saS5iYWNrVG9Gcm9udFNvcnRDb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmE8dC5fZGlzdGFuY2VUb0NhbWVyYT8xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8tMTowfSxpLmZyb250VG9CYWNrU29ydENvbXBhcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8xOjB9LGkucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzLnJlc2V0KCksdGhpcy5fZWRnZXNSZW5kZXJlcnMucmVzZXQoKX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX29wYXF1ZVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGlzcG9zZSgpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmRpc3Bvc2UoKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5kaXNwb3NlKCl9LGkucHJvdG90eXBlLmRpc3BhdGNoPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD1lLmdldE1lc2goKSkscj09PXZvaWQgMCYmKHI9ZS5nZXRNYXRlcmlhbCgpKSxyIT1udWxsJiYoci5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCk/dGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucHVzaChlKTpyLm5lZWRBbHBoYVRlc3RpbmcoKT8oci5uZWVkRGVwdGhQcmVQYXNzJiZ0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucHVzaChlKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucHVzaChlKSk6KHIubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLnB1c2goZSkpLHQuX3JlbmRlcmluZ0dyb3VwPXRoaXMsdC5fZWRnZXNSZW5kZXJlciYmdC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0Ll9lZGdlc1JlbmRlcmVyKSl9LGkucHJvdG90eXBlLmRpc3BhdGNoU3ByaXRlcz1mdW5jdGlvbihlKXt0aGlzLl9zcHJpdGVNYW5hZ2Vycy5wdXNoKGUpfSxpLnByb3RvdHlwZS5kaXNwYXRjaFBhcnRpY2xlcz1mdW5jdGlvbihlKXt0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucHVzaChlKX0saS5wcm90b3R5cGUuX3JlbmRlclBhcnRpY2xlcz1mdW5jdGlvbihlKXtpZih0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoIT09MCl7dmFyIHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3RoaXMuX3NjZW5lLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2Zvcih2YXIgcj0wO3I8dGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aDtyKyspe3ZhciBuPXRoaXMuX3BhcnRpY2xlU3lzdGVtcy5kYXRhW3JdO2lmKCh0JiZ0LmxheWVyTWFzayZuLmxheWVyTWFzaykhPT0wKXt2YXIgYT1uLmVtaXR0ZXI7KCFhLnBvc2l0aW9ufHwhZXx8ZS5pbmRleE9mKGEpIT09LTEpJiZ0aGlzLl9zY2VuZS5fYWN0aXZlUGFydGljbGVzLmFkZENvdW50KG4ucmVuZGVyKCksITEpfX10aGlzLl9zY2VuZS5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfX0saS5wcm90b3R5cGUuX3JlbmRlclNwcml0ZXM9ZnVuY3Rpb24oKXtpZighKCF0aGlzLl9zY2VuZS5zcHJpdGVzRW5hYmxlZHx8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoPT09MCkpe3ZhciBlPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVNwcml0ZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSk7Zm9yKHZhciB0PTA7dDx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9zcHJpdGVNYW5hZ2Vycy5kYXRhW3RdOyhlJiZlLmxheWVyTWFzayZyLmxheWVyTWFzaykhPT0wJiZyLnJlbmRlcigpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfX0saS5femVyb1ZlY3Rvcj1FLlplcm8oKSxpfSgpLGhhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaX0oKSxBcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMSx0aGlzLl9yZW5kZXJpbmdHcm91cHM9bmV3IEFycmF5LHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbD17fSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm49e30sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1uZXcgaGEsdGhpcy5fc2NlbmU9ZTtmb3IodmFyIHQ9aS5NSU5fUkVOREVSSU5HR1JPVVBTO3Q8aS5NQVhfUkVOREVSSU5HR1JPVVBTO3QrKyl0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbdF09e2F1dG9DbGVhcjohMCxkZXB0aDohMCxzdGVuY2lsOiEwfX1yZXR1cm4gaS5wcm90b3R5cGUuX2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyPWZ1bmN0aW9uKGUsdCl7ZT09PXZvaWQgMCYmKGU9ITApLHQ9PT12b2lkIDAmJih0PSEwKSwhdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQmJih0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jbGVhcihudWxsLCExLGUsdCksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQ9ITApfSxpLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvO2lmKGEuc2NlbmU9dGhpcy5fc2NlbmUsYS5jYW1lcmE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzJiZuKWZvcih2YXIgcz0wO3M8dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnNbc107dGhpcy5kaXNwYXRjaFNwcml0ZXMobyl9Zm9yKHZhciBzPWkuTUlOX1JFTkRFUklOR0dST1VQUztzPGkuTUFYX1JFTkRFUklOR0dST1VQUztzKyspe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPXM9PT1pLk1JTl9SRU5ERVJJTkdHUk9VUFM7dmFyIHU9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW3NdO2lmKCEhdSl7dmFyIGY9TWF0aC5wb3coMixzKTtpZihhLnJlbmRlcmluZ0dyb3VwSWQ9cyx0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxmKSxpLkFVVE9DTEVBUil7dmFyIGw9dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD90aGlzLl9zY2VuZS5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChzKTp0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbc107bCYmbC5hdXRvQ2xlYXImJnRoaXMuX2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyKGwuZGVwdGgsbC5zdGVuY2lsKX1mb3IodmFyIGg9MCxjPXRoaXMuX3NjZW5lLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZTtoPGMubGVuZ3RoO2grKyl7dmFyIGQ9Y1toXTtkLmFjdGlvbihzKX11LnJlbmRlcihlLG4scix0KTtmb3IodmFyIHA9MCxfPXRoaXMuX3NjZW5lLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlO3A8Xy5sZW5ndGg7cCsrKXt2YXIgZD1fW3BdO2QuYWN0aW9uKHMpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsZil9fX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9aS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8aS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7dmFyIHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQucHJlcGFyZSgpfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwcy5sZW5ndGg9MCx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bnVsbH0saS5wcm90b3R5cGUuZnJlZVJlbmRlcmluZ0dyb3Vwcz1mdW5jdGlvbigpe2Zvcih2YXIgZT1pLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxpLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXt2YXIgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5kaXNwb3NlKCl9fSxpLnByb3RvdHlwZS5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwPWZ1bmN0aW9uKGUpe3RoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT09PXZvaWQgMCYmKHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT1uZXcgbGEoZSx0aGlzLl9zY2VuZSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdKSl9LGkucHJvdG90eXBlLmRpc3BhdGNoU3ByaXRlcz1mdW5jdGlvbihlKXt2YXIgdD1lLnJlbmRlcmluZ0dyb3VwSWR8fDA7dGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKHQpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1t0XS5kaXNwYXRjaFNwcml0ZXMoZSl9LGkucHJvdG90eXBlLmRpc3BhdGNoUGFydGljbGVzPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVuZGVyaW5nR3JvdXBJZHx8MDt0aGlzLl9wcmVwYXJlUmVuZGVyaW5nR3JvdXAodCksdGhpcy5fcmVuZGVyaW5nR3JvdXBzW3RdLmRpc3BhdGNoUGFydGljbGVzKGUpfSxpLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpO3ZhciBuPXQucmVuZGVyaW5nR3JvdXBJZHx8MDt0aGlzLl9wcmVwYXJlUmVuZGVyaW5nR3JvdXAobiksdGhpcy5fcmVuZGVyaW5nR3JvdXBzW25dLmRpc3BhdGNoKGUsdCxyKX0saS5wcm90b3R5cGUuc2V0UmVuZGVyaW5nT3JkZXI9ZnVuY3Rpb24oZSx0LHIsbil7aWYodD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49bnVsbCksdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXT10LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV09cix0aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV09bix0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV0pe3ZhciBhPXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTthLm9wYXF1ZVNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSxhLmFscGhhVGVzdFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXSxhLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV19fSxpLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ITApLG49PT12b2lkIDAmJihuPSEwKSx0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV09e2F1dG9DbGVhcjp0LGRlcHRoOnIsc3RlbmNpbDpufX0saS5wcm90b3R5cGUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtlXX0saS5NQVhfUkVOREVSSU5HR1JPVVBTPTQsaS5NSU5fUkVOREVSSU5HR1JPVVBTPTAsaS5BVVRPQ0xFQVI9ITAsaX0oKSxrdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuTkFNRV9FRkZFQ1RMQVlFUj0iRWZmZWN0TGF5ZXIiLGkuTkFNRV9MQVlFUj0iTGF5ZXIiLGkuTkFNRV9MRU5TRkxBUkVTWVNURU09IkxlbnNGbGFyZVN5c3RlbSIsaS5OQU1FX0JPVU5ESU5HQk9YUkVOREVSRVI9IkJvdW5kaW5nQm94UmVuZGVyZXIiLGkuTkFNRV9QQVJUSUNMRVNZU1RFTT0iUGFydGljbGVTeXN0ZW0iLGkuTkFNRV9HQU1FUEFEPSJHYW1lcGFkIixpLk5BTUVfU0lNUExJRklDQVRJT05RVUVVRT0iU2ltcGxpZmljYXRpb25RdWV1ZSIsaS5OQU1FX0dFT01FVFJZQlVGRkVSUkVOREVSRVI9Ikdlb21ldHJ5QnVmZmVyUmVuZGVyZXIiLGkuTkFNRV9QUkVQQVNTUkVOREVSRVI9IlByZVBhc3NSZW5kZXJlciIsaS5OQU1FX0RFUFRIUkVOREVSRVI9IkRlcHRoUmVuZGVyZXIiLGkuTkFNRV9ERVBUSFBFRUxJTkdSRU5ERVJFUj0iRGVwdGhQZWVsaW5nUmVuZGVyZXIiLGkuTkFNRV9QT1NUUFJPQ0VTU1JFTkRFUlBJUEVMSU5FTUFOQUdFUj0iUG9zdFByb2Nlc3NSZW5kZXJQaXBlbGluZU1hbmFnZXIiLGkuTkFNRV9TUFJJVEU9IlNwcml0ZSIsaS5OQU1FX1NVQlNVUkZBQ0U9IlN1YlN1cmZhY2UiLGkuTkFNRV9PVVRMSU5FUkVOREVSRVI9Ik91dGxpbmUiLGkuTkFNRV9QUk9DRURVUkFMVEVYVFVSRT0iUHJvY2VkdXJhbFRleHR1cmUiLGkuTkFNRV9TSEFET1dHRU5FUkFUT1I9IlNoYWRvd0dlbmVyYXRvciIsaS5OQU1FX09DVFJFRT0iT2N0cmVlIixpLk5BTUVfUEhZU0lDU0VOR0lORT0iUGh5c2ljc0VuZ2luZSIsaS5OQU1FX0FVRElPPSJBdWRpbyIsaS5TVEVQX0lTUkVBRFlGT1JNRVNIX0VGRkVDVExBWUVSPTAsaS5TVEVQX0JFRk9SRUVWQUxVQVRFQUNUSVZFTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsaS5TVEVQX0VWQUxVQVRFU1VCTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsaS5TVEVQX1BSRUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGkuU1RFUF9DQU1FUkFEUkFXUkVOREVSVEFSR0VUX0VGRkVDVExBWUVSPTEsaS5TVEVQX0JFRk9SRUNBTUVSQURSQVdfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0VGRkVDVExBWUVSPTEsaS5TVEVQX0JFRk9SRUNBTUVSQURSQVdfTEFZRVI9MixpLlNURVBfQkVGT1JFUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsaS5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfTEFZRVI9MSxpLlNURVBfQkVGT1JFUkVOREVSSU5HTUVTSF9QUkVQQVNTPTAsaS5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfT1VUTElORT0xLGkuU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfUFJFUEFTUz0wLGkuU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfT1VUTElORT0xLGkuU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTAsaS5TVEVQX0FGVEVSUkVOREVSSU5HR1JPVVBEUkFXX0JPVU5ESU5HQk9YUkVOREVSRVI9MSxpLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX1NJTVBMSUZJQ0FUSU9OUVVFVUU9MCxpLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX0dBTUVQQUQ9MSxpLlNURVBfQkVGT1JFQ0xFQVJfUFJPQ0VEVVJBTFRFWFRVUkU9MCxpLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxpLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19QUkVQQVNTPTAsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfTEVOU0ZMQVJFU1lTVEVNPTIsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTMsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19MQVlFUj00LGkuU1RFUF9BRlRFUlJFTkRFUl9BVURJTz0wLGkuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX0RFUFRIUkVOREVSRVI9MCxpLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPTEsaS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SPTIsaS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9MyxpLlNURVBfR0FUSEVSQUNUSVZFQ0FNRVJBUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAsaS5TVEVQX0JFRk9SRUNMRUFSU1RBR0VfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVRDTEVBUlNUQUdFX1BSRVBBU1M9MCxpLlNURVBfUE9JTlRFUk1PVkVfU1BSSVRFPTAsaS5TVEVQX1BPSU5URVJET1dOX1NQUklURT0wLGkuU1RFUF9QT0lOVEVSVVBfU1BSSVRFPTAsaX0oKSxnZT1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaS5hcHBseSh0aGlzLHQpfHx0aGlzfXJldHVybiBlLkNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBPYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJTdGVwPWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGE9MCxzPU51bWJlci5NQVhfVkFMVUU7YTx0aGlzLmxlbmd0aDthKyspe3ZhciBvPXRoaXNbYV07aWYocz1vLmluZGV4LHQ8cylicmVha310aGlzLnNwbGljZShhLDAse2luZGV4OnQsY29tcG9uZW50OnIsYWN0aW9uOm4uYmluZChyKX0pfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubGVuZ3RoPTB9LGV9KEFycmF5KSxuZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuUE9JTlRFUkRPV049MSxpLlBPSU5URVJVUD0yLGkuUE9JTlRFUk1PVkU9NCxpLlBPSU5URVJXSEVFTD04LGkuUE9JTlRFUlBJQ0s9MTYsaS5QT0lOVEVSVEFQPTMyLGkuUE9JTlRFUkRPVUJMRVRBUD02NCxpfSgpLExpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH1yZXR1cm4gaX0oKSxjYT1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhKXt2YXIgcz1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBzLnJheT1udWxsLHMuc2tpcE9uUG9pbnRlck9ic2VydmFibGU9ITEscy5sb2NhbFBvc2l0aW9uPW5ldyBiZShuLGEpLHN9cmV0dXJuIGV9KExpKSxpcj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gYS5waWNrSW5mbz1uLGF9cmV0dXJuIGV9KExpKSxucj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmhvdmVyQ3Vyc29yPSIiLHRoaXMuYWN0aW9ucz1uZXcgQXJyYXksdGhpcy5pc1JlY3Vyc2l2ZT0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkhhc1RyaWdnZXJzIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGkuVHJpZ2dlcnMpaWYoaS5UcmlnZ2Vycy5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4hMDtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSGFzUGlja1RyaWdnZXJzIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGkuVHJpZ2dlcnMpaWYoaS5UcmlnZ2Vycy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9cGFyc2VJbnQoZSk7aWYodD49MSYmdDw9NylyZXR1cm4hMH1yZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkhhc1NwZWNpZmljVHJpZ2dlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gaS5UcmlnZ2VycylpZihpLlRyaWdnZXJzLmhhc093blByb3BlcnR5KHQpKXt2YXIgcj1wYXJzZUludCh0KTtpZihyPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0saS5UcmlnZ2Vycz17fSxpfSgpLE5pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5LRVlET1dOPTEsaS5LRVlVUD0yLGl9KCkscXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5ldmVudD10fXJldHVybiBpfSgpLEJpPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gbi50eXBlPXQsbi5ldmVudD1yLG4uc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlPSExLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2tpcE9uUG9pbnRlck9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KHFyKSxCOyhmdW5jdGlvbihpKXtpW2kuR2VuZXJpYz0wXT0iR2VuZXJpYyIsaVtpLktleWJvYXJkPTFdPSJLZXlib2FyZCIsaVtpLk1vdXNlPTJdPSJNb3VzZSIsaVtpLlRvdWNoPTNdPSJUb3VjaCIsaVtpLkR1YWxTaG9jaz00XT0iRHVhbFNob2NrIixpW2kuWGJveD01XT0iWGJveCIsaVtpLlN3aXRjaD02XT0iU3dpdGNoIixpW2kuRHVhbFNlbnNlPTddPSJEdWFsU2Vuc2UifSkoQnx8KEI9e30pKTt2YXIgRzsoZnVuY3Rpb24oaSl7aVtpLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGlbaS5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGlbaS5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsaVtpLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsaVtpLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGlbaS5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGlbaS5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGlbaS5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGlbaS5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGlbaS5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGlbaS5Nb3ZlPTEyXT0iTW92ZSJ9KShHfHwoRz17fSkpO3ZhciBndDsoZnVuY3Rpb24oaSl7aVtpLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGlbaS5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGlbaS5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsaVtpLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsaVtpLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGlbaS5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGlbaS5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGlbaS5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGlbaS5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGlbaS5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGlbaS5EZWx0YUhvcml6b250YWw9MTBdPSJEZWx0YUhvcml6b250YWwiLGlbaS5EZWx0YVZlcnRpY2FsPTExXT0iRGVsdGFWZXJ0aWNhbCJ9KShndHx8KGd0PXt9KSk7dmFyIFVpOyhmdW5jdGlvbihpKXtpW2kuQ3Jvc3M9MF09IkNyb3NzIixpW2kuQ2lyY2xlPTFdPSJDaXJjbGUiLGlbaS5TcXVhcmU9Ml09IlNxdWFyZSIsaVtpLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsaVtpLkwxPTRdPSJMMSIsaVtpLlIxPTVdPSJSMSIsaVtpLkwyPTZdPSJMMiIsaVtpLlIyPTddPSJSMiIsaVtpLlNoYXJlPThdPSJTaGFyZSIsaVtpLk9wdGlvbnM9OV09Ik9wdGlvbnMiLGlbaS5MMz0xMF09IkwzIixpW2kuUjM9MTFdPSJSMyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5Ub3VjaFBhZD0xN109IlRvdWNoUGFkIixpW2kuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsaVtpLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGlbaS5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixpW2kuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShVaXx8KFVpPXt9KSk7dmFyIFZpOyhmdW5jdGlvbihpKXtpW2kuQ3Jvc3M9MF09IkNyb3NzIixpW2kuQ2lyY2xlPTFdPSJDaXJjbGUiLGlbaS5TcXVhcmU9Ml09IlNxdWFyZSIsaVtpLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsaVtpLkwxPTRdPSJMMSIsaVtpLlIxPTVdPSJSMSIsaVtpLkwyPTZdPSJMMiIsaVtpLlIyPTddPSJSMiIsaVtpLkNyZWF0ZT04XT0iQ3JlYXRlIixpW2kuT3B0aW9ucz05XT0iT3B0aW9ucyIsaVtpLkwzPTEwXT0iTDMiLGlbaS5SMz0xMV09IlIzIixpW2kuRFBhZFVwPTEyXT0iRFBhZFVwIixpW2kuRFBhZERvd249MTNdPSJEUGFkRG93biIsaVtpLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGlbaS5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGlbaS5Ib21lPTE2XT0iSG9tZSIsaVtpLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGlbaS5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixpW2kuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsaVtpLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGlbaS5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKFZpfHwoVmk9e30pKTt2YXIga2k7KGZ1bmN0aW9uKGkpe2lbaS5BPTBdPSJBIixpW2kuQj0xXT0iQiIsaVtpLlg9Ml09IlgiLGlbaS5ZPTNdPSJZIixpW2kuTEI9NF09IkxCIixpW2kuUkI9NV09IlJCIixpW2kuTFQ9Nl09IkxUIixpW2kuUlQ9N109IlJUIixpW2kuQmFjaz04XT0iQmFjayIsaVtpLlN0YXJ0PTldPSJTdGFydCIsaVtpLkxTPTEwXT0iTFMiLGlbaS5SUz0xMV09IlJTIixpW2kuRFBhZFVwPTEyXT0iRFBhZFVwIixpW2kuRFBhZERvd249MTNdPSJEUGFkRG93biIsaVtpLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGlbaS5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGlbaS5Ib21lPTE2XT0iSG9tZSIsaVtpLkxTdGlja1hBeGlzPTE3XT0iTFN0aWNrWEF4aXMiLGlbaS5MU3RpY2tZQXhpcz0xOF09IkxTdGlja1lBeGlzIixpW2kuUlN0aWNrWEF4aXM9MTldPSJSU3RpY2tYQXhpcyIsaVtpLlJTdGlja1lBeGlzPTIwXT0iUlN0aWNrWUF4aXMifSkoa2l8fChraT17fSkpO3ZhciBXaTsoZnVuY3Rpb24oaSl7aVtpLkI9MF09IkIiLGlbaS5BPTFdPSJBIixpW2kuWT0yXT0iWSIsaVtpLlg9M109IlgiLGlbaS5MPTRdPSJMIixpW2kuUj01XT0iUiIsaVtpLlpMPTZdPSJaTCIsaVtpLlpSPTddPSJaUiIsaVtpLk1pbnVzPThdPSJNaW51cyIsaVtpLlBsdXM9OV09IlBsdXMiLGlbaS5MUz0xMF09IkxTIixpW2kuUlM9MTFdPSJSUyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5DYXB0dXJlPTE3XT0iQ2FwdHVyZSIsaVtpLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGlbaS5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixpW2kuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsaVtpLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoV2l8fChXaT17fSkpO3ZhciB6aTsoZnVuY3Rpb24oaSl7aVtpLlBvaW50ZXJNb3ZlPTBdPSJQb2ludGVyTW92ZSIsaVtpLlBvaW50ZXJEb3duPTFdPSJQb2ludGVyRG93biIsaVtpLlBvaW50ZXJVcD0yXT0iUG9pbnRlclVwIn0pKHppfHwoemk9e30pKTt2YXIgZGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkRPTV9ERUxUQV9QSVhFTD0wLGkuRE9NX0RFTFRBX0xJTkU9MSxpLkRPTV9ERUxUQV9QQUdFPTIsaX0oKSxXdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQ3JlYXRlRGV2aWNlRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3N3aXRjaChlKXtjYXNlIEIuS2V5Ym9hcmQ6cmV0dXJuIHRoaXMuX2NyZWF0ZUtleWJvYXJkRXZlbnQocixuLGEscyk7Y2FzZSBCLk1vdXNlOmlmKHI9PT1HLk1vdXNlV2hlZWxYfHxyPT09Ry5Nb3VzZVdoZWVsWXx8cj09PUcuTW91c2VXaGVlbFopcmV0dXJuIHRoaXMuX2NyZWF0ZVdoZWVsRXZlbnQoZSx0LHIsbixhLHMpO2Nhc2UgQi5Ub3VjaDpyZXR1cm4gdGhpcy5fY3JlYXRlUG9pbnRlckV2ZW50KGUsdCxyLG4sYSxzKTtkZWZhdWx0OnRocm93IlVuYWJsZSB0byBnZW5lcmF0ZSBldmVudCBmb3IgZGV2aWNlICIuY29uY2F0KEJbZV0pfX0saS5fY3JlYXRlUG9pbnRlckV2ZW50PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz10aGlzLl9jcmVhdGVNb3VzZUV2ZW50KGUsdCxyLG4sYSxzKTtyZXR1cm4gZT09PUIuTW91c2U/KG8uZGV2aWNlVHlwZT1CLk1vdXNlLG8ucG9pbnRlcklkPTEsby5wb2ludGVyVHlwZT0ibW91c2UiKTooby5kZXZpY2VUeXBlPUIuVG91Y2gsby5wb2ludGVySWQ9dCxvLnBvaW50ZXJUeXBlPSJ0b3VjaCIpLHI9PT1HLk1vdmU/by50eXBlPSJwb2ludGVybW92ZSI6cj49Ry5MZWZ0Q2xpY2smJnI8PUcuUmlnaHRDbGljayYmKG8udHlwZT1uPT09MT8icG9pbnRlcmRvd24iOiJwb2ludGVydXAiLG8uYnV0dG9uPXItMiksb30saS5fY3JlYXRlV2hlZWxFdmVudD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89dGhpcy5fY3JlYXRlTW91c2VFdmVudChlLHQscixuLGEscyk7cmV0dXJuIG8udHlwZT0id2hlZWwiLG8uZGVsdGFNb2RlPWRhLkRPTV9ERUxUQV9QSVhFTCxvLmRlbHRhWD1yPT09Ry5Nb3VzZVdoZWVsWD9uOmEucG9sbElucHV0KGUsdCxHLk1vdXNlV2hlZWxYKSxvLmRlbHRhWT1yPT09Ry5Nb3VzZVdoZWVsWT9uOmEucG9sbElucHV0KGUsdCxHLk1vdXNlV2hlZWxZKSxvLmRlbHRhWj1yPT09Ry5Nb3VzZVdoZWVsWj9uOmEucG9sbElucHV0KGUsdCxHLk1vdXNlV2hlZWxaKSxvfSxpLl9jcmVhdGVNb3VzZUV2ZW50PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz10aGlzLl9jcmVhdGVFdmVudChzKSx1PWEucG9sbElucHV0KGUsdCxHLkhvcml6b250YWwpLGY9YS5wb2xsSW5wdXQoZSx0LEcuVmVydGljYWwpO3JldHVybiBzPyhvLm1vdmVtZW50WD0wLG8ubW92ZW1lbnRZPTAsby5vZmZzZXRYPW8ubW92ZW1lbnRYLXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxvLm9mZnNldFk9by5tb3ZlbWVudFktcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55KTooby5tb3ZlbWVudFg9YS5wb2xsSW5wdXQoZSx0LGd0LkRlbHRhSG9yaXpvbnRhbCksby5tb3ZlbWVudFk9YS5wb2xsSW5wdXQoZSx0LGd0LkRlbHRhVmVydGljYWwpLG8ub2Zmc2V0WD0wLG8ub2Zmc2V0WT0wKSx0aGlzLl9jaGVja05vbkNoYXJhY3RlcktleXMobyxhKSxvLmNsaWVudFg9dSxvLmNsaWVudFk9ZixvLng9dSxvLnk9ZixvLmRldmljZVR5cGU9ZSxvLmRldmljZVNsb3Q9dCxvLmlucHV0SW5kZXg9cixvfSxpLl9jcmVhdGVLZXlib2FyZEV2ZW50PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX2NyZWF0ZUV2ZW50KG4pO3JldHVybiB0aGlzLl9jaGVja05vbkNoYXJhY3RlcktleXMoYSxyKSxhLmRldmljZVR5cGU9Qi5LZXlib2FyZCxhLmRldmljZVNsb3Q9MCxhLmlucHV0SW5kZXg9ZSxhLnR5cGU9dD09PTE/ImtleWRvd24iOiJrZXl1cCIsYS5rZXk9U3RyaW5nLmZyb21DaGFyQ29kZShlKSxhLmtleUNvZGU9ZSxhfSxpLl9jaGVja05vbkNoYXJhY3RlcktleXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmlzRGV2aWNlQXZhaWxhYmxlKEIuS2V5Ym9hcmQpLG49ciYmdC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDE4KT09PTEsYT1yJiZ0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsMTcpPT09MSxzPXImJih0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsOTEpPT09MXx8dC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDkyKT09PTF8fHQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCw5Myk9PT0xKSxvPXImJnQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCwxNik9PT0xO2UuYWx0S2V5PW4sZS5jdHJsS2V5PWEsZS5tZXRhS2V5PXMsZS5zaGlmdEtleT1vfSxpLl9jcmVhdGVFdmVudD1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe30sdC50YXJnZXQ9ZSx0fSxpfSgpLEdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt2YXIgdD10aGlzO3RoaXMub25EZXZpY2VDb25uZWN0ZWQ9ZnVuY3Rpb24ocixuKXt9LHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWQ9ZnVuY3Rpb24ocixuKXt9LHRoaXMub25JbnB1dENoYW5nZWQ9ZnVuY3Rpb24ocixuLGEpe30sdGhpcy5fbmF0aXZlSW5wdXQ9ZXx8dGhpcy5fY3JlYXRlRHVtbXlOYXRpdmVJbnB1dCgpLHRoaXMuX25hdGl2ZUlucHV0Lm9uRGV2aWNlQ29ubmVjdGVkPWZ1bmN0aW9uKHIsbil7dC5vbkRldmljZUNvbm5lY3RlZChyLG4pfSx0aGlzLl9uYXRpdmVJbnB1dC5vbkRldmljZURpc2Nvbm5lY3RlZD1mdW5jdGlvbihyLG4pe3Qub25EZXZpY2VEaXNjb25uZWN0ZWQocixuKX0sdGhpcy5fbmF0aXZlSW5wdXQub25JbnB1dENoYW5nZWQ9ZnVuY3Rpb24ocixuLGEscyl7dmFyIG89YT09PWd0Lkhvcml6b250YWx8fGE9PT1ndC5WZXJ0aWNhbHx8YT09PWd0LkRlbHRhSG9yaXpvbnRhbHx8YT09PWd0LkRlbHRhVmVydGljYWw/Ry5Nb3ZlOmEsdT1XdC5DcmVhdGVEZXZpY2VFdmVudChyLG4sbyxzLHQpO3Qub25JbnB1dENoYW5nZWQocixuLHUpfX1yZXR1cm4gaS5wcm90b3R5cGUucG9sbElucHV0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fbmF0aXZlSW5wdXQucG9sbElucHV0KGUsdCxyKX0saS5wcm90b3R5cGUuaXNEZXZpY2VBdmFpbGFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1CLk1vdXNlfHxlPT09Qi5Ub3VjaH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMub25EZXZpY2VDb25uZWN0ZWQ9ZnVuY3Rpb24oKXt9LHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWQ9ZnVuY3Rpb24oKXt9LHRoaXMub25JbnB1dENoYW5nZWQ9ZnVuY3Rpb24oKXt9fSxpLnByb3RvdHlwZS5fY3JlYXRlRHVtbXlOYXRpdmVJbnB1dD1mdW5jdGlvbigpe3ZhciBlPXtvbkRldmljZUNvbm5lY3RlZDpmdW5jdGlvbih0LHIpe30sb25EZXZpY2VEaXNjb25uZWN0ZWQ6ZnVuY3Rpb24odCxyKXt9LG9uSW5wdXRDaGFuZ2VkOmZ1bmN0aW9uKHQscixuLGEpe30scG9sbElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGlzRGV2aWNlQXZhaWxhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fTtyZXR1cm4gZX0saX0oKSxYaT0yNTUsSGk9T2JqZWN0LmtleXMoRykubGVuZ3RoLzIscGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7dGhpcy5faW5wdXRzPVtdLHRoaXMuX2tleWJvYXJkQWN0aXZlPSExLHRoaXMuX3BvaW50ZXJBY3RpdmU9ITEsdGhpcy5fdXNpbmdTYWZhcmk9aWUuSXNTYWZhcmkoKSx0aGlzLl9rZXlib2FyZERvd25FdmVudD1mdW5jdGlvbihyKXt9LHRoaXMuX2tleWJvYXJkVXBFdmVudD1mdW5jdGlvbihyKXt9LHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50PWZ1bmN0aW9uKHIpe30sdGhpcy5fcG9pbnRlck1vdmVFdmVudD1mdW5jdGlvbihyKXt9LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9ZnVuY3Rpb24ocil7fSx0aGlzLl9wb2ludGVyVXBFdmVudD1mdW5jdGlvbihyKXt9LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1mdW5jdGlvbihyKXt9LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PWZ1bmN0aW9uKHIpe30sdGhpcy5fcG9pbnRlckJsdXJFdmVudD1mdW5jdGlvbihyKXt9LHRoaXMuX2V2ZW50c0F0dGFjaGVkPSExLHRoaXMuX21vdXNlSWQ9LTEsdGhpcy5faXNVc2luZ0ZpcmVmb3g9a3IuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikhPT0tMSx0aGlzLl9tYXhUb3VjaFBvaW50cz0wLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9bnVsbCx0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQ9ZnVuY3Rpb24ocil7fSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9ZnVuY3Rpb24ocil7fSx0aGlzLl9ldmVudFByZWZpeD1pZS5HZXRQb2ludGVyUHJlZml4KGUpLHRoaXMuX2VuZ2luZT1lLHRoaXMub25EZXZpY2VDb25uZWN0ZWQ9ZnVuY3Rpb24ocixuKXt9LHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWQ9ZnVuY3Rpb24ocixuKXt9LHRoaXMub25JbnB1dENoYW5nZWQ9ZnVuY3Rpb24ocixuLGEpe30sdGhpcy5fZW5hYmxlRXZlbnRzKCksdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkfHwodGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkPWZ1bmN0aW9uKCl7dC5fZW5hYmxlRXZlbnRzKCl9KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkRldmljZUNvbm5lY3RlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkRldmljZUNvbm5lY3RlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uRGV2aWNlQ29ubmVjdGVkPWU7Zm9yKHZhciB0PTA7dDx0aGlzLl9pbnB1dHMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5faW5wdXRzW3RdO2lmKHIpZm9yKHZhciBuIGluIHIpe3ZhciBhPStuO3RoaXMuX2lucHV0c1t0XVthXSYmdGhpcy5fb25EZXZpY2VDb25uZWN0ZWQodCxhKX19fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnBvbGxJbnB1dD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5faW5wdXRzW2VdW3RdO2lmKCFuKXRocm93IlVuYWJsZSB0byBmaW5kIGRldmljZSAiLmNvbmNhdChCW2VdKTtlPj1CLkR1YWxTaG9jayYmZTw9Qi5EdWFsU2Vuc2UmJm5hdmlnYXRvci5nZXRHYW1lcGFkcyYmdGhpcy5fdXBkYXRlRGV2aWNlKGUsdCxyKTt2YXIgYT1uW3JdO2lmKGE9PT12b2lkIDApdGhyb3ciVW5hYmxlIHRvIGZpbmQgaW5wdXQgIi5jb25jYXQociwiIGZvciBkZXZpY2UgIikuY29uY2F0KEJbZV0sIiBpbiBzbG90ICIpLmNvbmNhdCh0KTtyZXR1cm4gcj09PUcuTW92ZSYmaWUuV2FybigiVW5hYmxlIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gZm9yIFBvaW50ZXJJbnB1dC5Nb3ZlLiAgVHJ5IHVzaW5nIFBvaW50ZXJJbnB1dC5Ib3Jpem9udGFsIG9yIFBvaW50ZXJJbnB1dC5WZXJ0aWNhbCBmb3IgbW92ZSBkYXRhLiIpLGF9LGkucHJvdG90eXBlLmlzRGV2aWNlQXZhaWxhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnB1dHNbZV0hPT12b2lkIDB9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLm9uRGV2aWNlQ29ubmVjdGVkPWZ1bmN0aW9uKCl7fSx0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkPWZ1bmN0aW9uKCl7fSx0aGlzLm9uSW5wdXRDaGFuZ2VkPWZ1bmN0aW9uKCl7fSxkZWxldGUgdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiZ0aGlzLl9kaXNhYmxlRXZlbnRzKCl9LGkucHJvdG90eXBlLl9lbmFibGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzPT09bnVsbHx8dGhpcz09PXZvaWQgMD92b2lkIDA6dGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpO2lmKGUmJighdGhpcy5fZXZlbnRzQXR0YWNoZWR8fHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvIT09ZSkpe2lmKHRoaXMuX2Rpc2FibGVFdmVudHMoKSx0aGlzLl9pbnB1dHMpZm9yKHZhciB0PTAscj10aGlzLl9pbnB1dHM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07aWYobilmb3IodmFyIGEgaW4gbil7dmFyIHM9K2Esbz1uW3NdO2lmKG8pZm9yKHZhciB1PTA7dTxvLmxlbmd0aDt1Kyspb1t1XT0wfX10aGlzLl9lbGVtZW50VG9BdHRhY2hUbz1lLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4PXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4IT09LTE/dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXg6dGhpcy5fZW5naW5lLmNhbnZhc1RhYkluZGV4LHRoaXMuX2hhbmRsZUtleUFjdGlvbnMoKSx0aGlzLl9oYW5kbGVQb2ludGVyQWN0aW9ucygpLHRoaXMuX2hhbmRsZUdhbWVwYWRBY3Rpb25zKCksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITAsdGhpcy5fY2hlY2tGb3JDb25uZWN0ZWREZXZpY2VzKCl9fSxpLnByb3RvdHlwZS5fZGlzYWJsZUV2ZW50cz1mdW5jdGlvbigpe3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiYodGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciYmdGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMX0saS5wcm90b3R5cGUuX2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcz1mdW5jdGlvbigpe2lmKG5hdmlnYXRvci5nZXRHYW1lcGFkcylmb3IodmFyIGU9bmF2aWdhdG9yLmdldEdhbWVwYWRzKCksdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuJiZ0aGlzLl9hZGRHYW1lUGFkKG4pfW1hdGNoTWVkaWEoIihwb2ludGVyOmZpbmUpIikubWF0Y2hlcyYmdGhpcy5fYWRkUG9pbnRlckRldmljZShCLk1vdXNlLDAsMCwwKX0saS5wcm90b3R5cGUuX2FkZEdhbWVQYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0R2FtZXBhZERldmljZVR5cGUoZS5pZCkscj1lLmluZGV4O3RoaXMuX2dhbWVwYWRzPXRoaXMuX2dhbWVwYWRzfHxuZXcgQXJyYXkoZS5pbmRleCsxKSx0aGlzLl9yZWdpc3RlckRldmljZSh0LHIsZS5idXR0b25zLmxlbmd0aCtlLmF4ZXMubGVuZ3RoKSx0aGlzLl9nYW1lcGFkc1tyXT10fSxpLnByb3RvdHlwZS5fYWRkUG9pbnRlckRldmljZT1mdW5jdGlvbihlLHQscixuKXt0aGlzLl9wb2ludGVyQWN0aXZlfHwodGhpcy5fcG9pbnRlckFjdGl2ZT0hMCksdGhpcy5fcmVnaXN0ZXJEZXZpY2UoZSx0LEhpKTt2YXIgYT10aGlzLl9pbnB1dHNbZV1bdF07YVswXT1yLGFbMV09bn0saS5wcm90b3R5cGUuX3JlZ2lzdGVyRGV2aWNlPWZ1bmN0aW9uKGUsdCxyKXtpZih0PT09dm9pZCAwKXRocm93IlVuYWJsZSB0byByZWdpc3RlciBkZXZpY2UgIi5jb25jYXQoQltlXSwiIHRvIHVuZGVmaW5lZCBzbG90LiIpO2lmKHRoaXMuX2lucHV0c1tlXXx8KHRoaXMuX2lucHV0c1tlXT17fSksIXRoaXMuX2lucHV0c1tlXVt0XSl7Zm9yKHZhciBuPW5ldyBBcnJheShyKSxhPTA7YTxyO2ErKyluW2FdPTA7dGhpcy5faW5wdXRzW2VdW3RdPW4sdGhpcy5vbkRldmljZUNvbm5lY3RlZChlLHQpfX0saS5wcm90b3R5cGUuX3VucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl9pbnB1dHNbZV1bdF0mJihkZWxldGUgdGhpcy5faW5wdXRzW2VdW3RdLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWQoZSx0KSl9LGkucHJvdG90eXBlLl9oYW5kbGVLZXlBY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9rZXlib2FyZERvd25FdmVudD1mdW5jdGlvbih0KXtlLl9rZXlib2FyZEFjdGl2ZXx8KGUuX2tleWJvYXJkQWN0aXZlPSEwLGUuX3JlZ2lzdGVyRGV2aWNlKEIuS2V5Ym9hcmQsMCxYaSkpO3ZhciByPWUuX2lucHV0c1tCLktleWJvYXJkXVswXTtpZihyKXtyW3Qua2V5Q29kZV09MTt2YXIgbj10O24uaW5wdXRJbmRleD10LmtleUNvZGUsZS5vbklucHV0Q2hhbmdlZChCLktleWJvYXJkLDAsbil9fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9ZnVuY3Rpb24odCl7ZS5fa2V5Ym9hcmRBY3RpdmV8fChlLl9rZXlib2FyZEFjdGl2ZT0hMCxlLl9yZWdpc3RlckRldmljZShCLktleWJvYXJkLDAsWGkpKTt2YXIgcj1lLl9pbnB1dHNbQi5LZXlib2FyZF1bMF07aWYocil7clt0LmtleUNvZGVdPTA7dmFyIG49dDtuLmlucHV0SW5kZXg9dC5rZXlDb2RlLGUub25JbnB1dENoYW5nZWQoQi5LZXlib2FyZCwwLG4pfX0sdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQ9ZnVuY3Rpb24odCl7aWYoZS5fa2V5Ym9hcmRBY3RpdmUpe2Zvcih2YXIgcj1lLl9pbnB1dHNbQi5LZXlib2FyZF1bMF0sbj0wO248ci5sZW5ndGg7bisrKWlmKHJbbl0hPT0wKXtyW25dPTA7dmFyIGE9V3QuQ3JlYXRlRGV2aWNlRXZlbnQoQi5LZXlib2FyZCwwLG4sMCxlLGUuX2VsZW1lbnRUb0F0dGFjaFRvKTtlLm9uSW5wdXRDaGFuZ2VkKEIuS2V5Ym9hcmQsMCxhKX19fSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpfSxpLnByb3RvdHlwZS5faGFuZGxlUG9pbnRlckFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX21heFRvdWNoUG9pbnRzPWtyLklzTmF2aWdhdG9yQXZhaWxhYmxlKCkmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50c3x8Mix0aGlzLl9hY3RpdmVUb3VjaElkc3x8KHRoaXMuX2FjdGl2ZVRvdWNoSWRzPW5ldyBBcnJheSh0aGlzLl9tYXhUb3VjaFBvaW50cykpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fbWF4VG91Y2hQb2ludHM7dCsrKXRoaXMuX2FjdGl2ZVRvdWNoSWRzW3RdPS0xO3RoaXMuX3BvaW50ZXJNb3ZlRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG89ZS5fZ2V0UG9pbnRlclR5cGUocyksdT1vPT09Qi5Nb3VzZT8wOmUuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2Yocy5wb2ludGVySWQpO2UuX2lucHV0c1tvXXx8KGUuX2lucHV0c1tvXT17fSksZS5faW5wdXRzW29dW3VdfHxlLl9hZGRQb2ludGVyRGV2aWNlKG8sdSxzLmNsaWVudFgscy5jbGllbnRZKTt2YXIgZj1lLl9pbnB1dHNbb11bdV07aWYoZil7ZltHLkhvcml6b250YWxdPXMuY2xpZW50WCxmW0cuVmVydGljYWxdPXMuY2xpZW50WTt2YXIgbD1zO2wuaW5wdXRJbmRleD1HLk1vdmUsZS5vbklucHV0Q2hhbmdlZChvLHUsbCksIWUuX3VzaW5nU2FmYXJpJiZzLmJ1dHRvbiE9PS0xJiYobC5pbnB1dEluZGV4PXMuYnV0dG9uKzIsZltzLmJ1dHRvbisyXT1mW3MuYnV0dG9uKzJdPzA6MSxlLm9uSW5wdXRDaGFuZ2VkKG8sdSxsKSl9fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PWZ1bmN0aW9uKHMpe3ZhciBvPWUuX2dldFBvaW50ZXJUeXBlKHMpLHU9bz09PUIuTW91c2U/MDpzLnBvaW50ZXJJZDtpZihvPT09Qi5Ub3VjaCl7dmFyIGY9ZS5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZigtMSk7aWYoZj49MCl1PWYsZS5fYWN0aXZlVG91Y2hJZHNbZl09cy5wb2ludGVySWQ7ZWxzZXtpZS5XYXJuKCJNYXggbnVtYmVyIG9mIHRvdWNoZXMgZXhjZWVkZWQuICBJZ25vcmluZyB0b3VjaGVzIGluIGV4Y2VzcyBvZiAiLmNvbmNhdChlLl9tYXhUb3VjaFBvaW50cykpO3JldHVybn19ZS5faW5wdXRzW29dfHwoZS5faW5wdXRzW29dPXt9KSxlLl9pbnB1dHNbb11bdV0/bz09PUIuVG91Y2gmJmUub25EZXZpY2VDb25uZWN0ZWQobyx1KTplLl9hZGRQb2ludGVyRGV2aWNlKG8sdSxzLmNsaWVudFgscy5jbGllbnRZKTt2YXIgbD1lLl9pbnB1dHNbb11bdV07aWYobCl7dmFyIGg9bFtHLkhvcml6b250YWxdLGM9bFtHLlZlcnRpY2FsXTtpZihvPT09Qi5Nb3VzZSl7aWYoZS5fbW91c2VJZD09PS0xJiYocy5wb2ludGVySWQ9PT12b2lkIDA/ZS5fbW91c2VJZD1lLl9pc1VzaW5nRmlyZWZveD8wOjE6ZS5fbW91c2VJZD1zLnBvaW50ZXJJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCYmZS5fZWxlbWVudFRvQXR0YWNoVG8uaGFzUG9pbnRlckNhcHR1cmUpdHJ5e2UuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpfWNhdGNoe319ZWxzZSBpZihzLnBvaW50ZXJJZCYmIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCYmZS5fZWxlbWVudFRvQXR0YWNoVG8uaGFzUG9pbnRlckNhcHR1cmUpdHJ5e2UuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKHMucG9pbnRlcklkKX1jYXRjaHt9bFtHLkhvcml6b250YWxdPXMuY2xpZW50WCxsW0cuVmVydGljYWxdPXMuY2xpZW50WSxsW3MuYnV0dG9uKzJdPTE7dmFyIGQ9cztkLmlucHV0SW5kZXg9cy5idXR0b24rMixlLm9uSW5wdXRDaGFuZ2VkKG8sdSxkKSwoaCE9PXMuY2xpZW50WHx8YyE9PXMuY2xpZW50WSkmJihkLmlucHV0SW5kZXg9Ry5Nb3ZlLGUub25JbnB1dENoYW5nZWQobyx1LGQpKX19LHRoaXMuX3BvaW50ZXJVcEV2ZW50PWZ1bmN0aW9uKHMpe3ZhciBvLHUsZixsLGgsYz1lLl9nZXRQb2ludGVyVHlwZShzKSxkPWM9PT1CLk1vdXNlPzA6ZS5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihzLnBvaW50ZXJJZCk7aWYoYz09PUIuVG91Y2gpe2lmKGQ9PT0tMSlyZXR1cm47ZS5fYWN0aXZlVG91Y2hJZHNbZF09LTF9dmFyIHA9KG89ZS5faW5wdXRzW2NdKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm9bZF07aWYocCYmcFtzLmJ1dHRvbisyXSE9PTApe3ZhciBfPXBbRy5Ib3Jpem9udGFsXSxnPXBbRy5WZXJ0aWNhbF07cFtHLkhvcml6b250YWxdPXMuY2xpZW50WCxwW0cuVmVydGljYWxdPXMuY2xpZW50WSxwW3MuYnV0dG9uKzJdPTA7dmFyIG09czsoXyE9PXMuY2xpZW50WHx8ZyE9PXMuY2xpZW50WSkmJihtLmlucHV0SW5kZXg9Ry5Nb3ZlLGUub25JbnB1dENoYW5nZWQoYyxkLG0pKSxtLmlucHV0SW5kZXg9cy5idXR0b24rMixjPT09Qi5Nb3VzZSYmZS5fbW91c2VJZD49MCYmKChmPSh1PWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxmPT09dm9pZCAwP3ZvaWQgMDpmLmNhbGwodSxlLl9tb3VzZUlkKSk/ZS5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpOnMucG9pbnRlcklkJiYoKGg9KGw9ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmguY2FsbChsLHMucG9pbnRlcklkKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShzLnBvaW50ZXJJZCksZS5vbklucHV0Q2hhbmdlZChjLGQsbSksYz09PUIuVG91Y2gmJmUub25EZXZpY2VEaXNjb25uZWN0ZWQoYyxkKX19LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1mdW5jdGlvbihzKXt2YXIgbyx1LGYsbDtpZihzLnBvaW50ZXJUeXBlPT09Im1vdXNlIil7dmFyIGg9ZS5faW5wdXRzW0IuTW91c2VdWzBdO2UuX21vdXNlSWQ+PTAmJigodT0obz1lLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS5jYWxsKG8sZS5fbW91c2VJZCkpJiZlLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5fbW91c2VJZCk7Zm9yKHZhciBjPUcuTGVmdENsaWNrO2M8PUcuQnJvd3NlckZvcndhcmQ7YysrKWlmKGhbY109PT0xKXtoW2NdPTA7dmFyIGQ9V3QuQ3JlYXRlRGV2aWNlRXZlbnQoQi5Nb3VzZSwwLGMsMCxlLGUuX2VsZW1lbnRUb0F0dGFjaFRvKTtlLm9uSW5wdXRDaGFuZ2VkKEIuTW91c2UsMCxkKX19ZWxzZXt2YXIgcD1lLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKHMucG9pbnRlcklkKTsoKGw9KGY9ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwuY2FsbChmLHMucG9pbnRlcklkKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShzLnBvaW50ZXJJZCksZS5faW5wdXRzW0IuVG91Y2hdW3BdW0cuTGVmdENsaWNrXT0wO3ZhciBkPVd0LkNyZWF0ZURldmljZUV2ZW50KEIuVG91Y2gscCxHLkxlZnRDbGljaywwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2Uub25JbnB1dENoYW5nZWQoQi5Ub3VjaCxwLGQpLGUuX2FjdGl2ZVRvdWNoSWRzW3BdPS0xLGUub25EZXZpY2VEaXNjb25uZWN0ZWQoQi5Ub3VjaCxwKX19LHRoaXMuX3doZWVsRXZlbnROYW1lPSJvbndoZWVsImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJ3aGVlbCI6ZG9jdW1lbnQub25tb3VzZXdoZWVsIT09dm9pZCAwPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiO3ZhciByPSExLG49ZnVuY3Rpb24oKXt9O3RyeXt2YXIgYT17cGFzc2l2ZTp7Z2V0OmZ1bmN0aW9uKCl7cj0hMH19fTt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixuLGEpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLG4sYSl9Y2F0Y2h7fXRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG8sdSxmLGwsaDtpZihlLmlzRGV2aWNlQXZhaWxhYmxlKEIuTW91c2UpKXt2YXIgYz1lLl9pbnB1dHNbQi5Nb3VzZV1bMF07ZS5fbW91c2VJZD49MCYmKCh1PShvPWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LmNhbGwobyxlLl9tb3VzZUlkKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLl9tb3VzZUlkKTtmb3IodmFyIGQ9Ry5MZWZ0Q2xpY2s7ZDw9Ry5Ccm93c2VyRm9yd2FyZDtkKyspaWYoY1tkXT09PTEpe2NbZF09MDt2YXIgcD1XdC5DcmVhdGVEZXZpY2VFdmVudChCLk1vdXNlLDAsZCwwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2Uub25JbnB1dENoYW5nZWQoQi5Nb3VzZSwwLHApfX1pZihlLmlzRGV2aWNlQXZhaWxhYmxlKEIuVG91Y2gpKWZvcih2YXIgYz1lLl9pbnB1dHNbQi5Ub3VjaF0sXz0wO188ZS5fYWN0aXZlVG91Y2hJZHMubGVuZ3RoO18rKyl7dmFyIGc9ZS5fYWN0aXZlVG91Y2hJZHNbX107aWYoKChsPShmPWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLmNhbGwoZixnKSkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShnKSxnIT09LTEmJigoaD1jW19dKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmhbRy5MZWZ0Q2xpY2tdKT09PTEpe2NbX11bRy5MZWZ0Q2xpY2tdPTA7dmFyIHA9V3QuQ3JlYXRlRGV2aWNlRXZlbnQoQi5Ub3VjaCxfLEcuTGVmdENsaWNrLDAsZSxlLl9lbGVtZW50VG9BdHRhY2hUbyk7ZS5vbklucHV0Q2hhbmdlZChCLlRvdWNoLF8scCksZS5fYWN0aXZlVG91Y2hJZHNbX109LTEsZS5vbkRldmljZURpc2Nvbm5lY3RlZChCLlRvdWNoLF8pfX19LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PWZ1bmN0aW9uKHMpe3ZhciBvPUIuTW91c2UsdT0wO2UuX2lucHV0c1tvXXx8KGUuX2lucHV0c1tvXT1bXSksZS5faW5wdXRzW29dW3VdfHwoZS5fcG9pbnRlckFjdGl2ZT0hMCxlLl9yZWdpc3RlckRldmljZShvLHUsSGkpKTt2YXIgZj1lLl9pbnB1dHNbb11bdV07aWYoZil7ZltHLk1vdXNlV2hlZWxYXT1zLmRlbHRhWHx8MCxmW0cuTW91c2VXaGVlbFldPXMuZGVsdGFZfHxzLndoZWVsRGVsdGF8fDAsZltHLk1vdXNlV2hlZWxaXT1zLmRlbHRhWnx8MDt2YXIgbD1zO2ZbRy5Nb3VzZVdoZWVsWF0hPT0wJiYobC5pbnB1dEluZGV4PUcuTW91c2VXaGVlbFgsZS5vbklucHV0Q2hhbmdlZChvLHUsbCkpLGZbRy5Nb3VzZVdoZWVsWV0hPT0wJiYobC5pbnB1dEluZGV4PUcuTW91c2VXaGVlbFksZS5vbklucHV0Q2hhbmdlZChvLHUsbCkpLGZbRy5Nb3VzZVdoZWVsWl0hPT0wJiYobC5pbnB1dEluZGV4PUcuTW91c2VXaGVlbFosZS5vbklucHV0Q2hhbmdlZChvLHUsbCkpfX0sdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fcG9pbnRlckJsdXJFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCxyP3twYXNzaXZlOiExfTohMSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlcj10aGlzLl9lbmdpbmUub25FbmRGcmFtZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7aWYoZS5pc0RldmljZUF2YWlsYWJsZShCLk1vdXNlKSl7dmFyIHM9ZS5faW5wdXRzW0IuTW91c2VdWzBdO3NbRy5Nb3VzZVdoZWVsWF09MCxzW0cuTW91c2VXaGVlbFldPTAsc1tHLk1vdXNlV2hlZWxaXT0wfX0pfSxpLnByb3RvdHlwZS5faGFuZGxlR2FtZXBhZEFjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1mdW5jdGlvbih0KXtlLl9hZGRHYW1lUGFkKHQuZ2FtZXBhZCl9LHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudD1mdW5jdGlvbih0KXtpZihlLl9nYW1lcGFkcyl7dmFyIHI9ZS5fZ2V0R2FtZXBhZERldmljZVR5cGUodC5nYW1lcGFkLmlkKSxuPXQuZ2FtZXBhZC5pbmRleDtlLl91bnJlZ2lzdGVyRGV2aWNlKHIsbiksZGVsZXRlIGUuX2dhbWVwYWRzW25dfX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCl9LGkucHJvdG90eXBlLl91cGRhdGVEZXZpY2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpW3RdO2lmKG4mJmU9PT10aGlzLl9nYW1lcGFkc1t0XSl7dmFyIGE9dGhpcy5faW5wdXRzW2VdW3RdO3I+PW4uYnV0dG9ucy5sZW5ndGg/YVtyXT1uLmF4ZXNbci1uLmJ1dHRvbnMubGVuZ3RoXS52YWx1ZU9mKCk6YVtyXT1uLmJ1dHRvbnNbcl0udmFsdWV9fSxpLnByb3RvdHlwZS5fZ2V0R2FtZXBhZERldmljZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5kZXhPZigiMDU0YyIpIT09LTE/ZS5pbmRleE9mKCIwY2U2IikhPT0tMT9CLkR1YWxTZW5zZTpCLkR1YWxTaG9jazplLmluZGV4T2YoIlhib3ggT25lIikhPT0tMXx8ZS5zZWFyY2goIlhib3ggMzYwIikhPT0tMXx8ZS5zZWFyY2goInhpbnB1dCIpIT09LTE/Qi5YYm94OmUuaW5kZXhPZigiMDU3ZSIpIT09LTE/Qi5Td2l0Y2g6Qi5HZW5lcmljfSxpLnByb3RvdHlwZS5fZ2V0UG9pbnRlclR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9Qi5Nb3VzZTtyZXR1cm4oZS5wb2ludGVyVHlwZT09PSJ0b3VjaCJ8fGUucG9pbnRlclR5cGU9PT0icGVuInx8ZS50b3VjaGVzKSYmKHQ9Qi5Ub3VjaCksdH0saX0oKSxqaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3I9PT12b2lkIDAmJihyPTApLHRoaXMuZGV2aWNlVHlwZT10LHRoaXMuZGV2aWNlU2xvdD1yLHRoaXMub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2RldmljZUlucHV0U3lzdGVtPWV9cmV0dXJuIGkucHJvdG90eXBlLmdldElucHV0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5wb2xsSW5wdXQodGhpcy5kZXZpY2VUeXBlLHRoaXMuZGV2aWNlU2xvdCxlKX0saX0oKSxfYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpczt0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMuX3JlZkNvdW50PTAsdGhpcy5yZWdpc3Rlck1hbmFnZXI9ZnVuY3Rpb24obil7Zm9yKHZhciBhPTA7YTx0Ll9kZXZpY2VzLmxlbmd0aDthKyspe3ZhciBzPXQuX2RldmljZXNbYV07Zm9yKHZhciBvIGluIHMpe3ZhciB1PStvO24uX2FkZERldmljZShuZXcgamkodC5fZGV2aWNlSW5wdXRTeXN0ZW0sYSx1KSl9fXQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5wdXNoKG4pfSx0aGlzLnVucmVnaXN0ZXJNYW5hZ2VyPWZ1bmN0aW9uKG4pe3ZhciBhPXQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5pbmRleE9mKG4pO2E+LTEmJnQuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5zcGxpY2UoYSwxKX07dmFyIHI9T2JqZWN0LmtleXMoQikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkociksdHlwZW9mIF9uYXRpdmUhPSJ1bmRlZmluZWQiP3RoaXMuX2RldmljZUlucHV0U3lzdGVtPV9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0/bmV3IEdpKG5ldyBfbmF0aXZlLkRldmljZUlucHV0U3lzdGVtKTpuZXcgR2k6dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IHBhKGUpLHRoaXMuX2RldmljZUlucHV0U3lzdGVtLm9uRGV2aWNlQ29ubmVjdGVkPWZ1bmN0aW9uKG4sYSl7dC5fZGV2aWNlc1tuXXx8KHQuX2RldmljZXNbbl09bmV3IEFycmF5KSx0Ll9kZXZpY2VzW25dW2FdfHwodC5fZGV2aWNlc1tuXVthXT1hKTtmb3IodmFyIHM9MCxvPXQuX3JlZ2lzdGVyZWRNYW5hZ2VycztzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXSxmPW5ldyBqaSh0Ll9kZXZpY2VJbnB1dFN5c3RlbSxuLGEpO3UuX2FkZERldmljZShmKX19LHRoaXMuX2RldmljZUlucHV0U3lzdGVtLm9uRGV2aWNlRGlzY29ubmVjdGVkPWZ1bmN0aW9uKG4sYSl7dmFyIHM7KChzPXQuX2RldmljZXNbbl0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1thXSkmJmRlbGV0ZSB0Ll9kZXZpY2VzW25dW2FdO2Zvcih2YXIgbz0wLHU9dC5fcmVnaXN0ZXJlZE1hbmFnZXJzO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2YuX3JlbW92ZURldmljZShuLGEpfX0sdGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0ub25JbnB1dENoYW5nZWQ9ZnVuY3Rpb24obixhLHMpe2lmKHMpZm9yKHZhciBvPTAsdT10Ll9yZWdpc3RlcmVkTWFuYWdlcnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107Zi5fb25JbnB1dENoYW5nZWQobixhLHMpfX19cmV0dXJuIGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5kaXNwb3NlKCl9LGl9KCksZ2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXMscj1PYmplY3Qua2V5cyhCKS5sZW5ndGgvMjt0aGlzLl9kZXZpY2VzPW5ldyBBcnJheShyKSx0aGlzLl9maXJzdERldmljZT1uZXcgQXJyYXkociksdGhpcy5fZW5naW5lPWUsdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyfHwodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW5ldyBfYShlKSksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudCsrLHRoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyBPKGZ1bmN0aW9uKG4pe3QuZ2V0RGV2aWNlcygpLmZvckVhY2goZnVuY3Rpb24oYSl7dC5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXIobixhKX0pfSksdGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGU9bmV3IE8sdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnJlZ2lzdGVyTWFuYWdlcih0aGlzKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dC5kaXNwb3NlKCl9KX1yZXR1cm4gaS5wcm90b3R5cGUuZ2V0RGV2aWNlU291cmNlPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCl7aWYodGhpcy5fZmlyc3REZXZpY2VbZV09PT12b2lkIDApcmV0dXJuIG51bGw7dD10aGlzLl9maXJzdERldmljZVtlXX1yZXR1cm4hdGhpcy5fZGV2aWNlc1tlXXx8dGhpcy5fZGV2aWNlc1tlXVt0XT09PXZvaWQgMD9udWxsOnRoaXMuX2RldmljZXNbZV1bdF19LGkucHJvdG90eXBlLmdldERldmljZVNvdXJjZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RldmljZXNbZV0uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pfSxpLnByb3RvdHlwZS5nZXREZXZpY2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSx0PTAscj10aGlzLl9kZXZpY2VzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2UucHVzaC5hcHBseShlLG4pfXJldHVybiBlfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlciYmKHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci51bnJlZ2lzdGVyTWFuYWdlcih0aGlzKSwtLXRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5fcmVmQ291bnQ8MSYmKHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcikpLHRoaXMuX2VuZ2luZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcil9LGkucHJvdG90eXBlLl9hZGREZXZpY2U9ZnVuY3Rpb24oZSl7dGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdPW5ldyBBcnJheSksdGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF18fCh0aGlzLl9kZXZpY2VzW2UuZGV2aWNlVHlwZV1bZS5kZXZpY2VTbG90XT1lLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlLmRldmljZVR5cGUpKSx0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9LGkucHJvdG90eXBlLl9yZW1vdmVEZXZpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE9KHI9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW3RdO3RoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKSwoKG49dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuW3RdKSYmZGVsZXRlIHRoaXMuX2RldmljZXNbZV1bdF0sdGhpcy5fdXBkYXRlRmlyc3REZXZpY2VzKGUpfSxpLnByb3RvdHlwZS5fb25JbnB1dENoYW5nZWQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGE7KGE9KG49dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuW3RdKT09PW51bGx8fGE9PT12b2lkIDB8fGEub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUZpcnN0RGV2aWNlcz1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSBCLktleWJvYXJkOmNhc2UgQi5Nb3VzZTp0aGlzLl9maXJzdERldmljZVtlXT0wO2JyZWFrO2Nhc2UgQi5Ub3VjaDpjYXNlIEIuRHVhbFNlbnNlOmNhc2UgQi5EdWFsU2hvY2s6Y2FzZSBCLlhib3g6Y2FzZSBCLlN3aXRjaDpjYXNlIEIuR2VuZXJpYzpkZWxldGUgdGhpcy5fZmlyc3REZXZpY2VbZV07dmFyIHQ9dGhpcy5fZGV2aWNlc1tlXTtpZih0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdKXt0aGlzLl9maXJzdERldmljZVtlXT1yO2JyZWFrfX1icmVha319LGl9KCksS2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fc2luZ2xlQ2xpY2s9ITEsdGhpcy5fZG91YmxlQ2xpY2s9ITEsdGhpcy5faGFzU3dpcGVkPSExLHRoaXMuX2lnbm9yZT0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzaW5nbGVDbGljayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDbGlja30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NpbmdsZUNsaWNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkb3VibGVDbGljayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb3VibGVDbGlja30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RvdWJsZUNsaWNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoYXNTd2lwZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU3dpcGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGFzU3dpcGVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpZ25vcmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWdub3JlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faWdub3JlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaX0oKSx1dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD1udWxsLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX3BvaW50ZXJYPTAsdGhpcy5fcG9pbnRlclk9MCx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgYmUoMCwwKSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uPW5ldyBiZSgwLDApLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9wb2ludGVyQ2FwdHVyZXM9e30sdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkPXt9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bnVsbCx0aGlzLl9zY2VuZT1lfHxKLkxhc3RDcmVhdGVkU2NlbmUsISF0aGlzLl9zY2VuZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtZXNoVW5kZXJQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJPdmVyTWVzaH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRNZXNoVW5kZXJQb2ludGVyQnlQb2ludGVySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFtlXXx8bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1blRyYW5zbGF0ZWRQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiZSh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwb2ludGVyWCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludGVyWH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJYPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwb2ludGVyWSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludGVyWX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJZPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRJbnB1dEVsZW1lbnRDbGllbnRSZWN0KCk7IXR8fCh0aGlzLl9wb2ludGVyWD1lLmNsaWVudFgtdC5sZWZ0LHRoaXMuX3BvaW50ZXJZPWUuY2xpZW50WS10LnRvcCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWD10aGlzLl9wb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWT10aGlzLl9wb2ludGVyWSl9LGkucHJvdG90eXBlLl9wcm9jZXNzUG9pbnRlck1vdmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9zY2VuZSxuPXIuZ2V0RW5naW5lKCksYT1uLmdldElucHV0RWxlbWVudCgpO2EmJihhLnRhYkluZGV4PW4uY2FudmFzVGFiSW5kZXgsci5kb05vdEhhbmRsZUN1cnNvcnN8fChhLnN0eWxlLmN1cnNvcj1yLmRlZmF1bHRDdXJzb3IpKTt2YXIgcz0hIShlJiZlLmhpdCYmZS5waWNrZWRNZXNoKTtzPyhyLnNldFBvaW50ZXJPdmVyTWVzaChlLnBpY2tlZE1lc2gsdC5wb2ludGVySWQsZSksdGhpcy5fcG9pbnRlck92ZXJNZXNoJiZ0aGlzLl9wb2ludGVyT3Zlck1lc2guYWN0aW9uTWFuYWdlciYmdGhpcy5fcG9pbnRlck92ZXJNZXNoLmFjdGlvbk1hbmFnZXIuaGFzUG9pbnRlclRyaWdnZXJzJiYhci5kb05vdEhhbmRsZUN1cnNvcnMmJmEmJih0aGlzLl9wb2ludGVyT3Zlck1lc2guYWN0aW9uTWFuYWdlci5ob3ZlckN1cnNvcj9hLnN0eWxlLmN1cnNvcj10aGlzLl9wb2ludGVyT3Zlck1lc2guYWN0aW9uTWFuYWdlci5ob3ZlckN1cnNvcjphLnN0eWxlLmN1cnNvcj1yLmhvdmVyQ3Vyc29yKSk6ci5zZXRQb2ludGVyT3Zlck1lc2gobnVsbCx0LnBvaW50ZXJJZCxlKTtmb3IodmFyIG89MCx1PXIuX3BvaW50ZXJNb3ZlU3RhZ2U7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107ZT1mLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHMsYSl9aWYoZSl7dmFyIGw9dC50eXBlPT09IndoZWVsInx8dC50eXBlPT09Im1vdXNld2hlZWwifHx0LnR5cGU9PT0iRE9NTW91c2VTY3JvbGwiP25lLlBPSU5URVJXSEVFTDpuZS5QT0lOVEVSTU9WRTtpZihyLm9uUG9pbnRlck1vdmUmJnIub25Qb2ludGVyTW92ZSh0LGUsbCksci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXt2YXIgaD1uZXcgaXIobCx0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8oaCksci5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLGwpfX19LGkucHJvdG90eXBlLl9zZXRSYXlPblBvaW50ZXJJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NjZW5lO2UucGlja0luZm8mJiFlLnBpY2tJbmZvLl9waWNraW5nVW5hdmFpbGFibGUmJihlLnBpY2tJbmZvLnJheXx8KGUucGlja0luZm8ucmF5PXQuY3JlYXRlUGlja2luZ1JheShlLmV2ZW50Lm9mZnNldFgsZS5ldmVudC5vZmZzZXRZLEkuSWRlbnRpdHkoKSx0LmFjdGl2ZUNhbWVyYSkpKX0saS5wcm90b3R5cGUuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3NjZW5lLGE9bmV3IGNhKHIsdCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSk7cmV0dXJuIGUmJihhLnJheT1lLnJheSxlLm9yaWdpbk1lc2gmJihhLm5lYXJJbnRlcmFjdGlvblBpY2tpbmdJbmZvPWUpKSxuLm9uUHJlUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsciksISFhLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlfSxpLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcm1vdmUiLHQpO3IuaW5wdXRJbmRleD1HLk1vdmUsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxyLG5lLlBPSU5URVJNT1ZFKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKGUscil9LGkucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVyZG93biIsdCk7ci5pbnB1dEluZGV4PXIuYnV0dG9uKzIsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxyLG5lLlBPSU5URVJET1dOKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGUscil9LGkucHJvdG90eXBlLl9wcm9jZXNzUG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dGhpcy5fc2NlbmU7aWYoZSYmZS5oaXQmJmUucGlja2VkTWVzaCl7dGhpcy5fcGlja2VkRG93bk1lc2g9ZS5waWNrZWRNZXNoO3ZhciBhPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihhKXtpZihhLmhhc1BpY2tUcmlnZ2Vycylzd2l0Y2goYS5wcm9jZXNzVHJpZ2dlcig1LHdlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpLHQuYnV0dG9uKXtjYXNlIDA6YS5wcm9jZXNzVHJpZ2dlcigyLHdlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMTphLnByb2Nlc3NUcmlnZ2VyKDQsd2UuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWs7Y2FzZSAyOmEucHJvY2Vzc1RyaWdnZXIoMyx3ZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVha31hLmhhc1NwZWNpZmljVHJpZ2dlcig4KSYmd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaD1uLnBpY2soci5fdW5UcmFuc2xhdGVkUG9pbnRlclgsci5fdW5UcmFuc2xhdGVkUG9pbnRlclksZnVuY3Rpb24oYyl7cmV0dXJuIGMuaXNQaWNrYWJsZSYmYy5pc1Zpc2libGUmJmMuaXNSZWFkeSgpJiZjLmFjdGlvbk1hbmFnZXImJmMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJmM9PT1yLl9waWNrZWREb3duTWVzaH0sITEsbi5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTtoJiZoLmhpdCYmaC5waWNrZWRNZXNoJiZhJiZyLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJkRhdGUubm93KCktci5fc3RhcnRpbmdQb2ludGVyVGltZT5pLkxvbmdQcmVzc0RlbGF5JiYhci5faXNQb2ludGVyU3dpcGluZygpJiYoci5fc3RhcnRpbmdQb2ludGVyVGltZT0wLGEucHJvY2Vzc1RyaWdnZXIoOCx3ZS5DcmVhdGVOZXcoaC5waWNrZWRNZXNoLHQpKSl9LGkuTG9uZ1ByZXNzRGVsYXkpfX1lbHNlIGZvcih2YXIgcz0wLG89bi5fcG9pbnRlckRvd25TdGFnZTtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTtlPXUuYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCl9aWYoZSl7dmFyIGY9bmUuUE9JTlRFUkRPV047aWYobi5vblBvaW50ZXJEb3duJiZuLm9uUG9pbnRlckRvd24odCxlLGYpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IGlyKGYsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGwpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKX19fSxpLnByb3RvdHlwZS5faXNQb2ludGVyU3dpcGluZz1mdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LXRoaXMuX3BvaW50ZXJYKT5pLkRyYWdNb3ZlbWVudFRocmVzaG9sZHx8TWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueS10aGlzLl9wb2ludGVyWSk+aS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR9LGkucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlclVwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVydXAiLHQpO24uaW5wdXRJbmRleD1HLk1vdmU7dmFyIGE9bmV3IEtpO3I/YS5kb3VibGVDbGljaz0hMDphLnNpbmdsZUNsaWNrPSEwLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsbixuZS5QT0lOVEVSVVApJiZ0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGUsbixhKX0saS5wcm90b3R5cGUuX3Byb2Nlc3NQb2ludGVyVXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3NjZW5lO2lmKGUmJmUmJmUucGlja2VkTWVzaCl7aWYodGhpcy5fcGlja2VkVXBNZXNoPWUucGlja2VkTWVzaCx0aGlzLl9waWNrZWREb3duTWVzaD09PXRoaXMuX3BpY2tlZFVwTWVzaCYmKG4ub25Qb2ludGVyUGljayYmbi5vblBvaW50ZXJQaWNrKHQsZSksci5zaW5nbGVDbGljayYmIXIuaWdub3JlJiZuLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpKXt2YXIgYT1uZS5QT0lOVEVSUElDSyxzPW5ldyBpcihhLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhzKSxuLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMsYSl9dmFyIG89ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO2lmKG8mJiFyLmlnbm9yZSl7by5wcm9jZXNzVHJpZ2dlcig3LHdlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSksIXIuaGFzU3dpcGVkJiZyLnNpbmdsZUNsaWNrJiZvLnByb2Nlc3NUcmlnZ2VyKDEsd2UuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKTt2YXIgdT1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDYpO3IuZG91YmxlQ2xpY2smJnUmJnUucHJvY2Vzc1RyaWdnZXIoNix3ZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpfX1lbHNlIGlmKCFyLmlnbm9yZSlmb3IodmFyIGY9MCxsPW4uX3BvaW50ZXJVcFN0YWdlO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdO2U9aC5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSx0KX1pZih0aGlzLl9waWNrZWREb3duTWVzaCYmdGhpcy5fcGlja2VkRG93bk1lc2ghPT10aGlzLl9waWNrZWRVcE1lc2gpe3ZhciBjPXRoaXMuX3BpY2tlZERvd25NZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigxNik7YyYmYy5wcm9jZXNzVHJpZ2dlcigxNix3ZS5DcmVhdGVOZXcodGhpcy5fcGlja2VkRG93bk1lc2gsdCkpfXZhciBkPTA7aWYobi5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtpZighci5pZ25vcmUmJiFyLmhhc1N3aXBlZCYmKHIuc2luZ2xlQ2xpY2smJm4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sobmUuUE9JTlRFUlRBUCk/ZD1uZS5QT0lOVEVSVEFQOnIuZG91YmxlQ2xpY2smJm4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sobmUuUE9JTlRFUkRPVUJMRVRBUCkmJihkPW5lLlBPSU5URVJET1VCTEVUQVApLGQpKXt2YXIgcz1uZXcgaXIoZCx0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8ocyksbi5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzLGQpfWlmKCFyLmlnbm9yZSl7ZD1uZS5QT0lOVEVSVVA7dmFyIHM9bmV3IGlyKGQsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKHMpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyxkKX19bi5vblBvaW50ZXJVcCYmIXIuaWdub3JlJiZuLm9uUG9pbnRlclVwKHQsZSxkKX0saS5wcm90b3R5cGUuaXNQb2ludGVyQ2FwdHVyZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTApLHRoaXMuX3BvaW50ZXJDYXB0dXJlc1tlXX0saS5wcm90b3R5cGUuYXR0YWNoQ29udHJvbD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzO2U9PT12b2lkIDAmJihlPSEwKSx0PT09dm9pZCAwJiYodD0hMCkscj09PXZvaWQgMCYmKHI9ITApLG49PT12b2lkIDAmJihuPW51bGwpO3ZhciBzPXRoaXMuX3NjZW5lLG89cy5nZXRFbmdpbmUoKTtufHwobj1vLmdldElucHV0RWxlbWVudCgpKSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQmJnRoaXMuZGV0YWNoQ29udHJvbCgpLG4mJih0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbz1uKSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW5ldyBnYShvKSx0aGlzLl9pbml0QWN0aW9uTWFuYWdlcj1mdW5jdGlvbih1LGYpe2lmKCFhLl9tZXNoUGlja1Byb2NlZWQpe3ZhciBsPXMucGljayhhLl91blRyYW5zbGF0ZWRQb2ludGVyWCxhLl91blRyYW5zbGF0ZWRQb2ludGVyWSxzLnBvaW50ZXJEb3duUHJlZGljYXRlLCExLHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyk7YS5fY3VycmVudFBpY2tSZXN1bHQ9bCxsJiYodT1sLmhpdCYmbC5waWNrZWRNZXNoP2wucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTpudWxsKSxhLl9tZXNoUGlja1Byb2NlZWQ9ITB9cmV0dXJuIHV9LHRoaXMuX2RlbGF5ZWRTaW1wbGVDbGljaz1mdW5jdGlvbih1LGYsbCl7KERhdGUubm93KCktYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPmkuRG91YmxlQ2xpY2tEZWxheSYmIWEuX2RvdWJsZUNsaWNrT2NjdXJlZHx8dSE9PWEuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCkmJihhLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsZi5zaW5nbGVDbGljaz0hMCxmLmlnbm9yZT0hMSxsKGYsYS5fY3VycmVudFBpY2tSZXN1bHQpKX0sdGhpcy5faW5pdENsaWNrRXZlbnQ9ZnVuY3Rpb24odSxmLGwsaCl7dmFyIGM9bmV3IEtpO2EuX2N1cnJlbnRQaWNrUmVzdWx0PW51bGw7dmFyIGQ9bnVsbCxwPXUuaGFzU3BlY2lmaWNNYXNrKG5lLlBPSU5URVJQSUNLKXx8Zi5oYXNTcGVjaWZpY01hc2sobmUuUE9JTlRFUlBJQ0spfHx1Lmhhc1NwZWNpZmljTWFzayhuZS5QT0lOVEVSVEFQKXx8Zi5oYXNTcGVjaWZpY01hc2sobmUuUE9JTlRFUlRBUCl8fHUuaGFzU3BlY2lmaWNNYXNrKG5lLlBPSU5URVJET1VCTEVUQVApfHxmLmhhc1NwZWNpZmljTWFzayhuZS5QT0lOVEVSRE9VQkxFVEFQKTshcCYmbnImJihkPWEuX2luaXRBY3Rpb25NYW5hZ2VyKGQsYyksZCYmKHA9ZC5oYXNQaWNrVHJpZ2dlcnMpKTt2YXIgXz0hMTtpZihwKXt2YXIgZz1sLmJ1dHRvbjtpZihjLmhhc1N3aXBlZD1hLl9pc1BvaW50ZXJTd2lwaW5nKCksIWMuaGFzU3dpcGVkKXt2YXIgbT0haS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU7bXx8KG09IXUuaGFzU3BlY2lmaWNNYXNrKG5lLlBPSU5URVJET1VCTEVUQVApJiYhZi5oYXNTcGVjaWZpY01hc2sobmUuUE9JTlRFUkRPVUJMRVRBUCksbSYmIW5yLkhhc1NwZWNpZmljVHJpZ2dlcig2KSYmKGQ9YS5faW5pdEFjdGlvbk1hbmFnZXIoZCxjKSxkJiYobT0hZC5oYXNTcGVjaWZpY1RyaWdnZXIoNikpKSksbT8oRGF0ZS5ub3coKS1hLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU+aS5Eb3VibGVDbGlja0RlbGF5fHxnIT09YS5fcHJldmlvdXNCdXR0b25QcmVzc2VkKSYmKGMuc2luZ2xlQ2xpY2s9ITAsaChjLGEuX2N1cnJlbnRQaWNrUmVzdWx0KSxfPSEwKTooYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PWEuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQsYS5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD13aW5kb3cuc2V0VGltZW91dChhLl9kZWxheWVkU2ltcGxlQ2xpY2suYmluZChhLGcsYyxoKSxpLkRvdWJsZUNsaWNrRGVsYXkpKTt2YXIgdj11Lmhhc1NwZWNpZmljTWFzayhuZS5QT0lOVEVSRE9VQkxFVEFQKXx8Zi5oYXNTcGVjaWZpY01hc2sobmUuUE9JTlRFUkRPVUJMRVRBUCk7IXYmJm5yLkhhc1NwZWNpZmljVHJpZ2dlcig2KSYmKGQ9YS5faW5pdEFjdGlvbk1hbmFnZXIoZCxjKSxkJiYodj1kLmhhc1NwZWNpZmljVHJpZ2dlcig2KSkpLHYmJihnPT09YS5fcHJldmlvdXNCdXR0b25QcmVzc2VkJiZEYXRlLm5vdygpLWEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZTxpLkRvdWJsZUNsaWNrRGVsYXkmJiFhLl9kb3VibGVDbGlja09jY3VyZWQ/KCFjLmhhc1N3aXBlZCYmIWEuX2lzUG9pbnRlclN3aXBpbmcoKT8oYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsYS5fZG91YmxlQ2xpY2tPY2N1cmVkPSEwLGMuZG91YmxlQ2xpY2s9ITAsYy5pZ25vcmU9ITEsaS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGUmJmEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCYmY2xlYXJUaW1lb3V0KGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCksYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PWEuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQsaChjLGEuX2N1cnJlbnRQaWNrUmVzdWx0KSk6KGEuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSxhLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9YS5fc3RhcnRpbmdQb2ludGVyVGltZSxhLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9YS5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueCxhLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9YS5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueSxhLl9wcmV2aW91c0J1dHRvblByZXNzZWQ9ZyxpLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT8oYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0JiZjbGVhclRpbWVvdXQoYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0KSxhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9YS5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCxoKGMsYS5fcHJldmlvdXNQaWNrUmVzdWx0KSk6aChjLGEuX2N1cnJlbnRQaWNrUmVzdWx0KSksXz0hMCk6KGEuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSxhLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9YS5fc3RhcnRpbmdQb2ludGVyVGltZSxhLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9YS5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueCxhLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9YS5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueSxhLl9wcmV2aW91c0J1dHRvblByZXNzZWQ9ZykpfX1ffHxoKGMsYS5fY3VycmVudFBpY2tSZXN1bHQpfSx0aGlzLl9vblBvaW50ZXJNb3ZlPWZ1bmN0aW9uKHUpe2lmKHUucG9pbnRlcklkPT09dm9pZCAwJiYodS5wb2ludGVySWQ9MCksYS5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKHUpLCFhLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsdSx1LnR5cGU9PT0id2hlZWwifHx1LnR5cGU9PT0ibW91c2V3aGVlbCJ8fHUudHlwZT09PSJET01Nb3VzZVNjcm9sbCI/bmUuUE9JTlRFUldIRUVMOm5lLlBPSU5URVJNT1ZFKSYmISghcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhcy5hY3RpdmVDYW1lcmEpKXtpZihzLnNraXBQb2ludGVyTW92ZVBpY2tpbmcpe2EuX3Byb2Nlc3NQb2ludGVyTW92ZShuZXcgSmUsdSk7cmV0dXJufXMucG9pbnRlck1vdmVQcmVkaWNhdGV8fChzLnBvaW50ZXJNb3ZlUHJlZGljYXRlPWZ1bmN0aW9uKGwpe3JldHVybiBsLmlzUGlja2FibGUmJmwuaXNWaXNpYmxlJiZsLmlzUmVhZHkoKSYmbC5pc0VuYWJsZWQoKSYmKGwuZW5hYmxlUG9pbnRlck1vdmVFdmVudHN8fHMuY29uc3RhbnRseVVwZGF0ZU1lc2hVbmRlclBvaW50ZXJ8fGwuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCkhPT1udWxsKSYmKCFzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fChzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMubGF5ZXJNYXNrJmwubGF5ZXJNYXNrKSE9PTApfSk7dmFyIGY9cy5waWNrKGEuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLGEuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHMucG9pbnRlck1vdmVQcmVkaWNhdGUsITEscy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLHMucG9pbnRlck1vdmVUcmlhbmdsZVByZWRpY2F0ZSk7YS5fcHJvY2Vzc1BvaW50ZXJNb3ZlKGYsdSl9fSx0aGlzLl9vblBvaW50ZXJEb3duPWZ1bmN0aW9uKHUpe2lmKGEuX3RvdGFsUG9pbnRlcnNQcmVzc2VkKyssYS5fcGlja2VkRG93bk1lc2g9bnVsbCxhLl9tZXNoUGlja1Byb2NlZWQ9ITEsdS5wb2ludGVySWQ9PT12b2lkIDAmJih1LnBvaW50ZXJJZD0wKSxhLl91cGRhdGVQb2ludGVyUG9zaXRpb24odSkscy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd24mJm4mJih1LnByZXZlbnREZWZhdWx0KCksbi5mb2N1cygpKSxhLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PWEuX3BvaW50ZXJYLGEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9YS5fcG9pbnRlclksYS5fc3RhcnRpbmdQb2ludGVyVGltZT1EYXRlLm5vdygpLCFhLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsdSxuZS5QT0lOVEVSRE9XTikmJiEoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXMuYWN0aXZlQ2FtZXJhKSl7YS5fcG9pbnRlckNhcHR1cmVzW3UucG9pbnRlcklkXT0hMCxzLnBvaW50ZXJEb3duUHJlZGljYXRlfHwocy5wb2ludGVyRG93blByZWRpY2F0ZT1mdW5jdGlvbihsKXtyZXR1cm4gbC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJighcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwocy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKX0pLGEuX3BpY2tlZERvd25NZXNoPW51bGw7dmFyIGY9cy5waWNrKGEuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLGEuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHMucG9pbnRlckRvd25QcmVkaWNhdGUsITEscy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTthLl9wcm9jZXNzUG9pbnRlckRvd24oZix1KX19LHRoaXMuX29uUG9pbnRlclVwPWZ1bmN0aW9uKHUpe2EuX3RvdGFsUG9pbnRlcnNQcmVzc2VkIT09MCYmKGEuX3RvdGFsUG9pbnRlcnNQcmVzc2VkLS0sYS5fcGlja2VkVXBNZXNoPW51bGwsYS5fbWVzaFBpY2tQcm9jZWVkPSExLHUucG9pbnRlcklkPT09dm9pZCAwJiYodS5wb2ludGVySWQ9MCksYS5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKHUpLHMucHJldmVudERlZmF1bHRPblBvaW50ZXJVcCYmbiYmKHUucHJldmVudERlZmF1bHQoKSxuLmZvY3VzKCkpLGEuX2luaXRDbGlja0V2ZW50KHMub25QcmVQb2ludGVyT2JzZXJ2YWJsZSxzLm9uUG9pbnRlck9ic2VydmFibGUsdSxmdW5jdGlvbihmLGwpe3Mub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmIWYuaWdub3JlJiYoIWYuaGFzU3dpcGVkJiYoZi5zaW5nbGVDbGljayYmcy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhuZS5QT0lOVEVSVEFQKSYmYS5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLHUsbmUuUE9JTlRFUlRBUCl8fGYuZG91YmxlQ2xpY2smJnMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sobmUuUE9JTlRFUkRPVUJMRVRBUCkmJmEuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCx1LG5lLlBPSU5URVJET1VCTEVUQVApKXx8YS5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLHUsbmUuUE9JTlRFUlVQKSl8fCFhLl9wb2ludGVyQ2FwdHVyZXNbdS5wb2ludGVySWRdJiZ1LmJ1dHRvbnM+MHx8KGEuX3BvaW50ZXJDYXB0dXJlc1t1LnBvaW50ZXJJZF09ITEsISghcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhcy5hY3RpdmVDYW1lcmEpJiYocy5wb2ludGVyVXBQcmVkaWNhdGV8fChzLnBvaW50ZXJVcFByZWRpY2F0ZT1mdW5jdGlvbihoKXtyZXR1cm4gaC5pc1BpY2thYmxlJiZoLmlzVmlzaWJsZSYmaC5pc1JlYWR5KCkmJmguaXNFbmFibGVkKCkmJighcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwocy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZoLmxheWVyTWFzaykhPT0wKX0pLCFhLl9tZXNoUGlja1Byb2NlZWQmJihuciYmbnIuSGFzVHJpZ2dlcnN8fHMub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSkmJmEuX2luaXRBY3Rpb25NYW5hZ2VyKG51bGwsZiksbHx8KGw9YS5fY3VycmVudFBpY2tSZXN1bHQpLGEuX3Byb2Nlc3NQb2ludGVyVXAobCx1LGYpLGEuX3ByZXZpb3VzUGlja1Jlc3VsdD1hLl9jdXJyZW50UGlja1Jlc3VsdCkpfSkpfSx0aGlzLl9vbktleURvd249ZnVuY3Rpb24odSl7dmFyIGY9TmkuS0VZRE9XTjtpZihzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXt2YXIgbD1uZXcgQmkoZix1KTtpZihzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsLGYpLGwuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlKXJldHVybn1pZihzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXt2YXIgbD1uZXcgcXIoZix1KTtzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsLGYpfXMuYWN0aW9uTWFuYWdlciYmcy5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE0LHdlLkNyZWF0ZU5ld0Zyb21TY2VuZShzLHUpKX0sdGhpcy5fb25LZXlVcD1mdW5jdGlvbih1KXt2YXIgZj1OaS5LRVlVUDtpZihzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXt2YXIgbD1uZXcgQmkoZix1KTtpZihzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsLGYpLGwuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlKXJldHVybn1pZihzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXt2YXIgbD1uZXcgcXIoZix1KTtzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsLGYpfXMuYWN0aW9uTWFuYWdlciYmcy5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE1LHdlLkNyZWF0ZU5ld0Zyb21TY2VuZShzLHUpKX0sdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlci5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKHUpe3UuZGV2aWNlVHlwZT09PUIuTW91c2U/dS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe2lmKGYuaW5wdXRJbmRleD09PUcuTGVmdENsaWNrfHxmLmlucHV0SW5kZXg9PT1HLk1pZGRsZUNsaWNrfHxmLmlucHV0SW5kZXg9PT1HLlJpZ2h0Q2xpY2spe3ZhciBsPWY7dCYmdS5nZXRJbnB1dChsLmlucHV0SW5kZXgpPT09MT9hLl9vblBvaW50ZXJEb3duKGwpOmUmJnUuZ2V0SW5wdXQobC5pbnB1dEluZGV4KT09PTAmJmEuX29uUG9pbnRlclVwKGwpfWVsc2UgciYmKGYuaW5wdXRJbmRleD09PUcuTW92ZXx8Zi5pbnB1dEluZGV4PT09Ry5Nb3VzZVdoZWVsWHx8Zi5pbnB1dEluZGV4PT09Ry5Nb3VzZVdoZWVsWXx8Zi5pbnB1dEluZGV4PT09Ry5Nb3VzZVdoZWVsWikmJmEuX29uUG9pbnRlck1vdmUoZil9KTp1LmRldmljZVR5cGU9PT1CLlRvdWNoP3Uub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXt2YXIgbD1mO2YuaW5wdXRJbmRleD09PUcuTGVmdENsaWNrJiYodCYmdS5nZXRJbnB1dChsLmlucHV0SW5kZXgpPT09MT9hLl9vblBvaW50ZXJEb3duKGYpOmUmJnUuZ2V0SW5wdXQobC5pbnB1dEluZGV4KT09PTAmJmEuX29uUG9pbnRlclVwKGYpKSxyJiZmLmlucHV0SW5kZXg9PT1HLk1vdmUmJmEuX29uUG9pbnRlck1vdmUoZil9KTp1LmRldmljZVR5cGU9PT1CLktleWJvYXJkJiZ1Lm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oZil7dmFyIGw9ZjtsLnR5cGU9PT0ia2V5ZG93biI/YS5fb25LZXlEb3duKGwpOmwudHlwZT09PSJrZXl1cCImJmEuX29uS2V5VXAobCl9KX0pLHRoaXMuX2FscmVhZHlBdHRhY2hlZD0hMH0saS5wcm90b3R5cGUuZGV0YWNoQ29udHJvbD1mdW5jdGlvbigpe3RoaXMuX2FscmVhZHlBdHRhY2hlZCYmKHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bnVsbCx0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbyYmIXRoaXMuX3NjZW5lLmRvTm90SGFuZGxlQ3Vyc29ycyYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvLnN0eWxlLmN1cnNvcj10aGlzLl9zY2VuZS5kZWZhdWx0Q3Vyc29yKSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITEsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG89bnVsbCl9LGkucHJvdG90eXBlLnNldFBvaW50ZXJPdmVyTWVzaD1mdW5jdGlvbihlLHQscil7aWYodD09PXZvaWQgMCYmKHQ9MCksdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdIT09ZSl7dmFyIG49dGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdLGE7biYmKGE9bi5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoMTApLGEmJmEucHJvY2Vzc1RyaWdnZXIoMTAsd2UuQ3JlYXRlTmV3KG4sdm9pZCAwLHtwb2ludGVySWQ6dH0pKSksZT8odGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPWUsdGhpcy5fcG9pbnRlck92ZXJNZXNoPWUsYT1lLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcig5KSxhJiZhLnByb2Nlc3NUcmlnZ2VyKDksd2UuQ3JlYXRlTmV3KGUsdm9pZCAwLHtwb2ludGVySWQ6dCxwaWNrUmVzdWx0OnJ9KSkpOihkZWxldGUgdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdLHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1udWxsKX19LGkucHJvdG90eXBlLmdldFBvaW50ZXJPdmVyTWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludGVyT3Zlck1lc2h9LGkucHJvdG90eXBlLl9pbnZhbGlkYXRlTWVzaD1mdW5jdGlvbihlKXt0aGlzLl9wb2ludGVyT3Zlck1lc2g9PT1lJiYodGhpcy5fcG9pbnRlck92ZXJNZXNoPW51bGwpLHRoaXMuX3BpY2tlZERvd25NZXNoPT09ZSYmKHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGwpLHRoaXMuX3BpY2tlZFVwTWVzaD09PWUmJih0aGlzLl9waWNrZWRVcE1lc2g9bnVsbCk7Zm9yKHZhciB0IGluIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZCl0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09PT1lJiZkZWxldGUgdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdfSxpLkRyYWdNb3ZlbWVudFRocmVzaG9sZD0xMCxpLkxvbmdQcmVzc0RlbGF5PTUwMCxpLkRvdWJsZUNsaWNrRGVsYXk9MzAwLGkuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPSExLGl9KCksWnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3RoaXMubm9ybWFsPW5ldyBFKGUsdCxyKSx0aGlzLmQ9bn1yZXR1cm4gaS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVyblt0aGlzLm5vcm1hbC54LHRoaXMubm9ybWFsLnksdGhpcy5ub3JtYWwueix0aGlzLmRdfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLm5vcm1hbC54LHRoaXMubm9ybWFsLnksdGhpcy5ub3JtYWwueix0aGlzLmQpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iUGxhbmUifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubm9ybWFsLmdldEhhc2hDb2RlKCk7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZHwwKSxlfSxpLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnNxcnQodGhpcy5ub3JtYWwueCp0aGlzLm5vcm1hbC54K3RoaXMubm9ybWFsLnkqdGhpcy5ub3JtYWwueSt0aGlzLm5vcm1hbC56KnRoaXMubm9ybWFsLnopLHQ9MDtyZXR1cm4gZSE9PTAmJih0PTEvZSksdGhpcy5ub3JtYWwueCo9dCx0aGlzLm5vcm1hbC55Kj10LHRoaXMubm9ybWFsLnoqPXQsdGhpcy5kKj10LHRoaXN9LGkucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXt2YXIgdD1pLl9UbXBNYXRyaXg7ZS5pbnZlcnRUb1JlZih0KTt2YXIgcj10Lm0sbj10aGlzLm5vcm1hbC54LGE9dGhpcy5ub3JtYWwueSxzPXRoaXMubm9ybWFsLnosbz10aGlzLmQsdT1uKnJbMF0rYSpyWzFdK3MqclsyXStvKnJbM10sZj1uKnJbNF0rYSpyWzVdK3Mqcls2XStvKnJbN10sbD1uKnJbOF0rYSpyWzldK3MqclsxMF0rbypyWzExXSxoPW4qclsxMl0rYSpyWzEzXStzKnJbMTRdK28qclsxNV07cmV0dXJuIG5ldyBpKHUsZixsLGgpfSxpLnByb3RvdHlwZS5kb3RDb29yZGluYXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5vcm1hbC54KmUueCt0aGlzLm5vcm1hbC55KmUueSt0aGlzLm5vcm1hbC56KmUueit0aGlzLmR9LGkucHJvdG90eXBlLmNvcHlGcm9tUG9pbnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LngtZS54LGE9dC55LWUueSxzPXQuei1lLnosbz1yLngtZS54LHU9ci55LWUueSxmPXIuei1lLnosbD1hKmYtcyp1LGg9cypvLW4qZixjPW4qdS1hKm8sZD1NYXRoLnNxcnQobCpsK2gqaCtjKmMpLHA7cmV0dXJuIGQhPT0wP3A9MS9kOnA9MCx0aGlzLm5vcm1hbC54PWwqcCx0aGlzLm5vcm1hbC55PWgqcCx0aGlzLm5vcm1hbC56PWMqcCx0aGlzLmQ9LSh0aGlzLm5vcm1hbC54KmUueCt0aGlzLm5vcm1hbC55KmUueSt0aGlzLm5vcm1hbC56KmUueiksdGhpc30saS5wcm90b3R5cGUuaXNGcm9udEZhY2luZ1RvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9RS5Eb3QodGhpcy5ub3JtYWwsZSk7cmV0dXJuIHI8PXR9LGkucHJvdG90eXBlLnNpZ25lZERpc3RhbmNlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIEUuRG90KGUsdGhpcy5ub3JtYWwpK3RoaXMuZH0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKGVbMF0sZVsxXSxlWzJdLGVbM10pfSxpLkZyb21Qb2ludHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKDAsMCwwLDApO3JldHVybiBuLmNvcHlGcm9tUG9pbnRzKGUsdCxyKSxufSxpLkZyb21Qb3NpdGlvbkFuZE5vcm1hbD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBpKDAsMCwwLDApO3JldHVybiB0Lm5vcm1hbGl6ZSgpLHIubm9ybWFsPXQsci5kPS0odC54KmUueCt0LnkqZS55K3QueiplLnopLHJ9LGkuU2lnbmVkRGlzdGFuY2VUb1BsYW5lRnJvbVBvc2l0aW9uQW5kTm9ybWFsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0tKHQueCplLngrdC55KmUueSt0LnoqZS56KTtyZXR1cm4gRS5Eb3Qocix0KStufSxpLl9UbXBNYXRyaXg9SS5JZGVudGl0eSgpLGl9KCksUnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkdldFBsYW5lcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0wO3I8NjtyKyspdC5wdXNoKG5ldyBacigwLDAsMCwwKSk7cmV0dXJuIGkuR2V0UGxhbmVzVG9SZWYoZSx0KSx0fSxpLkdldE5lYXJQbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXStyWzJdLHQubm9ybWFsLnk9cls3XStyWzZdLHQubm9ybWFsLno9clsxMV0rclsxMF0sdC5kPXJbMTVdK3JbMTRdLHQubm9ybWFsaXplKCl9LGkuR2V0RmFyUGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10tclsyXSx0Lm5vcm1hbC55PXJbN10tcls2XSx0Lm5vcm1hbC56PXJbMTFdLXJbMTBdLHQuZD1yWzE1XS1yWzE0XSx0Lm5vcm1hbGl6ZSgpfSxpLkdldExlZnRQbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXStyWzBdLHQubm9ybWFsLnk9cls3XStyWzRdLHQubm9ybWFsLno9clsxMV0rcls4XSx0LmQ9clsxNV0rclsxMl0sdC5ub3JtYWxpemUoKX0saS5HZXRSaWdodFBsYW5lVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm07dC5ub3JtYWwueD1yWzNdLXJbMF0sdC5ub3JtYWwueT1yWzddLXJbNF0sdC5ub3JtYWwuej1yWzExXS1yWzhdLHQuZD1yWzE1XS1yWzEyXSx0Lm5vcm1hbGl6ZSgpfSxpLkdldFRvcFBsYW5lVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm07dC5ub3JtYWwueD1yWzNdLXJbMV0sdC5ub3JtYWwueT1yWzddLXJbNV0sdC5ub3JtYWwuej1yWzExXS1yWzldLHQuZD1yWzE1XS1yWzEzXSx0Lm5vcm1hbGl6ZSgpfSxpLkdldEJvdHRvbVBsYW5lVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm07dC5ub3JtYWwueD1yWzNdK3JbMV0sdC5ub3JtYWwueT1yWzddK3JbNV0sdC5ub3JtYWwuej1yWzExXStyWzldLHQuZD1yWzE1XStyWzEzXSx0Lm5vcm1hbGl6ZSgpfSxpLkdldFBsYW5lc1RvUmVmPWZ1bmN0aW9uKGUsdCl7aS5HZXROZWFyUGxhbmVUb1JlZihlLHRbMF0pLGkuR2V0RmFyUGxhbmVUb1JlZihlLHRbMV0pLGkuR2V0TGVmdFBsYW5lVG9SZWYoZSx0WzJdKSxpLkdldFJpZ2h0UGxhbmVUb1JlZihlLHRbM10pLGkuR2V0VG9wUGxhbmVUb1JlZihlLHRbNF0pLGkuR2V0Qm90dG9tUGxhbmVUb1JlZihlLHRbNV0pfSxpfSgpLHZhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlVuaXF1ZUlkIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fVW5pcXVlSWRDb3VudGVyO3JldHVybiB0aGlzLl9VbmlxdWVJZENvdW50ZXIrKyxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX1VuaXF1ZUlkQ291bnRlcj0xLGl9KCksQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkNvbXBhcmVMaWdodHNQcmlvcml0eT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnNoYWRvd0VuYWJsZWQhPT10LnNoYWRvd0VuYWJsZWQ/KHQuc2hhZG93RW5hYmxlZD8xOjApLShlLnNoYWRvd0VuYWJsZWQ/MTowKTp0LnJlbmRlclByaW9yaXR5LWUucmVuZGVyUHJpb3JpdHl9LGkuRkFMTE9GRl9ERUZBVUxUPTAsaS5GQUxMT0ZGX1BIWVNJQ0FMPTEsaS5GQUxMT0ZGX0dMVEY9MixpLkZBTExPRkZfU1RBTkRBUkQ9MyxpLkxJR0hUTUFQX0RFRkFVTFQ9MCxpLkxJR0hUTUFQX1NQRUNVTEFSPTEsaS5MSUdIVE1BUF9TSEFET1dTT05MWT0yLGkuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9MCxpLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUj0xLGkuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWT0yLGkuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT0zLGkuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U9NCxpLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9MCxpLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ9MSxpLkxJR0hUVFlQRUlEX1NQT1RMSUdIVD0yLGkuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVD0zLGl9KCksWWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7aS5Jc0F2YWlsYWJsZSYmKHRoaXMuX29ic2VydmVyPW5ldyB3aW5kb3cuQ29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIoZSx0KSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJJc0F2YWlsYWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBkZSgpJiYiQ29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIiaW4gd2luZG93fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLm9ic2VydmU9ZnVuY3Rpb24oKXt2YXIgZSx0OygoZT10aGlzLl9vYnNlcnZlcik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLm9ic2VydmUpJiYoKHQ9dGhpcy5fb2JzZXJ2ZXIpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5vYnNlcnZlKCkpfSxpLnByb3RvdHlwZS51bm9ic2VydmU9ZnVuY3Rpb24oKXt2YXIgZSx0OygoZT10aGlzLl9vYnNlcnZlcik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnVub2JzZXJ2ZSkmJigodD10aGlzLl9vYnNlcnZlcik9PT1udWxsfHx0PT09dm9pZCAwfHx0LnVub2JzZXJ2ZSgpKX0saX0oKSxtYT1mdW5jdGlvbihpKXtpLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldEFjdGl2ZUNhbWVyYUJ5SWQoZSl9LGkucHJvdG90eXBlLmdldExhc3RNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TGFzdE1hdGVyaWFsQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE1hdGVyaWFsQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0VGV4dHVyZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0VGV4dHVyZUJ5VW5pcXVlSWQoZSl9LGkucHJvdG90eXBlLmdldENhbWVyYUJ5SUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0Q2FtZXJhQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlVbmlxdWVJRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeVVuaXF1ZUlkKGUpfSxpLnByb3RvdHlwZS5nZXRCb25lQnlJRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRCb25lQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0TGlnaHRCeUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldExpZ2h0QnlJZChlKX0saS5wcm90b3R5cGUuZ2V0TGlnaHRCeVVuaXF1ZUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldExpZ2h0QnlVbmlxdWVJZChlKX0saS5wcm90b3R5cGUuZ2V0UGFydGljbGVTeXN0ZW1CeUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFBhcnRpY2xlU3lzdGVtQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlCeUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldEdlb21ldHJ5QnlJZChlKX0saS5wcm90b3R5cGUuZ2V0TWVzaEJ5SUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5SWQoZSl9LGkucHJvdG90eXBlLmdldE1lc2hlc0J5SUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TWVzaGVzQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5SUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQoZSl9LGkucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGUpfSxpLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZXNCeUlkKGUpfSxpLnByb3RvdHlwZS5nZXRNZXNoQnlVbmlxdWVJRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRNZXNoQnlVbmlxdWVJZChlKX0saS5wcm90b3R5cGUuZ2V0TGFzdE1lc2hCeUlEPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldExhc3RNZXNoQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0TGFzdEVudHJ5QnlJRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRMYXN0RW50cnlCeUlkKGUpfSxpLnByb3RvdHlwZS5nZXROb2RlQnlJRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXROb2RlQnlJZChlKX0saS5wcm90b3R5cGUuZ2V0TGFzdFNrZWxldG9uQnlJRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRMYXN0U2tlbGV0b25CeUlkKGUpfX0sRWU9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyl8fHRoaXM7bi5faW5wdXRNYW5hZ2VyPW5ldyB1dChuKSxuLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnM9bnVsbCxuLl9pc1NjZW5lPSEwLG4uX2Jsb2NrRW50aXR5Q29sbGVjdGlvbj0hMSxuLmF1dG9DbGVhcj0hMCxuLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbD0hMCxuLmNsZWFyQ29sb3I9bmV3IF9lKC4yLC4yLC4zLDEpLG4uYW1iaWVudENvbG9yPW5ldyBwZSgwLDAsMCksbi5lbnZpcm9ubWVudEludGVuc2l0eT0xLG4uX2ZvcmNlV2lyZWZyYW1lPSExLG4uX3NraXBGcnVzdHVtQ2xpcHBpbmc9ITEsbi5fZm9yY2VQb2ludHNDbG91ZD0hMSxuLmFuaW1hdGlvbnNFbmFibGVkPSEwLG4uX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLG4udXNlQ29uc3RhbnRBbmltYXRpb25EZWx0YVRpbWU9ITEsbi5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcj0hMSxuLmhvdmVyQ3Vyc29yPSJwb2ludGVyIixuLmRlZmF1bHRDdXJzb3I9IiIsbi5kb05vdEhhbmRsZUN1cnNvcnM9ITEsbi5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd249ITAsbi5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlclVwPSEwLG4ubWV0YWRhdGE9bnVsbCxuLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsbi5kaXNhYmxlT2ZmbGluZVN1cHBvcnRFeGNlcHRpb25SdWxlcz1uZXcgQXJyYXksbi5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBPLG4uX29uRGlzcG9zZU9ic2VydmVyPW51bGwsbi5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8sbi5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj1udWxsLG4ub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9bnVsbCxuLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IE8sbi5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZT1uZXcgTyxuLm9uUmVhZHlPYnNlcnZhYmxlPW5ldyBPLG4ub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4uX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCxuLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4uX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlcj1udWxsLG4ub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlPW5ldyBPLG4ub25EYXRhTG9hZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld01lc2hBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGU9bmV3IE8sbi5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IE8sbi5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclN0ZXBPYnNlcnZhYmxlPW5ldyBPLG4ub25BY3RpdmVDYW1lcmFDaGFuZ2VkPW5ldyBPLG4ub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyBPLG4ub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25BbmltYXRpb25GaWxlSW1wb3J0ZWRPYnNlcnZhYmxlPW5ldyBPLG4uX3JlZ2lzdGVyZWRGb3JMYXRlQW5pbWF0aW9uQmluZGluZ3M9bmV3IFV0KDI1Niksbi5za2lwUG9pbnRlck1vdmVQaWNraW5nPSExLG4ub25QcmVQb2ludGVyT2JzZXJ2YWJsZT1uZXcgTyxuLm9uUG9pbnRlck9ic2VydmFibGU9bmV3IE8sbi5vblByZUtleWJvYXJkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uS2V5Ym9hcmRPYnNlcnZhYmxlPW5ldyBPLG4uX3VzZVJpZ2h0SGFuZGVkU3lzdGVtPSExLG4uX3RpbWVBY2N1bXVsYXRvcj0wLG4uX2N1cnJlbnRTdGVwSWQ9MCxuLl9jdXJyZW50SW50ZXJuYWxTdGVwPTAsbi5fZm9nRW5hYmxlZD0hMCxuLl9mb2dNb2RlPWUuRk9HTU9ERV9OT05FLG4uZm9nQ29sb3I9bmV3IHBlKC4yLC4yLC4zKSxuLmZvZ0RlbnNpdHk9LjEsbi5mb2dTdGFydD0wLG4uZm9nRW5kPTFlMyxuLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzPSExLG4uX3NoYWRvd3NFbmFibGVkPSEwLG4uX2xpZ2h0c0VuYWJsZWQ9ITAsbi5hY3RpdmVDYW1lcmFzPW5ldyBBcnJheSxuLl90ZXh0dXJlc0VuYWJsZWQ9ITAsbi5waHlzaWNzRW5hYmxlZD0hMCxuLnBhcnRpY2xlc0VuYWJsZWQ9ITAsbi5zcHJpdGVzRW5hYmxlZD0hMCxuLl9za2VsZXRvbnNFbmFibGVkPSEwLG4ubGVuc0ZsYXJlc0VuYWJsZWQ9ITAsbi5jb2xsaXNpb25zRW5hYmxlZD0hMCxuLmdyYXZpdHk9bmV3IEUoMCwtOS44MDcsMCksbi5wb3N0UHJvY2Vzc2VzRW5hYmxlZD0hMCxuLnJlbmRlclRhcmdldHNFbmFibGVkPSEwLG4uZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExLG4uY3VzdG9tUmVuZGVyVGFyZ2V0cz1uZXcgQXJyYXksbi5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSxuLnByb2Jlc0VuYWJsZWQ9ITAsbi5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucz1uZXcgVXQoMjU2KSxuLnByb2NlZHVyYWxUZXh0dXJlc0VuYWJsZWQ9ITAsbi5fdG90YWxWZXJ0aWNlcz1uZXcgJHQsbi5fYWN0aXZlSW5kaWNlcz1uZXcgJHQsbi5fYWN0aXZlUGFydGljbGVzPW5ldyAkdCxuLl9hY3RpdmVCb25lcz1uZXcgJHQsbi5fYW5pbWF0aW9uVGltZT0wLG4uYW5pbWF0aW9uVGltZVNjYWxlPTEsbi5fcmVuZGVySWQ9MCxuLl9mcmFtZUlkPTAsbi5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsLG4uX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSxuLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLG4uX3ZpZXdVcGRhdGVGbGFnPS0xLG4uX3Byb2plY3Rpb25VcGRhdGVGbGFnPS0xLG4uX3RvQmVEaXNwb3NlZD1uZXcgQXJyYXkoMjU2KSxuLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksbi5fcGVuZGluZ0RhdGE9bmV3IEFycmF5LG4uX2lzRGlzcG9zZWQ9ITEsbi5kaXNwYXRjaEFsbFN1Yk1lc2hlc09mQWN0aXZlTWVzaGVzPSExLG4uX2FjdGl2ZU1lc2hlcz1uZXcgQmUoMjU2KSxuLl9wcm9jZXNzZWRNYXRlcmlhbHM9bmV3IEJlKDI1Niksbi5fcmVuZGVyVGFyZ2V0cz1uZXcgVXQoMjU2KSxuLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXM9bmV3IEJlKDI1Niksbi5fYWN0aXZlU2tlbGV0b25zPW5ldyBVdCgzMiksbi5fc29mdHdhcmVTa2lubmVkTWVzaGVzPW5ldyBVdCgzMiksbi5fYWN0aXZlQW5pbWF0YWJsZXM9bmV3IEFycmF5LG4uX3RyYW5zZm9ybU1hdHJpeD1JLlplcm8oKSxuLnJlcXVpcmVMaWdodFNvcnRpbmc9ITEsbi5fY29tcG9uZW50cz1bXSxuLl9zZXJpYWxpemFibGVDb21wb25lbnRzPVtdLG4uX3RyYW5zaWVudENvbXBvbmVudHM9W10sbi5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2U9Z2UuQ3JlYXRlKCksbi5fYmVmb3JlQ2xlYXJTdGFnZT1nZS5DcmVhdGUoKSxuLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlPWdlLkNyZWF0ZSgpLG4uX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZT1nZS5DcmVhdGUoKSxuLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U9Z2UuQ3JlYXRlKCksbi5faXNSZWFkeUZvck1lc2hTdGFnZT1nZS5DcmVhdGUoKSxuLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZT1nZS5DcmVhdGUoKSxuLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZT1nZS5DcmVhdGUoKSxuLl9wcmVBY3RpdmVNZXNoU3RhZ2U9Z2UuQ3JlYXRlKCksbi5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlPWdlLkNyZWF0ZSgpLG4uX2JlZm9yZUNhbWVyYURyYXdTdGFnZT1nZS5DcmVhdGUoKSxuLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2U9Z2UuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9Z2UuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlPWdlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlPWdlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9Z2UuQ3JlYXRlKCksbi5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U9Z2UuQ3JlYXRlKCksbi5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2U9Z2UuQ3JlYXRlKCksbi5fYWZ0ZXJSZW5kZXJTdGFnZT1nZS5DcmVhdGUoKSxuLl9wb2ludGVyTW92ZVN0YWdlPWdlLkNyZWF0ZSgpLG4uX3BvaW50ZXJEb3duU3RhZ2U9Z2UuQ3JlYXRlKCksbi5fcG9pbnRlclVwU3RhZ2U9Z2UuQ3JlYXRlKCksbi5nZW9tZXRyaWVzQnlVbmlxdWVJZD1udWxsLG4uX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sbi5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzPXtkYXRhOltdLGxlbmd0aDowfSxuLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcz0hMSxuLl9hY3RpdmVNZXNoZXNGcm96ZW49ITEsbi5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT0hMSxuLl9hbGxvd1Bvc3RQcm9jZXNzQ2xlYXJDb2xvcj0hMCxuLmdldERldGVybWluaXN0aWNGcmFtZVRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbi5fZW5naW5lLmdldFRpbWVTdGVwKCl9LG4uX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT0hMSxuLl9wZXJmQ29sbGVjdG9yPW51bGwsbi5vbkNvbXB1dGVQcmVzc3VyZUNoYW5nZWQ9bmV3IE87dmFyIGE9Y2Uoe3VzZUdlb21ldHJ5VW5pcXVlSWRzTWFwOiEwLHVzZU1hdGVyaWFsTWVzaE1hcDohMCx1c2VDbG9uZWRNZXNoTWFwOiEwLHZpcnR1YWw6ITF9LHIpO3JldHVybiBuLl9lbmdpbmU9dHx8Si5MYXN0Q3JlYXRlZEVuZ2luZSxhLnZpcnR1YWw/bi5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnB1c2gobik6KEouX0xhc3RDcmVhdGVkU2NlbmU9bixuLl9lbmdpbmUuc2NlbmVzLnB1c2gobikpLG4uX3VpZD1udWxsLG4uX3JlbmRlcmluZ01hbmFnZXI9bmV3IEFyKG4pLE1yJiYobi5wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IE1yKG4pKSxkZSgpJiZuLmF0dGFjaENvbnRyb2woKSxuLl9jcmVhdGVVYm8oKSxWdCYmKG4uX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249bmV3IFZ0KSxuLnNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnMoKSxhLnVzZUdlb21ldHJ5VW5pcXVlSWRzTWFwJiYobi5nZW9tZXRyaWVzQnlVbmlxdWVJZD17fSksbi51c2VNYXRlcmlhbE1lc2hNYXA9YS51c2VNYXRlcmlhbE1lc2hNYXAsbi51c2VDbG9uZWRNZXNoTWFwPWEudXNlQ2xvbmVkTWVzaE1hcCwoIXJ8fCFyLnZpcnR1YWwpJiZuLl9lbmdpbmUub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobiksWWkuSXNBdmFpbGFibGUmJihuLl9jb21wdXRlUHJlc3N1cmVPYnNlcnZlcj1uZXcgWWkoZnVuY3Rpb24ocyl7bi5vbkNvbXB1dGVQcmVzc3VyZUNoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHMpfSx7Y3B1VXRpbGl6YXRpb25UaHJlc2hvbGRzOlsuMjUsLjUsLjc1LC45XSxjcHVTcGVlZFRocmVzaG9sZHM6Wy41XX0pLG4uX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyLm9ic2VydmUoKSksbn1yZXR1cm4gZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5PWZ1bmN0aW9uKHQpe3Rocm93IFUoIlN0YW5kYXJkTWF0ZXJpYWwiKX0sZS5Db2xsaXNpb25Db29yZGluYXRvckZhY3Rvcnk9ZnVuY3Rpb24oKXt0aHJvdyBVKCJEZWZhdWx0Q29sbGlzaW9uQ29vcmRpbmF0b3IiKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJlbnZpcm9ubWVudFRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlIT09dCYmKHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yY2VXaXJlZnJhbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9yY2VXaXJlZnJhbWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb3JjZVdpcmVmcmFtZSE9PXQmJih0aGlzLl9mb3JjZVdpcmVmcmFtZT10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNraXBGcnVzdHVtQ2xpcHBpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmchPT10JiYodGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZz10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvcmNlUG9pbnRzQ2xvdWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9yY2VQb2ludHNDbG91ZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQhPT10JiYodGhpcy5fZm9yY2VQb2ludHNDbG91ZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uRGlzcG9zZSIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJlZm9yZVJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdCYmKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFmdGVyUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0JiYodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJlZm9yZUNhbWVyYVJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhZnRlckNhbWVyYVJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidW5UcmFuc2xhdGVkUG9pbnRlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIudW5UcmFuc2xhdGVkUG9pbnRlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRHJhZ01vdmVtZW50VGhyZXNob2xkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV0LkRyYWdNb3ZlbWVudFRocmVzaG9sZH0sc2V0OmZ1bmN0aW9uKHQpe3V0LkRyYWdNb3ZlbWVudFRocmVzaG9sZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMb25nUHJlc3NEZWxheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB1dC5Mb25nUHJlc3NEZWxheX0sc2V0OmZ1bmN0aW9uKHQpe3V0LkxvbmdQcmVzc0RlbGF5PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRvdWJsZUNsaWNrRGVsYXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdXQuRG91YmxlQ2xpY2tEZWxheX0sc2V0OmZ1bmN0aW9uKHQpe3V0LkRvdWJsZUNsaWNrRGVsYXk9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV0LkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3V0LkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmJpbmRFeWVQb3NpdGlvbj1mdW5jdGlvbih0LHIsbil7dmFyIGE7cj09PXZvaWQgMCYmKHI9InZFeWVQb3NpdGlvbiIpLG49PT12b2lkIDAmJihuPSExKTt2YXIgcz10aGlzLl9mb3JjZWRWaWV3UG9zaXRpb24/dGhpcy5fZm9yY2VkVmlld1Bvc2l0aW9uOnRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbjooYT10aGlzLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbikhPT1udWxsJiZhIT09dm9pZCAwP2E6dGhpcy5hY3RpdmVDYW1lcmEuZGV2aWNlUG9zaXRpb24sbz10aGlzLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09KHRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24hPW51bGwpO3JldHVybiB4LlZlY3RvcjRbMF0uc2V0KHMueCxzLnkscy56LG8/LTE6MSksdCYmKG4/dC5zZXRGbG9hdDMocix4LlZlY3RvcjRbMF0ueCx4LlZlY3RvcjRbMF0ueSx4LlZlY3RvcjRbMF0ueik6dC5zZXRWZWN0b3I0KHIseC5WZWN0b3I0WzBdKSkseC5WZWN0b3I0WzBdfSxlLnByb3RvdHlwZS5maW5hbGl6ZVNjZW5lVWJvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSxyPXRoaXMuYmluZEV5ZVBvc2l0aW9uKG51bGwpO3JldHVybiB0LnVwZGF0ZUZsb2F0NCgidkV5ZVBvc2l0aW9uIixyLngsci55LHIueixyLncpLHQudXBkYXRlKCksdH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1c2VSaWdodEhhbmRlZFN5c3RlbSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtIT09dCYmKHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldFN0ZXBJZD1mdW5jdGlvbih0KXt0aGlzLl9jdXJyZW50U3RlcElkPXR9LGUucHJvdG90eXBlLmdldFN0ZXBJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50U3RlcElkfSxlLnByb3RvdHlwZS5nZXRJbnRlcm5hbFN0ZXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudEludGVybmFsU3RlcH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmb2dFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb2dFbmFibGVkIT09dCYmKHRoaXMuX2ZvZ0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmb2dNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvZ01vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb2dNb2RlIT09dCYmKHRoaXMuX2ZvZ01vZGU9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcmVQYXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnByZVBhc3NSZW5kZXJlciYmdGhpcy5wcmVQYXNzUmVuZGVyZXIuZGVmYXVsdFJULmVuYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd3NFbmFibGVkIT09dCYmKHRoaXMuX3NoYWRvd3NFbmFibGVkPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgyKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsaWdodHNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpZ2h0c0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9saWdodHNFbmFibGVkIT09dCYmKHRoaXMuX2xpZ2h0c0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZUNhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVDYW1lcmF9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fYWN0aXZlQ2FtZXJhJiYodGhpcy5fYWN0aXZlQ2FtZXJhPXQsdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImRlZmF1bHRNYXRlcmlhbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0TWF0ZXJpYWx8fCh0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9ZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5KHRoaXMpKSx0aGlzLl9kZWZhdWx0TWF0ZXJpYWx9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRleHR1cmVzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlc0VuYWJsZWQhPT10JiYodGhpcy5fdGV4dHVyZXNFbmFibGVkPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJza2VsZXRvbnNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NrZWxldG9uc0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9za2VsZXRvbnNFbmFibGVkIT09dCYmKHRoaXMuX3NrZWxldG9uc0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvbkNvb3JkaW5hdG9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfHwodGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3I9ZS5Db2xsaXNpb25Db29yZGluYXRvckZhY3RvcnkoKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvci5pbml0KHRoaXMpKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZydXN0dW1QbGFuZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bVBsYW5lc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzPWZ1bmN0aW9uKCl7aWYodGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg+MCl7Zm9yKHZhciB0PTAscj10aGlzLl90cmFuc2llbnRDb21wb25lbnRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24ucmVnaXN0ZXIoKX10aGlzLl90cmFuc2llbnRDb21wb25lbnRzPVtdfX0sZS5wcm90b3R5cGUuX2FkZENvbXBvbmVudD1mdW5jdGlvbih0KXt0aGlzLl9jb21wb25lbnRzLnB1c2godCksdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5wdXNoKHQpO3ZhciByPXQ7ci5hZGRGcm9tQ29udGFpbmVyJiZyLnNlcmlhbGl6ZSYmdGhpcy5fc2VyaWFsaXphYmxlQ29tcG9uZW50cy5wdXNoKHIpfSxlLnByb3RvdHlwZS5fZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wLG49dGhpcy5fY29tcG9uZW50cztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZihhLm5hbWU9PT10KXJldHVybiBhfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iU2NlbmUifSxlLnByb3RvdHlwZS5fZ2V0RGVmYXVsdE1lc2hDYW5kaWRhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5kYXRhPXRoaXMubWVzaGVzLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcy5sZW5ndGg9dGhpcy5tZXNoZXMubGVuZ3RoLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlc30sZS5wcm90b3R5cGUuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmRhdGE9dC5zdWJNZXNoZXMsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmxlbmd0aD10LnN1Yk1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzfSxlLnByb3RvdHlwZS5zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzPWZ1bmN0aW9uKCl7dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0SW50ZXJzZWN0aW5nU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRDb2xsaWRpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtZXNoVW5kZXJQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5tZXNoVW5kZXJQb2ludGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicG9pbnRlclgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb2ludGVyWSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlcll9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclk9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDYWNoZWRNYXRlcmlhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRNYXRlcmlhbH0sZS5wcm90b3R5cGUuZ2V0Q2FjaGVkRWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEVmZmVjdH0sZS5wcm90b3R5cGUuZ2V0Q2FjaGVkVmlzaWJpbGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRWaXNpYmlsaXR5fSxlLnByb3RvdHlwZS5pc0NhY2hlZE1hdGVyaWFsSW52YWxpZD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG49PT12b2lkIDAmJihuPTEpLHRoaXMuX2NhY2hlZEVmZmVjdCE9PXJ8fHRoaXMuX2NhY2hlZE1hdGVyaWFsIT09dHx8dGhpcy5fY2FjaGVkVmlzaWJpbGl0eSE9PW59LGUucHJvdG90eXBlLmdldEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmdpbmV9LGUucHJvdG90eXBlLmdldFRvdGFsVmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxWZXJ0aWNlcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRvdGFsVmVydGljZXNQZXJmQ291bnRlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFjdGl2ZUluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRvdGFsQWN0aXZlSW5kaWNlc1BlcmZDb3VudGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluZGljZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0QWN0aXZlUGFydGljbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZVBhcnRpY2xlc1BlcmZDb3VudGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBY3RpdmVCb25lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lcy5jdXJyZW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZUJvbmVzUGVyZkNvdW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQm9uZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0QWN0aXZlTWVzaGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc30sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUmF0aW8hPT12b2lkIDA/dGhpcy5fYW5pbWF0aW9uUmF0aW86MX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVySWR9LGUucHJvdG90eXBlLmdldEZyYW1lSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVJZH0sZS5wcm90b3R5cGUuaW5jcmVtZW50UmVuZGVySWQ9ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJJZCsrfSxlLnByb3RvdHlwZS5fY3JlYXRlVWJvPWZ1bmN0aW9uKCl7dGhpcy5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoKSl9LGUucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlck1vdmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlck1vdmUodCxyKSx0aGlzfSxlLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJEb3duPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJEb3duKHQsciksdGhpc30sZS5wcm90b3R5cGUuc2ltdWxhdGVQb2ludGVyVXA9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyVXAodCxyLG4pLHRoaXN9LGUucHJvdG90eXBlLmlzUG9pbnRlckNhcHR1cmVkPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSx0aGlzLl9pbnB1dE1hbmFnZXIuaXNQb2ludGVyQ2FwdHVyZWQodCl9LGUucHJvdG90eXBlLmF0dGFjaENvbnRyb2w9ZnVuY3Rpb24odCxyLG4pe3Q9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMCksbj09PXZvaWQgMCYmKG49ITApLHRoaXMuX2lucHV0TWFuYWdlci5hdHRhY2hDb250cm9sKHQscixuKX0sZS5wcm90b3R5cGUuZGV0YWNoQ29udHJvbD1mdW5jdGlvbigpe3RoaXMuX2lucHV0TWFuYWdlci5kZXRhY2hDb250cm9sKCl9LGUucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuX2lzRGlzcG9zZWQpcmV0dXJuITE7dmFyIHIsbj10aGlzLmdldEVuZ2luZSgpO2lmKCFuLmFyZUFsbEVmZmVjdHNSZWFkeSgpfHx0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGg+MClyZXR1cm4hMTtmb3IodCYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSkscj0wO3I8dGhpcy5tZXNoZXMubGVuZ3RoO3IrKyl7dmFyIGE9dGhpcy5tZXNoZXNbcl07aWYoISFhLmlzRW5hYmxlZCgpJiYhKCFhLnN1Yk1lc2hlc3x8YS5zdWJNZXNoZXMubGVuZ3RoPT09MCkpe2lmKCFhLmlzUmVhZHkoITApKXJldHVybiExO2Zvcih2YXIgcz1hLmhhc1RoaW5JbnN0YW5jZXN8fGEuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTWVzaCJ8fGEuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTGluZXNNZXNoInx8bi5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiZhLmluc3RhbmNlcy5sZW5ndGg+MCxvPTAsdT10aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2lmKCFmLmFjdGlvbihhLHMpKXJldHVybiExfWlmKCEhdCl7dmFyIGw9YS5tYXRlcmlhbHx8dGhpcy5kZWZhdWx0TWF0ZXJpYWw7aWYobClpZihsLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcih2YXIgaD0wLGM9YS5zdWJNZXNoZXM7aDxjLmxlbmd0aDtoKyspe3ZhciBkPWNbaF0scD1kLmdldE1hdGVyaWFsKCk7cCYmcC5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyYmcC5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyE9bnVsbCYmdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmluZGV4T2YocCk9PT0tMSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5wdXNoKHApLHRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHAuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSkpfWVsc2UgbC5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyYmbC5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyE9bnVsbCYmdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmluZGV4T2YobCk9PT0tMSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5wdXNoKGwpLHRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKGwuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSkpfX19aWYodClmb3Iocj0wO3I8dGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg7KytyKXt2YXIgXz10aGlzLl9yZW5kZXJUYXJnZXRzLmRhdGFbcl07aWYoIV8uaXNSZWFkeUZvclJlbmRlcmluZygpKXJldHVybiExfWZvcihyPTA7cjx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3IrKyl7dmFyIGc9dGhpcy5nZW9tZXRyaWVzW3JdO2lmKGcuZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiExfWlmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcih2YXIgbT0wLHY9dGhpcy5hY3RpdmVDYW1lcmFzO208di5sZW5ndGg7bSsrKXt2YXIgUz12W21dO2lmKCFTLmlzUmVhZHkoITApKXJldHVybiExfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJiF0aGlzLmFjdGl2ZUNhbWVyYS5pc1JlYWR5KCEwKSlyZXR1cm4hMTtmb3IodmFyIE09MCxBPXRoaXMucGFydGljbGVTeXN0ZW1zO008QS5sZW5ndGg7TSsrKXt2YXIgUj1BW01dO2lmKCFSLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5wcm90b3R5cGUucmVzZXRDYWNoZWRNYXRlcmlhbD1mdW5jdGlvbigpe3RoaXMuX2NhY2hlZE1hdGVyaWFsPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0PW51bGwsdGhpcy5fY2FjaGVkVmlzaWJpbGl0eT1udWxsfSxlLnByb3RvdHlwZS5yZWdpc3RlckJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2sodCl9LGUucHJvdG90eXBlLnJlZ2lzdGVyQWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJBZnRlclJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpfSxlLnByb3RvdHlwZS5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPWZ1bmN0aW9uKCl7dCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXIobil9KX07dGhpcy5yZWdpc3RlckJlZm9yZVJlbmRlcihuKX0sZS5wcm90b3R5cGUuZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzO3IhPT12b2lkIDA/c2V0VGltZW91dChmdW5jdGlvbigpe24uX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKHQpfSxyKTp0aGlzLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcih0KX0sZS5wcm90b3R5cGUuX2FkZFBlbmRpbmdEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3BlbmRpbmdEYXRhLnB1c2godCl9LGUucHJvdG90eXBlLl9yZW1vdmVQZW5kaW5nRGF0YT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmlzTG9hZGluZyxuPXRoaXMuX3BlbmRpbmdEYXRhLmluZGV4T2YodCk7biE9PS0xJiZ0aGlzLl9wZW5kaW5nRGF0YS5zcGxpY2UobiwxKSxyJiYhdGhpcy5pc0xvYWRpbmcmJnRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LGUucHJvdG90eXBlLmdldFdhaXRpbmdJdGVtc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0xvYWRpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZXhlY3V0ZVdoZW5SZWFkeT1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7cj09PXZvaWQgMCYmKHI9ITEpLHRoaXMub25SZWFkeU9ic2VydmFibGUuYWRkKHQpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiYodGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fY2hlY2tJc1JlYWR5KHIpfSwxNTApKX0sZS5wcm90b3R5cGUud2hlblJlYWR5QXN5bmM9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4pe3IuZXhlY3V0ZVdoZW5SZWFkeShmdW5jdGlvbigpe24oKX0sdCl9KX0sZS5wcm90b3R5cGUuX2NoZWNrSXNSZWFkeT1mdW5jdGlvbih0KXt2YXIgcj10aGlzO2lmKHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKSx0aGlzLmlzUmVhZHkodCkpe3RoaXMub25SZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufWlmKHRoaXMuX2lzRGlzcG9zZWQpe3RoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufXRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe3IuX2NoZWNrSXNSZWFkeSh0KX0sMTUwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhbmltYXRhYmxlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVBbmltYXRhYmxlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZXNldExhc3RBbmltYXRpb25UaW1lRnJhbWU9ZnVuY3Rpb24oKXt0aGlzLl9hbmltYXRpb25UaW1lTGFzdD1MdC5Ob3d9LGUucHJvdG90eXBlLmdldFZpZXdNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld01hdHJpeH0sZS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0aW9uTWF0cml4fSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4fSxlLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24odCxyLG4sYSl7IW4mJiFhJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmKHRoaXMuX211bHRpdmlld1NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibz1udWxsKSwhKHRoaXMuX3ZpZXdVcGRhdGVGbGFnPT09dC51cGRhdGVGbGFnJiZ0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz09PXIudXBkYXRlRmxhZykmJih0aGlzLl92aWV3VXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9ci51cGRhdGVGbGFnLHRoaXMuX3ZpZXdNYXRyaXg9dCx0aGlzLl9wcm9qZWN0aW9uTWF0cml4PXIsdGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9mcnVzdHVtUGxhbmVzP1JyLkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPVJyLkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVViby51c2VVYm8/dGhpcy5fdXBkYXRlTXVsdGl2aWV3VWJvKG4sYSk6dGhpcy5fc2NlbmVVYm8udXNlVWJvJiYodGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInZpZXciLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCkpKX0sZS5wcm90b3R5cGUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX211bHRpdmlld1NjZW5lVWJvP3RoaXMuX211bHRpdmlld1NjZW5lVWJvOnRoaXMuX3NjZW5lVWJvfSxlLnByb3RvdHlwZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24odCl7dmFyIHI9bmV3IFRyKHRoaXMuX2VuZ2luZSx2b2lkIDAsITEsdCE9bnVsbD90OiJzY2VuZSIpO3JldHVybiByLmFkZFVuaWZvcm0oInZpZXdQcm9qZWN0aW9uIiwxNiksci5hZGRVbmlmb3JtKCJ2aWV3IiwxNiksci5hZGRVbmlmb3JtKCJwcm9qZWN0aW9uIiwxNiksci5hZGRVbmlmb3JtKCJ2RXllUG9zaXRpb24iLDQpLHJ9LGUucHJvdG90eXBlLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbih0KXt0aGlzLl9zY2VuZVVibz10LHRoaXMuX3ZpZXdVcGRhdGVGbGFnPS0xLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPS0xfSxlLnByb3RvdHlwZS5nZXRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVybiB2YS5VbmlxdWVJZH0sZS5wcm90b3R5cGUuYWRkTWVzaD1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7cj09PXZvaWQgMCYmKHI9ITEpLCF0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb24mJih0aGlzLm1lc2hlcy5wdXNoKHQpLHQuX3Jlc3luY0xpZ2h0U291cmNlcygpLHQucGFyZW50fHx0Ll9hZGRUb1NjZW5lUm9vdE5vZGVzKCksdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHImJnQuZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe24uYWRkTWVzaChhKX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlTWVzaD1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBhPXRoaXMubWVzaGVzLmluZGV4T2YodCk7cmV0dXJuIGEhPT0tMSYmKHRoaXMubWVzaGVzW2FdPXRoaXMubWVzaGVzW3RoaXMubWVzaGVzLmxlbmd0aC0xXSx0aGlzLm1lc2hlcy5wb3AoKSx0LnBhcmVudHx8dC5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuX2lucHV0TWFuYWdlci5faW52YWxpZGF0ZU1lc2godCksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCksciYmdC5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2goZnVuY3Rpb24ocyl7bi5yZW1vdmVNZXNoKHMpfSksYX0sZS5wcm90b3R5cGUuYWRkVHJhbnNmb3JtTm9kZT1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0Ll9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLHRoaXMudHJhbnNmb3JtTm9kZXMucHVzaCh0KSx0LnBhcmVudHx8dC5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLnJlbW92ZVRyYW5zZm9ybU5vZGU9ZnVuY3Rpb24odCl7dmFyIHI9dC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheTtpZihyIT09LTEpe2lmKHIhPT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xKXt2YXIgbj10aGlzLnRyYW5zZm9ybU5vZGVzW3RoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTFdO3RoaXMudHJhbnNmb3JtTm9kZXNbcl09bixuLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXJ9dC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLnRyYW5zZm9ybU5vZGVzLnBvcCgpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlU2tlbGV0b249ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5za2VsZXRvbnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiYodGhpcy5za2VsZXRvbnMuc3BsaWNlKHIsMSksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVNrZWxldG9ucykpLHJ9LGUucHJvdG90eXBlLnJlbW92ZU1vcnBoVGFyZ2V0TWFuYWdlcj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuc3BsaWNlKHIsMSkscn0sZS5wcm90b3R5cGUucmVtb3ZlTGlnaHQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5saWdodHMuaW5kZXhPZih0KTtpZihyIT09LTEpe2Zvcih2YXIgbj0wLGE9dGhpcy5tZXNoZXM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5fcmVtb3ZlTGlnaHRTb3VyY2UodCwhMSl9dGhpcy5saWdodHMuc3BsaWNlKHIsMSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHJ9LGUucHJvdG90eXBlLnJlbW92ZUNhbWVyYT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmNhbWVyYXMuaW5kZXhPZih0KTtpZihyIT09LTEmJih0aGlzLmNhbWVyYXMuc3BsaWNlKHIsMSksdC5wYXJlbnR8fHQuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLmFjdGl2ZUNhbWVyYXMpe3ZhciBuPXRoaXMuYWN0aXZlQ2FtZXJhcy5pbmRleE9mKHQpO24hPT0tMSYmdGhpcy5hY3RpdmVDYW1lcmFzLnNwbGljZShuLDEpfXJldHVybiB0aGlzLmFjdGl2ZUNhbWVyYT09PXQmJih0aGlzLmNhbWVyYXMubGVuZ3RoPjA/dGhpcy5hY3RpdmVDYW1lcmE9dGhpcy5jYW1lcmFzWzBdOnRoaXMuYWN0aXZlQ2FtZXJhPW51bGwpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlUGFydGljbGVTeXN0ZW09ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5wYXJ0aWNsZVN5c3RlbXMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiYodGhpcy5wYXJ0aWNsZVN5c3RlbXMuc3BsaWNlKHIsMSksdGhpcy5fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXAodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zKSkscn0sZS5wcm90b3R5cGUucmVtb3ZlQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UociwxKSxyfSxlLnByb3RvdHlwZS5zdG9wQW5pbWF0aW9uPWZ1bmN0aW9uKHQscixuKXt9LGUucHJvdG90eXBlLnJlbW92ZUFuaW1hdGlvbkdyb3VwPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYW5pbWF0aW9uR3JvdXBzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5hbmltYXRpb25Hcm91cHMuc3BsaWNlKHIsMSkscn0sZS5wcm90b3R5cGUucmVtb3ZlTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UociwxKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyfSxlLnByb3RvdHlwZS5yZW1vdmVNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgcj10Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5O2lmKHIhPT0tMSYmcjx0aGlzLm1hdGVyaWFscy5sZW5ndGgpe2lmKHIhPT10aGlzLm1hdGVyaWFscy5sZW5ndGgtMSl7dmFyIG49dGhpcy5tYXRlcmlhbHNbdGhpcy5tYXRlcmlhbHMubGVuZ3RoLTFdO3RoaXMubWF0ZXJpYWxzW3JdPW4sbi5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT1yfXQuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tYXRlcmlhbHMucG9wKCl9cmV0dXJuIHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyfSxlLnByb3RvdHlwZS5yZW1vdmVBY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYWN0aW9uTWFuYWdlcnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLmFjdGlvbk1hbmFnZXJzLnNwbGljZShyLDEpLHJ9LGUucHJvdG90eXBlLnJlbW92ZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy50ZXh0dXJlcy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMudGV4dHVyZXMuc3BsaWNlKHIsMSksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUuYWRkTGlnaHQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbil7dGhpcy5saWdodHMucHVzaCh0KSx0aGlzLnNvcnRMaWdodHNCeVByaW9yaXR5KCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKTtmb3IodmFyIHI9MCxuPXRoaXMubWVzaGVzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EubGlnaHRTb3VyY2VzLmluZGV4T2YodCk9PT0tMSYmKGEubGlnaHRTb3VyY2VzLnB1c2godCksYS5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpfXRoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9fSxlLnByb3RvdHlwZS5zb3J0TGlnaHRzQnlQcmlvcml0eT1mdW5jdGlvbigpe3RoaXMucmVxdWlyZUxpZ2h0U29ydGluZyYmdGhpcy5saWdodHMuc29ydChBZS5Db21wYXJlTGlnaHRzUHJpb3JpdHkpfSxlLnByb3RvdHlwZS5hZGRDYW1lcmE9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5jYW1lcmFzLnB1c2godCksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSl9LGUucHJvdG90eXBlLmFkZFNrZWxldG9uPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuc2tlbGV0b25zLnB1c2godCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLmFkZFBhcnRpY2xlU3lzdGVtPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5wYXJ0aWNsZVN5c3RlbXMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25zLnB1c2godCl9LGUucHJvdG90eXBlLmFkZEFuaW1hdGlvbkdyb3VwPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25Hcm91cHMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLm11bHRpTWF0ZXJpYWxzLnB1c2godCksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKX0sZS5wcm90b3R5cGUuYWRkTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodC5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10aGlzLm1hdGVyaWFscy5sZW5ndGgsdGhpcy5tYXRlcmlhbHMucHVzaCh0KSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKX0sZS5wcm90b3R5cGUuYWRkTW9ycGhUYXJnZXRNYW5hZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLnB1c2godCl9LGUucHJvdG90eXBlLmFkZEdlb21ldHJ5PWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLmdlb21ldHJpZXNCeVVuaXF1ZUlkW3QudW5pcXVlSWRdPXRoaXMuZ2VvbWV0cmllcy5sZW5ndGgpLHRoaXMuZ2VvbWV0cmllcy5wdXNoKHQpKX0sZS5wcm90b3R5cGUuYWRkQWN0aW9uTWFuYWdlcj1mdW5jdGlvbih0KXt0aGlzLmFjdGlvbk1hbmFnZXJzLnB1c2godCl9LGUucHJvdG90eXBlLmFkZFRleHR1cmU9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy50ZXh0dXJlcy5wdXNoKHQpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLnN3aXRjaEFjdGl2ZUNhbWVyYT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSEwKTt2YXIgbj10aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCk7IW58fCh0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEuZGV0YWNoQ29udHJvbCgpLHRoaXMuYWN0aXZlQ2FtZXJhPXQsciYmdC5hdHRhY2hDb250cm9sKCkpfSxlLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeUlkPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0Q2FtZXJhQnlJZCh0KTtyZXR1cm4gcj8odGhpcy5hY3RpdmVDYW1lcmE9cixyKTpudWxsfSxlLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeU5hbWU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRDYW1lcmFCeU5hbWUodCk7cmV0dXJuIHI/KHRoaXMuYWN0aXZlQ2FtZXJhPXIscik6bnVsbH0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uR3JvdXBCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5sZW5ndGg7cisrKWlmKHRoaXMuYW5pbWF0aW9uR3JvdXBzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLmFuaW1hdGlvbkdyb3Vwc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeVVuaXF1ZUlEPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3IrKylpZih0aGlzLm1hdGVyaWFsc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1hdGVyaWFscy5sZW5ndGg7cisrKWlmKHRoaXMubWF0ZXJpYWxzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExhc3RNYXRlcmlhbEJ5SWQ9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMSk7Zm9yKHZhciBuPXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xO24+PTA7bi0tKWlmKHRoaXMubWF0ZXJpYWxzW25dLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbHNbbl07aWYocil7Zm9yKHZhciBuPXRoaXMubXVsdGlNYXRlcmlhbHMubGVuZ3RoLTE7bj49MDtuLS0paWYodGhpcy5tdWx0aU1hdGVyaWFsc1tuXS5pZD09PXQpcmV0dXJuIHRoaXMubXVsdGlNYXRlcmlhbHNbbl19cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1hdGVyaWFsQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3IrKylpZih0aGlzLm1hdGVyaWFsc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFRleHR1cmVCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50ZXh0dXJlcy5sZW5ndGg7cisrKWlmKHRoaXMudGV4dHVyZXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLnRleHR1cmVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50ZXh0dXJlcy5sZW5ndGg7cisrKWlmKHRoaXMudGV4dHVyZXNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMudGV4dHVyZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbWVyYUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKylpZih0aGlzLmNhbWVyYXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLmNhbWVyYXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbWVyYUJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKylpZih0aGlzLmNhbWVyYXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLmNhbWVyYXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENhbWVyYUJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuY2FtZXJhcy5sZW5ndGg7cisrKWlmKHRoaXMuY2FtZXJhc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5jYW1lcmFzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRCb25lQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspZm9yKHZhciBuPXRoaXMuc2tlbGV0b25zW3JdLGE9MDthPG4uYm9uZXMubGVuZ3RoO2ErKylpZihuLmJvbmVzW2FdLmlkPT09dClyZXR1cm4gbi5ib25lc1thXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Qm9uZUJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspZm9yKHZhciBuPXRoaXMuc2tlbGV0b25zW3JdLGE9MDthPG4uYm9uZXMubGVuZ3RoO2ErKylpZihuLmJvbmVzW2FdLm5hbWU9PT10KXJldHVybiBuLmJvbmVzW2FdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMaWdodEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubGlnaHRzLmxlbmd0aDtyKyspaWYodGhpcy5saWdodHNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMubGlnaHRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMaWdodEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmxpZ2h0cy5sZW5ndGg7cisrKWlmKHRoaXMubGlnaHRzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5saWdodHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExpZ2h0QnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubGlnaHRzLmxlbmd0aDtyKyspaWYodGhpcy5saWdodHNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLmxpZ2h0c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0UGFydGljbGVTeXN0ZW1CeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3IrKylpZih0aGlzLnBhcnRpY2xlU3lzdGVtc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMucGFydGljbGVTeXN0ZW1zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZih0aGlzLmdlb21ldHJpZXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLmdlb21ldHJpZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9nZXRHZW9tZXRyeUJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5nZW9tZXRyaWVzQnlVbmlxdWVJZCl7dmFyIHI9dGhpcy5nZW9tZXRyaWVzQnlVbmlxdWVJZFt0XTtpZihyIT09dm9pZCAwKXJldHVybiB0aGlzLmdlb21ldHJpZXNbcl19ZWxzZSBmb3IodmFyIG49MDtuPHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7bisrKWlmKHRoaXMuZ2VvbWV0cmllc1tuXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1tuXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucHVzaEdlb21ldHJ5PWZ1bmN0aW9uKHQscil7cmV0dXJuIXImJnRoaXMuX2dldEdlb21ldHJ5QnlVbmlxdWVJZCh0LnVuaXF1ZUlkKT8hMToodGhpcy5hZGRHZW9tZXRyeSh0KSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLCEwKX0sZS5wcm90b3R5cGUucmVtb3ZlR2VvbWV0cnk9ZnVuY3Rpb24odCl7dmFyIHI7aWYodGhpcy5nZW9tZXRyaWVzQnlVbmlxdWVJZCl7aWYocj10aGlzLmdlb21ldHJpZXNCeVVuaXF1ZUlkW3QudW5pcXVlSWRdLHI9PT12b2lkIDApcmV0dXJuITF9ZWxzZSBpZihyPXRoaXMuZ2VvbWV0cmllcy5pbmRleE9mKHQpLHI8MClyZXR1cm4hMTtpZihyIT09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xKXt2YXIgbj10aGlzLmdlb21ldHJpZXNbdGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xXTtuJiYodGhpcy5nZW9tZXRyaWVzW3JdPW4sdGhpcy5nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuZ2VvbWV0cmllc0J5VW5pcXVlSWRbbi51bmlxdWVJZF09cix0aGlzLmdlb21ldHJpZXNCeVVuaXF1ZUlkW3QudW5pcXVlSWRdPXZvaWQgMCkpfXJldHVybiB0aGlzLmdlb21ldHJpZXMucG9wKCksdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLCEwfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cmllc30sZS5wcm90b3R5cGUuZ2V0TWVzaEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1lc2hlcy5sZW5ndGg7cisrKWlmKHRoaXMubWVzaGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5tZXNoZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1lc2hlc0J5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWVzaGVzLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gci5pZD09PXR9KX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDtyKyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7cisrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXMuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkPT09dH0pfSxlLnByb3RvdHlwZS5nZXRNZXNoQnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWVzaGVzLmxlbmd0aDtyKyspaWYodGhpcy5tZXNoZXNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLm1lc2hlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFzdE1lc2hCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj10aGlzLm1lc2hlcy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLm1lc2hlc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMubWVzaGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0RW50cnlCeUlkPWZ1bmN0aW9uKHQpe3ZhciByO2ZvcihyPXRoaXMubWVzaGVzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMubWVzaGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5tZXNoZXNbcl07Zm9yKHI9dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXTtmb3Iocj10aGlzLmNhbWVyYXMubGVuZ3RoLTE7cj49MDtyLS0paWYodGhpcy5jYW1lcmFzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5jYW1lcmFzW3JdO2ZvcihyPXRoaXMubGlnaHRzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMubGlnaHRzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5saWdodHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE5vZGVCeUlkPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0TWVzaEJ5SWQodCk7aWYocilyZXR1cm4gcjt2YXIgbj10aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKHQpO2lmKG4pcmV0dXJuIG47dmFyIGE9dGhpcy5nZXRMaWdodEJ5SWQodCk7aWYoYSlyZXR1cm4gYTt2YXIgcz10aGlzLmdldENhbWVyYUJ5SWQodCk7aWYocylyZXR1cm4gczt2YXIgbz10aGlzLmdldEJvbmVCeUlkKHQpO3JldHVybiBvfHxudWxsfSxlLnByb3RvdHlwZS5nZXROb2RlQnlOYW1lPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0TWVzaEJ5TmFtZSh0KTtpZihyKXJldHVybiByO3ZhciBuPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5TmFtZSh0KTtpZihuKXJldHVybiBuO3ZhciBhPXRoaXMuZ2V0TGlnaHRCeU5hbWUodCk7aWYoYSlyZXR1cm4gYTt2YXIgcz10aGlzLmdldENhbWVyYUJ5TmFtZSh0KTtpZihzKXJldHVybiBzO3ZhciBvPXRoaXMuZ2V0Qm9uZUJ5TmFtZSh0KTtyZXR1cm4gb3x8bnVsbH0sZS5wcm90b3R5cGUuZ2V0TWVzaEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWVzaGVzLmxlbmd0aDtyKyspaWYodGhpcy5tZXNoZXNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMubWVzaGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7cisrKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExhc3RTa2VsZXRvbkJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXRoaXMuc2tlbGV0b25zLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMuc2tlbGV0b25zW3JdLmlkPT09dClyZXR1cm4gdGhpcy5za2VsZXRvbnNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFNrZWxldG9uQnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspaWYodGhpcy5za2VsZXRvbnNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLnNrZWxldG9uc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0U2tlbGV0b25CeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3IrKylpZih0aGlzLnNrZWxldG9uc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRTa2VsZXRvbkJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMuc2tlbGV0b25zLmxlbmd0aDtyKyspaWYodGhpcy5za2VsZXRvbnNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDtyKyspaWYodGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNb3JwaFRhcmdldEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrcilmb3IodmFyIG49dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3JdLGE9MDthPG4ubnVtVGFyZ2V0czsrK2Epe3ZhciBzPW4uZ2V0VGFyZ2V0KGEpO2lmKHMuaWQ9PT10KXJldHVybiBzfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNb3JwaFRhcmdldEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7KytyKWZvcih2YXIgbj10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbcl0sYT0wO2E8bi5udW1UYXJnZXRzOysrYSl7dmFyIHM9bi5nZXRUYXJnZXQoYSk7aWYocy5uYW1lPT09dClyZXR1cm4gc31yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0UG9zdFByb2Nlc3NCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOysrcil7dmFyIG49dGhpcy5wb3N0UHJvY2Vzc2VzW3JdO2lmKG4ubmFtZT09PXQpcmV0dXJuIG59cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzQWN0aXZlTWVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YodCkhPT0tMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1aWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPWllLlJhbmRvbUlkKCkpLHRoaXMuX3VpZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hZGRFeHRlcm5hbERhdGE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBJaSksdGhpcy5fZXh0ZXJuYWxEYXRhLmFkZCh0LHIpfSxlLnByb3RvdHlwZS5nZXRFeHRlcm5hbERhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YT90aGlzLl9leHRlcm5hbERhdGEuZ2V0KHQpOm51bGx9LGUucHJvdG90eXBlLmdldE9yQWRkRXh0ZXJuYWxEYXRhV2l0aEZhY3Rvcnk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBJaSksdGhpcy5fZXh0ZXJuYWxEYXRhLmdldE9yQWRkV2l0aEZhY3RvcnkodCxyKX0sZS5wcm90b3R5cGUucmVtb3ZlRXh0ZXJuYWxEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGEucmVtb3ZlKHQpfSxlLnByb3RvdHlwZS5fZXZhbHVhdGVTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtpZihuLmhhc0luc3RhbmNlc3x8bi5pc0FuSW5zdGFuY2V8fHRoaXMuZGlzcGF0Y2hBbGxTdWJNZXNoZXNPZkFjdGl2ZU1lc2hlc3x8dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ3x8ci5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2h8fHIuc3ViTWVzaGVzLmxlbmd0aD09PTF8fHQuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpe2Zvcih2YXIgYT0wLHM9dGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2U7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5hY3Rpb24ocix0KX12YXIgdT10LmdldE1hdGVyaWFsKCk7dSE9bnVsbCYmKHUuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJnUuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKHUpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaCh1KSx0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh1LmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKHQscix1KSl9fSxlLnByb3RvdHlwZS5mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzPWZ1bmN0aW9uKCl7dGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmRpc3Bvc2UoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyE9PXQmJih0JiYodGhpcy5mcmVlQWN0aXZlTWVzaGVzKCksdGhpcy5mcmVlUmVuZGVyaW5nR3JvdXBzKCkpLHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmZyZWVBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzJiZ0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYXMpKWZvcih2YXIgdD0wO3Q8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuYWN0aXZlQ2FtZXJhc1t0XTtyJiZyLl9hY3RpdmVNZXNoZXMmJnIuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCl9fSxlLnByb3RvdHlwZS5mcmVlUmVuZGVyaW5nR3JvdXBzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzJiYodGhpcy5fcmVuZGVyaW5nTWFuYWdlciYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy50ZXh0dXJlcykpZm9yKHZhciB0PTA7dDx0aGlzLnRleHR1cmVzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMudGV4dHVyZXNbdF07ciYmci5yZW5kZXJMaXN0JiZyLmZyZWVSZW5kZXJpbmdHcm91cHMoKX19LGUucHJvdG90eXBlLl9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZ30sZS5wcm90b3R5cGUuZnJlZXplQWN0aXZlTWVzaGVzPWZ1bmN0aW9uKHQscixuLGEpe3ZhciBzPXRoaXM7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxhPT09dm9pZCAwJiYoYT0hMCksdGhpcy5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7aWYoIXMuYWN0aXZlQ2FtZXJhKXtuJiZuKCJObyBhY3RpdmUgY2FtZXJhIGZvdW5kIik7cmV0dXJufWlmKHMuX2ZydXN0dW1QbGFuZXN8fHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCkscy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKSxzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITAscy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT10LGEpZm9yKHZhciBvPTA7bzxzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO28rKylzLl9hY3RpdmVNZXNoZXMuZGF0YVtvXS5fZnJlZXplKCk7ciYmcigpfSksdGhpc30sZS5wcm90b3R5cGUudW5mcmVlemVBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMubWVzaGVzW3RdO3IuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8mJihyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSl9Zm9yKHZhciB0PTA7dDx0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO3QrKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVt0XS5fdW5GcmVlemUoKTtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSExLHRoaXN9LGUucHJvdG90eXBlLl9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmcmJnRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xOyFyJiZ0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW4mJnRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGh8fHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZE9uY2UoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwb3NlKCl9KX0sZS5wcm90b3R5cGUuX2V2YWx1YXRlQWN0aXZlTWVzaGVzPWZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSl7dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aD4wJiYoKHQ9dGhpcy5hY3RpdmVDYW1lcmEpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5yZXNldCgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5yZXNldCgpKTtyZXR1cm59aWYodGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuJiZ0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoKXtpZighdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseSlmb3IodmFyIHI9dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aCxuPTA7bjxyO24rKyl7dmFyIGE9dGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbbl07YS5jb21wdXRlV29ybGRNYXRyaXgoKX1pZih0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMpZm9yKHZhciBzPXRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5sZW5ndGgsbj0wO248cztuKyspdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRhdGFbbl0uYW5pbWF0ZSgpO3JldHVybn1pZighIXRoaXMuYWN0aXZlQ2FtZXJhKXt0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLnJlc2V0KCksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnJlc2V0KCk7Zm9yKHZhciBvPTAsdT10aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZTtvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmFjdGlvbigpfWZvcih2YXIgbD10aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzKCksaD1sLmxlbmd0aCxuPTA7bjxoO24rKyl7dmFyIGE9bC5kYXRhW25dO2lmKGEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLCFhLmlzQmxvY2tlZCYmKHRoaXMuX3RvdGFsVmVydGljZXMuYWRkQ291bnQoYS5nZXRUb3RhbFZlcnRpY2VzKCksITEpLCEoIWEuaXNSZWFkeSgpfHwhYS5pc0VuYWJsZWQoKXx8YS5zY2FsaW5nLmxlbmd0aFNxdWFyZWQoKT09PTApKSl7YS5jb21wdXRlV29ybGRNYXRyaXgoKSxhLmFjdGlvbk1hbmFnZXImJmEuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXJzMigxMiwxMykmJnRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMucHVzaE5vRHVwbGljYXRlKGEpO3ZhciBjPXRoaXMuY3VzdG9tTE9EU2VsZWN0b3I/dGhpcy5jdXN0b21MT0RTZWxlY3RvcihhLHRoaXMuYWN0aXZlQ2FtZXJhKTphLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYSk7aWYoYS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRD1jLGEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwLGMhPW51bGwmJihjIT09YSYmYy5iaWxsYm9hcmRNb2RlIT09MCYmYy5jb21wdXRlV29ybGRNYXRyaXgoKSxhLl9wcmVBY3RpdmF0ZSgpLGEuaXNWaXNpYmxlJiZhLnZpc2liaWxpdHk+MCYmKGEubGF5ZXJNYXNrJnRoaXMuYWN0aXZlQ2FtZXJhLmxheWVyTWFzaykhPT0wJiYodGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ3x8YS5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2h8fGEuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpKSl7dGhpcy5fYWN0aXZlTWVzaGVzLnB1c2goYSksdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5wdXNoKGEpLGMhPT1hJiZjLl9hY3RpdmF0ZSh0aGlzLl9yZW5kZXJJZCwhMSk7Zm9yKHZhciBkPTAscD10aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2U7ZDxwLmxlbmd0aDtkKyspe3ZhciBmPXBbZF07Zi5hY3Rpb24oYSl9YS5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpJiYoYS5pc0FuSW5zdGFuY2U/YS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaCYmKGM9YSk6Yy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcz0hMSxjLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMCx0aGlzLl9hY3RpdmVNZXNoKGEsYykpLGEuX3Bvc3RBY3RpdmF0ZSgpfX19aWYodGhpcy5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGFydGljbGVzRW5hYmxlZCl7dGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcih2YXIgXz0wO188dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO18rKyl7dmFyIGc9dGhpcy5wYXJ0aWNsZVN5c3RlbXNbX107aWYoISghZy5pc1N0YXJ0ZWQoKXx8IWcuZW1pdHRlcikpe3ZhciBtPWcuZW1pdHRlcjsoIW0ucG9zaXRpb258fG0uaXNFbmFibGVkKCkpJiYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnB1c2goZyksZy5hbmltYXRlKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhnKSl9fXRoaXMub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfX19LGUucHJvdG90eXBlLl9hY3RpdmVNZXNoPWZ1bmN0aW9uKHQscil7aWYodGhpcy5fc2tlbGV0b25zRW5hYmxlZCYmci5za2VsZXRvbiE9PW51bGwmJnIuc2tlbGV0b24hPT12b2lkIDAmJih0aGlzLl9hY3RpdmVTa2VsZXRvbnMucHVzaE5vRHVwbGljYXRlKHIuc2tlbGV0b24pJiYoci5za2VsZXRvbi5wcmVwYXJlKCksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQoci5za2VsZXRvbi5ib25lcy5sZW5ndGgsITEpKSxyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnB1c2hOb0R1cGxpY2F0ZShyKSksciE9bnVsbCYmci5zdWJNZXNoZXMhPT12b2lkIDAmJnIuc3ViTWVzaGVzIT09bnVsbCYmci5zdWJNZXNoZXMubGVuZ3RoPjApZm9yKHZhciBuPXRoaXMuZ2V0QWN0aXZlU3ViTWVzaENhbmRpZGF0ZXMociksYT1uLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIG89bi5kYXRhW3NdO3RoaXMuX2V2YWx1YXRlU3ViTWVzaChvLHIsdCl9fSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24odCl7aWYoISF0aGlzLmFjdGl2ZUNhbWVyYSlpZih0aGlzLmFjdGl2ZUNhbWVyYS5fcmVuZGVyaW5nTXVsdGl2aWV3KXt2YXIgcj10aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1swXSxuPXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzFdO3RoaXMuc2V0VHJhbnNmb3JtTWF0cml4KHIuZ2V0Vmlld01hdHJpeCgpLHIuZ2V0UHJvamVjdGlvbk1hdHJpeCh0KSxuLmdldFZpZXdNYXRyaXgoKSxuLmdldFByb2plY3Rpb25NYXRyaXgodCkpfWVsc2UgdGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHRoaXMuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgodCkpfSxlLnByb3RvdHlwZS5fYmluZEZyYW1lQnVmZmVyPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITApLHQmJnQuX211bHRpdmlld1RleHR1cmU/dC5fbXVsdGl2aWV3VGV4dHVyZS5fYmluZEZyYW1lQnVmZmVyKCk6dCYmdC5vdXRwdXRSZW5kZXJUYXJnZXQ/dC5vdXRwdXRSZW5kZXJUYXJnZXQuX2JpbmRGcmFtZUJ1ZmZlcigpOnRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXIoKXx8dGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSxyJiZ0aGlzLl9jbGVhckZyYW1lQnVmZmVyKHQpfSxlLnByb3RvdHlwZS5fY2xlYXJGcmFtZUJ1ZmZlcj1mdW5jdGlvbih0KXtpZighKHQmJnQuX211bHRpdmlld1RleHR1cmUpKWlmKHQmJnQub3V0cHV0UmVuZGVyVGFyZ2V0KXt2YXIgcj10Lm91dHB1dFJlbmRlclRhcmdldDtyLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3Iub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX2VuZ2luZSk6ci5za2lwSW5pdGlhbENsZWFyfHwodGhpcy5fZW5naW5lLmNsZWFyKHIuY2xlYXJDb2xvcnx8dGhpcy5jbGVhckNvbG9yLCFyLl9jbGVhcmVkLCEwLCEwKSxyLl9jbGVhcmVkPSEwKX1lbHNlIHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ/dGhpcy5fZW5naW5lLmNsZWFyKG51bGwsITEsITAsITApOih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSEwLHRoaXMuX2NsZWFyKCkpfSxlLnByb3RvdHlwZS5fcmVuZGVyRm9yQ2FtZXJhPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzLG87aWYobj09PXZvaWQgMCYmKG49ITApLCEodCYmdC5fc2tpcFJlbmRlcmluZykpe3ZhciB1PXRoaXMuX2VuZ2luZTtpZih0aGlzLl9hY3RpdmVDYW1lcmE9dCwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpZih1LnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLl9yZW5kZXJJZCsrLCF0aGlzLnByZVBhc3MmJm4pe3ZhciBmPSEwO3QuX3JlbmRlcmluZ011bHRpdmlldyYmdC5vdXRwdXRSZW5kZXJUYXJnZXQmJihmPXQub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXIsdGhpcy5hdXRvQ2xlYXImJih0Lm91dHB1dFJlbmRlclRhcmdldC5za2lwSW5pdGlhbENsZWFyPSExKSksdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSksdC5fcmVuZGVyaW5nTXVsdGl2aWV3JiZ0Lm91dHB1dFJlbmRlclRhcmdldCYmKHQub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9Zil9dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5hY3RpdmVDYW1lcmEpLHRoaXMuX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCk7Zm9yKHZhciBsPTA7bDx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMubGVuZ3RoO2wrKyl7dmFyIGg9dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLmRhdGFbbF07aC5hcHBseVNrZWxldG9uKGguc2tlbGV0b24pfXRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdC5jdXN0b21SZW5kZXJUYXJnZXRzJiZ0LmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjAmJnRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHQuY3VzdG9tUmVuZGVyVGFyZ2V0cyksciYmci5jdXN0b21SZW5kZXJUYXJnZXRzJiZyLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjAmJnRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHIuY3VzdG9tUmVuZGVyVGFyZ2V0cyksdGhpcy5lbnZpcm9ubWVudFRleHR1cmUmJnRoaXMuZW52aXJvbm1lbnRUZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9yZW5kZXJUYXJnZXRzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLmVudmlyb25tZW50VGV4dHVyZSk7Zm9yKHZhciBjPTAsZD10aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U7YzxkLmxlbmd0aDtjKyspe3ZhciBwPWRbY107cC5hY3Rpb24odGhpcy5fcmVuZGVyVGFyZ2V0cyl9dmFyIF89ITE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7aWYodGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApe2llLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCk7Zm9yKHZhciBnPTA7Zzx0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aDtnKyspe3ZhciBtPXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtnXTtpZihtLl9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKzt2YXIgdj1tLmFjdGl2ZUNhbWVyYSYmbS5hY3RpdmVDYW1lcmEhPT10aGlzLmFjdGl2ZUNhbWVyYTttLnJlbmRlcih2LHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzKSxfPSEwfX1pZS5FbmRQZXJmb3JtYW5jZUNvdW50ZXIoIlJlbmRlciB0YXJnZXRzIix0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aD4wKSx0aGlzLl9yZW5kZXJJZCsrfWZvcih2YXIgUz0wLE09dGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlO1M8TS5sZW5ndGg7UysrKXt2YXIgcD1NW1NdO189cC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfHxffXRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMX10aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZD0obz0ocz0oYT10Lm91dHB1dFJlbmRlclRhcmdldCk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnJlbmRlclBhc3NJZCkhPT1udWxsJiZzIT09dm9pZCAwP3M6dC5yZW5kZXJQYXNzSWQpIT09bnVsbCYmbyE9PXZvaWQgMD9vOjAsXyYmIXRoaXMucHJlUGFzcyYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSwhMSksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhdC5fbXVsdGl2aWV3VGV4dHVyZSYmIXRoaXMucHJlUGFzcyYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSgpO2Zvcih2YXIgQT0wLFI9dGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlO0E8Ui5sZW5ndGg7QSsrKXt2YXIgcD1SW0FdO3AuYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKX10aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdS5zbmFwc2hvdFJlbmRlcmluZyYmdS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcih2YXIgeT0wLEM9dGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U7eTxDLmxlbmd0aDt5Kyspe3ZhciBwPUNbeV07cC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfWlmKHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhdC5fbXVsdGl2aWV3VGV4dHVyZSl7dmFyIHc9dC5vdXRwdXRSZW5kZXJUYXJnZXQ/dC5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSh0LmlzSW50ZXJtZWRpYXRlLHcpfXRoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSl9fSxlLnByb3RvdHlwZS5fcHJvY2Vzc1N1YkNhbWVyYXM9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMCksdC5jYW1lcmFSaWdNb2RlPT09MHx8dC5fcmVuZGVyaW5nTXVsdGl2aWV3KXt0Ll9yZW5kZXJpbmdNdWx0aXZpZXcmJiF0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fY3JlYXRlTXVsdGl2aWV3VWJvKCksdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKHQsdm9pZCAwLHIpLHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpO3JldHVybn1pZih0Ll91c2VNdWx0aXZpZXdUb1NpbmdsZVZpZXcpdGhpcy5fcmVuZGVyTXVsdGl2aWV3VG9TaW5nbGVWaWV3KHQpO2Vsc2V7dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpO2Zvcih2YXIgbj0wO248dC5fcmlnQ2FtZXJhcy5sZW5ndGg7bisrKXRoaXMuX3JlbmRlckZvckNhbWVyYSh0Ll9yaWdDYW1lcmFzW25dLHQpfXRoaXMuX2FjdGl2ZUNhbWVyYT10LHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9LGUucHJvdG90eXBlLl9jaGVja0ludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kYXRhW3RdO2lmKCEhci5hY3Rpb25NYW5hZ2VyKWZvcih2YXIgbj0wO3IuYWN0aW9uTWFuYWdlciYmbjxyLmFjdGlvbk1hbmFnZXIuYWN0aW9ucy5sZW5ndGg7bisrKXt2YXIgYT1yLmFjdGlvbk1hbmFnZXIuYWN0aW9uc1tuXTtpZihhLnRyaWdnZXI9PT0xMnx8YS50cmlnZ2VyPT09MTMpe3ZhciBzPWEuZ2V0VHJpZ2dlclBhcmFtZXRlcigpLG89cy5tZXNoP3MubWVzaDpzLHU9by5pbnRlcnNlY3RzTWVzaChyLHMudXNlUHJlY2lzZUludGVyc2VjdGlvbiksZj1yLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKG8pO3UmJmY9PT0tMT9hLnRyaWdnZXI9PT0xMj8oYS5fZXhlY3V0ZUN1cnJlbnQod2UuQ3JlYXRlTmV3KHIsdm9pZCAwLG8pKSxyLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKG8pKTphLnRyaWdnZXI9PT0xMyYmci5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MucHVzaChvKTohdSYmZj4tMSYmKGEudHJpZ2dlcj09PTEzJiZhLl9leGVjdXRlQ3VycmVudCh3ZS5DcmVhdGVOZXcocix2b2lkIDAsbykpLCghci5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcigxMyxmdW5jdGlvbihsKXt2YXIgaD1sLm1lc2g/bC5tZXNoOmw7cmV0dXJuIG89PT1ofSl8fGEudHJpZ2dlcj09PTEzKSYmci5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3Muc3BsaWNlKGYsMSkpfX19fSxlLnByb3RvdHlwZS5fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX2FuaW1hdGU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24oKXtpZih0aGlzLl9lbmdpbmUuaXNEZXRlcm1pbmlzdGljTG9ja1N0ZXAoKSl7dmFyIHQ9TWF0aC5tYXgoZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLGUuTWF4RGVsdGFUaW1lKSkrdGhpcy5fdGltZUFjY3VtdWxhdG9yLHI9dGhpcy5fZW5naW5lLmdldFRpbWVTdGVwKCksbj0xZTMvci8xZTMsYT0wLHM9dGhpcy5fZW5naW5lLmdldExvY2tzdGVwTWF4U3RlcHMoKSxvPU1hdGguZmxvb3IodC9yKTtmb3Iobz1NYXRoLm1pbihvLHMpO3Q+MCYmYTxvOyl0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2FuaW1hdGlvblJhdGlvPXIqbix0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChyKSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY3VycmVudFN0ZXBJZCsrLGErKyx0LT1yO3RoaXMuX3RpbWVBY2N1bXVsYXRvcj10PDA/MDp0fWVsc2V7dmFyIHQ9dGhpcy51c2VDb25zdGFudEFuaW1hdGlvbkRlbHRhVGltZT8xNjpNYXRoLm1heChlLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksZS5NYXhEZWx0YVRpbWUpKTt0aGlzLl9hbmltYXRpb25SYXRpbz10Kig2MC8xZTMpLHRoaXMuX2FuaW1hdGUoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5waHlzaWNzRW5hYmxlZCYmdGhpcy5fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwKHQpfX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7KHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsfHx0aGlzLmF1dG9DbGVhcikmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3IsdGhpcy5hdXRvQ2xlYXJ8fHRoaXMuZm9yY2VXaXJlZnJhbWV8fHRoaXMuZm9yY2VQb2ludHNDbG91ZCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCl9LGUucHJvdG90eXBlLmNoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKHQpe3ZhciByO2lmKCh0PT1udWxsP3ZvaWQgMDp0Lm91dHB1dFJlbmRlclRhcmdldCkmJiEodD09bnVsbD92b2lkIDA6dC5pc1JpZ0NhbWVyYSkmJih0Lm91dHB1dFJlbmRlclRhcmdldC5fY2xlYXJlZD0hMSksKHI9dD09bnVsbD92b2lkIDA6dC5yaWdDYW1lcmFzKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIubGVuZ3RoKWZvcih2YXIgbj0wO248dC5yaWdDYW1lcmFzLmxlbmd0aDsrK24pe3ZhciBhPXQucmlnQ2FtZXJhc1tuXS5vdXRwdXRSZW5kZXJUYXJnZXQ7YSYmKGEuX2NsZWFyZWQ9ITEpfX0sZS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24odCl7aWYoISF0aGlzLm1lc2hlcylmb3IodmFyIHI9MCxuPXRoaXMubWVzaGVzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EucmVzZXREcmF3Q2FjaGUodCl9fSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxyKXt2YXIgbixhLHM7aWYodD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSExKSwhdGhpcy5pc0Rpc3Bvc2VkKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KCksdGhpcy5fZnJhbWVJZCsrLHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITEsdGhpcy5jaGVja0NhbWVyYVJlbmRlclRhcmdldCh0aGlzLmFjdGl2ZUNhbWVyYSksKChuPXRoaXMuYWN0aXZlQ2FtZXJhcyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmxlbmd0aCkmJnRoaXMuYWN0aXZlQ2FtZXJhcy5mb3JFYWNoKHRoaXMuY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQpLHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fdG90YWxWZXJ0aWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlSW5kaWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlQm9uZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMucmVzZXQoKSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aW9uTWFuYWdlciYmdGhpcy5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDExKSxyfHx0aGlzLmFuaW1hdGUoKTtmb3IodmFyIG89MCx1PXRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2YuYWN0aW9uKCl9aWYodCl7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKHZhciBsPTA7bDx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO2wrKyl7dmFyIGg9dGhpcy5hY3RpdmVDYW1lcmFzW2xdO2lmKGgudXBkYXRlKCksaC5jYW1lcmFSaWdNb2RlIT09MClmb3IodmFyIGM9MDtjPGguX3JpZ0NhbWVyYXMubGVuZ3RoO2MrKyloLl9yaWdDYW1lcmFzW2NdLnVwZGF0ZSgpfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS51cGRhdGUoKSx0aGlzLmFjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MCkpZm9yKHZhciBjPTA7Yzx0aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhcy5sZW5ndGg7YysrKXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzW2NdLnVwZGF0ZSgpfXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgZD10aGlzLmdldEVuZ2luZSgpO3RoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIHA9KChhPXRoaXMuYWN0aXZlQ2FtZXJhcyk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmxlbmd0aCk/dGhpcy5hY3RpdmVDYW1lcmFzWzBdOnRoaXMuYWN0aXZlQ2FtZXJhO2lmKHRoaXMucmVuZGVyVGFyZ2V0c0VuYWJsZWQpe2llLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwO2Zvcih2YXIgXz0wO188dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aDtfKyspe3ZhciBnPXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1tfXTtpZihnLl9zaG91bGRSZW5kZXIoKSl7aWYodGhpcy5fcmVuZGVySWQrKyx0aGlzLmFjdGl2ZUNhbWVyYT1nLmFjdGl2ZUNhbWVyYXx8dGhpcy5hY3RpdmVDYW1lcmEsIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7ZC5zZXRWaWV3cG9ydCh0aGlzLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCksdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxnLnJlbmRlcihwIT09dGhpcy5hY3RpdmVDYW1lcmEsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpfX1pZS5FbmRQZXJmb3JtYW5jZUNvdW50ZXIoIkN1c3RvbSByZW5kZXIgdGFyZ2V0cyIsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wKSx0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITEsdGhpcy5fcmVuZGVySWQrK310aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZD0ocz1wPT1udWxsP3ZvaWQgMDpwLnJlbmRlclBhc3NJZCkhPT1udWxsJiZzIT09dm9pZCAwP3M6MCx0aGlzLmFjdGl2ZUNhbWVyYT1wLHRoaXMuX2FjdGl2ZUNhbWVyYSYmdGhpcy5fYWN0aXZlQ2FtZXJhLmNhbWVyYVJpZ01vZGUhPT0yMiYmIXRoaXMucHJlUGFzcyYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSwhMSksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcih2YXIgbT0wLHY9dGhpcy5fYmVmb3JlQ2xlYXJTdGFnZTttPHYubGVuZ3RoO20rKyl7dmFyIGY9dlttXTtmLmFjdGlvbigpfXRoaXMuX2NsZWFyRnJhbWVCdWZmZXIodGhpcy5hY3RpdmVDYW1lcmEpO2Zvcih2YXIgUz0wLE09dGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlO1M8TS5sZW5ndGg7UysrKXt2YXIgZj1NW1NdO2YuYWN0aW9uKHRoaXMuX3JlbmRlclRhcmdldHMpfWlmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcih2YXIgbD0wO2w8dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtsKyspdGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmFzW2xdLGw+MCk7ZWxzZXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJObyBjYW1lcmEgZGVmaW5lZCIpO3RoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhLCEhdGhpcy5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0KX10aGlzLl9jaGVja0ludGVyc2VjdGlvbnMoKTtmb3IodmFyIEE9MCxSPXRoaXMuX2FmdGVyUmVuZGVyU3RhZ2U7QTxSLmxlbmd0aDtBKyspe3ZhciBmPVJbQV07Zi5hY3Rpb24oKX1pZih0aGlzLmFmdGVyUmVuZGVyJiZ0aGlzLmFmdGVyUmVuZGVyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aCl7Zm9yKHZhciBjPTA7Yzx0aGlzLl90b0JlRGlzcG9zZWQubGVuZ3RoO2MrKyl7dmFyIHk9dGhpcy5fdG9CZURpc3Bvc2VkW2NdO3kmJnkuZGlzcG9zZSgpfXRoaXMuX3RvQmVEaXNwb3NlZD1bXX10aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyYmKHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpfX0sZS5wcm90b3R5cGUuZnJlZXplTWF0ZXJpYWxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLm1hdGVyaWFscy5sZW5ndGg7dCsrKXRoaXMubWF0ZXJpYWxzW3RdLmZyZWV6ZSgpfSxlLnByb3RvdHlwZS51bmZyZWV6ZU1hdGVyaWFscz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3QrKyl0aGlzLm1hdGVyaWFsc1t0XS51bmZyZWV6ZSgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ7aWYoIXRoaXMuaXNEaXNwb3NlZCl7dGhpcy5iZWZvcmVSZW5kZXI9bnVsbCx0aGlzLmFmdGVyUmVuZGVyPW51bGwsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMuc2tlbGV0b25zPVtdLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycz1bXSx0aGlzLl90cmFuc2llbnRDb21wb25lbnRzPVtdLHRoaXMuX2lzUmVhZHlGb3JNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fcHJlQWN0aXZlTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyVGFyZ2V0RHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlcmluZ01lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlckNhbWVyYURyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyVGFyZ2V0RHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlQ2xlYXJTdGFnZS5jbGVhcigpLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZS5jbGVhcigpLHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJNb3ZlU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyRG93blN0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlclVwU3RhZ2UuY2xlYXIoKSx0aGlzLmltcG9ydGVkTWVzaGVzRmlsZXM9bmV3IEFycmF5LHRoaXMuc3RvcEFsbEFuaW1hdGlvbnMmJnRoaXMuc3RvcEFsbEFuaW1hdGlvbnMoKSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLmFjdGl2ZUNhbWVyYSYmKHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhPW51bGwpLHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMuZGlzcG9zZSgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5kaXNwb3NlKCksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXRzLmRpc3Bvc2UoKSx0aGlzLl9yZWdpc3RlcmVkRm9yTGF0ZUFuaW1hdGlvbkJpbmRpbmdzLmRpc3Bvc2UoKSx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLmRpc3Bvc2UoKSx0aGlzLl90b0JlRGlzcG9zZWQ9W107Zm9yKHZhciByPTAsbj10aGlzLl9hY3RpdmVSZXF1ZXN0cztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLmFib3J0KCl9dGhpcy5fYWN0aXZlUmVxdWVzdHM9W10sdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbktleWJvYXJkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkLmNsZWFyKCksdGhpcy5vbkNvbXB1dGVQcmVzc3VyZUNoYW5nZWQuY2xlYXIoKSwodD10aGlzLl9jb21wdXRlUHJlc3N1cmVPYnNlcnZlcik9PT1udWxsfHx0PT09dm9pZCAwfHx0LnVub2JzZXJ2ZSgpLHRoaXMuX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyPXZvaWQgMCx0aGlzLmRldGFjaENvbnRyb2woKTt2YXIgcz10aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCk7aWYocyl7dmFyIG87Zm9yKG89MDtvPHRoaXMuY2FtZXJhcy5sZW5ndGg7bysrKXRoaXMuY2FtZXJhc1tvXS5kZXRhY2hDb250cm9sKCl9Zm9yKDt0aGlzLmFuaW1hdGlvbkdyb3Vwcy5sZW5ndGg7KXRoaXMuYW5pbWF0aW9uR3JvdXBzWzBdLmRpc3Bvc2UoKTtmb3IoO3RoaXMubGlnaHRzLmxlbmd0aDspdGhpcy5saWdodHNbMF0uZGlzcG9zZSgpO2Zvcig7dGhpcy5tZXNoZXMubGVuZ3RoOyl0aGlzLm1lc2hlc1swXS5kaXNwb3NlKCEwKTtmb3IoO3RoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoOyl0aGlzLnRyYW5zZm9ybU5vZGVzWzBdLmRpc3Bvc2UoITApO2Zvcig7dGhpcy5jYW1lcmFzLmxlbmd0aDspdGhpcy5jYW1lcmFzWzBdLmRpc3Bvc2UoKTtmb3IodGhpcy5fZGVmYXVsdE1hdGVyaWFsJiZ0aGlzLl9kZWZhdWx0TWF0ZXJpYWwuZGlzcG9zZSgpO3RoaXMubXVsdGlNYXRlcmlhbHMubGVuZ3RoOyl0aGlzLm11bHRpTWF0ZXJpYWxzWzBdLmRpc3Bvc2UoKTtmb3IoO3RoaXMubWF0ZXJpYWxzLmxlbmd0aDspdGhpcy5tYXRlcmlhbHNbMF0uZGlzcG9zZSgpO2Zvcig7dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoOyl0aGlzLnBhcnRpY2xlU3lzdGVtc1swXS5kaXNwb3NlKCk7Zm9yKDt0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOyl0aGlzLnBvc3RQcm9jZXNzZXNbMF0uZGlzcG9zZSgpO2Zvcig7dGhpcy50ZXh0dXJlcy5sZW5ndGg7KXRoaXMudGV4dHVyZXNbMF0uZGlzcG9zZSgpO2Zvcig7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDspdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzWzBdLmRpc3Bvc2UoKTt0aGlzLl9zY2VuZVViby5kaXNwb3NlKCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJnRoaXMuX211bHRpdmlld1NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCk7Zm9yKHZhciB1PTAsZj10aGlzLl9jb21wb25lbnRzO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wuZGlzcG9zZSgpfW89dGhpcy5fZW5naW5lLnNjZW5lcy5pbmRleE9mKHRoaXMpLG8+LTEmJnRoaXMuX2VuZ2luZS5zY2VuZXMuc3BsaWNlKG8sMSksSi5fTGFzdENyZWF0ZWRTY2VuZT09PXRoaXMmJih0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aD4wP0ouX0xhc3RDcmVhdGVkU2NlbmU9dGhpcy5fZW5naW5lLnNjZW5lc1t0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aC0xXTpKLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwpLG89dGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLmluZGV4T2YodGhpcyksbz4tMSYmdGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnNwbGljZShvLDEpLHRoaXMuX2VuZ2luZS53aXBlQ2FjaGVzKCEwKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0Rpc3Bvc2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY2xlYXJDYWNoZWRWZXJ0ZXhEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLm1lc2hlc1t0XSxuPXIuZ2VvbWV0cnk7biYmbi5jbGVhckNhY2hlZERhdGEoKX19LGUucHJvdG90eXBlLmNsZWFuQ2FjaGVkVGV4dHVyZUJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy50ZXh0dXJlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XSxhPW4uX2J1ZmZlcjthJiYobi5fYnVmZmVyPW51bGwpfX0sZS5wcm90b3R5cGUuZ2V0V29ybGRFeHRlbmRzPWZ1bmN0aW9uKHQpe3ZhciByPW5ldyBFKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBFKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gdD10fHxmdW5jdGlvbigpe3JldHVybiEwfSx0aGlzLm1lc2hlcy5maWx0ZXIodCkuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksISghYS5zdWJNZXNoZXN8fGEuc3ViTWVzaGVzLmxlbmd0aD09PTB8fGEuaW5maW5pdGVEaXN0YW5jZSkpe3ZhciBzPWEuZ2V0Qm91bmRpbmdJbmZvKCksbz1zLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx1PXMuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkO0UuQ2hlY2tFeHRlbmRzKG8scixuKSxFLkNoZWNrRXh0ZW5kcyh1LHIsbil9fSkse21pbjpyLG1heDpufX0sZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheT1mdW5jdGlvbih0LHIsbixhLHMpe3Rocm93IFUoIlJheSIpfSxlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5VG9SZWY9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7dGhyb3cgVSgiUmF5Iil9LGUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKHQscixuKXt0aHJvdyBVKCJSYXkiKX0sZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZj1mdW5jdGlvbih0LHIsbixhKXt0aHJvdyBVKCJSYXkiKX0sZS5wcm90b3R5cGUucGljaz1mdW5jdGlvbih0LHIsbixhLHMsbyl7dmFyIHU9bmV3IEplO3JldHVybiB1Ll9waWNraW5nVW5hdmFpbGFibGU9ITAsdX0sZS5wcm90b3R5cGUucGlja1dpdGhCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz1uZXcgSmU7cmV0dXJuIG8uX3BpY2tpbmdVbmF2YWlsYWJsZT0hMCxvfSxlLnByb3RvdHlwZS5waWNrV2l0aFJheT1mdW5jdGlvbih0LHIsbixhKXt0aHJvdyBVKCJSYXkiKX0sZS5wcm90b3R5cGUubXVsdGlQaWNrPWZ1bmN0aW9uKHQscixuLGEscyl7dGhyb3cgVSgiUmF5Iil9LGUucHJvdG90eXBlLm11bHRpUGlja1dpdGhSYXk9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFUoIlJheSIpfSxlLnByb3RvdHlwZS5zZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24odCxyLG4pe3RoaXMuX2lucHV0TWFuYWdlci5zZXRQb2ludGVyT3Zlck1lc2godCxyLG4pfSxlLnByb3RvdHlwZS5nZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLmdldFBvaW50ZXJPdmVyTWVzaCgpfSxlLnByb3RvdHlwZS5fcmVidWlsZEdlb21ldHJpZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuZ2VvbWV0cmllczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9yZWJ1aWxkKCl9Zm9yKHZhciBhPTAscz10aGlzLm1lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLl9yZWJ1aWxkKCl9dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJnRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCk7Zm9yKHZhciB1PTAsZj10aGlzLl9jb21wb25lbnRzO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wucmVidWlsZCgpfWZvcih2YXIgaD0wLGM9dGhpcy5wYXJ0aWNsZVN5c3RlbXM7aDxjLmxlbmd0aDtoKyspe3ZhciBkPWNbaF07ZC5yZWJ1aWxkKCl9aWYodGhpcy5zcHJpdGVNYW5hZ2Vycylmb3IodmFyIHA9MCxfPXRoaXMuc3ByaXRlTWFuYWdlcnM7cDxfLmxlbmd0aDtwKyspe3ZhciBnPV9bcF07Zy5yZWJ1aWxkKCl9fSxlLnByb3RvdHlwZS5fcmVidWlsZFRleHR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLnRleHR1cmVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3JlYnVpbGQoKX10aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfSxlLnByb3RvdHlwZS5fZ2V0QnlUYWdzPWZ1bmN0aW9uKHQscixuKXtpZihyPT09dm9pZCAwKXJldHVybiB0O3ZhciBhPVtdO249bnx8ZnVuY3Rpb24odSl7fTtmb3IodmFyIHMgaW4gdCl7dmFyIG89dFtzXTtzZSYmc2UuTWF0Y2hlc1F1ZXJ5KG8scikmJihhLnB1c2gobyksbihvKSl9cmV0dXJuIGF9LGUucHJvdG90eXBlLmdldE1lc2hlc0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tZXNoZXMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0Q2FtZXJhc0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5jYW1lcmFzLHQscil9LGUucHJvdG90eXBlLmdldExpZ2h0c0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5saWdodHMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeVRhZ3M9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWF0ZXJpYWxzLHQscikuY29uY2F0KHRoaXMuX2dldEJ5VGFncyh0aGlzLm11bHRpTWF0ZXJpYWxzLHQscikpfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy50cmFuc2Zvcm1Ob2Rlcyx0LHIpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdPcmRlcj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKHQscixuLGEpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24odCxyLG4sYSl7bj09PXZvaWQgMCYmKG49ITApLGE9PT12b2lkIDAmJihhPSEwKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbCh0LHIsbixhKX0sZS5wcm90b3R5cGUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSE9PXQmJih0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc209dCx0fHx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDYzKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubWFya0FsbE1hdGVyaWFsc0FzRGlydHk9ZnVuY3Rpb24odCxyKXtpZighdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKWZvcih2YXIgbj0wLGE9dGhpcy5tYXRlcmlhbHM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07ciYmIXIocyl8fHMubWFya0FzRGlydHkodCl9fSxlLnByb3RvdHlwZS5fbG9hZEZpbGU9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7dmFyIGY9dGhpcyxsPUR0KHQscixuLGE/dGhpcy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLHMsbyx1KTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChsKSxsLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihoKXtmLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UoZi5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLGx9LGUucHJvdG90eXBlLl9sb2FkRmlsZUFzeW5jPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG89dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odSxmKXtvLl9sb2FkRmlsZSh0LGZ1bmN0aW9uKGwpe3UobCl9LHIsbixhLGZ1bmN0aW9uKGwsaCl7ZihoKX0scyl9KX0sZS5wcm90b3R5cGUuX3JlcXVlc3RGaWxlPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe3ZhciBmPXRoaXMsbD1qcih0LHIsbixhP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxzLG8sdSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobCksbC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oaCl7Zi5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKGYuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoaCksMSl9KSxsfSxlLnByb3RvdHlwZS5fcmVxdWVzdEZpbGVBc3luYz1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHUsZil7by5fcmVxdWVzdEZpbGUodCxmdW5jdGlvbihsKXt1KGwpfSxyLG4sYSxmdW5jdGlvbihsKXtmKGwpfSxzKX0pfSxlLnByb3RvdHlwZS5fcmVhZEZpbGU9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzLHU9dHIodCxyLG4sYSxzKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaCh1KSx1Lm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXtvLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2Uoby5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihmKSwxKX0pLHV9LGUucHJvdG90eXBlLl9yZWFkRmlsZUFzeW5jPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe2EuX3JlYWRGaWxlKHQsZnVuY3Rpb24odSl7cyh1KX0scixuLGZ1bmN0aW9uKHUpe28odSl9KX0pfSxlLnByb3RvdHlwZS5nZXRQZXJmQ29sbGVjdG9yPWZ1bmN0aW9uKCl7dGhyb3cgVSgicGVyZm9ybWFuY2VWaWV3ZXJTY2VuZUV4dGVuc2lvbiIpfSxlLkZPR01PREVfTk9ORT0wLGUuRk9HTU9ERV9FWFA9MSxlLkZPR01PREVfRVhQMj0yLGUuRk9HTU9ERV9MSU5FQVI9MyxlLk1pbkRlbHRhVGltZT0xLGUuTWF4RGVsdGFUaW1lPTFlMyxlfShPaSk7bWEoRWUpO2Z1bmN0aW9uIFFyKGksZSx0KXt0cnl7dmFyIHI9aS5uZXh0KCk7ci5kb25lP2Uocik6ci52YWx1ZT9yLnZhbHVlLnRoZW4oZnVuY3Rpb24oKXtyLnZhbHVlPXZvaWQgMCxlKHIpfSx0KTplKHIpfWNhdGNoKG4pe3Qobil9fWZ1bmN0aW9uIHlhKGkpe2k9PT12b2lkIDAmJihpPTI1KTt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe3ZhciBhPXBlcmZvcm1hbmNlLm5vdygpO2U9PT12b2lkIDB8fGEtZT5pPyhlPWEsc2V0VGltZW91dChmdW5jdGlvbigpe1FyKHQscixuKX0sMCkpOlFyKHQscixuKX19ZnVuY3Rpb24gcWkoaSxlLHQscixuKXt2YXIgYT1mdW5jdGlvbigpe3ZhciBzLG89ZnVuY3Rpb24odSl7dS5kb25lP3QodS52YWx1ZSk6cz09PXZvaWQgMD9zPSEwOmEoKX07ZG8gcz12b2lkIDAsIW58fCFuLmFib3J0ZWQ/ZShpLG8scik6cihuZXcgRXJyb3IoIkFib3J0ZWQiKSkscz09PXZvaWQgMCYmKHM9ITEpO3doaWxlKHMpfTthKCl9ZnVuY3Rpb24gJHIoaSxlKXt2YXIgdDtyZXR1cm4gcWkoaSxRcixmdW5jdGlvbihyKXtyZXR1cm4gdD1yfSxmdW5jdGlvbihyKXt0aHJvdyByfSxlKSx0fWZ1bmN0aW9uIGJhKGksZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtxaShpLGUscixuLHQpfSl9ZnVuY3Rpb24gRWEoaSxlKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyXT1hcmd1bWVudHNbcl07cmV0dXJuICRyKGkuYXBwbHkodm9pZCAwLHQpLGUpfX12YXIgVGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9zY2VuZVJvb3ROb2Rlc0luZGV4PS0xLHRoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLl9pc1BhcmVudEVuYWJsZWQ9ITAsdGhpcy5faXNSZWFkeT0hMCx0aGlzLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX29uQ2xvbmVkT2JzZXJ2YWJsZT1uZXcgT31yZXR1cm4gaX0oKSxIZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0PT09dm9pZCAwJiYodD1udWxsKSx0aGlzLl9pc0RpcnR5PSExLHRoaXMuX25vZGVEYXRhU3RvcmFnZT1uZXcgVGEsdGhpcy5zdGF0ZT0iIix0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5fcmFuZ2VzPXt9LHRoaXMub25SZWFkeT1udWxsLHRoaXMuX2N1cnJlbnRSZW5kZXJJZD0tMSx0aGlzLl9wYXJlbnRVcGRhdGVJZD0tMSx0aGlzLl9jaGlsZFVwZGF0ZUlkPS0xLHRoaXMuX3dhaXRpbmdQYXJlbnRJZD1udWxsLHRoaXMuX2NhY2hlPXt9LHRoaXMuX3BhcmVudE5vZGU9bnVsbCx0aGlzLl9jaGlsZHJlbj1udWxsLHRoaXMuX3dvcmxkTWF0cml4PUkuSWRlbnRpdHkoKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50PTAsdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPW51bGwsdGhpcy5faXNOb2RlPSEwLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX2JlaGF2aW9ycz1uZXcgQXJyYXksdGhpcy5uYW1lPWUsdGhpcy5pZD1lLHRoaXMuX3NjZW5lPXR8fEouTGFzdENyZWF0ZWRTY2VuZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5faW5pdENhY2hlKCl9cmV0dXJuIGkuQWRkTm9kZUNvbnN0cnVjdG9yPWZ1bmN0aW9uKGUsdCl7dGhpcy5fTm9kZUNvbnN0cnVjdG9yc1tlXT10fSxpLkNvbnN0cnVjdD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdO3JldHVybiBhP2EodCxyLG4pOm51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZG9Ob3RTZXJpYWxpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9kb05vdFNlcmlhbGl6ZT8hMDp0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuZG9Ob3RTZXJpYWxpemU6ITF9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNEaXNwb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicGFyZW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudE5vZGV9LHNldDpmdW5jdGlvbihlKXtpZih0aGlzLl9wYXJlbnROb2RlIT09ZSl7dmFyIHQ9dGhpcy5fcGFyZW50Tm9kZTtpZih0aGlzLl9wYXJlbnROb2RlJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PXZvaWQgMCYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4hPT1udWxsKXt2YXIgcj10aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5pbmRleE9mKHRoaXMpO3IhPT0tMSYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4uc3BsaWNlKHIsMSksIWUmJiF0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQmJnRoaXMuX2FkZFRvU2NlbmVSb290Tm9kZXMoKX10aGlzLl9wYXJlbnROb2RlPWUsdGhpcy5fcGFyZW50Tm9kZSYmKCh0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PXZvaWQgMHx8dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49PT1udWxsKSYmKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPW5ldyBBcnJheSksdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4ucHVzaCh0aGlzKSx0fHx0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fYWRkVG9TY2VuZVJvb3ROb2Rlcz1mdW5jdGlvbigpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD09PS0xJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PXRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5sZW5ndGgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnB1c2godGhpcykpfSxpLnByb3RvdHlwZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzPWZ1bmN0aW9uKCl7aWYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4IT09LTEpe3ZhciBlPXRoaXMuX3NjZW5lLnJvb3ROb2Rlcyx0PWUubGVuZ3RoLTE7ZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdPWVbdF0sZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4LHRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5wb3AoKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9LTF9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU/dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlOnRoaXMuX3NjZW5lLmFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJOb2RlIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkRpc3Bvc2UiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQ2xvbmVkT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uQ2xvbmVkT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRTY2VuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2VuZX0saS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfSxpLnByb3RvdHlwZS5hZGRCZWhhdmlvcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciBuPXRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpO3JldHVybiBuIT09LTE/dGhpczooZS5pbml0KCksdGhpcy5fc2NlbmUuaXNMb2FkaW5nJiYhdD90aGlzLl9zY2VuZS5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmFkZE9uY2UoZnVuY3Rpb24oKXtlLmF0dGFjaChyKX0pOmUuYXR0YWNoKHRoaXMpLHRoaXMuX2JlaGF2aW9ycy5wdXNoKGUpLHRoaXMpfSxpLnByb3RvdHlwZS5yZW1vdmVCZWhhdmlvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9iZWhhdmlvcnMuaW5kZXhPZihlKTtyZXR1cm4gdD09PS0xP3RoaXM6KHRoaXMuX2JlaGF2aW9yc1t0XS5kZXRhY2goKSx0aGlzLl9iZWhhdmlvcnMuc3BsaWNlKHQsMSksdGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYmVoYXZpb3JzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JlaGF2aW9yc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRCZWhhdmlvckJ5TmFtZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPXRoaXMuX2JlaGF2aW9yczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZihuLm5hbWU9PT1lKXJldHVybiBufXJldHVybiBudWxsfSxpLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQhPT10aGlzLl9zY2VuZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4fSxpLnByb3RvdHlwZS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eSYmKHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSExLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnQ9dGhpcy5fd29ybGRNYXRyaXguZGV0ZXJtaW5hbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5faW5pdENhY2hlPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fY2FjaGUucGFyZW50PXZvaWQgMH0saS5wcm90b3R5cGUudXBkYXRlQ2FjaGU9ZnVuY3Rpb24oZSl7IWUmJnRoaXMuaXNTeW5jaHJvbml6ZWQoKXx8KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLnBhcmVudCx0aGlzLl91cGRhdGVDYWNoZSgpKX0saS5wcm90b3R5cGUuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfSxpLnByb3RvdHlwZS5fdXBkYXRlQ2FjaGU9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0saS5wcm90b3R5cGUuX21hcmtTeW5jZWRXaXRoUGFyZW50PWZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50Tm9kZSYmKHRoaXMuX3BhcmVudFVwZGF0ZUlkPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQpfSxpLnByb3RvdHlwZS5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLl9pc0RpcnR5fHx0aGlzLl9wYXJlbnRVcGRhdGVJZCE9PXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQ/ITE6dGhpcy5fcGFyZW50Tm9kZS5pc1N5bmNocm9uaXplZCgpOiEwfSxpLnByb3RvdHlwZS5pc1N5bmNocm9uaXplZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZS5wYXJlbnQhPXRoaXMuX3BhcmVudE5vZGU/KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLl9wYXJlbnROb2RlLCExKTp0aGlzLl9wYXJlbnROb2RlJiYhdGhpcy5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKT8hMTp0aGlzLl9pc1N5bmNocm9uaXplZCgpfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHl9LGkucHJvdG90eXBlLm1hcmtBc0RpcnR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9LGkucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITApLGU9PT0hMT90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZDp0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZD90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZDohMX0saS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZD10aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuaXNFbmFibGVkKCk6ITAsdGhpcy5fY2hpbGRyZW4mJnRoaXMuX2NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfSl9LGkucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ9ZSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSl9LGkucHJvdG90eXBlLmlzRGVzY2VuZGFudE9mPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudD09PWU/ITA6dGhpcy5wYXJlbnQuaXNEZXNjZW5kYW50T2YoZSk6ITF9LGkucHJvdG90eXBlLl9nZXREZXNjZW5kYW50cz1mdW5jdGlvbihlLHQscil7aWYodD09PXZvaWQgMCYmKHQ9ITEpLCEhdGhpcy5fY2hpbGRyZW4pZm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgYT10aGlzLl9jaGlsZHJlbltuXTsoIXJ8fHIoYSkpJiZlLnB1c2goYSksdHx8YS5fZ2V0RGVzY2VuZGFudHMoZSwhMSxyKX19LGkucHJvdG90eXBlLmdldERlc2NlbmRhbnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEFycmF5O3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhyLGUsdCkscn0saS5wcm90b3R5cGUuZ2V0Q2hpbGRNZXNoZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMocixlLGZ1bmN0aW9uKG4pe3JldHVybighdHx8dChuKSkmJm4uY3VsbGluZ1N0cmF0ZWd5IT09dm9pZCAwfSkscn0saS5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuZ2V0RGVzY2VuZGFudHModCxlKX0saS5wcm90b3R5cGUuX3NldFJlYWR5PWZ1bmN0aW9uKGUpe2lmKGUhPT10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHkpe2lmKCFlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITE7cmV0dXJufXRoaXMub25SZWFkeSYmdGhpcy5vblJlYWR5KHRoaXMpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeT0hMH19LGkucHJvdG90eXBlLmdldEFuaW1hdGlvbkJ5TmFtZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmFuaW1hdGlvbnNbdF07aWYoci5uYW1lPT09ZSlyZXR1cm4gcn1yZXR1cm4gbnVsbH0saS5wcm90b3R5cGUuY3JlYXRlQW5pbWF0aW9uUmFuZ2U9ZnVuY3Rpb24oZSx0LHIpe2lmKCF0aGlzLl9yYW5nZXNbZV0pe3RoaXMuX3Jhbmdlc1tlXT1pLl9BbmltYXRpb25SYW5nZUZhY3RvcnkoZSx0LHIpO2Zvcih2YXIgbj0wLGE9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtuPGE7bisrKXRoaXMuYW5pbWF0aW9uc1tuXSYmdGhpcy5hbmltYXRpb25zW25dLmNyZWF0ZVJhbmdlKGUsdCxyKX19LGkucHJvdG90eXBlLmRlbGV0ZUFuaW1hdGlvblJhbmdlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApO2Zvcih2YXIgcj0wLG49dGhpcy5hbmltYXRpb25zLmxlbmd0aDtyPG47cisrKXRoaXMuYW5pbWF0aW9uc1tyXSYmdGhpcy5hbmltYXRpb25zW3JdLmRlbGV0ZVJhbmdlKGUsdCk7dGhpcy5fcmFuZ2VzW2VdPW51bGx9LGkucHJvdG90eXBlLmdldEFuaW1hdGlvblJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yYW5nZXNbZV18fG51bGx9LGkucHJvdG90eXBlLmdldEFuaW1hdGlvblJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ7Zm9yKHQgaW4gdGhpcy5fcmFuZ2VzKWUucHVzaCh0aGlzLl9yYW5nZXNbdF0pO3JldHVybiBlfSxpLnByb3RvdHlwZS5iZWdpbkFuaW1hdGlvbj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLmdldEFuaW1hdGlvblJhbmdlKGUpO3JldHVybiBhP3RoaXMuX3NjZW5lLmJlZ2luQW5pbWF0aW9uKHRoaXMsYS5mcm9tLGEudG8sdCxyLG4pOm51bGx9LGkucHJvdG90eXBlLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl9yYW5nZXMpe3ZhciByPXRoaXMuX3Jhbmdlc1t0XTtpZighIXIpe3ZhciBuPXt9O24ubmFtZT10LG4uZnJvbT1yLmZyb20sbi50bz1yLnRvLGUucHVzaChuKX19cmV0dXJuIGV9LGkucHJvdG90eXBlLmNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZD0hMCwhZSlmb3IodmFyIHI9dGhpcy5nZXREZXNjZW5kYW50cyghMCksbj0wLGE9cjtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtzLmRpc3Bvc2UoZSx0KX10aGlzLnBhcmVudD90aGlzLnBhcmVudD1udWxsOnRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNsb25lZE9ic2VydmFibGUuY2xlYXIoKTtmb3IodmFyIG89MCx1PXRoaXMuX2JlaGF2aW9ycztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmRldGFjaCgpfXRoaXMuX2JlaGF2aW9ycz1bXSx0aGlzLm1ldGFkYXRhPW51bGx9LGkuUGFyc2VBbmltYXRpb25SYW5nZXM9ZnVuY3Rpb24oZSx0LHIpe2lmKHQucmFuZ2VzKWZvcih2YXIgbj0wO248dC5yYW5nZXMubGVuZ3RoO24rKyl7dmFyIGE9dC5yYW5nZXNbbl07ZS5jcmVhdGVBbmltYXRpb25SYW5nZShhLm5hbWUsYS5mcm9tLGEudG8pfX0saS5wcm90b3R5cGUuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzPWZ1bmN0aW9uKGUsdCl7ZT09PXZvaWQgMCYmKGU9ITApLHQ9PT12b2lkIDAmJih0PW51bGwpLHRoaXMuZ2V0U2NlbmUoKS5pbmNyZW1lbnRSZW5kZXJJZCgpLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgcixuLGE9dGhpcztpZihhLmdldEJvdW5kaW5nSW5mbyYmYS5zdWJNZXNoZXMpe3ZhciBzPWEuZ2V0Qm91bmRpbmdJbmZvKCk7cj1zLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC5jbG9uZSgpLG49cy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQuY2xvbmUoKX1lbHNlIHI9bmV3IEUoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG49bmV3IEUoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO2lmKGUpZm9yKHZhciBvPXRoaXMuZ2V0RGVzY2VuZGFudHMoITEpLHU9MCxmPW87dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV0saD1sO2lmKGguY29tcHV0ZVdvcmxkTWF0cml4KCEwKSwhKHQmJiF0KGgpKSYmISghaC5nZXRCb3VuZGluZ0luZm98fGguZ2V0VG90YWxWZXJ0aWNlcygpPT09MCkpe3ZhciBjPWguZ2V0Qm91bmRpbmdJbmZvKCksZD1jLmJvdW5kaW5nQm94LHA9ZC5taW5pbXVtV29ybGQsXz1kLm1heGltdW1Xb3JsZDtFLkNoZWNrRXh0ZW5kcyhwLHIsbiksRS5DaGVja0V4dGVuZHMoXyxyLG4pfX1yZXR1cm57bWluOnIsbWF4Om59fSxpLl9BbmltYXRpb25SYW5nZUZhY3Rvcnk9ZnVuY3Rpb24oZSx0LHIpe3Rocm93IFUoIkFuaW1hdGlvblJhbmdlIil9LGkuX05vZGVDb25zdHJ1Y3RvcnM9e30sVChbUCgpXSxpLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJzdGF0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxpfSgpLGxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2FwcGx5VG89RWEodGhpcy5fYXBwbHlUb0Nvcm91dGluZS5iaW5kKHRoaXMpKX1yZXR1cm4gaS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUubGVuZ3RofHx6Lldhcm4oIlNldHRpbmcgdmVydGV4IGRhdGEga2luZCAnIi5jb25jYXQodCwiJyB3aXRoIGFuIGVtcHR5IGFycmF5IikpLHQpe2Nhc2UgYi5Qb3NpdGlvbktpbmQ6dGhpcy5wb3NpdGlvbnM9ZTticmVhaztjYXNlIGIuTm9ybWFsS2luZDp0aGlzLm5vcm1hbHM9ZTticmVhaztjYXNlIGIuVGFuZ2VudEtpbmQ6dGhpcy50YW5nZW50cz1lO2JyZWFrO2Nhc2UgYi5VVktpbmQ6dGhpcy51dnM9ZTticmVhaztjYXNlIGIuVVYyS2luZDp0aGlzLnV2czI9ZTticmVhaztjYXNlIGIuVVYzS2luZDp0aGlzLnV2czM9ZTticmVhaztjYXNlIGIuVVY0S2luZDp0aGlzLnV2czQ9ZTticmVhaztjYXNlIGIuVVY1S2luZDp0aGlzLnV2czU9ZTticmVhaztjYXNlIGIuVVY2S2luZDp0aGlzLnV2czY9ZTticmVhaztjYXNlIGIuQ29sb3JLaW5kOnRoaXMuY29sb3JzPWU7YnJlYWs7Y2FzZSBiLk1hdHJpY2VzSW5kaWNlc0tpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXM9ZTticmVhaztjYXNlIGIuTWF0cmljZXNXZWlnaHRzS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0cz1lO2JyZWFrO2Nhc2UgYi5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYT1lO2JyZWFrO2Nhc2UgYi5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lO2JyZWFrfX0saS5wcm90b3R5cGUuYXBwbHlUb01lc2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9LGkucHJvdG90eXBlLmFwcGx5VG9HZW9tZXRyeT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc30saS5wcm90b3R5cGUudXBkYXRlTWVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9LGkucHJvdG90eXBlLnVwZGF0ZUdlb21ldHJ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl91cGRhdGUoZSksdGhpc30saS5wcm90b3R5cGUuX2FwcGx5VG9Db3JvdXRpbmU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksd3QodGhpcyxmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnBvc2l0aW9ucz8oZS5zZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCkscj9bNF06WzMsMl0pOlszLDJdO2Nhc2UgMTpuLnNlbnQoKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0aGlzLm5vcm1hbHM/KGUuc2V0VmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsdCkscj9bNF06WzMsNF0pOlszLDRdO2Nhc2UgMzpuLnNlbnQoKSxuLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiB0aGlzLnRhbmdlbnRzPyhlLnNldFZlcnRpY2VzRGF0YShiLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsdCkscj9bNF06WzMsNl0pOlszLDZdO2Nhc2UgNTpuLnNlbnQoKSxuLmxhYmVsPTY7Y2FzZSA2OnJldHVybiB0aGlzLnV2cz8oZS5zZXRWZXJ0aWNlc0RhdGEoYi5VVktpbmQsdGhpcy51dnMsdCkscj9bNF06WzMsOF0pOlszLDhdO2Nhc2UgNzpuLnNlbnQoKSxuLmxhYmVsPTg7Y2FzZSA4OnJldHVybiB0aGlzLnV2czI/KGUuc2V0VmVydGljZXNEYXRhKGIuVVYyS2luZCx0aGlzLnV2czIsdCkscj9bNF06WzMsMTBdKTpbMywxMF07Y2FzZSA5Om4uc2VudCgpLG4ubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm4gdGhpcy51dnMzPyhlLnNldFZlcnRpY2VzRGF0YShiLlVWM0tpbmQsdGhpcy51dnMzLHQpLHI/WzRdOlszLDEyXSk6WzMsMTJdO2Nhc2UgMTE6bi5zZW50KCksbi5sYWJlbD0xMjtjYXNlIDEyOnJldHVybiB0aGlzLnV2czQ/KGUuc2V0VmVydGljZXNEYXRhKGIuVVY0S2luZCx0aGlzLnV2czQsdCkscj9bNF06WzMsMTRdKTpbMywxNF07Y2FzZSAxMzpuLnNlbnQoKSxuLmxhYmVsPTE0O2Nhc2UgMTQ6cmV0dXJuIHRoaXMudXZzNT8oZS5zZXRWZXJ0aWNlc0RhdGEoYi5VVjVLaW5kLHRoaXMudXZzNSx0KSxyP1s0XTpbMywxNl0pOlszLDE2XTtjYXNlIDE1Om4uc2VudCgpLG4ubGFiZWw9MTY7Y2FzZSAxNjpyZXR1cm4gdGhpcy51dnM2PyhlLnNldFZlcnRpY2VzRGF0YShiLlVWNktpbmQsdGhpcy51dnM2LHQpLHI/WzRdOlszLDE4XSk6WzMsMThdO2Nhc2UgMTc6bi5zZW50KCksbi5sYWJlbD0xODtjYXNlIDE4OnJldHVybiB0aGlzLmNvbG9ycz8oZS5zZXRWZXJ0aWNlc0RhdGEoYi5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCkscj9bNF06WzMsMjBdKTpbMywyMF07Y2FzZSAxOTpuLnNlbnQoKSxuLmxhYmVsPTIwO2Nhc2UgMjA6cmV0dXJuIHRoaXMubWF0cmljZXNJbmRpY2VzPyhlLnNldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCkscj9bNF06WzMsMjJdKTpbMywyMl07Y2FzZSAyMTpuLnNlbnQoKSxuLmxhYmVsPTIyO2Nhc2UgMjI6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzPyhlLnNldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCkscj9bNF06WzMsMjRdKTpbMywyNF07Y2FzZSAyMzpuLnNlbnQoKSxuLmxhYmVsPTI0O2Nhc2UgMjQ6cmV0dXJuIHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE/KGUuc2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCkscj9bNF06WzMsMjZdKTpbMywyNl07Y2FzZSAyNTpuLnNlbnQoKSxuLmxhYmVsPTI2O2Nhc2UgMjY6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE/KGUuc2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCkscj9bNF06WzMsMjhdKTpbMywyOF07Y2FzZSAyNzpuLnNlbnQoKSxuLmxhYmVsPTI4O2Nhc2UgMjg6cmV0dXJuIHRoaXMuaW5kaWNlcz8oZS5zZXRJbmRpY2VzKHRoaXMuaW5kaWNlcyxudWxsLHQpLHI/WzRdOlszLDMwXSk6WzMsMzFdO2Nhc2UgMjk6bi5zZW50KCksbi5sYWJlbD0zMDtjYXNlIDMwOnJldHVyblszLDMyXTtjYXNlIDMxOmUuc2V0SW5kaWNlcyhbXSxudWxsKSxuLmxhYmVsPTMyO2Nhc2UgMzI6cmV0dXJuWzIsdGhpc119fSl9LGkucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnBvc2l0aW9ucyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCxyKSx0aGlzLm5vcm1hbHMmJmUudXBkYXRlVmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsdCxyKSx0aGlzLnRhbmdlbnRzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShiLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsdCxyKSx0aGlzLnV2cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoYi5VVktpbmQsdGhpcy51dnMsdCxyKSx0aGlzLnV2czImJmUudXBkYXRlVmVydGljZXNEYXRhKGIuVVYyS2luZCx0aGlzLnV2czIsdCxyKSx0aGlzLnV2czMmJmUudXBkYXRlVmVydGljZXNEYXRhKGIuVVYzS2luZCx0aGlzLnV2czMsdCxyKSx0aGlzLnV2czQmJmUudXBkYXRlVmVydGljZXNEYXRhKGIuVVY0S2luZCx0aGlzLnV2czQsdCxyKSx0aGlzLnV2czUmJmUudXBkYXRlVmVydGljZXNEYXRhKGIuVVY1S2luZCx0aGlzLnV2czUsdCxyKSx0aGlzLnV2czYmJmUudXBkYXRlVmVydGljZXNEYXRhKGIuVVY2S2luZCx0aGlzLnV2czYsdCxyKSx0aGlzLmNvbG9ycyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoYi5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCxyKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLHQsciksdGhpcy5tYXRyaWNlc1dlaWdodHMmJmUudXBkYXRlVmVydGljZXNEYXRhKGIuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyx0LHIpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJmUudXBkYXRlVmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCxyKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLHQsciksdGhpcy5pbmRpY2VzJiZlLnNldEluZGljZXModGhpcy5pbmRpY2VzLG51bGwpLHRoaXN9LGkuX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcz1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj1lLmxlbmd0aCk7Zm9yKHZhciBhPXguVmVjdG9yM1swXSxzPXguVmVjdG9yM1sxXSxvPXI7bzxyK247bys9MylFLkZyb21BcnJheVRvUmVmKGUsbyxhKSxFLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoYSx0LHMpLGVbb109cy54LGVbbysxXT1zLnksZVtvKzJdPXMuen0saS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHM9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49ZS5sZW5ndGgpO2Zvcih2YXIgYT14LlZlY3RvcjNbMF0scz14LlZlY3RvcjNbMV0sbz1yO288cituO28rPTMpRS5Gcm9tQXJyYXlUb1JlZihlLG8sYSksRS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihhLHQscyksZVtvXT1zLngsZVtvKzFdPXMueSxlW28rMl09cy56fSxpLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscz1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj1lLmxlbmd0aCk7Zm9yKHZhciBhPXguVmVjdG9yNFswXSxzPXguVmVjdG9yNFsxXSxvPXI7bzxyK247bys9NClkdC5Gcm9tQXJyYXlUb1JlZihlLG8sYSksZHQuVHJhbnNmb3JtTm9ybWFsVG9SZWYoYSx0LHMpLGVbb109cy54LGVbbysxXT1zLnksZVtvKzJdPXMueixlW28rM109cy53fSxpLl9GbGlwRmFjZXM9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPWUubGVuZ3RoKTtmb3IodmFyIG49dDtuPHQrcjtuKz0zKXt2YXIgYT1lW24rMV07ZVtuKzFdPWVbbisyXSxlW24rMl09YX19LGkucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXt2YXIgdD1lLmRldGVybWluYW50KCk8MDtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJmkuX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyh0aGlzLnBvc2l0aW9ucyxlKSx0aGlzLm5vcm1hbHMmJmkuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzKHRoaXMubm9ybWFscyxlKSx0aGlzLnRhbmdlbnRzJiZpLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyh0aGlzLnRhbmdlbnRzLGUpLHQmJnRoaXMuaW5kaWNlcyYmaS5fRmxpcEZhY2VzKHRoaXMuaW5kaWNlcyksdGhpc30saS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49QXJyYXkuaXNBcnJheShlKT9lLm1hcChmdW5jdGlvbihhKXtyZXR1cm5bYSx2b2lkIDBdfSk6W1tlLHZvaWQgMF1dO3JldHVybiAkcih0aGlzLl9tZXJnZUNvcm91dGluZSh2b2lkIDAsbix0LCExLHIpKX0saS5wcm90b3R5cGUuX21lcmdlQ29yb3V0aW5lPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHMsbyx1LHYsZixsLGgsYyxkLHAsXyxnLG0sdixTLE0sQT10aGlzLFIseSxDLHc7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx3dCh0aGlzLGZ1bmN0aW9uKEYpe3N3aXRjaChGLmxhYmVsKXtjYXNlIDA6Zm9yKHRoaXMuX3ZhbGlkYXRlKCkscz10Lm1hcChmdW5jdGlvbihEKXtyZXR1cm4gRFswXX0pLG89MCx1PXM7bzx1Lmxlbmd0aDtvKyspaWYodj11W29dLHYuX3ZhbGlkYXRlKCksIXRoaXMubm9ybWFscyE9IXYubm9ybWFsc3x8IXRoaXMudGFuZ2VudHMhPSF2LnRhbmdlbnRzfHwhdGhpcy51dnMhPSF2LnV2c3x8IXRoaXMudXZzMiE9IXYudXZzMnx8IXRoaXMudXZzMyE9IXYudXZzM3x8IXRoaXMudXZzNCE9IXYudXZzNHx8IXRoaXMudXZzNSE9IXYudXZzNXx8IXRoaXMudXZzNiE9IXYudXZzNnx8IXRoaXMuY29sb3JzIT0hdi5jb2xvcnN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlcyE9IXYubWF0cmljZXNJbmRpY2VzfHwhdGhpcy5tYXRyaWNlc1dlaWdodHMhPSF2Lm1hdHJpY2VzV2VpZ2h0c3x8IXRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEhPSF2Lm1hdHJpY2VzSW5kaWNlc0V4dHJhfHwhdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSE9IXYubWF0cmljZXNXZWlnaHRzRXh0cmEpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgbWVyZ2UgdmVydGV4IGRhdGEgdGhhdCBkbyBub3QgaGF2ZSB0aGUgc2FtZSBzZXQgb2YgYXR0cmlidXRlcyIpO2lmKGY9cy5yZWR1Y2UoZnVuY3Rpb24oRCxYKXt2YXIgVyxOO3JldHVybiBEKygoTj0oVz1YLmluZGljZXMpPT09bnVsbHx8Vz09PXZvaWQgMD92b2lkIDA6Vy5sZW5ndGgpIT09bnVsbCYmTiE9PXZvaWQgMD9OOjApfSwoeT0oUj10aGlzLmluZGljZXMpPT09bnVsbHx8Uj09PXZvaWQgMD92b2lkIDA6Ui5sZW5ndGgpIT09bnVsbCYmeSE9PXZvaWQgMD95OjApLGw9YXx8cy5zb21lKGZ1bmN0aW9uKEQpe3JldHVybiBELmluZGljZXM9PT1BLmluZGljZXN9KSxoPWw/KEM9dGhpcy5pbmRpY2VzKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMuc2xpY2UoKTp0aGlzLmluZGljZXMsIShmPjApKXJldHVyblszLDRdO2M9KHc9aD09bnVsbD92b2lkIDA6aC5sZW5ndGgpIT09bnVsbCYmdyE9PXZvaWQgMD93OjAsaHx8KGg9bmV3IEFycmF5KGYpKSxoLmxlbmd0aCE9PWYmJihBcnJheS5pc0FycmF5KGgpP2gubGVuZ3RoPWY6KGQ9cnx8aCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5P25ldyBVaW50MzJBcnJheShmKTpuZXcgVWludDE2QXJyYXkoZiksZC5zZXQoaCksaD1kKSxlJiZlLmRldGVybWluYW50KCk8MCYmaS5fRmxpcEZhY2VzKGgsMCxjKSkscD10aGlzLnBvc2l0aW9ucz90aGlzLnBvc2l0aW9ucy5sZW5ndGgvMzowLF89MCxnPXQsRi5sYWJlbD0xO2Nhc2UgMTppZighKF88Zy5sZW5ndGgpKXJldHVyblszLDRdO2lmKG09Z1tfXSx2PW1bMF0sUz1tWzFdLCF2LmluZGljZXMpcmV0dXJuWzMsM107Zm9yKE09MDtNPHYuaW5kaWNlcy5sZW5ndGg7TSsrKWhbYytNXT12LmluZGljZXNbTV0rcDtyZXR1cm4gUyYmUy5kZXRlcm1pbmFudCgpPDAmJmkuX0ZsaXBGYWNlcyhoLGMsdi5pbmRpY2VzLmxlbmd0aCkscCs9di5wb3NpdGlvbnMubGVuZ3RoLzMsYys9di5pbmRpY2VzLmxlbmd0aCxuP1s0XTpbMywzXTtjYXNlIDI6Ri5zZW50KCksRi5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gXysrLFszLDFdO2Nhc2UgNDpyZXR1cm4gdGhpcy5pbmRpY2VzPWgsdGhpcy5wb3NpdGlvbnM9aS5fbWVyZ2VFbGVtZW50KGIuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLGUsdC5tYXAoZnVuY3Rpb24oRCl7cmV0dXJuW0RbMF0ucG9zaXRpb25zLERbMV1dfSkpLG4/WzRdOlszLDZdO2Nhc2UgNTpGLnNlbnQoKSxGLmxhYmVsPTY7Y2FzZSA2OnJldHVybiB0aGlzLm5vcm1hbHM9aS5fbWVyZ2VFbGVtZW50KGIuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsZSx0Lm1hcChmdW5jdGlvbihEKXtyZXR1cm5bRFswXS5ub3JtYWxzLERbMV1dfSkpLG4/WzRdOlszLDhdO2Nhc2UgNzpGLnNlbnQoKSxGLmxhYmVsPTg7Y2FzZSA4OnJldHVybiB0aGlzLnRhbmdlbnRzPWkuX21lcmdlRWxlbWVudChiLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsZSx0Lm1hcChmdW5jdGlvbihEKXtyZXR1cm5bRFswXS50YW5nZW50cyxEWzFdXX0pKSxuP1s0XTpbMywxMF07Y2FzZSA5OkYuc2VudCgpLEYubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm4gdGhpcy51dnM9aS5fbWVyZ2VFbGVtZW50KGIuVVZLaW5kLHRoaXMudXZzLGUsdC5tYXAoZnVuY3Rpb24oRCl7cmV0dXJuW0RbMF0udXZzLERbMV1dfSkpLG4/WzRdOlszLDEyXTtjYXNlIDExOkYuc2VudCgpLEYubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm4gdGhpcy51dnMyPWkuX21lcmdlRWxlbWVudChiLlVWMktpbmQsdGhpcy51dnMyLGUsdC5tYXAoZnVuY3Rpb24oRCl7cmV0dXJuW0RbMF0udXZzMixEWzFdXX0pKSxuP1s0XTpbMywxNF07Y2FzZSAxMzpGLnNlbnQoKSxGLmxhYmVsPTE0O2Nhc2UgMTQ6cmV0dXJuIHRoaXMudXZzMz1pLl9tZXJnZUVsZW1lbnQoYi5VVjNLaW5kLHRoaXMudXZzMyxlLHQubWFwKGZ1bmN0aW9uKEQpe3JldHVybltEWzBdLnV2czMsRFsxXV19KSksbj9bNF06WzMsMTZdO2Nhc2UgMTU6Ri5zZW50KCksRi5sYWJlbD0xNjtjYXNlIDE2OnJldHVybiB0aGlzLnV2czQ9aS5fbWVyZ2VFbGVtZW50KGIuVVY0S2luZCx0aGlzLnV2czQsZSx0Lm1hcChmdW5jdGlvbihEKXtyZXR1cm5bRFswXS51dnM0LERbMV1dfSkpLG4/WzRdOlszLDE4XTtjYXNlIDE3OkYuc2VudCgpLEYubGFiZWw9MTg7Y2FzZSAxODpyZXR1cm4gdGhpcy51dnM1PWkuX21lcmdlRWxlbWVudChiLlVWNUtpbmQsdGhpcy51dnM1LGUsdC5tYXAoZnVuY3Rpb24oRCl7cmV0dXJuW0RbMF0udXZzNSxEWzFdXX0pKSxuP1s0XTpbMywyMF07Y2FzZSAxOTpGLnNlbnQoKSxGLmxhYmVsPTIwO2Nhc2UgMjA6cmV0dXJuIHRoaXMudXZzNj1pLl9tZXJnZUVsZW1lbnQoYi5VVjZLaW5kLHRoaXMudXZzNixlLHQubWFwKGZ1bmN0aW9uKEQpe3JldHVybltEWzBdLnV2czYsRFsxXV19KSksbj9bNF06WzMsMjJdO2Nhc2UgMjE6Ri5zZW50KCksRi5sYWJlbD0yMjtjYXNlIDIyOnJldHVybiB0aGlzLmNvbG9ycz1pLl9tZXJnZUVsZW1lbnQoYi5Db2xvcktpbmQsdGhpcy5jb2xvcnMsZSx0Lm1hcChmdW5jdGlvbihEKXtyZXR1cm5bRFswXS5jb2xvcnMsRFsxXV19KSksbj9bNF06WzMsMjRdO2Nhc2UgMjM6Ri5zZW50KCksRi5sYWJlbD0yNDtjYXNlIDI0OnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlcz1pLl9tZXJnZUVsZW1lbnQoYi5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLGUsdC5tYXAoZnVuY3Rpb24oRCl7cmV0dXJuW0RbMF0ubWF0cmljZXNJbmRpY2VzLERbMV1dfSkpLG4/WzRdOlszLDI2XTtjYXNlIDI1OkYuc2VudCgpLEYubGFiZWw9MjY7Y2FzZSAyNjpyZXR1cm4gdGhpcy5tYXRyaWNlc1dlaWdodHM9aS5fbWVyZ2VFbGVtZW50KGIuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyxlLHQubWFwKGZ1bmN0aW9uKEQpe3JldHVybltEWzBdLm1hdHJpY2VzV2VpZ2h0cyxEWzFdXX0pKSxuP1s0XTpbMywyOF07Y2FzZSAyNzpGLnNlbnQoKSxGLmxhYmVsPTI4O2Nhc2UgMjg6cmV0dXJuIHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE9aS5fbWVyZ2VFbGVtZW50KGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsZSx0Lm1hcChmdW5jdGlvbihEKXtyZXR1cm5bRFswXS5tYXRyaWNlc0luZGljZXNFeHRyYSxEWzFdXX0pKSxuP1s0XTpbMywzMF07Y2FzZSAyOTpGLnNlbnQoKSxGLmxhYmVsPTMwO2Nhc2UgMzA6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9aS5fbWVyZ2VFbGVtZW50KGIuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsZSx0Lm1hcChmdW5jdGlvbihEKXtyZXR1cm5bRFswXS5tYXRyaWNlc1dlaWdodHNFeHRyYSxEWzFdXX0pKSxbMix0aGlzXX19KX0saS5fbWVyZ2VFbGVtZW50PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPW4uZmlsdGVyKGZ1bmN0aW9uKEEpe3JldHVybiBBWzBdIT09bnVsbCYmQVswXSE9PXZvaWQgMH0pO2lmKGEubGVuZ3RoPT09MClyZXR1cm4gdDtpZighdClyZXR1cm4gdGhpcy5fbWVyZ2VFbGVtZW50KGUsYVswXVswXSxhWzBdWzFdLGEuc2xpY2UoMSkpO3ZhciBzPWEucmVkdWNlKGZ1bmN0aW9uKEEsUil7cmV0dXJuIEErUlswXS5sZW5ndGh9LHQubGVuZ3RoKSxvPWU9PT1iLlBvc2l0aW9uS2luZD9pLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXM6ZT09PWIuTm9ybWFsS2luZD9pLl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFsczplPT09Yi5UYW5nZW50S2luZD9pLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFsczpmdW5jdGlvbigpe307aWYodCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7dmFyIHU9bmV3IEZsb2F0MzJBcnJheShzKTt1LnNldCh0KSxyJiZvKHUsciwwLHQubGVuZ3RoKTtmb3IodmFyIGY9dC5sZW5ndGgsbD0wLGg9YTtsPGgubGVuZ3RoO2wrKyl7dmFyIGM9aFtsXSxkPWNbMF0scD1jWzFdO3Uuc2V0KGQsZikscCYmbyh1LHAsZixkLmxlbmd0aCksZis9ZC5sZW5ndGh9cmV0dXJuIHV9ZWxzZXtmb3IodmFyIF89bmV3IEFycmF5KHMpLGc9MDtnPHQubGVuZ3RoO2crKylfW2ddPXRbZ107ciYmbyhfLHIsMCx0Lmxlbmd0aCk7Zm9yKHZhciBmPXQubGVuZ3RoLG09MCx2PWE7bTx2Lmxlbmd0aDttKyspe2Zvcih2YXIgUz12W21dLGQ9U1swXSxNPVNbMV0sZz0wO2c8ZC5sZW5ndGg7ZysrKV9bZitnXT1kW2ddO00mJm8oXyxNLGYsZC5sZW5ndGgpLGYrPWQubGVuZ3RofXJldHVybiBffX0saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMucG9zaXRpb25zKXRocm93IG5ldyBDdCgiUG9zaXRpb25zIGFyZSByZXF1aXJlZCIsUHQuTWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcik7dmFyIGU9ZnVuY3Rpb24obixhKXt2YXIgcz1iLkRlZHVjZVN0cmlkZShuKTtpZihhLmxlbmd0aCVzIT09MCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK24rInMgYXJyYXkgY291bnQgbXVzdCBiZSBhIG11bHRpcGxlIG9mICIrcyk7cmV0dXJuIGEubGVuZ3RoL3N9LHQ9ZShiLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucykscj1mdW5jdGlvbihuLGEpe3ZhciBzPWUobixhKTtpZihzIT09dCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK24rInMgZWxlbWVudCBjb3VudCAoIitzKyIpIGRvZXMgbm90IG1hdGNoIHRoZSBwb3NpdGlvbnMgY291bnQgKCIrdCsiKSIpfTt0aGlzLm5vcm1hbHMmJnIoYi5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmcihiLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiZyKGIuVVZLaW5kLHRoaXMudXZzKSx0aGlzLnV2czImJnIoYi5VVjJLaW5kLHRoaXMudXZzMiksdGhpcy51dnMzJiZyKGIuVVYzS2luZCx0aGlzLnV2czMpLHRoaXMudXZzNCYmcihiLlVWNEtpbmQsdGhpcy51dnM0KSx0aGlzLnV2czUmJnIoYi5VVjVLaW5kLHRoaXMudXZzNSksdGhpcy51dnM2JiZyKGIuVVY2S2luZCx0aGlzLnV2czYpLHRoaXMuY29sb3JzJiZyKGIuQ29sb3JLaW5kLHRoaXMuY29sb3JzKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmcihiLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZyKGIuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmcihiLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZyKGIuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJihlLnBvc2l0aW9ucz10aGlzLnBvc2l0aW9ucyksdGhpcy5ub3JtYWxzJiYoZS5ub3JtYWxzPXRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmKGUudGFuZ2VudHM9dGhpcy50YW5nZW50cyksdGhpcy51dnMmJihlLnV2cz10aGlzLnV2cyksdGhpcy51dnMyJiYoZS51dnMyPXRoaXMudXZzMiksdGhpcy51dnMzJiYoZS51dnMzPXRoaXMudXZzMyksdGhpcy51dnM0JiYoZS51dnM0PXRoaXMudXZzNCksdGhpcy51dnM1JiYoZS51dnM1PXRoaXMudXZzNSksdGhpcy51dnM2JiYoZS51dnM2PXRoaXMudXZzNiksdGhpcy5jb2xvcnMmJihlLmNvbG9ycz10aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLm1hdHJpY2VzSW5kaWNlcyxlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUubWF0cmljZXNJbmRpY2VzRXh0cmE9dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkPSEwKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT10aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKSxlLmluZGljZXM9dGhpcy5pbmRpY2VzLGV9LGkuRXh0cmFjdEZyb21NZXNoPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaS5fRXh0cmFjdEZyb20oZSx0LHIpfSxpLkV4dHJhY3RGcm9tR2VvbWV0cnk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpLl9FeHRyYWN0RnJvbShlLHQscil9LGkuX0V4dHJhY3RGcm9tPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5Qb3NpdGlvbktpbmQpJiYobi5wb3NpdGlvbnM9ZS5nZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5Ob3JtYWxLaW5kKSYmKG4ubm9ybWFscz1lLmdldFZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5UYW5nZW50S2luZCkmJihuLnRhbmdlbnRzPWUuZ2V0VmVydGljZXNEYXRhKGIuVGFuZ2VudEtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVktpbmQpJiYobi51dnM9ZS5nZXRWZXJ0aWNlc0RhdGEoYi5VVktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjJLaW5kKSYmKG4udXZzMj1lLmdldFZlcnRpY2VzRGF0YShiLlVWMktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjNLaW5kKSYmKG4udXZzMz1lLmdldFZlcnRpY2VzRGF0YShiLlVWM0tpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjRLaW5kKSYmKG4udXZzND1lLmdldFZlcnRpY2VzRGF0YShiLlVWNEtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjVLaW5kKSYmKG4udXZzNT1lLmdldFZlcnRpY2VzRGF0YShiLlVWNUtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjZLaW5kKSYmKG4udXZzNj1lLmdldFZlcnRpY2VzRGF0YShiLlVWNktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5Db2xvcktpbmQpJiYobi5jb2xvcnM9ZS5nZXRWZXJ0aWNlc0RhdGEoYi5Db2xvcktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5NYXRyaWNlc0luZGljZXNLaW5kKSYmKG4ubWF0cmljZXNJbmRpY2VzPWUuZ2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzS2luZCx0LHIpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYobi5tYXRyaWNlc1dlaWdodHM9ZS5nZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc1dlaWdodHNLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSYmKG4ubWF0cmljZXNJbmRpY2VzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpJiYobi5tYXRyaWNlc1dlaWdodHNFeHRyYT1lLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0LHIpKSxuLmluZGljZXM9ZS5nZXRJbmRpY2VzKHQsciksbn0saS5DcmVhdGVSaWJib249ZnVuY3Rpb24oZSl7dGhyb3cgVSgicmliYm9uQnVpbGRlciIpfSxpLkNyZWF0ZUJveD1mdW5jdGlvbihlKXt0aHJvdyBVKCJib3hCdWlsZGVyIil9LGkuQ3JlYXRlVGlsZWRCb3g9ZnVuY3Rpb24oZSl7dGhyb3cgVSgidGlsZWRCb3hCdWlsZGVyIil9LGkuQ3JlYXRlVGlsZWRQbGFuZT1mdW5jdGlvbihlKXt0aHJvdyBVKCJ0aWxlZFBsYW5lQnVpbGRlciIpfSxpLkNyZWF0ZVNwaGVyZT1mdW5jdGlvbihlKXt0aHJvdyBVKCJzcGhlcmVCdWlsZGVyIil9LGkuQ3JlYXRlQ3lsaW5kZXI9ZnVuY3Rpb24oZSl7dGhyb3cgVSgiY3lsaW5kZXJCdWlsZGVyIil9LGkuQ3JlYXRlVG9ydXM9ZnVuY3Rpb24oZSl7dGhyb3cgVSgidG9ydXNCdWlsZGVyIil9LGkuQ3JlYXRlTGluZVN5c3RlbT1mdW5jdGlvbihlKXt0aHJvdyBVKCJsaW5lc0J1aWxkZXIiKX0saS5DcmVhdGVEYXNoZWRMaW5lcz1mdW5jdGlvbihlKXt0aHJvdyBVKCJsaW5lc0J1aWxkZXIiKX0saS5DcmVhdGVHcm91bmQ9ZnVuY3Rpb24oZSl7dGhyb3cgVSgiZ3JvdW5kQnVpbGRlciIpfSxpLkNyZWF0ZVRpbGVkR3JvdW5kPWZ1bmN0aW9uKGUpe3Rocm93IFUoImdyb3VuZEJ1aWxkZXIiKX0saS5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwPWZ1bmN0aW9uKGUpe3Rocm93IFUoImdyb3VuZEJ1aWxkZXIiKX0saS5DcmVhdGVQbGFuZT1mdW5jdGlvbihlKXt0aHJvdyBVKCJwbGFuZUJ1aWxkZXIiKX0saS5DcmVhdGVEaXNjPWZ1bmN0aW9uKGUpe3Rocm93IFUoImRpc2NCdWlsZGVyIil9LGkuQ3JlYXRlUG9seWdvbj1mdW5jdGlvbihlLHQscixuLGEscyxvKXt0aHJvdyBVKCJwb2x5Z29uQnVpbGRlciIpfSxpLkNyZWF0ZUljb1NwaGVyZT1mdW5jdGlvbihlKXt0aHJvdyBVKCJpY29TcGhlcmVCdWlsZGVyIil9LGkuQ3JlYXRlUG9seWhlZHJvbj1mdW5jdGlvbihlKXt0aHJvdyBVKCJwb2x5aGVkcm9uQnVpbGRlciIpfSxpLkNyZWF0ZUNhcHN1bGU9ZnVuY3Rpb24oZSl7dGhyb3cgZT09PXZvaWQgMCYmKGU9e29yaWVudGF0aW9uOkUuVXAoKSxzdWJkaXZpc2lvbnM6Mix0ZXNzZWxsYXRpb246MTYsaGVpZ2h0OjEscmFkaXVzOi4yNSxjYXBTdWJkaXZpc2lvbnM6Nn0pLFUoImNhcHN1bGVCdWlsZGVyIil9LGkuQ3JlYXRlVG9ydXNLbm90PWZ1bmN0aW9uKGUpe3Rocm93IFUoInRvcnVzS25vdEJ1aWxkZXIiKX0saS5Db21wdXRlTm9ybWFscz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT0wLHM9MCxvPTAsdT0wLGY9MCxsPTAsaD0wLGM9MCxkPTAscD0wLF89MCxnPTAsbT0wLHY9MCxTPTAsTT0wLEE9MCxSPTAseT0wLEM9MCx3PSExLEY9ITEsRD0hMSxYPSExLFc9MSxOPTAsaj1udWxsO2lmKG4mJih3PSEhbi5mYWNldE5vcm1hbHMsRj0hIW4uZmFjZXRQb3NpdGlvbnMsRD0hIW4uZmFjZXRQYXJ0aXRpb25pbmcsVz1uLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09ITA/LTE6MSxOPW4ucmF0aW98fDAsWD0hIW4uZGVwdGhTb3J0LGo9bi5kaXN0YW5jZVRvLFgpKXtqPT09dm9pZCAwJiYoaj1FLlplcm8oKSk7dmFyIEs9bi5kZXB0aFNvcnRlZEZhY2V0c312YXIgYWU9MCxxPTAsWj0wLG1lPTA7aWYoRCYmbiYmbi5iYlNpemUpe3ZhciB4ZT0wLE5lPTAsWWU9MCxPdD0wLG9yPTAsdXI9MCx4cj0wLElyPTAsT3I9MCxGcj0wLHdyPTAsTHI9MCxpdD0wLG50PTAsYXQ9MCxzdD0wLGZyPW4uYmJTaXplLng+bi5iYlNpemUueT9uLmJiU2l6ZS54Om4uYmJTaXplLnk7ZnI9ZnI+bi5iYlNpemUuej9mcjpuLmJiU2l6ZS56LGFlPW4uc3ViRGl2LlgqTi9uLmJiU2l6ZS54LHE9bi5zdWJEaXYuWSpOL24uYmJTaXplLnksWj1uLnN1YkRpdi5aKk4vbi5iYlNpemUueixtZT1uLnN1YkRpdi5tYXgqbi5zdWJEaXYubWF4LG4uZmFjZXRQYXJ0aXRpb25pbmcubGVuZ3RoPTB9Zm9yKGE9MDthPGUubGVuZ3RoO2ErKylyW2FdPTA7dmFyIHZpPXQubGVuZ3RoLzN8MDtmb3IoYT0wO2E8dmk7YSsrKXtpZihnPXRbYSozXSozLG09ZysxLHY9ZysyLFM9dFthKjMrMV0qMyxNPVMrMSxBPVMrMixSPXRbYSozKzJdKjMseT1SKzEsQz1SKzIscz1lW2ddLWVbU10sbz1lW21dLWVbTV0sdT1lW3ZdLWVbQV0sZj1lW1JdLWVbU10sbD1lW3ldLWVbTV0saD1lW0NdLWVbQV0sYz1XKihvKmgtdSpsKSxkPVcqKHUqZi1zKmgpLHA9VyoocypsLW8qZiksXz1NYXRoLnNxcnQoYypjK2QqZCtwKnApLF89Xz09PTA/MTpfLGMvPV8sZC89XyxwLz1fLHcmJm4mJihuLmZhY2V0Tm9ybWFsc1thXS54PWMsbi5mYWNldE5vcm1hbHNbYV0ueT1kLG4uZmFjZXROb3JtYWxzW2FdLno9cCksRiYmbiYmKG4uZmFjZXRQb3NpdGlvbnNbYV0ueD0oZVtnXStlW1NdK2VbUl0pLzMsbi5mYWNldFBvc2l0aW9uc1thXS55PShlW21dK2VbTV0rZVt5XSkvMyxuLmZhY2V0UG9zaXRpb25zW2FdLno9KGVbdl0rZVtBXStlW0NdKS8zKSxEJiZuJiYoeGU9TWF0aC5mbG9vcigobi5mYWNldFBvc2l0aW9uc1thXS54LW4uYkluZm8ubWluaW11bS54Kk4pKmFlKSxOZT1NYXRoLmZsb29yKChuLmZhY2V0UG9zaXRpb25zW2FdLnktbi5iSW5mby5taW5pbXVtLnkqTikqcSksWWU9TWF0aC5mbG9vcigobi5mYWNldFBvc2l0aW9uc1thXS56LW4uYkluZm8ubWluaW11bS56Kk4pKlopLE90PU1hdGguZmxvb3IoKGVbZ10tbi5iSW5mby5taW5pbXVtLngqTikqYWUpLG9yPU1hdGguZmxvb3IoKGVbbV0tbi5iSW5mby5taW5pbXVtLnkqTikqcSksdXI9TWF0aC5mbG9vcigoZVt2XS1uLmJJbmZvLm1pbmltdW0ueipOKSpaKSx4cj1NYXRoLmZsb29yKChlW1NdLW4uYkluZm8ubWluaW11bS54Kk4pKmFlKSxJcj1NYXRoLmZsb29yKChlW01dLW4uYkluZm8ubWluaW11bS55Kk4pKnEpLE9yPU1hdGguZmxvb3IoKGVbQV0tbi5iSW5mby5taW5pbXVtLnoqTikqWiksRnI9TWF0aC5mbG9vcigoZVtSXS1uLmJJbmZvLm1pbmltdW0ueCpOKSphZSksd3I9TWF0aC5mbG9vcigoZVt5XS1uLmJJbmZvLm1pbmltdW0ueSpOKSpxKSxMcj1NYXRoLmZsb29yKChlW0NdLW4uYkluZm8ubWluaW11bS56Kk4pKlopLG50PU90K24uc3ViRGl2Lm1heCpvcittZSp1cixhdD14cituLnN1YkRpdi5tYXgqSXIrbWUqT3Isc3Q9RnIrbi5zdWJEaXYubWF4KndyK21lKkxyLGl0PXhlK24uc3ViRGl2Lm1heCpOZSttZSpZZSxuLmZhY2V0UGFydGl0aW9uaW5nW2l0XT1uLmZhY2V0UGFydGl0aW9uaW5nW2l0XT9uLmZhY2V0UGFydGl0aW9uaW5nW2l0XTpuZXcgQXJyYXksbi5mYWNldFBhcnRpdGlvbmluZ1tudF09bi5mYWNldFBhcnRpdGlvbmluZ1tudF0/bi5mYWNldFBhcnRpdGlvbmluZ1tudF06bmV3IEFycmF5LG4uZmFjZXRQYXJ0aXRpb25pbmdbYXRdPW4uZmFjZXRQYXJ0aXRpb25pbmdbYXRdP24uZmFjZXRQYXJ0aXRpb25pbmdbYXRdOm5ldyBBcnJheSxuLmZhY2V0UGFydGl0aW9uaW5nW3N0XT1uLmZhY2V0UGFydGl0aW9uaW5nW3N0XT9uLmZhY2V0UGFydGl0aW9uaW5nW3N0XTpuZXcgQXJyYXksbi5mYWNldFBhcnRpdGlvbmluZ1tudF0ucHVzaChhKSxhdCE9bnQmJm4uZmFjZXRQYXJ0aXRpb25pbmdbYXRdLnB1c2goYSksc3Q9PWF0fHxzdD09bnR8fG4uZmFjZXRQYXJ0aXRpb25pbmdbc3RdLnB1c2goYSksaXQ9PW50fHxpdD09YXR8fGl0PT1zdHx8bi5mYWNldFBhcnRpdGlvbmluZ1tpdF0ucHVzaChhKSksWCYmbiYmbi5mYWNldFBvc2l0aW9ucyl7dmFyIGJuPUtbYV07Ym4uaW5kPWEqMyxibi5zcURpc3RhbmNlPUUuRGlzdGFuY2VTcXVhcmVkKG4uZmFjZXRQb3NpdGlvbnNbYV0sail9cltnXSs9YyxyW21dKz1kLHJbdl0rPXAscltTXSs9YyxyW01dKz1kLHJbQV0rPXAscltSXSs9YyxyW3ldKz1kLHJbQ10rPXB9Zm9yKGE9MDthPHIubGVuZ3RoLzM7YSsrKWM9clthKjNdLGQ9clthKjMrMV0scD1yW2EqMysyXSxfPU1hdGguc3FydChjKmMrZCpkK3AqcCksXz1fPT09MD8xOl8sYy89XyxkLz1fLHAvPV8sclthKjNdPWMsclthKjMrMV09ZCxyW2EqMysyXT1wfSxpLl9Db21wdXRlU2lkZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9ci5sZW5ndGgsZj1uLmxlbmd0aCxsLGg7c3dpdGNoKGU9ZXx8aS5ERUZBVUxUU0lERSxlKXtjYXNlIGkuRlJPTlRTSURFOmJyZWFrO2Nhc2UgaS5CQUNLU0lERTp2YXIgYztmb3IobD0wO2w8dTtsKz0zKWM9cltsXSxyW2xdPXJbbCsyXSxyW2wrMl09Yztmb3IoaD0wO2g8ZjtoKyspbltoXT0tbltoXTticmVhaztjYXNlIGkuRE9VQkxFU0lERTpmb3IodmFyIGQ9dC5sZW5ndGgscD1kLzMsXz0wO188ZDtfKyspdFtkK19dPXRbX107Zm9yKGw9MDtsPHU7bCs9MylyW2wrdV09cltsKzJdK3AscltsKzErdV09cltsKzFdK3AscltsKzIrdV09cltsXStwO2ZvcihoPTA7aDxmO2grKyluW2YraF09LW5baF07dmFyIGc9YS5sZW5ndGgsbT0wO2ZvcihtPTA7bTxnO20rKylhW20rZ109YVttXTtmb3Iocz1zfHxuZXcgZHQoMCwwLDEsMSksbz1vfHxuZXcgZHQoMCwwLDEsMSksbT0wLGw9MDtsPGcvMjtsKyspYVttXT1zLngrKHMuei1zLngpKmFbbV0sYVttKzFdPXMueSsocy53LXMueSkqYVttKzFdLGFbbStnXT1vLngrKG8uei1vLngpKmFbbStnXSxhW20rZysxXT1vLnkrKG8udy1vLnkpKmFbbStnKzFdLG0rPTI7YnJlYWt9fSxpLkltcG9ydFZlcnRleERhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaSxuPWUucG9zaXRpb25zO24mJnIuc2V0KG4sYi5Qb3NpdGlvbktpbmQpO3ZhciBhPWUubm9ybWFsczthJiZyLnNldChhLGIuTm9ybWFsS2luZCk7dmFyIHM9ZS50YW5nZW50cztzJiZyLnNldChzLGIuVGFuZ2VudEtpbmQpO3ZhciBvPWUudXZzO28mJnIuc2V0KG8sYi5VVktpbmQpO3ZhciB1PWUudXYyczt1JiZyLnNldCh1LGIuVVYyS2luZCk7dmFyIGY9ZS51djNzO2YmJnIuc2V0KGYsYi5VVjNLaW5kKTt2YXIgbD1lLnV2NHM7bCYmci5zZXQobCxiLlVWNEtpbmQpO3ZhciBoPWUudXY1cztoJiZyLnNldChoLGIuVVY1S2luZCk7dmFyIGM9ZS51djZzO2MmJnIuc2V0KGMsYi5VVjZLaW5kKTt2YXIgZD1lLmNvbG9ycztkJiZyLnNldChfZS5DaGVja0NvbG9yczQoZCxuLmxlbmd0aC8zKSxiLkNvbG9yS2luZCk7dmFyIHA9ZS5tYXRyaWNlc0luZGljZXM7cCYmci5zZXQocCxiLk1hdHJpY2VzSW5kaWNlc0tpbmQpO3ZhciBfPWUubWF0cmljZXNXZWlnaHRzO18mJnIuc2V0KF8sYi5NYXRyaWNlc1dlaWdodHNLaW5kKTt2YXIgZz1lLmluZGljZXM7ZyYmKHIuaW5kaWNlcz1nKSx0LnNldEFsbFZlcnRpY2VzRGF0YShyLGUudXBkYXRhYmxlKX0saS5GUk9OVFNJREU9MCxpLkJBQ0tTSURFPTEsaS5ET1VCTEVTSURFPTIsaS5ERUZBVUxUU0lERT0wLFQoW190LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdO3JldHVybiFBcnJheS5pc0FycmF5KHIpfSldLGksIl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXMiLG51bGwpLFQoW190LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdO3JldHVybiFBcnJheS5pc0FycmF5KHIpfSldLGksIl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyIsbnVsbCksVChbX3QuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPWVbMF07cmV0dXJuIUFycmF5LmlzQXJyYXkocil9KV0saSwiX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzIixudWxsKSxUKFtfdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJfRmxpcEZhY2VzIixudWxsKSxpfSgpLEpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5idT1lLHRoaXMuYnY9dCx0aGlzLmRpc3RhbmNlPXIsdGhpcy5mYWNlSWQ9MCx0aGlzLnN1Yk1lc2hJZD0wfXJldHVybiBpfSgpLFppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy52ZWN0b3JzPU1lLkJ1aWxkQXJyYXkoOCxFLlplcm8pLHRoaXMuY2VudGVyPUUuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9RS5aZXJvKCksdGhpcy5leHRlbmRTaXplPUUuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZVdvcmxkPUUuWmVybygpLHRoaXMuZGlyZWN0aW9ucz1NZS5CdWlsZEFycmF5KDMsRS5aZXJvKSx0aGlzLnZlY3RvcnNXb3JsZD1NZS5CdWlsZEFycmF5KDgsRS5aZXJvKSx0aGlzLm1pbmltdW1Xb3JsZD1FLlplcm8oKSx0aGlzLm1heGltdW1Xb3JsZD1FLlplcm8oKSx0aGlzLm1pbmltdW09RS5aZXJvKCksdGhpcy5tYXhpbXVtPUUuWmVybygpLHRoaXMuX2RyYXdXcmFwcGVyRnJvbnQ9bnVsbCx0aGlzLl9kcmF3V3JhcHBlckJhY2s9bnVsbCx0aGlzLnJlQ29uc3RydWN0KGUsdCxyKX1yZXR1cm4gaS5wcm90b3R5cGUucmVDb25zdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUueCxhPWUueSxzPWUueixvPXQueCx1PXQueSxmPXQueixsPXRoaXMudmVjdG9yczt0aGlzLm1pbmltdW0uY29weUZyb21GbG9hdHMobixhLHMpLHRoaXMubWF4aW11bS5jb3B5RnJvbUZsb2F0cyhvLHUsZiksbFswXS5jb3B5RnJvbUZsb2F0cyhuLGEscyksbFsxXS5jb3B5RnJvbUZsb2F0cyhvLHUsZiksbFsyXS5jb3B5RnJvbUZsb2F0cyhvLGEscyksbFszXS5jb3B5RnJvbUZsb2F0cyhuLHUscyksbFs0XS5jb3B5RnJvbUZsb2F0cyhuLGEsZiksbFs1XS5jb3B5RnJvbUZsb2F0cyhvLHUscyksbFs2XS5jb3B5RnJvbUZsb2F0cyhuLHUsZiksbFs3XS5jb3B5RnJvbUZsb2F0cyhvLGEsZiksdC5hZGRUb1JlZihlLHRoaXMuY2VudGVyKS5zY2FsZUluUGxhY2UoLjUpLHQuc3VidHJhY3RUb1JlZihlLHRoaXMuZXh0ZW5kU2l6ZSkuc2NhbGVJblBsYWNlKC41KSx0aGlzLl93b3JsZE1hdHJpeD1yfHxJLklkZW50aXR5UmVhZE9ubHksdGhpcy5fdXBkYXRlKHRoaXMuX3dvcmxkTWF0cml4KX0saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5UbXBWZWN0b3IzLHI9dGhpcy5tYXhpbXVtLnN1YnRyYWN0VG9SZWYodGhpcy5taW5pbXVtLHRbMF0pLG49ci5sZW5ndGgoKTtyLm5vcm1hbGl6ZUZyb21MZW5ndGgobik7dmFyIGE9biplLHM9ci5zY2FsZUluUGxhY2UoYSouNSksbz10aGlzLmNlbnRlci5zdWJ0cmFjdFRvUmVmKHMsdFsxXSksdT10aGlzLmNlbnRlci5hZGRUb1JlZihzLHRbMl0pO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KG8sdSx0aGlzLl93b3JsZE1hdHJpeCksdGhpc30saS5wcm90b3R5cGUuZ2V0V29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9LGkucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5taW5pbXVtV29ybGQscj10aGlzLm1heGltdW1Xb3JsZCxuPXRoaXMuZGlyZWN0aW9ucyxhPXRoaXMudmVjdG9yc1dvcmxkLHM9dGhpcy52ZWN0b3JzO2lmKGUuaXNJZGVudGl0eSgpKXt0LmNvcHlGcm9tKHRoaXMubWluaW11bSksci5jb3B5RnJvbSh0aGlzLm1heGltdW0pO2Zvcih2YXIgbz0wO288ODsrK28pYVtvXS5jb3B5RnJvbShzW29dKTt0aGlzLmV4dGVuZFNpemVXb3JsZC5jb3B5RnJvbSh0aGlzLmV4dGVuZFNpemUpLHRoaXMuY2VudGVyV29ybGQuY29weUZyb20odGhpcy5jZW50ZXIpfWVsc2V7dC5zZXRBbGwoTnVtYmVyLk1BWF9WQUxVRSksci5zZXRBbGwoLU51bWJlci5NQVhfVkFMVUUpO2Zvcih2YXIgbz0wO288ODsrK28pe3ZhciB1PWFbb107RS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHNbb10sZSx1KSx0Lm1pbmltaXplSW5QbGFjZSh1KSxyLm1heGltaXplSW5QbGFjZSh1KX1yLnN1YnRyYWN0VG9SZWYodCx0aGlzLmV4dGVuZFNpemVXb3JsZCkuc2NhbGVJblBsYWNlKC41KSxyLmFkZFRvUmVmKHQsdGhpcy5jZW50ZXJXb3JsZCkuc2NhbGVJblBsYWNlKC41KX1FLkZyb21BcnJheVRvUmVmKGUubSwwLG5bMF0pLEUuRnJvbUFycmF5VG9SZWYoZS5tLDQsblsxXSksRS5Gcm9tQXJyYXlUb1JlZihlLm0sOCxuWzJdKSx0aGlzLl93b3JsZE1hdHJpeD1lfSxpLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbihlKXtyZXR1cm4gaS5Jc0luRnJ1c3R1bSh0aGlzLnZlY3RvcnNXb3JsZCxlKX0saS5wcm90b3R5cGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3JldHVybiBpLklzQ29tcGxldGVseUluRnJ1c3R1bSh0aGlzLnZlY3RvcnNXb3JsZCxlKX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c1BvaW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWluaW11bVdvcmxkLHI9dGhpcy5tYXhpbXVtV29ybGQsbj10LngsYT10Lnkscz10Lnosbz1yLngsdT1yLnksZj1yLnosbD1lLngsaD1lLnksYz1lLnosZD0tZmU7cmV0dXJuIShvLWw8ZHx8ZD5sLW58fHUtaDxkfHxkPmgtYXx8Zi1jPGR8fGQ+Yy1zKX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c1NwaGVyZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5JbnRlcnNlY3RzU3BoZXJlKHRoaXMubWluaW11bVdvcmxkLHRoaXMubWF4aW11bVdvcmxkLGUuY2VudGVyV29ybGQsZS5yYWRpdXNXb3JsZCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNNaW5NYXg9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLm1pbmltdW1Xb3JsZCxuPXRoaXMubWF4aW11bVdvcmxkLGE9ci54LHM9ci55LG89ci56LHU9bi54LGY9bi55LGw9bi56LGg9ZS54LGM9ZS55LGQ9ZS56LHA9dC54LF89dC55LGc9dC56O3JldHVybiEodTxofHxhPnB8fGY8Y3x8cz5ffHxsPGR8fG8+Zyl9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZSx0OyhlPXRoaXMuX2RyYXdXcmFwcGVyRnJvbnQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCksKHQ9dGhpcy5fZHJhd1dyYXBwZXJCYWNrKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpfSxpLkludGVyc2VjdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbnRlcnNlY3RzTWluTWF4KHQubWluaW11bVdvcmxkLHQubWF4aW11bVdvcmxkKX0saS5JbnRlcnNlY3RzU3BoZXJlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPWkuVG1wVmVjdG9yM1swXTtFLkNsYW1wVG9SZWYocixlLHQsYSk7dmFyIHM9RS5EaXN0YW5jZVNxdWFyZWQocixhKTtyZXR1cm4gczw9bipufSxpLklzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8NjsrK3IpZm9yKHZhciBuPXRbcl0sYT0wO2E8ODsrK2EpaWYobi5kb3RDb29yZGluYXRlKGVbYV0pPDApcmV0dXJuITE7cmV0dXJuITB9LGkuSXNJbkZydXN0dW09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDY7KytyKXtmb3IodmFyIG49ITAsYT10W3JdLHM9MDtzPDg7KytzKWlmKGEuZG90Q29vcmRpbmF0ZShlW3NdKT49MCl7bj0hMTticmVha31pZihuKXJldHVybiExfXJldHVybiEwfSxpLlRtcFZlY3RvcjM9TWUuQnVpbGRBcnJheSgzLEUuWmVybyksaX0oKSxRaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3RoaXMuY2VudGVyPUUuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9RS5aZXJvKCksdGhpcy5taW5pbXVtPUUuWmVybygpLHRoaXMubWF4aW11bT1FLlplcm8oKSx0aGlzLnJlQ29uc3RydWN0KGUsdCxyKX1yZXR1cm4gaS5wcm90b3R5cGUucmVDb25zdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMubWluaW11bS5jb3B5RnJvbShlKSx0aGlzLm1heGltdW0uY29weUZyb20odCk7dmFyIG49RS5EaXN0YW5jZShlLHQpO3QuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0aGlzLnJhZGl1cz1uKi41LHRoaXMuX3VwZGF0ZShyfHxJLklkZW50aXR5UmVhZE9ubHkpfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnJhZGl1cyplLHI9aS5UbXBWZWN0b3IzLG49clswXS5zZXRBbGwodCksYT10aGlzLmNlbnRlci5zdWJ0cmFjdFRvUmVmKG4sclsxXSkscz10aGlzLmNlbnRlci5hZGRUb1JlZihuLHJbMl0pO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KGEscyx0aGlzLl93b3JsZE1hdHJpeCksdGhpc30saS5wcm90b3R5cGUuZ2V0V29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9LGkucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oZSl7aWYoZS5pc0lkZW50aXR5KCkpdGhpcy5jZW50ZXJXb3JsZC5jb3B5RnJvbSh0aGlzLmNlbnRlciksdGhpcy5yYWRpdXNXb3JsZD10aGlzLnJhZGl1cztlbHNle0UuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLmNlbnRlcixlLHRoaXMuY2VudGVyV29ybGQpO3ZhciB0PWkuVG1wVmVjdG9yM1swXTtFLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigxLDEsMSxlLHQpLHRoaXMucmFkaXVzV29ybGQ9TWF0aC5tYXgoTWF0aC5hYnModC54KSxNYXRoLmFicyh0LnkpLE1hdGguYWJzKHQueikpKnRoaXMucmFkaXVzfX0saS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuY2VudGVyV29ybGQscj10aGlzLnJhZGl1c1dvcmxkLG49MDtuPDY7bisrKWlmKGVbbl0uZG90Q29vcmRpbmF0ZSh0KTw9LXIpcmV0dXJuITE7cmV0dXJuITB9LGkucHJvdG90eXBlLmlzQ2VudGVySW5GcnVzdHVtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmNlbnRlcldvcmxkLHI9MDtyPDY7cisrKWlmKGVbcl0uZG90Q29vcmRpbmF0ZSh0KTwwKXJldHVybiExO3JldHVybiEwfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9RS5EaXN0YW5jZVNxdWFyZWQodGhpcy5jZW50ZXJXb3JsZCxlKTtyZXR1cm4hKHRoaXMucmFkaXVzV29ybGQqdGhpcy5yYWRpdXNXb3JsZDx0KX0saS5JbnRlcnNlY3RzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9RS5EaXN0YW5jZVNxdWFyZWQoZS5jZW50ZXJXb3JsZCx0LmNlbnRlcldvcmxkKSxuPWUucmFkaXVzV29ybGQrdC5yYWRpdXNXb3JsZDtyZXR1cm4hKG4qbjxyKX0saS5DcmVhdGVGcm9tQ2VudGVyQW5kUmFkaXVzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLlRtcFZlY3RvcjNbMF0uY29weUZyb20oZSksdGhpcy5UbXBWZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKDAsMCx0KSx0aGlzLlRtcFZlY3RvcjNbMl0uY29weUZyb20oZSksdGhpcy5UbXBWZWN0b3IzWzBdLmFkZEluUGxhY2UodGhpcy5UbXBWZWN0b3IzWzFdKSx0aGlzLlRtcFZlY3RvcjNbMl0uc3VidHJhY3RJblBsYWNlKHRoaXMuVG1wVmVjdG9yM1sxXSk7dmFyIG49bmV3IGkodGhpcy5UbXBWZWN0b3IzWzBdLHRoaXMuVG1wVmVjdG9yM1syXSk7cmV0dXJuIHI/bi5fd29ybGRNYXRyaXg9cjpuLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCksbn0saS5UbXBWZWN0b3IzPU1lLkJ1aWxkQXJyYXkoMyxFLlplcm8pLGl9KCksZWk9e21pbjowLG1heDowfSx0aT17bWluOjAsbWF4OjB9LCRpPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1FLkRvdChlLmNlbnRlcldvcmxkLGkpLG49TWF0aC5hYnMoRS5Eb3QoZS5kaXJlY3Rpb25zWzBdLGkpKSplLmV4dGVuZFNpemUueCxhPU1hdGguYWJzKEUuRG90KGUuZGlyZWN0aW9uc1sxXSxpKSkqZS5leHRlbmRTaXplLnkscz1NYXRoLmFicyhFLkRvdChlLmRpcmVjdGlvbnNbMl0saSkpKmUuZXh0ZW5kU2l6ZS56LG89bithK3M7dC5taW49ci1vLHQubWF4PXIrb30sTGU9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiAkaShpLGUsZWkpLCRpKGksdCx0aSksIShlaS5taW4+dGkubWF4fHx0aS5taW4+ZWkubWF4KX0sdnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt0aGlzLl9pc0xvY2tlZD0hMSx0aGlzLmJvdW5kaW5nQm94PW5ldyBaaShlLHQsciksdGhpcy5ib3VuZGluZ1NwaGVyZT1uZXcgUWkoZSx0LHIpfXJldHVybiBpLnByb3RvdHlwZS5yZUNvbnN0cnVjdD1mdW5jdGlvbihlLHQscil7dGhpcy5ib3VuZGluZ0JveC5yZUNvbnN0cnVjdChlLHQsciksdGhpcy5ib3VuZGluZ1NwaGVyZS5yZUNvbnN0cnVjdChlLHQscil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWluaW11bSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXhpbXVtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gubWF4aW11bX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzTG9ja2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9ja2VkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNMb2NrZWQ9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5faXNMb2NrZWR8fCh0aGlzLmJvdW5kaW5nQm94Ll91cGRhdGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5fdXBkYXRlKGUpKX0saS5wcm90b3R5cGUuY2VudGVyT249ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlRtcFZlY3RvcjNbMF0uY29weUZyb20oZSkuc3VidHJhY3RJblBsYWNlKHQpLG49aS5UbXBWZWN0b3IzWzFdLmNvcHlGcm9tKGUpLmFkZEluUGxhY2UodCk7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QocixuLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpcy5ib3VuZGluZ1NwaGVyZS5yZUNvbnN0cnVjdChyLG4sdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzfSxpLnByb3RvdHlwZS5lbmNhcHN1bGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1FLk1pbmltaXplKHRoaXMubWluaW11bSxlKSxyPUUuTWF4aW1pemUodGhpcy5tYXhpbXVtLGUpO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHQscix0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9LGkucHJvdG90eXBlLmVuY2Fwc3VsYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuc3VidHJhY3QoZS5ib3VuZGluZ0JveC5leHRlbmRTaXplV29ybGQpKSx0aGlzLmVuY2Fwc3VsYXRlKGUuYm91bmRpbmdCb3guY2VudGVyV29ybGQuYWRkKGUuYm91bmRpbmdCb3guZXh0ZW5kU2l6ZVdvcmxkKSksdGhpc30saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guc2NhbGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5zY2FsZShlKSx0aGlzfSxpLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PTApO3ZhciByPXQ9PT0yfHx0PT09MztpZihyJiZ0aGlzLmJvdW5kaW5nU3BoZXJlLmlzQ2VudGVySW5GcnVzdHVtKGUpKXJldHVybiEwO2lmKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmlzSW5GcnVzdHVtKGUpKXJldHVybiExO3ZhciBuPXQ9PT0xfHx0PT09MztyZXR1cm4gbj8hMDp0aGlzLmJvdW5kaW5nQm94LmlzSW5GcnVzdHVtKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRpYWdvbmFsTGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ib3VuZGluZ0JveCx0PWUubWF4aW11bVdvcmxkLnN1YnRyYWN0VG9SZWYoZS5taW5pbXVtV29ybGQsaS5UbXBWZWN0b3IzWzBdKTtyZXR1cm4gdC5sZW5ndGgoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpfSxpLnByb3RvdHlwZS5fY2hlY2tDb2xsaXNpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2NhbkRvQ29sbGlzaW9uKHRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXNXb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4hKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkfHwhdGhpcy5ib3VuZGluZ1NwaGVyZS5pbnRlcnNlY3RzUG9pbnQoZSl8fCF0aGlzLmJvdW5kaW5nQm94LmludGVyc2VjdHNQb2ludChlKSl9LGkucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSx0KXtpZighUWkuSW50ZXJzZWN0cyh0aGlzLmJvdW5kaW5nU3BoZXJlLGUuYm91bmRpbmdTcGhlcmUpfHwhWmkuSW50ZXJzZWN0cyh0aGlzLmJvdW5kaW5nQm94LGUuYm91bmRpbmdCb3gpKXJldHVybiExO2lmKCF0KXJldHVybiEwO3ZhciByPXRoaXMuYm91bmRpbmdCb3gsbj1lLmJvdW5kaW5nQm94O3JldHVybiEoIUxlKHIuZGlyZWN0aW9uc1swXSxyLG4pfHwhTGUoci5kaXJlY3Rpb25zWzFdLHIsbil8fCFMZShyLmRpcmVjdGlvbnNbMl0scixuKXx8IUxlKG4uZGlyZWN0aW9uc1swXSxyLG4pfHwhTGUobi5kaXJlY3Rpb25zWzFdLHIsbil8fCFMZShuLmRpcmVjdGlvbnNbMl0scixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzBdLG4uZGlyZWN0aW9uc1swXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzBdLG4uZGlyZWN0aW9uc1sxXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzBdLG4uZGlyZWN0aW9uc1syXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzFdLG4uZGlyZWN0aW9uc1swXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzFdLG4uZGlyZWN0aW9uc1sxXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzFdLG4uZGlyZWN0aW9uc1syXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzJdLG4uZGlyZWN0aW9uc1swXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzJdLG4uZGlyZWN0aW9uc1sxXSkscixuKXx8IUxlKEUuQ3Jvc3Moci5kaXJlY3Rpb25zWzJdLG4uZGlyZWN0aW9uc1syXSkscixuKSl9LGkuVG1wVmVjdG9yMz1NZS5CdWlsZEFycmF5KDIsRS5aZXJvKSxpfSgpLEppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5leHRyYWN0TWluQW5kTWF4SW5kZXhlZD1mdW5jdGlvbihlLHQscixuLGEscyl7Zm9yKHZhciBvPXI7bzxyK247bysrKXt2YXIgdT10W29dKjMsZj1lW3VdLGw9ZVt1KzFdLGg9ZVt1KzJdO2EubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhmLGwsaCkscy5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGYsbCxoKX19LGkuZXh0cmFjdE1pbkFuZE1heD1mdW5jdGlvbihlLHQscixuLGEscyl7Zm9yKHZhciBvPXQsdT10Km47bzx0K3I7bysrLHUrPW4pe3ZhciBmPWVbdV0sbD1lW3UrMV0saD1lW3UrMl07YS5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGYsbCxoKSxzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZixsLGgpfX0sVChbX3QuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiFBcnJheS5pc0FycmF5KHIpJiYhQXJyYXkuaXNBcnJheShuKX0pXSxpLCJleHRyYWN0TWluQW5kTWF4SW5kZXhlZCIsbnVsbCksVChbX3QuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPWVbMF07cmV0dXJuIUFycmF5LmlzQXJyYXkocil9KV0saSwiZXh0cmFjdE1pbkFuZE1heCIsbnVsbCksaX0oKTtmdW5jdGlvbiBTYShpLGUsdCxyLG4pe249PT12b2lkIDAmJihuPW51bGwpO3ZhciBhPW5ldyBFKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxzPW5ldyBFKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gSmkuZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQoaSxlLHQscixhLHMpLG4mJihhLngtPWEueCpuLngrbi55LGEueS09YS55Km4ueCtuLnksYS56LT1hLnoqbi54K24ueSxzLngrPXMueCpuLngrbi55LHMueSs9cy55Km4ueCtuLnkscy56Kz1zLnoqbi54K24ueSkse21pbmltdW06YSxtYXhpbXVtOnN9fWZ1bmN0aW9uIGVuKGksZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9bnVsbCk7dmFyIGE9bmV3IEUoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHM9bmV3IEUoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBufHwobj0zKSxKaS5leHRyYWN0TWluQW5kTWF4KGksZSx0LG4sYSxzKSxyJiYoYS54LT1hLngqci54K3IueSxhLnktPWEueSpyLngrci55LGEuei09YS56KnIueCtyLnkscy54Kz1zLngqci54K3IueSxzLnkrPXMueSpyLngrci55LHMueis9cy56KnIueCtyLnkpLHttaW5pbXVtOmEsbWF4aW11bTpzfX12YXIgbXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzLG8sdSxmKXt1PT09dm9pZCAwJiYodT0hMCksZj09PXZvaWQgMCYmKGY9ITApLHRoaXMubWF0ZXJpYWxJbmRleD1lLHRoaXMudmVydGljZXNTdGFydD10LHRoaXMudmVydGljZXNDb3VudD1yLHRoaXMuaW5kZXhTdGFydD1uLHRoaXMuaW5kZXhDb3VudD1hLHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPW51bGwsdGhpcy5fbGluZXNJbmRleENvdW50PTAsdGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9bnVsbCx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2FscGhhSW5kZXg9MCx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPTAsdGhpcy5fY3VycmVudE1hdGVyaWFsPW51bGwsdGhpcy5fbWVzaD1zLHRoaXMuX3JlbmRlcmluZ01lc2g9b3x8cyxmJiZzLnN1Yk1lc2hlcy5wdXNoKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3RyaWFuZ2xlUGxhbmVzPVtdLHRoaXMuX2lkPXMuc3ViTWVzaGVzLmxlbmd0aC0xLHUmJih0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1hdGVyaWFsRGVmaW5lcyIse2dldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5kZWZpbmVzOihlPXRoaXMuX2dldERyYXdXcmFwcGVyKCkpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5kZWZpbmVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQscj0odD10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKTtyLmRlZmluZXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fZ2V0RHJhd1dyYXBwZXI9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD0hMSksZT1lIT1udWxsP2U6dGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dmFyIHI9dGhpcy5fZHJhd1dyYXBwZXJzW2VdO3JldHVybiFyJiZ0JiYodGhpcy5fZHJhd1dyYXBwZXJzW2VdPXI9bmV3IFF0KHRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSkpLHJ9LGkucHJvdG90eXBlLl9yZW1vdmVEcmF3V3JhcHBlcj1mdW5jdGlvbihlLHQpe3ZhciByO3Q9PT12b2lkIDAmJih0PSEwKSx0JiYoKHI9dGhpcy5fZHJhd1dyYXBwZXJzW2VdKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZGlzcG9zZSgpKSx0aGlzLl9kcmF3V3JhcHBlcnNbZV09dm9pZCAwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVmZmVjdCIse2dldDpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlP3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlLmVmZmVjdDoodD0oZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZWZmZWN0KSE9PW51bGwmJnQhPT12b2lkIDA/dDpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX2RyYXdXcmFwcGVyIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfZHJhd1dyYXBwZXJPdmVycmlkZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU9ZnVuY3Rpb24oZSl7dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU9ZX0saS5wcm90b3R5cGUuc2V0RWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4pe3Q9PT12b2lkIDAmJih0PW51bGwpLG49PT12b2lkIDAmJihuPSEwKTt2YXIgYT10aGlzLl9kcmF3V3JhcHBlcjthLnNldEVmZmVjdChlLHQsbiksciE9PXZvaWQgMCYmKGEubWF0ZXJpYWxDb250ZXh0PXIpLGV8fChhLmRlZmluZXM9bnVsbCxhLm1hdGVyaWFsQ29udGV4dD12b2lkIDApfSxpLnByb3RvdHlwZS5yZXNldERyYXdDYWNoZT1mdW5jdGlvbihlKXtpZih0aGlzLl9kcmF3V3JhcHBlcnMpaWYoZSE9PXZvaWQgMCl7dGhpcy5fcmVtb3ZlRHJhd1dyYXBwZXIoZSk7cmV0dXJufWVsc2UgZm9yKHZhciB0PTAscj10aGlzLl9kcmF3V3JhcHBlcnM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bj09bnVsbHx8bi5kaXNwb3NlKCl9dGhpcy5fZHJhd1dyYXBwZXJzPVtdfSxpLkFkZFRvTWVzaD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3JldHVybiB1PT09dm9pZCAwJiYodT0hMCksbmV3IGkoZSx0LHIsbixhLHMsbyx1KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJJc0dsb2JhbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRpY2VzU3RhcnQ9PT0wJiZ0aGlzLnZlcnRpY2VzQ291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsVmVydGljZXMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Jc0dsb2JhbD90aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpOnRoaXMuX2JvdW5kaW5nSW5mb30saS5wcm90b3R5cGUuc2V0Qm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89ZSx0aGlzfSxpLnByb3RvdHlwZS5nZXRNZXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2h9LGkucHJvdG90eXBlLmdldFJlbmRlcmluZ01lc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaH0saS5wcm90b3R5cGUuZ2V0UmVwbGFjZW1lbnRNZXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDpudWxsfSxpLnByb3RvdHlwZS5nZXRFZmZlY3RpdmVNZXNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGw7cmV0dXJuIGV8fHRoaXMuX3JlbmRlcmluZ01lc2h9LGkucHJvdG90eXBlLmdldE1hdGVyaWFsPWZ1bmN0aW9uKCl7dmFyIGUsdD0oZT10aGlzLl9yZW5kZXJpbmdNZXNoLmdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZCkpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMuX3JlbmRlcmluZ01lc2gubWF0ZXJpYWw7aWYodD09bnVsbClyZXR1cm4gdGhpcy5fbWVzaC5nZXRTY2VuZSgpLmRlZmF1bHRNYXRlcmlhbDtpZih0aGlzLl9Jc011bHRpTWF0ZXJpYWwodCkpe3ZhciByPXQuZ2V0U3ViTWF0ZXJpYWwodGhpcy5tYXRlcmlhbEluZGV4KTtyZXR1cm4gdGhpcy5fY3VycmVudE1hdGVyaWFsIT09ciYmKHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1yLHRoaXMucmVzZXREcmF3Q2FjaGUoKSkscn1yZXR1cm4gdH0saS5wcm90b3R5cGUuX0lzTXVsdGlNYXRlcmlhbD1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTdWJNYXRlcmlhbCE9PXZvaWQgMH0saS5wcm90b3R5cGUucmVmcmVzaEJvdW5kaW5nSW5mbz1mdW5jdGlvbihlKXtpZihlPT09dm9pZCAwJiYoZT1udWxsKSx0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5Jc0dsb2JhbHx8IXRoaXMuX3JlbmRlcmluZ01lc2h8fCF0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKGV8fChlPXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0VmVydGljZXNEYXRhKGIuUG9zaXRpb25LaW5kKSksIWUpcmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz10aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpLHRoaXM7dmFyIHQ9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRJbmRpY2VzKCkscjtpZih0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10Lmxlbmd0aCl7dmFyIG49dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRCb3VuZGluZ0luZm8oKTtyPXttaW5pbXVtOm4ubWluaW11bS5jbG9uZSgpLG1heGltdW06bi5tYXhpbXVtLmNsb25lKCl9fWVsc2Ugcj1TYShlLHQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCx0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhcyk7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3Qoci5taW5pbXVtLHIubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyB2dChyLm1pbmltdW0sci5tYXhpbXVtKSx0aGlzfSxpLnByb3RvdHlwZS5fY2hlY2tDb2xsaXNpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdC5fY2hlY2tDb2xsaXNpb24oZSl9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nSW5mbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0fHwodGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksdD10aGlzLmdldEJvdW5kaW5nSW5mbygpKSx0JiZ0LnVwZGF0ZShlKSx0aGlzfSxpLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNJbkZydXN0dW0oZSx0aGlzLl9tZXNoLmN1bGxpbmdTdHJhdGVneSk6ITF9LGkucHJvdG90eXBlLmlzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpOiExfSxpLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2gucmVuZGVyKHRoaXMsZSx0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6dm9pZCAwKSx0aGlzfSxpLnByb3RvdHlwZS5fZ2V0TGluZXNJbmRleEJ1ZmZlcj1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLl9saW5lc0luZGV4QnVmZmVyKXtmb3IodmFyIHI9W10sbj10aGlzLmluZGV4U3RhcnQ7bjx0aGlzLmluZGV4U3RhcnQrdGhpcy5pbmRleENvdW50O24rPTMpci5wdXNoKGVbbl0sZVtuKzFdLGVbbisxXSxlW24rMl0sZVtuKzJdLGVbbl0pO3RoaXMuX2xpbmVzSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihyKSx0aGlzLl9saW5lc0luZGV4Q291bnQ9ci5sZW5ndGh9cmV0dXJuIHRoaXMuX2xpbmVzSW5kZXhCdWZmZXJ9LGkucHJvdG90eXBlLmNhbkludGVyc2VjdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD9lLmludGVyc2VjdHNCb3godC5ib3VuZGluZ0JveCk6ITF9LGkucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz10aGlzLmdldE1hdGVyaWFsKCk7aWYoIXMpcmV0dXJuIG51bGw7dmFyIG89Myx1PSExO3N3aXRjaChzLmZpbGxNb2RlKXtjYXNlIDM6Y2FzZSA1OmNhc2UgNjpjYXNlIDg6cmV0dXJuIG51bGw7Y2FzZSA3Om89MSx1PSEwO2JyZWFrfXJldHVybiBzLmZpbGxNb2RlPT09ND9yLmxlbmd0aD90aGlzLl9pbnRlcnNlY3RMaW5lcyhlLHQscix0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxuKTp0aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRMaW5lcyhlLHQscix0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxuKTohci5sZW5ndGgmJnRoaXMuX21lc2guX3VuSW5kZXhlZD90aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRUcmlhbmdsZXMoZSx0LHIsbixhKTp0aGlzLl9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LHIsbyx1LG4sYSl9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RMaW5lcz1mdW5jdGlvbihlLHQscixuLGEpe2Zvcih2YXIgcz1udWxsLG89dGhpcy5pbmRleFN0YXJ0O288dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDtvKz0yKXt2YXIgdT10W3Jbb11dLGY9dFtyW28rMV1dLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KHUsZixuKTtpZighKGw8MCkmJihhfHwhc3x8bDxzLmRpc3RhbmNlKSYmKHM9bmV3IEpyKG51bGwsbnVsbCxsKSxzLmZhY2VJZD1vLzIsYSkpYnJlYWt9cmV0dXJuIHN9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RVbkluZGV4ZWRMaW5lcz1mdW5jdGlvbihlLHQscixuLGEpe2Zvcih2YXIgcz1udWxsLG89dGhpcy52ZXJ0aWNlc1N0YXJ0O288dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDtvKz0yKXt2YXIgdT10W29dLGY9dFtvKzFdLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KHUsZixuKTtpZighKGw8MCkmJihhfHwhc3x8bDxzLmRpc3RhbmNlKSYmKHM9bmV3IEpyKG51bGwsbnVsbCxsKSxzLmZhY2VJZD1vLzIsYSkpYnJlYWt9cmV0dXJuIHN9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RUcmlhbmdsZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7Zm9yKHZhciB1PW51bGwsZj0tMSxsPXRoaXMuaW5kZXhTdGFydDtsPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQtKDMtbik7bCs9bil7ZisrO3ZhciBoPXJbbF0sYz1yW2wrMV0sZD1yW2wrMl07aWYoYSYmZD09PTQyOTQ5NjcyOTUpe2wrPTI7Y29udGludWV9dmFyIHA9dFtoXSxfPXRbY10sZz10W2RdO2lmKCEoIXB8fCFffHwhZykmJiEobyYmIW8ocCxfLGcsZSkpKXt2YXIgbT1lLmludGVyc2VjdHNUcmlhbmdsZShwLF8sZyk7aWYobSl7aWYobS5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChzfHwhdXx8bS5kaXN0YW5jZTx1LmRpc3RhbmNlKSYmKHU9bSx1LmZhY2VJZD1mLHMpKWJyZWFrfX19cmV0dXJuIHV9LGkucHJvdG90eXBlLl9pbnRlcnNlY3RVbkluZGV4ZWRUcmlhbmdsZXM9ZnVuY3Rpb24oZSx0LHIsbixhKXtmb3IodmFyIHM9bnVsbCxvPXRoaXMudmVydGljZXNTdGFydDtvPHRoaXMudmVydGljZXNTdGFydCt0aGlzLnZlcnRpY2VzQ291bnQ7bys9Myl7dmFyIHU9dFtvXSxmPXRbbysxXSxsPXRbbysyXTtpZighKGEmJiFhKHUsZixsLGUpKSl7dmFyIGg9ZS5pbnRlcnNlY3RzVHJpYW5nbGUodSxmLGwpO2lmKGgpe2lmKGguZGlzdGFuY2U8MCljb250aW51ZTtpZigobnx8IXN8fGguZGlzdGFuY2U8cy5kaXN0YW5jZSkmJihzPWgscy5mYWNlSWQ9by8zLG4pKWJyZWFrfX19cmV0dXJuIHN9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGkodGhpcy5tYXRlcmlhbEluZGV4LHRoaXMudmVydGljZXNTdGFydCx0aGlzLnZlcnRpY2VzQ291bnQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCxlLHQsITEpO2lmKCF0aGlzLklzR2xvYmFsKXt2YXIgbj10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKCFuKXJldHVybiByO3IuX2JvdW5kaW5nSW5mbz1uZXcgdnQobi5taW5pbXVtLG4ubWF4aW11bSl9cmV0dXJuIHJ9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9saW5lc0luZGV4QnVmZmVyJiYodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCk7dmFyIGU9dGhpcy5fbWVzaC5zdWJNZXNoZXMuaW5kZXhPZih0aGlzKTt0aGlzLl9tZXNoLnN1Yk1lc2hlcy5zcGxpY2UoZSwxKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCl9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJTdWJNZXNoIn0saS5DcmVhdGVGcm9tSW5kaWNlcz1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9ITApO2Zvcih2YXIgbz1OdW1iZXIuTUFYX1ZBTFVFLHU9LU51bWJlci5NQVhfVkFMVUUsZj1hfHxuLGw9Zi5nZXRJbmRpY2VzKCksaD10O2g8dCtyO2grKyl7dmFyIGM9bFtoXTtjPG8mJihvPWMpLGM+dSYmKHU9Yyl9cmV0dXJuIG5ldyBpKGUsbyx1LW8rMSx0LHIsbixhLHMpfSxpfSgpLGV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsfSxzZXQ6ZnVuY3Rpb24oZSl7aS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hvd0xvYWRpbmdTY3JlZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fU2hvd0xvYWRpbmdTY3JlZW59LHNldDpmdW5jdGlvbihlKXtpLl9TaG93TG9hZGluZ1NjcmVlbj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJsb2dnaW5nTGV2ZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fbG9nZ2luZ0xldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7aS5fbG9nZ2luZ0xldmVsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNsZWFuQm9uZU1hdHJpeFdlaWdodHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c30sc2V0OmZ1bmN0aW9uKGUpe2kuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD0hMSxpLl9TaG93TG9hZGluZ1NjcmVlbj0hMCxpLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPSExLGkuX2xvZ2dpbmdMZXZlbD0wLGl9KCksR2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY9ITEsaX0oKSx5dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhKXtuPT09dm9pZCAwJiYobj0hMSksYT09PXZvaWQgMCYmKGE9bnVsbCksdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGU9ITEsdGhpcy5fcG9zaXRpb25zQ2FjaGU9W10sdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnk9ITEsdGhpcy5fc2NlbmU9dHx8Si5MYXN0Q3JlYXRlZFNjZW5lLCEhdGhpcy5fc2NlbmUmJih0aGlzLmlkPWUsdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0aGlzLl9tZXNoZXM9W10sdGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3VwZGF0YWJsZT1uLHI/dGhpcy5zZXRBbGxWZXJ0aWNlc0RhdGEocixuKToodGhpcy5fdG90YWxWZXJ0aWNlcz0wLHRoaXMuX2luZGljZXM9W10pLHRoaXMuX2VuZ2luZS5nZXRDYXBzKCkudmVydGV4QXJyYXlPYmplY3QmJih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e30pLGEmJih0aGlzLmFwcGx5VG9NZXNoKGEpLGEuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJvdW5kaW5nQmlhcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZGluZ0JpYXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ib3VuZGluZ0JpYXM/dGhpcy5fYm91bmRpbmdCaWFzLmNvcHlGcm9tKGUpOnRoaXMuX2JvdW5kaW5nQmlhcz1lLmNsb25lKCksdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCEwLG51bGwpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ3JlYXRlR2VvbWV0cnlGb3JNZXNoPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKGkuUmFuZG9tSWQoKSxlLmdldFNjZW5lKCkpO3JldHVybiB0LmFwcGx5VG9NZXNoKGUpLHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2hlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImV4dGVuZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHRlbmR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0U2NlbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NlbmV9LGkucHJvdG90eXBlLmdldEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmdpbmV9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTF8fHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0wfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRvTm90U2VyaWFsaXplIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9tZXNoZXMubGVuZ3RoO2UrKylpZighdGhpcy5fbWVzaGVzW2VdLmRvTm90U2VyaWFsaXplKXJldHVybiExO3JldHVybiEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiYodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9KSx0aGlzLl9tZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5faW5kaWNlcyYmKHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLl9pbmRpY2VzLHRoaXMuX3VwZGF0YWJsZSkpO2Zvcih2YXIgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXt2YXIgdD10aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdO3QuX3JlYnVpbGQoKX19LGkucHJvdG90eXBlLnNldEFsbFZlcnRpY2VzRGF0YT1mdW5jdGlvbihlLHQpe2UuYXBwbHlUb0dlb21ldHJ5KHRoaXMsdCksdGhpcy5ub3RpZnlVcGRhdGUoKX0saS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPSExKSxyJiZBcnJheS5pc0FycmF5KHQpJiYodD1uZXcgRmxvYXQzMkFycmF5KHQpKTt2YXIgYT1uZXcgYih0aGlzLl9lbmdpbmUsdCxlLHIsdGhpcy5fbWVzaGVzLmxlbmd0aD09PTAsbik7dGhpcy5zZXRWZXJ0aWNlc0J1ZmZlcihhKX0saS5wcm90b3R5cGUucmVtb3ZlVmVydGljZXNEYXRhPWZ1bmN0aW9uKGUpe3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0mJih0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fdmVydGV4QnVmZmVyc1tlXSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZ0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCl9LGkucHJvdG90eXBlLnNldFZlcnRpY2VzQnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMCk7dmFyIG49ZS5nZXRLaW5kKCk7dGhpcy5fdmVydGV4QnVmZmVyc1tuXSYmciYmdGhpcy5fdmVydGV4QnVmZmVyc1tuXS5kaXNwb3NlKCksZS5fYnVmZmVyJiZlLl9idWZmZXIuX2luY3JlYXNlUmVmZXJlbmNlcygpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbbl09ZTt2YXIgYT10aGlzLl9tZXNoZXMscz1hLmxlbmd0aDtpZihuPT09Yi5Qb3NpdGlvbktpbmQpe3ZhciBvPWUuZ2V0RGF0YSgpO3QhPW51bGw/dGhpcy5fdG90YWxWZXJ0aWNlcz10Om8hPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPW8ubGVuZ3RoLyhlLnR5cGU9PT1iLkJZVEU/ZS5ieXRlU3RyaWRlOmUuYnl0ZVN0cmlkZS80KSksdGhpcy5fdXBkYXRlRXh0ZW5kKG8pLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpO2Zvcih2YXIgdT0wO3U8czt1Kyspe3ZhciBmPWFbdV07Zi5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksZi5fY3JlYXRlR2xvYmFsU3ViTWVzaCghMSksZi5jb21wdXRlV29ybGRNYXRyaXgoITApLGYuc3luY2hyb25pemVJbnN0YW5jZXMoKX19dGhpcy5ub3RpZnlVcGRhdGUobil9LGkucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSExKTt2YXIgYT10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTshYXx8KGEudXBkYXRlRGlyZWN0bHkodCxyLG4pLHRoaXMubm90aWZ5VXBkYXRlKGUpKX0saS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7IW58fChuLnVwZGF0ZSh0KSxlPT09Yi5Qb3NpdGlvbktpbmQmJnRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbyhyLHQpLHRoaXMubm90aWZ5VXBkYXRlKGUpKX0saS5wcm90b3R5cGUuX3VwZGF0ZUJvdW5kaW5nSW5mbz1mdW5jdGlvbihlLHQpe2lmKGUmJnRoaXMuX3VwZGF0ZUV4dGVuZCh0KSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKSxlKWZvcih2YXIgcj10aGlzLl9tZXNoZXMsbj0wLGE9cjtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtzLmhhc0JvdW5kaW5nSW5mbz9zLmdldEJvdW5kaW5nSW5mbygpLnJlQ29uc3RydWN0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTpzLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTtmb3IodmFyIG89cy5zdWJNZXNoZXMsdT0wLGY9bzt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XTtsLnJlZnJlc2hCb3VuZGluZ0luZm8oKX19fSxpLnByb3RvdHlwZS5fYmluZD1mdW5jdGlvbihlLHQscixuKXtpZighIWUpe3Q9PT12b2lkIDAmJih0PXRoaXMuX2luZGV4QnVmZmVyKTt2YXIgYT10aGlzLmdldFZlcnRleEJ1ZmZlcnMoKTtpZighIWEpe2lmKHQhPXRoaXMuX2luZGV4QnVmZmVyfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiYhbil7dGhpcy5fZW5naW5lLmJpbmRCdWZmZXJzKGEsdCxlLHIpO3JldHVybn12YXIgcz1ufHx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM7c1tlLmtleV18fChzW2Uua2V5XT10aGlzLl9lbmdpbmUucmVjb3JkVmVydGV4QXJyYXlPYmplY3QoYSx0LGUscikpLHRoaXMuX2VuZ2luZS5iaW5kVmVydGV4QXJyYXlPYmplY3Qoc1tlLmtleV0sdCl9fX0saS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl90b3RhbFZlcnRpY2VzOjB9LGkucHJvdG90eXBlLmdldFZlcnRpY2VzRGF0YT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7cmV0dXJuIG4/bi5nZXRGbG9hdERhdGEodGhpcy5fdG90YWxWZXJ0aWNlcyxyfHx0JiZ0aGlzLl9tZXNoZXMubGVuZ3RoIT09MSk6bnVsbH0saS5wcm90b3R5cGUuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmVydGV4QnVmZmVyc1tlXTtyZXR1cm4gdD90LmlzVXBkYXRhYmxlKCk6ITF9LGkucHJvdG90eXBlLmdldFZlcnRleEJ1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyc1tlXTpudWxsfSxpLnByb3RvdHlwZS5nZXRWZXJ0ZXhCdWZmZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3ZlcnRleEJ1ZmZlcnM6bnVsbH0saS5wcm90b3R5cGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl92ZXJ0ZXhCdWZmZXJzP3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0hPT12b2lkIDA6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITF9LGkucHJvdG90eXBlLmdldFZlcnRpY2VzRGF0YUtpbmRzPWZ1bmN0aW9uKCl7dmFyIGU9W10sdDtpZighdGhpcy5fdmVydGV4QnVmZmVycyYmdGhpcy5fZGVsYXlJbmZvKWZvcih0IGluIHRoaXMuX2RlbGF5SW5mbyllLnB1c2godCk7ZWxzZSBmb3IodCBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKWUucHVzaCh0KTtyZXR1cm4gZX0saS5wcm90b3R5cGUudXBkYXRlSW5kaWNlcz1mdW5jdGlvbihlLHQscil7aWYocj09PXZvaWQgMCYmKHI9ITEpLCEhdGhpcy5faW5kZXhCdWZmZXIpaWYoIXRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGUpdGhpcy5zZXRJbmRpY2VzKGUsbnVsbCwhMCk7ZWxzZXt2YXIgbj1lLmxlbmd0aCE9PXRoaXMuX2luZGljZXMubGVuZ3RoO2lmKHJ8fCh0aGlzLl9pbmRpY2VzPWUuc2xpY2UoKSksdGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlcixlLHQpLG4pZm9yKHZhciBhPTAscz10aGlzLl9tZXNoZXM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5fY3JlYXRlR2xvYmFsU3ViTWVzaCghMCl9fX0saS5wcm90b3R5cGUuc2V0SW5kaWNlcz1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuX2luZGV4QnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGljZXM9ZSx0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlPXIsdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyxyKSksdCE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9dCk7Zm9yKHZhciBuPTAsYT10aGlzLl9tZXNoZXM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5fY3JlYXRlR2xvYmFsU3ViTWVzaCghMCkscy5zeW5jaHJvbml6ZUluc3RhbmNlcygpfXRoaXMubm90aWZ5VXBkYXRlKCl9LGkucHJvdG90eXBlLmdldFRvdGFsSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl9pbmRpY2VzLmxlbmd0aDowfSxpLnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaXNSZWFkeSgpKXJldHVybiBudWxsO3ZhciByPXRoaXMuX2luZGljZXM7cmV0dXJuIXQmJighZXx8dGhpcy5fbWVzaGVzLmxlbmd0aD09PTEpP3I6aWUuU2xpY2Uocil9LGkucHJvdG90eXBlLmdldEluZGV4QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGV4QnVmZmVyOm51bGx9LGkucHJvdG90eXBlLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9bnVsbCksISghZXx8IXRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cykmJnRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0mJih0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0pLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKX0saS5wcm90b3R5cGUucmVsZWFzZUZvck1lc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9tZXNoZXMsbj1yLmluZGV4T2YoZSk7biE9PS0xJiYoci5zcGxpY2UobiwxKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJmUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksZS5fZ2VvbWV0cnk9bnVsbCxyLmxlbmd0aD09PTAmJnQmJnRoaXMuZGlzcG9zZSgpKX0saS5wcm90b3R5cGUuYXBwbHlUb01lc2g9ZnVuY3Rpb24oZSl7aWYoZS5fZ2VvbWV0cnkhPT10aGlzKXt2YXIgdD1lLl9nZW9tZXRyeTt0JiZ0LnJlbGVhc2VGb3JNZXNoKGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKTt2YXIgcj10aGlzLl9tZXNoZXM7ZS5fZ2VvbWV0cnk9dGhpcyxlLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9zY2VuZS5wdXNoR2VvbWV0cnkodGhpcyksci5wdXNoKGUpLHRoaXMuaXNSZWFkeSgpP3RoaXMuX2FwcGx5VG9NZXNoKGUpOnRoaXMuX2JvdW5kaW5nSW5mbyYmZS5zZXRCb3VuZGluZ0luZm8odGhpcy5fYm91bmRpbmdJbmZvKX19LGkucHJvdG90eXBlLl91cGRhdGVFeHRlbmQ9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9bnVsbCksdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnkmJnRoaXMuX2JvdW5kaW5nSW5mbyl0aGlzLl9leHRlbmQ9e21pbmltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1pbmltdW0uY2xvbmUoKSxtYXhpbXVtOnRoaXMuX2JvdW5kaW5nSW5mby5tYXhpbXVtLmNsb25lKCl9O2Vsc2V7aWYoIWUmJihlPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuUG9zaXRpb25LaW5kKSwhZSkpcmV0dXJuO3RoaXMuX2V4dGVuZD1lbihlLDAsdGhpcy5fdG90YWxWZXJ0aWNlcyx0aGlzLmJvdW5kaW5nQmlhcywzKX19LGkucHJvdG90eXBlLl9hcHBseVRvTWVzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tZXNoZXMubGVuZ3RoO2Zvcih2YXIgciBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXQ9PT0xJiZ0aGlzLl92ZXJ0ZXhCdWZmZXJzW3JdLmNyZWF0ZSgpLHI9PT1iLlBvc2l0aW9uS2luZCYmKHRoaXMuX2V4dGVuZHx8dGhpcy5fdXBkYXRlRXh0ZW5kKCksZS5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksZS5fY3JlYXRlR2xvYmFsU3ViTWVzaCghMSksZS5fdXBkYXRlQm91bmRpbmdJbmZvKCkpO3Q9PT0xJiZ0aGlzLl9pbmRpY2VzJiZ0aGlzLl9pbmRpY2VzLmxlbmd0aD4wJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSksZS5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpLGUuc3luY2hyb25pemVJbnN0YW5jZXMoKX0saS5wcm90b3R5cGUubm90aWZ5VXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMub25HZW9tZXRyeVVwZGF0ZWQmJnRoaXMub25HZW9tZXRyeVVwZGF0ZWQodGhpcyxlKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IodmFyIHQ9MCxyPXRoaXMuX21lc2hlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX19LGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09Mil7aWYodGhpcy5pc1JlYWR5KCkpe3QmJnQoKTtyZXR1cm59dGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlLHQpfX0saS5wcm90b3R5cGUuX3F1ZXVlTG9hZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7IXRoaXMuZGVsYXlMb2FkaW5nRmlsZXx8KGUuX2FkZFBlbmRpbmdEYXRhKHRoaXMpLGUuX2xvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxmdW5jdGlvbihuKXtpZighIXIuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKXtyLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKG4pLHIpLHIuZGVsYXlMb2FkU3RhdGU9MSxyLl9kZWxheUluZm89W10sZS5fcmVtb3ZlUGVuZGluZ0RhdGEocik7Zm9yKHZhciBhPXIuX21lc2hlcyxzPWEubGVuZ3RoLG89MDtvPHM7bysrKXIuX2FwcGx5VG9NZXNoKGFbb10pO3QmJnQoKX19LHZvaWQgMCwhMCkpfSxpLnByb3RvdHlwZS50b0xlZnRIYW5kZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluZGljZXMoITEpO2lmKGUhPW51bGwmJmUubGVuZ3RoPjApe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCs9Myl7dmFyIHI9ZVt0KzBdO2VbdCswXT1lW3QrMl0sZVt0KzJdPXJ9dGhpcy5zZXRJbmRpY2VzKGUpfXZhciBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuUG9zaXRpb25LaW5kLCExKTtpZihuIT1udWxsJiZuLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrPTMpblt0KzJdPS1uW3QrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsbiwhMSl9dmFyIGE9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kLCExKTtpZihhIT1udWxsJiZhLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PGEubGVuZ3RoO3QrPTMpYVt0KzJdPS1hW3QrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kLGEsITEpfX0saS5wcm90b3R5cGUuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZT1mdW5jdGlvbigpe3RoaXMuX3Bvc2l0aW9ucz1udWxsfSxpLnByb3RvdHlwZS5fZ2VuZXJhdGVQb2ludHNBcnJheT1mdW5jdGlvbigpe2lmKHRoaXMuX3Bvc2l0aW9ucylyZXR1cm4hMDt2YXIgZT10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCk7aWYoIWV8fGUubGVuZ3RoPT09MClyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoKjMscj10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg7dDxlLmxlbmd0aDt0Kz0zLCsrcil0aGlzLl9wb3NpdGlvbnNDYWNoZVtyXT1FLkZyb21BcnJheShlLHQpO2Zvcih2YXIgdD0wLHI9MDt0PGUubGVuZ3RoO3QrPTMsKytyKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW3JdLnNldChlWzArdF0sZVsxK3RdLGVbMit0XSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aD1lLmxlbmd0aC8zLHRoaXMuX3Bvc2l0aW9ucz10aGlzLl9wb3NpdGlvbnNDYWNoZSwhMH0saS5wcm90b3R5cGUuaXNEaXNwb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0Rpc3Bvc2VkfSxpLnByb3RvdHlwZS5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cz1mdW5jdGlvbigpe2lmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl7Zm9yKHZhciBlIGluIHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlXSk7dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9O2Zvcih2YXIgdD10aGlzLl9tZXNoZXMscj10Lmxlbmd0aCxuPTA7bjxyO24rKyl0W25dLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX21lc2hlcyx0PWUubGVuZ3RoLHI7Zm9yKHI9MDtyPHQ7cisrKXRoaXMucmVsZWFzZUZvck1lc2goZVtyXSk7dGhpcy5fbWVzaGVzPVtdLHRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IodmFyIG4gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW25dLmRpc3Bvc2UoKTtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGljZXM9W10sdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuZGVsYXlMb2FkaW5nRmlsZT1udWxsLHRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW51bGwsdGhpcy5fZGVsYXlJbmZvPVtdLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX3NjZW5lLnJlbW92ZUdlb21ldHJ5KHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIGE9dGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuaW5kZXhPZih0aGlzKTthPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5zcGxpY2UoYSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH10aGlzLl9pc0Rpc3Bvc2VkPSEwfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBsZTt0LmluZGljZXM9W107dmFyIHI9dGhpcy5nZXRJbmRpY2VzKCk7aWYocilmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl0LmluZGljZXMucHVzaChyW25dKTt2YXIgYT0hMSxzPSExLG87Zm9yKG8gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7dmFyIHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobyk7aWYodSYmKHUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dC5zZXQobmV3IEZsb2F0MzJBcnJheSh1KSxvKTp0LnNldCh1LnNsaWNlKDApLG8pLCFzKSl7dmFyIGY9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobyk7ZiYmKGE9Zi5pc1VwZGF0YWJsZSgpLHM9IWEpfX12YXIgbD1uZXcgaShlLHRoaXMuX3NjZW5lLHQsYSk7bC5kZWxheUxvYWRTdGF0ZT10aGlzLmRlbGF5TG9hZFN0YXRlLGwuZGVsYXlMb2FkaW5nRmlsZT10aGlzLmRlbGF5TG9hZGluZ0ZpbGUsbC5fZGVsYXlMb2FkaW5nRnVuY3Rpb249dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb247Zm9yKG8gaW4gdGhpcy5fZGVsYXlJbmZvKWwuX2RlbGF5SW5mbz1sLl9kZWxheUluZm98fFtdLGwuX2RlbGF5SW5mby5wdXNoKG8pO3JldHVybiBsLl9ib3VuZGluZ0luZm89bmV3IHZ0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxsfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnVwZGF0YWJsZT10aGlzLl91cGRhdGFibGUsc2UmJnNlLkhhc1RhZ3ModGhpcykmJihlLnRhZ3M9c2UuR2V0VGFncyh0aGlzKSksZX0saS5wcm90b3R5cGUudG9OdW1iZXJBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpfSxpLnByb3RvdHlwZS5jbGVhckNhY2hlZERhdGE9ZnVuY3Rpb24oKXt0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpO2Zvcih2YXIgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKSF0aGlzLl92ZXJ0ZXhCdWZmZXJzLmhhc093blByb3BlcnR5KGUpfHwodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5fYnVmZmVyLl9kYXRhPW51bGwpfSxpLnByb3RvdHlwZS5zZXJpYWxpemVWZXJ0aWNlRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VyaWFsaXplKCk7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zPXRoaXMudG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5Qb3NpdGlvbktpbmQpJiYoZS5wb3NpdGlvbnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuTm9ybWFsS2luZCkmJihlLm5vcm1hbHM9dGhpcy50b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzPXRoaXMudG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShiLlRhbmdlbnRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShiLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuVVZLaW5kKSYmKGUudXZzPXRoaXMudG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShiLlVWS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5VVktpbmQpJiYoZS51dnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuVVYyS2luZCkmJihlLnV2MnM9dGhpcy50b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGIuVVYyS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5VVjJLaW5kKSYmKGUudXYycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjNLaW5kKSYmKGUudXYzcz10aGlzLnRvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5VVjNLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShiLlVWM0tpbmQpJiYoZS51djNzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLlVWNEtpbmQpJiYoZS51djRzPXRoaXMudG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShiLlVWNEtpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGIuVVY0S2luZCkmJihlLnV2NHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuVVY1S2luZCkmJihlLnV2NXM9dGhpcy50b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGIuVVY1S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5VVjVLaW5kKSYmKGUudXY1cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjZLaW5kKSYmKGUudXY2cz10aGlzLnRvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5VVjZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShiLlVWNktpbmQpJiYoZS51djZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLkNvbG9yS2luZCkmJihlLmNvbG9ycz10aGlzLnRvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5Db2xvcktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGIuQ29sb3JLaW5kKSYmKGUuY29sb3JzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYoZS5tYXRyaWNlc0luZGljZXM9dGhpcy50b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzS2luZCkpLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy50b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNXZWlnaHRzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGU9ITApKSxlLmluZGljZXM9dGhpcy50b051bWJlckFycmF5KHRoaXMuZ2V0SW5kaWNlcygpKSxlfSxpLkV4dHJhY3RGcm9tTWVzaD1mdW5jdGlvbihlLHQpe3ZhciByPWUuX2dlb21ldHJ5O3JldHVybiByP3IuY29weSh0KTpudWxsfSxpLlJhbmRvbUlkPWZ1bmN0aW9uKCl7cmV0dXJuIGllLlJhbmRvbUlkKCl9LGkuX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5nZW9tZXRyaWVzLmxlbmd0aDtyKyspaWYodC5nZW9tZXRyaWVzW3JdLl9sb2FkZWRVbmlxdWVJZD09PWUpcmV0dXJuIHQuZ2VvbWV0cmllc1tyXTtyZXR1cm4gbnVsbH0saS5fSW1wb3J0R2VvbWV0cnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmdldFNjZW5lKCksbj1lLmdlb21ldHJ5VW5pcXVlSWQsYT1lLmdlb21ldHJ5SWQ7aWYobnx8YSl7dmFyIHM9bj90aGlzLl9HZXRHZW9tZXRyeUJ5TG9hZGVkVW5pcXVlSWQobixyKTpyLmdldEdlb21ldHJ5QnlJZChhKTtzJiZzLmFwcGx5VG9NZXNoKHQpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgbz10Ll9iaW5hcnlJbmZvO2lmKG8ucG9zaXRpb25zQXR0ckRlc2MmJm8ucG9zaXRpb25zQXR0ckRlc2MuY291bnQ+MCl7dmFyIHU9bmV3IEZsb2F0MzJBcnJheShlLG8ucG9zaXRpb25zQXR0ckRlc2Mub2Zmc2V0LG8ucG9zaXRpb25zQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGIuUG9zaXRpb25LaW5kLHUsITEpfWlmKG8ubm9ybWFsc0F0dHJEZXNjJiZvLm5vcm1hbHNBdHRyRGVzYy5jb3VudD4wKXt2YXIgZj1uZXcgRmxvYXQzMkFycmF5KGUsby5ub3JtYWxzQXR0ckRlc2Mub2Zmc2V0LG8ubm9ybWFsc0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQsZiwhMSl9aWYoby50YW5nZXRzQXR0ckRlc2MmJm8udGFuZ2V0c0F0dHJEZXNjLmNvdW50PjApe3ZhciBsPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnRhbmdldHNBdHRyRGVzYy5vZmZzZXQsby50YW5nZXRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGIuVGFuZ2VudEtpbmQsbCwhMSl9aWYoby51dnNBdHRyRGVzYyYmby51dnNBdHRyRGVzYy5jb3VudD4wKXt2YXIgaD1uZXcgRmxvYXQzMkFycmF5KGUsby51dnNBdHRyRGVzYy5vZmZzZXQsby51dnNBdHRyRGVzYy5jb3VudCk7aWYoR2UuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPGgubGVuZ3RoO2MrPTIpaFtjXT0xLWhbY107dC5zZXRWZXJ0aWNlc0RhdGEoYi5VVktpbmQsaCwhMSl9aWYoby51dnMyQXR0ckRlc2MmJm8udXZzMkF0dHJEZXNjLmNvdW50PjApe3ZhciBkPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2czJBdHRyRGVzYy5vZmZzZXQsby51dnMyQXR0ckRlc2MuY291bnQpO2lmKEdlLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7YzxkLmxlbmd0aDtjKz0yKWRbY109MS1kW2NdO3Quc2V0VmVydGljZXNEYXRhKGIuVVYyS2luZCxkLCExKX1pZihvLnV2czNBdHRyRGVzYyYmby51dnMzQXR0ckRlc2MuY291bnQ+MCl7dmFyIHA9bmV3IEZsb2F0MzJBcnJheShlLG8udXZzM0F0dHJEZXNjLm9mZnNldCxvLnV2czNBdHRyRGVzYy5jb3VudCk7aWYoR2UuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPHAubGVuZ3RoO2MrPTIpcFtjXT0xLXBbY107dC5zZXRWZXJ0aWNlc0RhdGEoYi5VVjNLaW5kLHAsITEpfWlmKG8udXZzNEF0dHJEZXNjJiZvLnV2czRBdHRyRGVzYy5jb3VudD4wKXt2YXIgXz1uZXcgRmxvYXQzMkFycmF5KGUsby51dnM0QXR0ckRlc2Mub2Zmc2V0LG8udXZzNEF0dHJEZXNjLmNvdW50KTtpZihHZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcih2YXIgYz0xO2M8Xy5sZW5ndGg7Yys9MilfW2NdPTEtX1tjXTt0LnNldFZlcnRpY2VzRGF0YShiLlVWNEtpbmQsXywhMSl9aWYoby51dnM1QXR0ckRlc2MmJm8udXZzNUF0dHJEZXNjLmNvdW50PjApe3ZhciBnPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2czVBdHRyRGVzYy5vZmZzZXQsby51dnM1QXR0ckRlc2MuY291bnQpO2lmKEdlLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7YzxnLmxlbmd0aDtjKz0yKWdbY109MS1nW2NdO3Quc2V0VmVydGljZXNEYXRhKGIuVVY1S2luZCxnLCExKX1pZihvLnV2czZBdHRyRGVzYyYmby51dnM2QXR0ckRlc2MuY291bnQ+MCl7dmFyIG09bmV3IEZsb2F0MzJBcnJheShlLG8udXZzNkF0dHJEZXNjLm9mZnNldCxvLnV2czZBdHRyRGVzYy5jb3VudCk7aWYoR2UuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPG0ubGVuZ3RoO2MrPTIpbVtjXT0xLW1bY107dC5zZXRWZXJ0aWNlc0RhdGEoYi5VVjZLaW5kLG0sITEpfWlmKG8uY29sb3JzQXR0ckRlc2MmJm8uY29sb3JzQXR0ckRlc2MuY291bnQ+MCl7dmFyIHY9bmV3IEZsb2F0MzJBcnJheShlLG8uY29sb3JzQXR0ckRlc2Mub2Zmc2V0LG8uY29sb3JzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGIuQ29sb3JLaW5kLHYsITEsby5jb2xvcnNBdHRyRGVzYy5zdHJpZGUpfWlmKG8ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MmJm8ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Zm9yKHZhciBTPW5ldyBJbnQzMkFycmF5KGUsby5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5vZmZzZXQsby5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudCksTT1bXSxBPTA7QTxTLmxlbmd0aDtBKyspe3ZhciBjPVNbQV07TS5wdXNoKGMmMjU1KSxNLnB1c2goKGMmNjUyODApPj44KSxNLnB1c2goKGMmMTY3MTE2ODApPj4xNiksTS5wdXNoKGM+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNLaW5kLE0sITEpfWlmKG8ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYyYmby5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLmNvdW50PjApe2Zvcih2YXIgUz1uZXcgSW50MzJBcnJheShlLG8ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5vZmZzZXQsby5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLmNvdW50KSxNPVtdLEE9MDtBPFMubGVuZ3RoO0ErKyl7dmFyIGM9U1tBXTtNLnB1c2goYyYyNTUpLE0ucHVzaCgoYyY2NTI4MCk+PjgpLE0ucHVzaCgoYyYxNjcxMTY4MCk+PjE2KSxNLnB1c2goYz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxNLCExKX1pZihvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjJiZvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50PjApe3ZhciBSPW5ldyBGbG9hdDMyQXJyYXkoZSxvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLm9mZnNldCxvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0tpbmQsUiwhMSl9aWYoby5pbmRpY2VzQXR0ckRlc2MmJm8uaW5kaWNlc0F0dHJEZXNjLmNvdW50PjApe3ZhciB5PW5ldyBJbnQzMkFycmF5KGUsby5pbmRpY2VzQXR0ckRlc2Mub2Zmc2V0LG8uaW5kaWNlc0F0dHJEZXNjLmNvdW50KTt0LnNldEluZGljZXMoeSxudWxsKX1pZihvLnN1Yk1lc2hlc0F0dHJEZXNjJiZvLnN1Yk1lc2hlc0F0dHJEZXNjLmNvdW50PjApe3ZhciBDPW5ldyBJbnQzMkFycmF5KGUsby5zdWJNZXNoZXNBdHRyRGVzYy5vZmZzZXQsby5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudCo1KTt0LnN1Yk1lc2hlcz1bXTtmb3IodmFyIEE9MDtBPG8uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ7QSsrKXt2YXIgdz1DW0EqNSswXSxGPUNbQSo1KzFdLEQ9Q1tBKjUrMl0sWD1DW0EqNSszXSxXPUNbQSo1KzRdO210LkFkZFRvTWVzaCh3LEYsRCxYLFcsdCl9fX1lbHNlIGlmKGUucG9zaXRpb25zJiZlLm5vcm1hbHMmJmUuaW5kaWNlcyl7aWYodC5zZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsZS5wb3NpdGlvbnMsZS5wb3NpdGlvbnMuX3VwZGF0YWJsZSksdC5zZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kLGUubm9ybWFscyxlLm5vcm1hbHMuX3VwZGF0YWJsZSksZS50YW5nZW50cyYmdC5zZXRWZXJ0aWNlc0RhdGEoYi5UYW5nZW50S2luZCxlLnRhbmdlbnRzLGUudGFuZ2VudHMuX3VwZGF0YWJsZSksZS51dnMmJnQuc2V0VmVydGljZXNEYXRhKGIuVVZLaW5kLGUudXZzLGUudXZzLl91cGRhdGFibGUpLGUudXZzMiYmdC5zZXRWZXJ0aWNlc0RhdGEoYi5VVjJLaW5kLGUudXZzMixlLnV2czIuX3VwZGF0YWJsZSksZS51dnMzJiZ0LnNldFZlcnRpY2VzRGF0YShiLlVWM0tpbmQsZS51dnMzLGUudXZzMy5fdXBkYXRhYmxlKSxlLnV2czQmJnQuc2V0VmVydGljZXNEYXRhKGIuVVY0S2luZCxlLnV2czQsZS51dnM0Ll91cGRhdGFibGUpLGUudXZzNSYmdC5zZXRWZXJ0aWNlc0RhdGEoYi5VVjVLaW5kLGUudXZzNSxlLnV2czUuX3VwZGF0YWJsZSksZS51dnM2JiZ0LnNldFZlcnRpY2VzRGF0YShiLlVWNktpbmQsZS51dnM2LGUudXZzNi5fdXBkYXRhYmxlKSxlLmNvbG9ycyYmdC5zZXRWZXJ0aWNlc0RhdGEoYi5Db2xvcktpbmQsX2UuQ2hlY2tDb2xvcnM0KGUuY29sb3JzLGUucG9zaXRpb25zLmxlbmd0aC8zKSxlLmNvbG9ycy5fdXBkYXRhYmxlKSxlLm1hdHJpY2VzSW5kaWNlcylpZihlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZClkZWxldGUgZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQsdC5zZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNLaW5kLGUubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGUpO2Vsc2V7Zm9yKHZhciBNPVtdLEE9MDtBPGUubWF0cmljZXNJbmRpY2VzLmxlbmd0aDtBKyspe3ZhciBOPWUubWF0cmljZXNJbmRpY2VzW0FdO00ucHVzaChOJjI1NSksTS5wdXNoKChOJjY1MjgwKT4+OCksTS5wdXNoKChOJjE2NzExNjgwKT4+MTYpLE0ucHVzaChOPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzS2luZCxNLGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGUpfWlmKGUubWF0cmljZXNJbmRpY2VzRXh0cmEpaWYoZS5tYXRyaWNlc0luZGljZXNFeHRyYS5faXNFeHBhbmRlZClkZWxldGUgZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQsdC5zZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsZS5tYXRyaWNlc0luZGljZXNFeHRyYSxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl91cGRhdGFibGUpO2Vsc2V7Zm9yKHZhciBNPVtdLEE9MDtBPGUubWF0cmljZXNJbmRpY2VzRXh0cmEubGVuZ3RoO0ErKyl7dmFyIE49ZS5tYXRyaWNlc0luZGljZXNFeHRyYVtBXTtNLnB1c2goTiYyNTUpLE0ucHVzaCgoTiY2NTI4MCk+PjgpLE0ucHVzaCgoTiYxNjcxMTY4MCk+PjE2KSxNLnB1c2goTj4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxNLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSl9ZS5tYXRyaWNlc1dlaWdodHMmJihpLl9DbGVhbk1hdHJpY2VzV2VpZ2h0cyhlLHQpLHQuc2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNXZWlnaHRzS2luZCxlLm1hdHJpY2VzV2VpZ2h0cyxlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlKSksZS5tYXRyaWNlc1dlaWdodHNFeHRyYSYmdC5zZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsZS5tYXRyaWNlc1dlaWdodHNFeHRyYSxlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlKSx0LnNldEluZGljZXMoZS5pbmRpY2VzLG51bGwpfWlmKGUuc3ViTWVzaGVzKXt0LnN1Yk1lc2hlcz1bXTtmb3IodmFyIGo9MDtqPGUuc3ViTWVzaGVzLmxlbmd0aDtqKyspe3ZhciBLPWUuc3ViTWVzaGVzW2pdO210LkFkZFRvTWVzaChLLm1hdGVyaWFsSW5kZXgsSy52ZXJ0aWNlc1N0YXJ0LEsudmVydGljZXNDb3VudCxLLmluZGV4U3RhcnQsSy5pbmRleENvdW50LHQpfX10Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nJiYodC5jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpLHQuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEpLHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxyLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9LGkuX0NsZWFuTWF0cmljZXNXZWlnaHRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9LjAwMTtpZighIWV0LkNsZWFuQm9uZU1hdHJpeFdlaWdodHMpe3ZhciBuPTA7aWYoZS5za2VsZXRvbklkPi0xKXt2YXIgYT10LmdldFNjZW5lKCkuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpO2lmKCFhKXJldHVybjtuPWEuYm9uZXMubGVuZ3RofWVsc2UgcmV0dXJuO2Zvcih2YXIgcz10LmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzSW5kaWNlc0tpbmQpLG89dC5nZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLHU9ZS5tYXRyaWNlc1dlaWdodHMsZj1lLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGw9ZS5udW1Cb25lSW5mbHVlbmNlcixoPXUubGVuZ3RoLGM9MDtjPGg7Yys9NCl7Zm9yKHZhciBkPTAscD0tMSxfPTA7Xzw0O18rKyl7dmFyIGc9dVtjK19dO2QrPWcsZzxyJiZwPDAmJihwPV8pfWlmKGYpZm9yKHZhciBfPTA7Xzw0O18rKyl7dmFyIGc9ZltjK19dO2QrPWcsZzxyJiZwPDAmJihwPV8rNCl9aWYoKHA8MHx8cD5sLTEpJiYocD1sLTEpLGQ+cil7Zm9yKHZhciBtPTEvZCxfPTA7Xzw0O18rKyl1W2MrX10qPW07aWYoZilmb3IodmFyIF89MDtfPDQ7XysrKWZbYytfXSo9bX1lbHNlIHA+PTQ/KGZbYytwLTRdPTEtZCxvW2MrcC00XT1uKToodVtjK3BdPTEtZCxzW2MrcF09bil9dC5zZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNLaW5kLHMpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLG8pfX0saS5QYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoZS5pZCx0LHZvaWQgMCxlLnVwZGF0YWJsZSk7cmV0dXJuIG4uX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsc2UmJnNlLkFkZFRhZ3NUbyhuLGUudGFncyksZS5kZWxheUxvYWRpbmdGaWxlPyhuLmRlbGF5TG9hZFN0YXRlPTQsbi5kZWxheUxvYWRpbmdGaWxlPXIrZS5kZWxheUxvYWRpbmdGaWxlLG4uX2JvdW5kaW5nSW5mbz1uZXcgdnQoRS5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLEUuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSksbi5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZuLl9kZWxheUluZm8ucHVzaChiLlVWS2luZCksZS5oYXNVVnMyJiZuLl9kZWxheUluZm8ucHVzaChiLlVWMktpbmQpLGUuaGFzVVZzMyYmbi5fZGVsYXlJbmZvLnB1c2goYi5VVjNLaW5kKSxlLmhhc1VWczQmJm4uX2RlbGF5SW5mby5wdXNoKGIuVVY0S2luZCksZS5oYXNVVnM1JiZuLl9kZWxheUluZm8ucHVzaChiLlVWNUtpbmQpLGUuaGFzVVZzNiYmbi5fZGVsYXlJbmZvLnB1c2goYi5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmbi5fZGVsYXlJbmZvLnB1c2goYi5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZuLl9kZWxheUluZm8ucHVzaChiLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZuLl9kZWxheUluZm8ucHVzaChiLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLG4uX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPWxlLkltcG9ydFZlcnRleERhdGEpOmxlLkltcG9ydFZlcnRleERhdGEoZSxuKSx0LnB1c2hHZW9tZXRyeShuLCEwKSxufSxpfSgpLGZ0OyhmdW5jdGlvbihpKXtpW2kuTE9DQUw9MF09IkxPQ0FMIixpW2kuV09STEQ9MV09IldPUkxEIixpW2kuQk9ORT0yXT0iQk9ORSJ9KShmdHx8KGZ0PXt9KSk7dmFyIFByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5YPW5ldyBFKDEsMCwwKSxpLlk9bmV3IEUoMCwxLDApLGkuWj1uZXcgRSgwLDAsMSksaX0oKSx0bjsoZnVuY3Rpb24oaSl7aVtpLlg9MF09IlgiLGlbaS5ZPTFdPSJZIixpW2kuWj0yXT0iWiJ9KSh0bnx8KHRuPXt9KSk7dmFyIGplPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj0hMCk7dmFyIGE9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gYS5fZm9yd2FyZD1uZXcgRSgwLDAsMSksYS5fdXA9bmV3IEUoMCwxLDApLGEuX3JpZ2h0PW5ldyBFKDEsMCwwKSxhLl9wb3NpdGlvbj1FLlplcm8oKSxhLl9yb3RhdGlvbj1FLlplcm8oKSxhLl9yb3RhdGlvblF1YXRlcm5pb249bnVsbCxhLl9zY2FsaW5nPUUuT25lKCksYS5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLGEuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsYS5fYmlsbGJvYXJkTW9kZT1lLkJJTExCT0FSRE1PREVfTk9ORSxhLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPSExLGEuc2NhbGluZ0RldGVybWluYW50PTEsYS5faW5maW5pdGVEaXN0YW5jZT0hMSxhLmlnbm9yZU5vblVuaWZvcm1TY2FsaW5nPSExLGEucmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb249ITEsYS5fcG9zZU1hdHJpeD1udWxsLGEuX2xvY2FsTWF0cml4PUkuWmVybygpLGEuX3VzZVBpdm90TWF0cml4PSExLGEuX2Fic29sdXRlUG9zaXRpb249RS5aZXJvKCksYS5fYWJzb2x1dGVTY2FsaW5nPUUuWmVybygpLGEuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uPWVlLklkZW50aXR5KCksYS5fcGl2b3RNYXRyaXg9SS5JZGVudGl0eSgpLGEuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PSExLGEuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsYS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSxhLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGU9bmV3IE8sYS5fbm9uVW5pZm9ybVNjYWxpbmc9ITEsbiYmYS5nZXRTY2VuZSgpLmFkZFRyYW5zZm9ybU5vZGUoYSksYX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJiaWxsYm9hcmRNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JpbGxib2FyZE1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9iaWxsYm9hcmRNb2RlIT09dCYmKHRoaXMuX2JpbGxib2FyZE1vZGU9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmR9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZCYmKHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbmZpbml0ZURpc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbmZpbml0ZURpc3RhbmNlIT09dCYmKHRoaXMuX2luZmluaXRlRGlzdGFuY2U9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRyYW5zZm9ybU5vZGUifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dCx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzVXNpbmdQaXZvdE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VQaXZvdE1hdHJpeH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyb3RhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0aW9uPXQsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNjYWxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NhbGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NjYWxpbmc9dCx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicm90YXRpb25RdWF0ZXJuaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10LHQmJnRoaXMuX3JvdGF0aW9uLnNldEFsbCgwKSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yd2FyZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDAsdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX2ZvcndhcmQpLHRoaXMuX2ZvcndhcmQubm9ybWFsaXplKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1cCIse2dldDpmdW5jdGlvbigpe3JldHVybiBFLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDEsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fdXApLHRoaXMuX3VwLm5vcm1hbGl6ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRS5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsMCwwLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9yaWdodCksdGhpcy5fcmlnaHQubm9ybWFsaXplKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudXBkYXRlUG9zZU1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeD8odGhpcy5fcG9zZU1hdHJpeC5jb3B5RnJvbSh0KSx0aGlzKToodGhpcy5fcG9zZU1hdHJpeD10LmNsb25lKCksdGhpcyl9LGUucHJvdG90eXBlLmdldFBvc2VNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeHx8KHRoaXMuX3Bvc2VNYXRyaXg9SS5JZGVudGl0eSgpKSx0aGlzLl9wb3NlTWF0cml4fSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jYWNoZTtyZXR1cm4hKHRoaXMuYmlsbGJvYXJkTW9kZSE9PXQuYmlsbGJvYXJkTW9kZXx8dGhpcy5iaWxsYm9hcmRNb2RlIT09ZS5CSUxMQk9BUkRNT0RFX05PTkV8fHQucGl2b3RNYXRyaXhVcGRhdGVkfHx0aGlzLmluZmluaXRlRGlzdGFuY2V8fHRoaXMucG9zaXRpb24uX2lzRGlydHl8fHRoaXMuc2NhbGluZy5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24uX2lzRGlydHl8fHRoaXMucm90YXRpb24uX2lzRGlydHkpfSxlLnByb3RvdHlwZS5faW5pdENhY2hlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2luaXRDYWNoZS5jYWxsKHRoaXMpO3ZhciB0PXRoaXMuX2NhY2hlO3QubG9jYWxNYXRyaXhVcGRhdGVkPSExLHQuYmlsbGJvYXJkTW9kZT0tMSx0LmluZmluaXRlRGlzdGFuY2U9ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWJzb2x1dGVQb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFic29sdXRlU2NhbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRQcmVUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgodCwhMSl9LGUucHJvdG90eXBlLnNldFBpdm90TWF0cml4PWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLl9waXZvdE1hdHJpeC5jb3B5RnJvbSh0KSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hdGhpcy5fcGl2b3RNYXRyaXguaXNJZGVudGl0eSgpLHRoaXMuX2NhY2hlLnBpdm90TWF0cml4VXBkYXRlZD0hMCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD1yLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4JiYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlP3RoaXMuX3Bpdm90TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZSk6dGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlPUkuSW52ZXJ0KHRoaXMuX3Bpdm90TWF0cml4KSksdGhpc30sZS5wcm90b3R5cGUuZ2V0UGl2b3RNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXh9LGUucHJvdG90eXBlLmluc3RhbnRpYXRlSGllcmFyY2h5PWZ1bmN0aW9uKHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLHR8fHRoaXMucGFyZW50LCEwKTthJiZuJiZuKHRoaXMsYSk7Zm9yKHZhciBzPTAsbz10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO3UuaW5zdGFudGlhdGVIaWVyYXJjaHkoYSxyLG4pfXJldHVybiBhfSxlLnByb3RvdHlwZS5mcmVlemVXb3JsZE1hdHJpeD1mdW5jdGlvbih0LHIpe3JldHVybiB0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMSksdD9yPyh0aGlzLl9yb3RhdGlvbi5zZXRBbGwoMCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbnx8ZWUuSWRlbnRpdHkoKSx0LmRlY29tcG9zZSh0aGlzLl9zY2FsaW5nLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLl9wb3NpdGlvbiksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKToodGhpcy5fd29ybGRNYXRyaXg9dCx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpKToodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMCx0aGlzfSxlLnByb3RvdHlwZS51bmZyZWV6ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNXb3JsZE1hdHJpeEZyb3plbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFic29sdXRlUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9ufSxlLnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciByLG4sYTtpZih0Lng9PT12b2lkIDApe2lmKGFyZ3VtZW50cy5sZW5ndGg8MylyZXR1cm4gdGhpcztyPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXX1lbHNlIHI9dC54LG49dC55LGE9dC56O2lmKHRoaXMucGFyZW50KXt2YXIgcz14Lk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHMpLEUuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYocixuLGEscyx0aGlzLnBvc2l0aW9uKX1lbHNlIHRoaXMucG9zaXRpb24ueD1yLHRoaXMucG9zaXRpb24ueT1uLHRoaXMucG9zaXRpb24uej1hO3JldHVybiB0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tKHQpLHRoaXN9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMucG9zaXRpb249RS5UcmFuc2Zvcm1Ob3JtYWwodCx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc30sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2U9ZnVuY3Rpb24oKXt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO3ZhciB0PXguTWF0cml4WzBdO3JldHVybiB0aGlzLl9sb2NhbE1hdHJpeC5pbnZlcnRUb1JlZih0KSxFLlRyYW5zZm9ybU5vcm1hbCh0aGlzLnBvc2l0aW9uLHQpfSxlLnByb3RvdHlwZS5sb2NhbGx5VHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5wb3NpdGlvbj1FLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHQsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9LGUucHJvdG90eXBlLmxvb2tBdD1mdW5jdGlvbih0LHIsbixhLHMpe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPWZ0LkxPQ0FMKTt2YXIgbz1lLl9sb29rQXRWZWN0b3JDYWNoZSx1PXM9PT1mdC5MT0NBTD90aGlzLnBvc2l0aW9uOnRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpO2lmKHQuc3VidHJhY3RUb1JlZih1LG8pLHRoaXMuc2V0RGlyZWN0aW9uKG8scixuLGEpLHM9PT1mdC5XT1JMRCYmdGhpcy5wYXJlbnQpaWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24pe3ZhciBmPXguTWF0cml4WzBdO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgoZik7dmFyIGw9eC5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGwpLGwuaW52ZXJ0KCksZi5tdWx0aXBseVRvUmVmKGwsZiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4KGYpfWVsc2V7dmFyIGg9eC5RdWF0ZXJuaW9uWzBdO2VlLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24saCk7dmFyIGY9eC5NYXRyaXhbMF07aC50b1JvdGF0aW9uTWF0cml4KGYpO3ZhciBsPXguTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihsKSxsLmludmVydCgpLGYubXVsdGlwbHlUb1JlZihsLGYpLGguZnJvbVJvdGF0aW9uTWF0cml4KGYpLGgudG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIHI9RS5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYodCxyKSxyfSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb25Ub1JlZj1mdW5jdGlvbih0LHIpe3JldHVybiBFLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHQsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHIpLHRoaXN9LGUucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT0wKTt2YXIgcz0tTWF0aC5hdGFuMih0LnosdC54KStNYXRoLlBJLzIsbz1NYXRoLnNxcnQodC54KnQueCt0LnoqdC56KSx1PS1NYXRoLmF0YW4yKHQueSxvKTtyZXR1cm4gdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/ZWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihzK3IsdStuLGEsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pOih0aGlzLnJvdGF0aW9uLng9dStuLHRoaXMucm90YXRpb24ueT1zK3IsdGhpcy5yb3RhdGlvbi56PWEpLHRoaXN9LGUucHJvdG90eXBlLnNldFBpdm90UG9pbnQ9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj1mdC5MT0NBTCksdGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk9PTAmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgbj10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYocj09ZnQuV09STEQpe3ZhciBhPXguTWF0cml4WzBdO24uaW52ZXJ0VG9SZWYoYSksdD1FLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHQsYSl9cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoSS5UcmFuc2xhdGlvbigtdC54LC10LnksLXQueiksITApfSxlLnByb3RvdHlwZS5nZXRQaXZvdFBvaW50PWZ1bmN0aW9uKCl7dmFyIHQ9RS5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKHQpLHR9LGUucHJvdG90eXBlLmdldFBpdm90UG9pbnRUb1JlZj1mdW5jdGlvbih0KXtyZXR1cm4gdC54PS10aGlzLl9waXZvdE1hdHJpeC5tWzEyXSx0Lnk9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTNdLHQuej0tdGhpcy5fcGl2b3RNYXRyaXgubVsxNF0sdGhpc30sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQaXZvdFBvaW50PWZ1bmN0aW9uKCl7dmFyIHQ9RS5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWYodCksdH0sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKHQpLEUuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0LHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0KSx0aGlzfSxlLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbih0KXtpZih0aGlzLl9jaGlsZHJlbilmb3IodmFyIHI9MCxuPXRoaXMuX2NoaWxkcmVuO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EubWFya0FzRGlydHkodCl9cmV0dXJuIGkucHJvdG90eXBlLm1hcmtBc0RpcnR5LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuc2V0UGFyZW50PWZ1bmN0aW9uKHQscil7aWYocj09PXZvaWQgMCYmKHI9ITEpLCF0JiYhdGhpcy5wYXJlbnQpcmV0dXJuIHRoaXM7dmFyIG49eC5RdWF0ZXJuaW9uWzBdLGE9eC5WZWN0b3IzWzBdLHM9eC5WZWN0b3IzWzFdLG89eC5NYXRyaXhbMV07SS5JZGVudGl0eVRvUmVmKG8pO3ZhciB1PXguTWF0cml4WzBdO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgZj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjtyZXR1cm4gZnx8KGY9ZS5fVG1wUm90YXRpb24sZWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueixmKSksSS5Db21wb3NlVG9SZWYodGhpcy5zY2FsaW5nLGYsdGhpcy5wb3NpdGlvbix1KSx0aGlzLnBhcmVudCYmdS5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdSksdCYmKHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKS5pbnZlcnRUb1JlZihvKSx1Lm11bHRpcGx5VG9SZWYobyx1KSksdS5kZWNvbXBvc2UocyxuLGEscj90aGlzOnZvaWQgMCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obik6bi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5zY2FsaW5nLmNvcHlGcm9tKHMpLHRoaXMucG9zaXRpb24uY29weUZyb20oYSksdGhpcy5wYXJlbnQ9dCx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm5vblVuaWZvcm1TY2FsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vblVuaWZvcm1TY2FsaW5nfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz09PXQ/ITE6KHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPXQsITApfSxlLnByb3RvdHlwZS5hdHRhY2hUb0JvbmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU9dGhpcy5wYXJlbnQsdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1yLHRoaXMucGFyZW50PXQsdC5nZXRTa2VsZXRvbigpLnByZXBhcmUoKSx0LmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzfSxlLnByb3RvdHlwZS5kZXRhY2hGcm9tQm9uZT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMucGFyZW50Pyh0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmRldGVybWluYW50KCk8MCYmKHRoaXMuc2NhbGluZ0RldGVybWluYW50Kj0tMSksdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLHQ/dGhpcy5wYXJlbnQ9dGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU6dGhpcy5wYXJlbnQ9bnVsbCx0aGlzKToodCYmKHRoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lKSx0aGlzKX0sZS5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKHQscixuKXt0Lm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvbi50b1F1YXRlcm5pb24oKSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7dmFyIGE7aWYoIW58fG49PT1mdC5MT0NBTClhPWVlLlJvdGF0aW9uQXhpc1RvUmVmKHQscixlLl9yb3RhdGlvbkF4aXNDYWNoZSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihhLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTtlbHNle2lmKHRoaXMucGFyZW50KXt2YXIgcz14Lk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHMpLHQ9RS5UcmFuc2Zvcm1Ob3JtYWwodCxzKX1hPWVlLlJvdGF0aW9uQXhpc1RvUmVmKHQscixlLl9yb3RhdGlvbkF4aXNDYWNoZSksYS5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucm90YXRlQXJvdW5kPWZ1bmN0aW9uKHQscixuKXtyLm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249ZWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopLHRoaXMucm90YXRpb24uc2V0QWxsKDApKTt2YXIgYT14LlZlY3RvcjNbMF0scz14LlZlY3RvcjNbMV0sbz14LlZlY3RvcjNbMl0sdT14LlF1YXRlcm5pb25bMF0sZj14Lk1hdHJpeFswXSxsPXguTWF0cml4WzFdLGg9eC5NYXRyaXhbMl0sYz14Lk1hdHJpeFszXTtyZXR1cm4gdC5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24sYSksSS5UcmFuc2xhdGlvblRvUmVmKGEueCxhLnksYS56LGYpLEkuVHJhbnNsYXRpb25Ub1JlZigtYS54LC1hLnksLWEueixsKSxJLlJvdGF0aW9uQXhpc1RvUmVmKHIsbixoKSxsLm11bHRpcGx5VG9SZWYoaCxjKSxjLm11bHRpcGx5VG9SZWYoZixjKSxjLmRlY29tcG9zZShzLHUsbyksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKG8pLHUubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdGhpc30sZS5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10LnNjYWxlKHIpO2lmKCFufHxuPT09ZnQuTE9DQUwpe3ZhciBzPXRoaXMuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2UoKS5hZGQoYSk7dGhpcy5zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3RvcihzKX1lbHNlIHRoaXMuc2V0QWJzb2x1dGVQb3NpdGlvbih0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGQoYSkpO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5hZGRSb3RhdGlvbj1mdW5jdGlvbih0LHIsbil7dmFyIGE7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/YT10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjooYT14LlF1YXRlcm5pb25bMV0sZWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueixhKSk7dmFyIHM9eC5RdWF0ZXJuaW9uWzBdO3JldHVybiBlZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHIsdCxuLHMpLGEubXVsdGlwbHlJblBsYWNlKHMpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHxhLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzfSxlLnByb3RvdHlwZS5fZ2V0RWZmZWN0aXZlUGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50fSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24odCl7aWYodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbiYmIXRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4O3ZhciByPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO2lmKCF0aGlzLl9pc0RpcnR5JiYhdCYmdGhpcy5pc1N5bmNocm9uaXplZCgpKXJldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9cix0aGlzLl93b3JsZE1hdHJpeDt2YXIgbj10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhLGE9KHRoaXMuX2JpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTikhPT0wLHM9dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUuQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkO3RoaXMuX3VwZGF0ZUNhY2hlKCk7dmFyIG89dGhpcy5fY2FjaGU7by5waXZvdE1hdHJpeFVwZGF0ZWQ9ITEsby5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxvLmluZmluaXRlRGlzdGFuY2U9dGhpcy5pbmZpbml0ZURpc3RhbmNlLHRoaXMuX2N1cnJlbnRSZW5kZXJJZD1yLHRoaXMuX2NoaWxkVXBkYXRlSWQrPTEsdGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9wb3NpdGlvbi5faXNEaXJ0eT0hMSx0aGlzLl9yb3RhdGlvbi5faXNEaXJ0eT0hMSx0aGlzLl9zY2FsaW5nLl9pc0RpcnR5PSExO3ZhciB1PXRoaXMuX2dldEVmZmVjdGl2ZVBhcmVudCgpLGY9ZS5fVG1wU2NhbGluZyxsPXRoaXMuX3Bvc2l0aW9uO2lmKHRoaXMuX2luZmluaXRlRGlzdGFuY2UmJiF0aGlzLnBhcmVudCYmbil7dmFyIGg9bi5nZXRXb3JsZE1hdHJpeCgpLGM9bmV3IEUoaC5tWzEyXSxoLm1bMTNdLGgubVsxNF0pO2w9ZS5fVG1wVHJhbnNsYXRpb24sbC5jb3B5RnJvbUZsb2F0cyh0aGlzLl9wb3NpdGlvbi54K2MueCx0aGlzLl9wb3NpdGlvbi55K2MueSx0aGlzLl9wb3NpdGlvbi56K2Mueil9Zi5jb3B5RnJvbUZsb2F0cyh0aGlzLl9zY2FsaW5nLngqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQsdGhpcy5fc2NhbGluZy55KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueip0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCk7dmFyIGQ7aWYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uKXtpZih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24uX2lzRGlydHk9ITEsZD10aGlzLl9yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbil7dmFyIHA9dGhpcy5yb3RhdGlvbi5sZW5ndGhTcXVhcmVkKCk7cCYmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5tdWx0aXBseUluUGxhY2UoZWUuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnopKSx0aGlzLl9yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpfX1lbHNlIGQ9ZS5fVG1wUm90YXRpb24sZWUuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueixkKTtpZih0aGlzLl91c2VQaXZvdE1hdHJpeCl7dmFyIF89eC5NYXRyaXhbMV07SS5TY2FsaW5nVG9SZWYoZi54LGYueSxmLnosXyk7dmFyIGc9eC5NYXRyaXhbMF07ZC50b1JvdGF0aW9uTWF0cml4KGcpLHRoaXMuX3Bpdm90TWF0cml4Lm11bHRpcGx5VG9SZWYoXyx4Lk1hdHJpeFs0XSkseC5NYXRyaXhbNF0ubXVsdGlwbHlUb1JlZihnLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXMuX2xvY2FsTWF0cml4LmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhsLngsbC55LGwueil9ZWxzZSBJLkNvbXBvc2VUb1JlZihmLGQsbCx0aGlzLl9sb2NhbE1hdHJpeCk7aWYodSYmdS5nZXRXb3JsZE1hdHJpeCl7aWYodCYmdS5jb21wdXRlV29ybGRNYXRyaXgodCkscyl7dGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD91LmdldFdvcmxkTWF0cml4KCkubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCkseC5NYXRyaXhbN10pOnguTWF0cml4WzddLmNvcHlGcm9tKHUuZ2V0V29ybGRNYXRyaXgoKSk7dmFyIG09eC5WZWN0b3IzWzVdLHY9eC5WZWN0b3IzWzZdO3guTWF0cml4WzddLmRlY29tcG9zZSh2LHZvaWQgMCxtKSxJLlNjYWxpbmdUb1JlZih2Lngsdi55LHYueix4Lk1hdHJpeFs3XSkseC5NYXRyaXhbN10uc2V0VHJhbnNsYXRpb24obSksdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih4Lk1hdHJpeFs3XSx0aGlzLl93b3JsZE1hdHJpeCl9ZWxzZSB0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPyh0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHUuZ2V0V29ybGRNYXRyaXgoKSx4Lk1hdHJpeFs2XSkseC5NYXRyaXhbNl0ubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpKTp0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHUuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCk7dGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX3dvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtpZihzJiZuJiZ0aGlzLmJpbGxib2FyZE1vZGUmJiFhKXt2YXIgUz14LlZlY3RvcjNbMF07aWYodGhpcy5fd29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZihTKSx4Lk1hdHJpeFsxXS5jb3B5RnJvbShuLmdldFZpZXdNYXRyaXgoKSkseC5NYXRyaXhbMV0uc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx4Lk1hdHJpeFsxXS5pbnZlcnRUb1JlZih4Lk1hdHJpeFswXSksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfQUxMKSE9PWUuQklMTEJPQVJETU9ERV9BTEwpe3guTWF0cml4WzBdLmRlY29tcG9zZSh2b2lkIDAseC5RdWF0ZXJuaW9uWzBdLHZvaWQgMCk7dmFyIE09eC5WZWN0b3IzWzFdO3guUXVhdGVybmlvblswXS50b0V1bGVyQW5nbGVzVG9SZWYoTSksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWCkhPT1lLkJJTExCT0FSRE1PREVfWCYmKE0ueD0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9ZKSE9PWUuQklMTEJPQVJETU9ERV9ZJiYoTS55PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1opIT09ZS5CSUxMQk9BUkRNT0RFX1omJihNLno9MCksSS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKE0ueSxNLngsTS56LHguTWF0cml4WzBdKX10aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoeC5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKHguVmVjdG9yM1swXSl9ZWxzZSBpZihzJiZuJiZ0aGlzLmJpbGxib2FyZE1vZGUmJmEpe3ZhciBTPXguVmVjdG9yM1swXTt0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKFMpO3ZhciBBPW4uZ2xvYmFsUG9zaXRpb247dGhpcy5fd29ybGRNYXRyaXguaW52ZXJ0VG9SZWYoeC5NYXRyaXhbMV0pO3ZhciBSPXguVmVjdG9yM1sxXTtFLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoQSx4Lk1hdHJpeFsxXSxSKSxSLm5vcm1hbGl6ZSgpO3ZhciB5PS1NYXRoLmF0YW4yKFIueixSLngpK01hdGguUEkvMixDPU1hdGguc3FydChSLngqUi54K1IueipSLnopLHc9LU1hdGguYXRhbjIoUi55LEMpO2lmKGVlLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoeSx3LDAseC5RdWF0ZXJuaW9uWzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9BTEwpIT09ZS5CSUxMQk9BUkRNT0RFX0FMTCl7dmFyIE09eC5WZWN0b3IzWzFdO3guUXVhdGVybmlvblswXS50b0V1bGVyQW5nbGVzVG9SZWYoTSksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWCkhPT1lLkJJTExCT0FSRE1PREVfWCYmKE0ueD0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9ZKSE9PWUuQklMTEJPQVJETU9ERV9ZJiYoTS55PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1opIT09ZS5CSUxMQk9BUkRNT0RFX1omJihNLno9MCksSS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKE0ueSxNLngsTS56LHguTWF0cml4WzBdKX1lbHNlIEkuRnJvbVF1YXRlcm5pb25Ub1JlZih4LlF1YXRlcm5pb25bMF0seC5NYXRyaXhbMF0pO3RoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksdGhpcy5fd29ybGRNYXRyaXgubXVsdGlwbHlUb1JlZih4Lk1hdHJpeFswXSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb24oeC5WZWN0b3IzWzBdKX1yZXR1cm4gdGhpcy5pZ25vcmVOb25Vbmlmb3JtU2NhbGluZz90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCExKTp0aGlzLl9zY2FsaW5nLmlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oMWUtNik/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMCk6dSYmdS5fbm9uVW5pZm9ybVNjYWxpbmc/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSh1Ll9ub25Vbmlmb3JtU2NhbGluZyk6dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMSksdGhpcy5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSExLHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fcG9zZU1hdHJpeHx8KHRoaXMuX3Bvc2VNYXRyaXg9SS5JbnZlcnQodGhpcy5fd29ybGRNYXRyaXgpKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMCx0aGlzLl93b3JsZE1hdHJpeH0sZS5wcm90b3R5cGUucmVzZXRMb2NhbE1hdHJpeD1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMCksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0KWZvcih2YXIgcj10aGlzLmdldENoaWxkcmVuKCksbj0wO248ci5sZW5ndGg7KytuKXt2YXIgYT1yW25dO2lmKGEpe2EuY29tcHV0ZVdvcmxkTWF0cml4KCk7dmFyIHM9eC5NYXRyaXhbMF07YS5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9sb2NhbE1hdHJpeCxzKTt2YXIgbz14LlF1YXRlcm5pb25bMF07cy5kZWNvbXBvc2UoYS5zY2FsaW5nLG8sYS5wb3NpdGlvbiksYS5yb3RhdGlvblF1YXRlcm5pb24/YS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obyk6by50b0V1bGVyQW5nbGVzVG9SZWYoYS5yb3RhdGlvbil9fXRoaXMuc2NhbGluZy5jb3B5RnJvbUZsb2F0cygxLDEsMSksdGhpcy5wb3NpdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj1lZS5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCl9LGUucHJvdG90eXBlLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucmVnaXN0ZXJBZnRlcldvcmxkTWF0cml4VXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUuYWRkKHQpLHRoaXN9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJBZnRlcldvcmxkTWF0cml4VXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2sodCksdGhpc30sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb25JbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1udWxsKSx0fHwodD10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhKSxFLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLHQuZ2V0Vmlld01hdHJpeCgpKX0sZS5wcm90b3R5cGUuZ2V0RGlzdGFuY2VUb0NhbWVyYT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9bnVsbCksdHx8KHQ9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSksdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuc3VidHJhY3QodC5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCl9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLHM9WS5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LGEuZ2V0U2NlbmUoKSl9LHRoaXMpO2lmKHMubmFtZT10LHMuaWQ9dCxyJiYocy5wYXJlbnQ9ciksIW4pZm9yKHZhciBvPXRoaXMuZ2V0RGVzY2VuZGFudHMoITApLHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGY9b1t1XTtmLmNsb25lJiZmLmNsb25lKHQrIi4iK2YubmFtZSxzKX1yZXR1cm4gc30sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3ZhciByPVkuU2VyaWFsaXplKHRoaXMsdCk7cmV0dXJuIHIudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHIudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCx0aGlzLnBhcmVudCYmKHIucGFyZW50SWQ9dGhpcy5wYXJlbnQudW5pcXVlSWQpLHIubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSxyLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLHRoaXMucGFyZW50JiYoci5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCkscn0sZS5QYXJzZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9WS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0Lm5hbWUscil9LHQscixuKTtyZXR1cm4gdC5sb2NhbE1hdHJpeD9hLnNldFByZVRyYW5zZm9ybU1hdHJpeChJLkZyb21BcnJheSh0LmxvY2FsTWF0cml4KSk6dC5waXZvdE1hdHJpeCYmYS5zZXRQaXZvdE1hdHJpeChJLkZyb21BcnJheSh0LnBpdm90TWF0cml4KSksYS5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSx0LnBhcmVudElkIT09dm9pZCAwJiYoYS5fd2FpdGluZ1BhcmVudElkPXQucGFyZW50SWQpLGF9LGUucHJvdG90eXBlLmdldENoaWxkVHJhbnNmb3JtTm9kZXM9ZnVuY3Rpb24odCxyKXt2YXIgbj1bXTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMobix0LGZ1bmN0aW9uKGEpe3JldHVybighcnx8cihhKSkmJmEgaW5zdGFuY2VvZiBlfSksbn0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlVHJhbnNmb3JtTm9kZSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBuPXRoaXMuX3BhcmVudENvbnRhaW5lci50cmFuc2Zvcm1Ob2Rlcy5pbmRleE9mKHRoaXMpO24+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci50cmFuc2Zvcm1Ob2Rlcy5zcGxpY2UobiwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUuY2xlYXIoKSx0KWZvcih2YXIgYT10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApLHM9MCxvPWE7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107dS5wYXJlbnQ9bnVsbCx1LmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9aS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sZS5wcm90b3R5cGUubm9ybWFsaXplVG9Vbml0Q3ViZT1mdW5jdGlvbih0LHIsbil7dD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSExKTt2YXIgYT1udWxsLHM9bnVsbDtyJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/KHM9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSk6dGhpcy5yb3RhdGlvbiYmKGE9dGhpcy5yb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKSk7dmFyIG89dGhpcy5nZXRIaWVyYXJjaHlCb3VuZGluZ1ZlY3RvcnModCxuKSx1PW8ubWF4LnN1YnRyYWN0KG8ubWluKSxmPU1hdGgubWF4KHUueCx1LnksdS56KTtpZihmPT09MClyZXR1cm4gdGhpczt2YXIgbD0xL2Y7cmV0dXJuIHRoaXMuc2NhbGluZy5zY2FsZUluUGxhY2UobCksciYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZzP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHMpOnRoaXMucm90YXRpb24mJmEmJnRoaXMucm90YXRpb24uY29weUZyb20oYSkpLHRoaXN9LGUucHJvdG90eXBlLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb249ZnVuY3Rpb24oKXt0aGlzLl9pc0Fic29sdXRlU3luY2VkfHwodGhpcy5fd29ybGRNYXRyaXguZGVjb21wb3NlKHRoaXMuX2Fic29sdXRlU2NhbGluZyx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMCl9LGUuQklMTEJPQVJETU9ERV9OT05FPTAsZS5CSUxMQk9BUkRNT0RFX1g9MSxlLkJJTExCT0FSRE1PREVfWT0yLGUuQklMTEJPQVJETU9ERV9aPTQsZS5CSUxMQk9BUkRNT0RFX0FMTD03LGUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT049MTI4LGUuX1RtcFJvdGF0aW9uPWVlLlplcm8oKSxlLl9UbXBTY2FsaW5nPUUuWmVybygpLGUuX1RtcFRyYW5zbGF0aW9uPUUuWmVybygpLGUuX2xvb2tBdFZlY3RvckNhY2hlPW5ldyBFKDAsMCwwKSxlLl9yb3RhdGlvbkF4aXNDYWNoZT1uZXcgZWUsVChbb3QoInBvc2l0aW9uIildLGUucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksVChbb3QoInJvdGF0aW9uIildLGUucHJvdG90eXBlLCJfcm90YXRpb24iLHZvaWQgMCksVChbZmEoInJvdGF0aW9uUXVhdGVybmlvbiIpXSxlLnByb3RvdHlwZSwiX3JvdGF0aW9uUXVhdGVybmlvbiIsdm9pZCAwKSxUKFtvdCgic2NhbGluZyIpXSxlLnByb3RvdHlwZSwiX3NjYWxpbmciLHZvaWQgMCksVChbUCgiYmlsbGJvYXJkTW9kZSIpXSxlLnByb3RvdHlwZSwiX2JpbGxib2FyZE1vZGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwic2NhbGluZ0RldGVybWluYW50Iix2b2lkIDApLFQoW1AoImluZmluaXRlRGlzdGFuY2UiKV0sZS5wcm90b3R5cGUsIl9pbmZpbml0ZURpc3RhbmNlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImlnbm9yZU5vblVuaWZvcm1TY2FsaW5nIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApLGV9KEhlKSxNYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9jaGVja0NvbGxpc2lvbnM9ITEsdGhpcy5fY29sbGlzaW9uTWFzaz0tMSx0aGlzLl9jb2xsaXNpb25Hcm91cD0tMSx0aGlzLl9zdXJyb3VuZGluZ01lc2hlcz1udWxsLHRoaXMuX2NvbGxpZGVyPW51bGwsdGhpcy5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBFKDAsMCwwKSx0aGlzLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBFKDAsMCwwKSx0aGlzLl9jb2xsaXNpb25SZXNwb25zZT0hMH1yZXR1cm4gaX0oKSxBYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmZhY2V0TmI9MCx0aGlzLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz0xMCx0aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz0xLjAxLHRoaXMuZmFjZXREYXRhRW5hYmxlZD0hMSx0aGlzLmZhY2V0UGFyYW1ldGVycz17fSx0aGlzLmJiU2l6ZT1FLlplcm8oKSx0aGlzLnN1YkRpdj17bWF4OjEsWDoxLFk6MSxaOjF9LHRoaXMuZmFjZXREZXB0aFNvcnQ9ITEsdGhpcy5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITF9cmV0dXJuIGl9KCksUmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5faGFzVmVydGV4QWxwaGE9ITEsdGhpcy5fdXNlVmVydGV4Q29sb3JzPSEwLHRoaXMuX251bUJvbmVJbmZsdWVuY2Vycz00LHRoaXMuX2FwcGx5Rm9nPSEwLHRoaXMuX3JlY2VpdmVTaGFkb3dzPSExLHRoaXMuX2ZhY2V0RGF0YT1uZXcgQWEsdGhpcy5fdmlzaWJpbGl0eT0xLHRoaXMuX3NrZWxldG9uPW51bGwsdGhpcy5fbGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITAsdGhpcy5faXNBY3RpdmU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlcz0hMSx0aGlzLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSx0aGlzLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLHRoaXMuX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRD1udWxsLHRoaXMuX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLHRoaXMuX2NvbGxpc2lvblJldHJ5Q291bnQ9Myx0aGlzLl9tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9yZW5kZXJpbmdHcm91cElkPTAsdGhpcy5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPW51bGwsdGhpcy5fbWF0ZXJpYWw9bnVsbCx0aGlzLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9tZXNoQ29sbGlzaW9uRGF0YT1uZXcgTWEsdGhpcy5fZW5hYmxlRGlzdGFudFBpY2tpbmc9ITF9cmV0dXJuIGl9KCkscmk9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyKXtyPT09dm9pZCAwJiYocj1udWxsKTt2YXIgbj1pLmNhbGwodGhpcyx0LHIsITEpfHx0aGlzO3JldHVybiBuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvPW5ldyBSYSxuLl93YWl0aW5nTWF0ZXJpYWxJZD1udWxsLG4uY3VsbGluZ1N0cmF0ZWd5PWUuQ1VMTElOR1NUUkFURUdZX0JPVU5ESU5HU1BIRVJFX09OTFksbi5vbkNvbGxpZGVPYnNlcnZhYmxlPW5ldyBPLG4ub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGU9bmV3IE8sbi5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGU9bmV3IE8sbi5kZWZpbmVkRmFjaW5nRm9yd2FyZD0hMCxuLl9vY2NsdXNpb25RdWVyeT1udWxsLG4uX3JlbmRlcmluZ0dyb3VwPW51bGwsbi5hbHBoYUluZGV4PU51bWJlci5NQVhfVkFMVUUsbi5pc1Zpc2libGU9ITAsbi5pc1BpY2thYmxlPSEwLG4uaXNOZWFyUGlja2FibGU9ITEsbi5pc05lYXJHcmFiYmFibGU9ITEsbi5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9ITEsbi5pc0Jsb2NrZXI9ITEsbi5lbmFibGVQb2ludGVyTW92ZUV2ZW50cz0hMSxuLm91dGxpbmVDb2xvcj1wZS5SZWQoKSxuLm91dGxpbmVXaWR0aD0uMDIsbi5vdmVybGF5Q29sb3I9cGUuUmVkKCksbi5vdmVybGF5QWxwaGE9LjUsbi51c2VPY3RyZWVGb3JSZW5kZXJpbmdTZWxlY3Rpb249ITAsbi51c2VPY3RyZWVGb3JQaWNraW5nPSEwLG4udXNlT2N0cmVlRm9yQ29sbGlzaW9ucz0hMCxuLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaD0hMSxuLmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMSxuLmFjdGlvbk1hbmFnZXI9bnVsbCxuLmVsbGlwc29pZD1uZXcgRSguNSwxLC41KSxuLmVsbGlwc29pZE9mZnNldD1uZXcgRSgwLDAsMCksbi5lZGdlc1dpZHRoPTEsbi5lZGdlc0NvbG9yPW5ldyBfZSgxLDAsMCwxKSxuLl9lZGdlc1JlbmRlcmVyPW51bGwsbi5fbWFzdGVyTWVzaD1udWxsLG4uX2JvdW5kaW5nSW5mbz1udWxsLG4uX2JvdW5kaW5nSW5mb0lzRGlydHk9ITAsbi5fcmVuZGVySWQ9MCxuLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcz1uZXcgQXJyYXksbi5fdW5JbmRleGVkPSExLG4uX2xpZ2h0U291cmNlcz1uZXcgQXJyYXksbi5fd2FpdGluZ0RhdGE9e2xvZHM6bnVsbCxhY3Rpb25zOm51bGwsZnJlZXplV29ybGRNYXRyaXg6bnVsbH0sbi5fYm9uZXNUcmFuc2Zvcm1NYXRyaWNlcz1udWxsLG4uX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCxuLm9uUmVidWlsZE9ic2VydmFibGU9bmV3IE8sbi5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZT1mdW5jdGlvbihhLHMsbyl7bz09PXZvaWQgMCYmKG89bnVsbCkscy5zdWJ0cmFjdFRvUmVmKG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMsbi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMpLG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zLmxlbmd0aCgpPm9lLkNvbGxpc2lvbnNFcHNpbG9uJiZuLnBvc2l0aW9uLmFkZEluUGxhY2Uobi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMpLG8mJm4ub25Db2xsaWRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobyksbi5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobi5wb3NpdGlvbil9LG4uZ2V0U2NlbmUoKS5hZGRNZXNoKG4pLG4uX3Jlc3luY0xpZ2h0U291cmNlcygpLG4uX3VuaWZvcm1CdWZmZXI9bmV3IFRyKG4uZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLHQpLG4uX2J1aWxkVW5pZm9ybUxheW91dCgpLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX05PTkUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuQklMTEJPQVJETU9ERV9OT05FfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1giLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuQklMTEJPQVJETU9ERV9YfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1kiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuQklMTEJPQVJETU9ERV9ZfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1oiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuQklMTEJPQVJETU9ERV9afSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX0FMTCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqZS5CSUxMQk9BUkRNT0RFX0FMTH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gamUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT059LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmYWNldE5iIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldE5ifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGFydGl0aW9uaW5nU3ViZGl2aXNpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwYXJ0aXRpb25pbmdCQm94UmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ0JCb3hSYXRpb30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW89dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm11c3REZXB0aFNvcnRGYWNldHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmYWNldERlcHRoU29ydEZyb20iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb209dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvblJldHJ5Q291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29sbGlzaW9uUmV0cnlDb3VudH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRmFjZXREYXRhRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1vcnBoVGFyZ2V0TWFuYWdlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXIhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyPXQsdGhpcy5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5wcm90b3R5cGUuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUuY2FsbCh0aGlzLHQpPyh0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSwhMCk6ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25Db2xsaWRlIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciYmdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlcj10aGlzLm9uQ29sbGlkZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZSIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyJiZ0aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyPXRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmlzaWJpbGl0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5fSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eSE9PXQpe3ZhciByPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eT10LChyPT09MSYmdCE9PTF8fHIhPT0xJiZ0PT09MSkmJnRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlcmluZ0dyb3VwSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVuZGVyaW5nR3JvdXBJZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWw9dCx0JiZ0Lm1lc2hNYXAmJih0Lm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dGhpcyksdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSwhIXRoaXMuc3ViTWVzaGVzJiYodGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3VuQmluZEVmZmVjdCgpKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzPWZ1bmN0aW9uKHQpe3ZhciByO3JldHVybihyPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW3RdfSxlLnByb3RvdHlwZS5zZXRNYXRlcmlhbEZvclJlbmRlclBhc3M9ZnVuY3Rpb24odCxyKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3N8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3M9W10pLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzc1t0XT1yfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlY2VpdmVTaGFkb3dzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3MhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3M9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzVmVydGV4QWxwaGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGF9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYSE9PXQmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYT10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpLHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZVZlcnRleENvbG9ycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnMhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PXQmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJudW1Cb25lSW5mbHVlbmNlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vycz10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFwcGx5Rm9nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2chPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2c9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJlbmFibGVEaXN0YW50UGlja2luZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsYXllck1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzayYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzaz10LHRoaXMuX3Jlc3luY0xpZ2h0U291cmNlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvbk1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbk1hc2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFzaz1pc05hTih0KT8tMTp0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlzaW9uUmVzcG9uc2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb2xsaXNpb25Hcm91cCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXA9aXNOYU4odCk/LTE6dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInN1cnJvdW5kaW5nTWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGlnaHRTb3VyY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpZ2h0U291cmNlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9wb3NpdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247ciYmci5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnIuX3VucmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksdCYmdC5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnQuX3JlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPXQsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b258fCh0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9idWlsZFVuaWZvcm1MYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oIndvcmxkIiwxNiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2aXNpYmlsaXR5IiwxKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvRWZmZWN0PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX3VuaWZvcm1CdWZmZXI7ci51cGRhdGVNYXRyaXgoIndvcmxkIix0KSxyLnVwZGF0ZUZsb2F0KCJ2aXNpYmlsaXR5Iix0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5KSxyLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5nZXRNZXNoVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQWJzdHJhY3RNZXNoIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9Ik5hbWU6ICIrdGhpcy5uYW1lKyIsIGlzSW5zdGFuY2U6ICIrKHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTWVzaCI/IllFUyI6Ik5PIik7cis9IiwgIyBvZiBzdWJtZXNoZXM6ICIrKHRoaXMuc3ViTWVzaGVzP3RoaXMuc3ViTWVzaGVzLmxlbmd0aDowKTt2YXIgbj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjtyZXR1cm4gbiYmKHIrPSIsIHNrZWxldG9uOiAiK24ubmFtZSksdCYmKHIrPSIsIGJpbGxib2FyZCBtb2RlOiAiK1siTk9ORSIsIlgiLCJZIixudWxsLCJaIixudWxsLG51bGwsIkFMTCJdW3RoaXMuYmlsbGJvYXJkTW9kZV0scis9IiwgZnJlZXplIHdybGQgbWF0OiAiKyh0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufHx0aGlzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD8iWUVTIjoiTk8iKSkscn0sZS5wcm90b3R5cGUuX2dldEVmZmVjdGl2ZVBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGUhPT1qZS5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaDppLnByb3RvdHlwZS5fZ2V0RWZmZWN0aXZlUGFyZW50LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcj1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLmFjdGlvbk1hbmFnZXImJihyfHx0aGlzLmFjdGlvbk1hbmFnZXIuaXNSZWN1cnNpdmUpKWlmKHQpe2lmKHRoaXMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIodCkpcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcn1lbHNlIHJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXI7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcih0LCExKTpudWxsfSxlLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbih0KXtpZih0aGlzLm9uUmVidWlsZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwpLCEhdGhpcy5zdWJNZXNoZXMpZm9yKHZhciByPTAsbj10aGlzLnN1Yk1lc2hlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLl9yZWJ1aWxkKCl9fSxlLnByb3RvdHlwZS5fcmVzeW5jTGlnaHRTb3VyY2VzPWZ1bmN0aW9uKCl7dGhpcy5fbGlnaHRTb3VyY2VzLmxlbmd0aD0wO2Zvcih2YXIgdD0wLHI9dGhpcy5nZXRTY2VuZSgpLmxpZ2h0czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTshbi5pc0VuYWJsZWQoKXx8bi5jYW5BZmZlY3RNZXNoKHRoaXMpJiZ0aGlzLl9saWdodFNvdXJjZXMucHVzaChuKX10aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9LGUucHJvdG90eXBlLl9yZXN5bmNMaWdodFNvdXJjZT1mdW5jdGlvbih0KXt2YXIgcj10LmlzRW5hYmxlZCgpJiZ0LmNhbkFmZmVjdE1lc2godGhpcyksbj10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZih0KSxhPSExO2lmKG49PT0tMSl7aWYoIXIpcmV0dXJuO3RoaXMuX2xpZ2h0U291cmNlcy5wdXNoKHQpfWVsc2V7aWYocilyZXR1cm47YT0hMCx0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKG4sMSl9dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShhKX0sZS5wcm90b3R5cGUuX3VuQmluZEVmZmVjdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy5zdWJNZXNoZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5zZXRFZmZlY3QobnVsbCl9fSxlLnByb3RvdHlwZS5fcmVtb3ZlTGlnaHRTb3VyY2U9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZih0KTtuIT09LTEmJih0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKG4sMSksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShyKSl9LGUucHJvdG90eXBlLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eT1mdW5jdGlvbih0KXtpZighIXRoaXMuc3ViTWVzaGVzKWZvcih2YXIgcj0wLG49dGhpcy5zdWJNZXNoZXM7cjxuLmxlbmd0aDtyKyspZm9yKHZhciBhPW5bcl0scz0wO3M8YS5fZHJhd1dyYXBwZXJzLmxlbmd0aDsrK3Mpe3ZhciBvPWEuX2RyYXdXcmFwcGVyc1tzXTshb3x8IW8uZGVmaW5lc3x8IW8uZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8dChvLmRlZmluZXMpfX0sZS5wcm90b3R5cGUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHk9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGZ1bmN0aW9uKHIpe3JldHVybiByLm1hcmtBc0xpZ2h0RGlydHkodCl9KX0sZS5wcm90b3R5cGUuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpfSl9LGUucHJvdG90eXBlLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrQXNNaXNjRGlydHkoKX0pfSxlLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfSxlLnByb3RvdHlwZS5yZXNldERyYXdDYWNoZT1mdW5jdGlvbih0KXtpZighIXRoaXMuc3ViTWVzaGVzKWZvcih2YXIgcj0wLG49dGhpcy5zdWJNZXNoZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07YS5yZXNldERyYXdDYWNoZSh0KX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2NhbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsaW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2NhbGluZz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNCbG9ja2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TE9EPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXRUb3RhbFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldFRvdGFsSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFZlcnRpY2VzRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50PWZ1bmN0aW9uKHQpe3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaD90aGlzLl9tYXN0ZXJNZXNoLmdldEJvdW5kaW5nSW5mbygpOih0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5JiYodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oKSksdGhpcy5fYm91bmRpbmdJbmZvKX0sZS5wcm90b3R5cGUuc2V0Qm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89dCx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc0JvdW5kaW5nSW5mbyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8hPT1udWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmJ1aWxkQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPW5ldyB2dCh0LHIsbiksdGhpcy5fYm91bmRpbmdJbmZvfSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb1VuaXRDdWJlPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSExKSxpLnByb3RvdHlwZS5ub3JtYWxpemVUb1VuaXRDdWJlLmNhbGwodGhpcyx0LHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXNlQm9uZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5za2VsZXRvbiYmdGhpcy5nZXRTY2VuZSgpLnNrZWxldG9uc0VuYWJsZWQmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuTWF0cmljZXNJbmRpY2VzS2luZCkmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuTWF0cmljZXNXZWlnaHRzS2luZCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmc9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5fYWN0aXZhdGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fcmVuZGVySWQ9dCwhMH0sZS5wcm90b3R5cGUuX3Bvc3RBY3RpdmF0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2ZyZWV6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3VuRnJlZXplPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGU9PT1qZS5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaC5nZXRXb3JsZE1hdHJpeCgpOmkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpOmkucHJvdG90eXBlLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50LmNhbGwodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNBbkluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNJbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc1RoaW5JbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5tb3ZlUE9WPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY01vdmVQT1YodCxyLG4pKSx0aGlzfSxlLnByb3RvdHlwZS5jYWxjTW92ZVBPVj1mdW5jdGlvbih0LHIsbil7dmFyIGE9bmV3IEkscz10aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbjplZS5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueik7cy50b1JvdGF0aW9uTWF0cml4KGEpO3ZhciBvPUUuWmVybygpLHU9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8tMToxO3JldHVybiBFLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQqdSxyLG4qdSxhLG8pLG99LGUucHJvdG90eXBlLnJvdGF0ZVBPVj1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMucm90YXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNSb3RhdGVQT1YodCxyLG4pKSx0aGlzfSxlLnByb3RvdHlwZS5jYWxjUm90YXRlUE9WPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPzE6LTE7cmV0dXJuIG5ldyBFKHQqYSxyLG4qYSl9LGUucHJvdG90eXBlLnJlZnJlc2hCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9ib3VuZGluZ0luZm8mJnRoaXMuX2JvdW5kaW5nSW5mby5pc0xvY2tlZD90aGlzOih0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YSh0LHIpLG51bGwpLHRoaXMpfSxlLnByb3RvdHlwZS5fcmVmcmVzaEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIpe2lmKHQpe3ZhciBuPWVuKHQsMCx0aGlzLmdldFRvdGFsVmVydGljZXMoKSxyKTt0aGlzLl9ib3VuZGluZ0luZm8/dGhpcy5fYm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KG4ubWluaW11bSxuLm1heGltdW0pOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgdnQobi5taW5pbXVtLG4ubWF4aW11bSl9aWYodGhpcy5zdWJNZXNoZXMpZm9yKHZhciBhPTA7YTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7YSsrKXRoaXMuc3ViTWVzaGVzW2FdLnJlZnJlc2hCb3VuZGluZ0luZm8odCk7dGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCl9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uRGF0YT1mdW5jdGlvbih0LHIsbil7aWYobj1uIT1udWxsP246dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQpLG4mJnImJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKWZvcih2YXIgYT0wLHM9MCxvPTA7bzxuLmxlbmd0aDtvKyspe2Zvcih2YXIgdT0wO3U8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIubnVtVGFyZ2V0czt1Kyspe3ZhciBmPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmdldFRhcmdldCh1KSxsPWYuaW5mbHVlbmNlO2lmKGw+MCl7dmFyIGg9Zi5nZXRQb3NpdGlvbnMoKTtoJiYobltvXSs9KGhbb10tbltvXSkqbCl9fWlmKGErKyx0aGlzLl9wb3NpdGlvbnMmJmE9PT0zKXthPTA7dmFyIGM9cyozO3RoaXMuX3Bvc2l0aW9uc1tzKytdLmNvcHlGcm9tRmxvYXRzKG5bY10sbltjKzFdLG5bYysyXSl9fWlmKG4mJnQmJnRoaXMuc2tlbGV0b24pe3ZhciBkPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzS2luZCkscD10aGlzLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKHAmJmQpZm9yKHZhciBfPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzPjQsZz1fP3RoaXMuZ2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTpudWxsLG09Xz90aGlzLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk6bnVsbCx2PXRoaXMuc2tlbGV0b24uZ2V0VHJhbnNmb3JtTWF0cmljZXModGhpcyksUz14LlZlY3RvcjNbMF0sTT14Lk1hdHJpeFswXSxBPXguTWF0cml4WzFdLFI9MCx5PTA7eTxuLmxlbmd0aDt5Kz0zLFIrPTQpe00ucmVzZXQoKTt2YXIgQyx3O2ZvcihDPTA7Qzw0O0MrKyl3PXBbUitDXSx3PjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZCh2LE1hdGguZmxvb3IoZFtSK0NdKjE2KSx3LEEpLE0uYWRkVG9TZWxmKEEpKTtpZihfKWZvcihDPTA7Qzw0O0MrKyl3PW1bUitDXSx3PjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZCh2LE1hdGguZmxvb3IoZ1tSK0NdKjE2KSx3LEEpLE0uYWRkVG9TZWxmKEEpKTtFLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKG5beV0sblt5KzFdLG5beSsyXSxNLFMpLFMudG9BcnJheShuLHkpLHRoaXMuX3Bvc2l0aW9ucyYmdGhpcy5fcG9zaXRpb25zW3kvM10uY29weUZyb20oUyl9fXJldHVybiBufSxlLnByb3RvdHlwZS5fZ2V0UG9zaXRpb25EYXRhPWZ1bmN0aW9uKHQscil7dmFyIG4sYT10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCk7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW51bGwpLGEmJih0JiZ0aGlzLnNrZWxldG9ufHxyJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcikmJihhPWllLlNsaWNlKGEpLHRoaXMuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKSx0aGlzLl9wb3NpdGlvbnMpKXt2YXIgcz10aGlzLl9wb3NpdGlvbnM7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW5ldyBBcnJheShzLmxlbmd0aCk7Zm9yKHZhciBvPTA7bzxzLmxlbmd0aDtvKyspdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zW29dPSgobj1zW29dKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uY2xvbmUoKSl8fG5ldyBFfXJldHVybiB0aGlzLmdldFBvc2l0aW9uRGF0YSh0LHIsYSl9LGUucHJvdG90eXBlLl91cGRhdGVCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby51cGRhdGUodGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyB2dCh0aGlzLnBvc2l0aW9uLHRoaXMucG9zaXRpb24sdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9LGUucHJvdG90eXBlLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm89ZnVuY3Rpb24odCl7aWYoIXRoaXMuc3ViTWVzaGVzKXJldHVybiB0aGlzO2Zvcih2YXIgcj10aGlzLnN1Yk1lc2hlcy5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBhPXRoaXMuc3ViTWVzaGVzW25dOyhyPjF8fCFhLklzR2xvYmFsKSYmYS51cGRhdGVCb3VuZGluZ0luZm8odCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3RoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHwodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCl9LGUucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzSW5GcnVzdHVtKHQsdGhpcy5jdWxsaW5nU3RyYXRlZ3kpfSxlLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHQpfSxlLnByb3RvdHlwZS5pbnRlcnNlY3RzTWVzaD1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscz10LmdldEJvdW5kaW5nSW5mbygpO2lmKGEuaW50ZXJzZWN0cyhzLHIpKXJldHVybiEwO2lmKG4pZm9yKHZhciBvPTAsdT10aGlzLmdldENoaWxkTWVzaGVzKCk7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107aWYoZi5pbnRlcnNlY3RzTWVzaCh0LHIsITApKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaW50ZXJzZWN0c1BvaW50KHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNoZWNrQ29sbGlzaW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9ucz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlkZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm1vdmVXaXRoQ29sbGlzaW9ucz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldEFic29sdXRlUG9zaXRpb24oKTtyLmFkZFRvUmVmKHRoaXMuZWxsaXBzb2lkT2Zmc2V0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMpO3ZhciBuPXRoaXMuZ2V0U2NlbmUoKS5jb2xsaXNpb25Db29yZGluYXRvcjtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyPW4uY3JlYXRlQ29sbGlkZXIoKSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLl9yYWRpdXM9dGhpcy5lbGxpcHNvaWQsbi5nZXROZXdQb3NpdGlvbih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLHQsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLHRoaXMuY29sbGlzaW9uUmV0cnlDb3VudCx0aGlzLHRoaXMuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UsdGhpcy51bmlxdWVJZCksdGhpc30sZS5wcm90b3R5cGUuX2NvbGxpZGVGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtpZih0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCksIXRoaXMuX3Bvc2l0aW9ucylyZXR1cm4gdGhpcztpZighdC5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlc3x8IXQuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeC5lcXVhbHMocikpe3QuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeD1yLmNsb25lKCksdC5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1bXSx0Ll90cmlhbmdsZVBsYW5lcz1bXTtmb3IodmFyIHM9dC52ZXJ0aWNlc1N0YXJ0LG89dC52ZXJ0aWNlc1N0YXJ0K3QudmVydGljZXNDb3VudCx1PXM7dTxvO3UrKyl0Ll9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLnB1c2goRS5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLl9wb3NpdGlvbnNbdV0scikpfXJldHVybiBuLl9jb2xsaWRlKHQuX3RyaWFuZ2xlUGxhbmVzLHQuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXMsdGhpcy5nZXRJbmRpY2VzKCksdC5pbmRleFN0YXJ0LHQuaW5kZXhTdGFydCt0LmluZGV4Q291bnQsdC52ZXJ0aWNlc1N0YXJ0LCEhdC5nZXRNYXRlcmlhbCgpLHRoaXMsdGhpcy5fc2hvdWxkQ29udmVydFJIUygpLCgoYT10LmdldE1hdGVyaWFsKCkpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5maWxsTW9kZSk9PT03KSx0aGlzfSxlLnByb3RvdHlwZS5fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXM9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49dGhpcy5fc2NlbmUuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyx0KSxhPW4ubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbz1uLmRhdGFbc107YT4xJiYhby5fY2hlY2tDb2xsaXNpb24odCl8fHRoaXMuX2NvbGxpZGVGb3JTdWJNZXNoKG8scix0KX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX3Nob3VsZENvbnZlcnRSSFM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuX2NoZWNrQ29sbGlzaW9uPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbih0KSlyZXR1cm4gdGhpczt2YXIgcj14Lk1hdHJpeFswXSxuPXguTWF0cml4WzFdO3JldHVybiBJLlNjYWxpbmdUb1JlZigxL3QuX3JhZGl1cy54LDEvdC5fcmFkaXVzLnksMS90Ll9yYWRpdXMueixyKSx0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlLm11bHRpcGx5VG9SZWYocixuKSx0aGlzLl9wcm9jZXNzQ29sbGlzaW9uc0ZvclN1Yk1lc2hlcyh0LG4pLHRoaXN9LGUucHJvdG90eXBlLl9nZW5lcmF0ZVBvaW50c0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe2E9PT12b2lkIDAmJihhPSExKSxvPT09dm9pZCAwJiYobz0hMSk7dmFyIHU9bmV3IEplLGY9dGhpcy5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpPT09IkxpbmVzTWVzaCI/dGhpcy5pbnRlcnNlY3Rpb25UaHJlc2hvbGQ6MCxsPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXRoaXMuc3ViTWVzaGVzfHwhbyYmKCF0LmludGVyc2VjdHNTcGhlcmUobC5ib3VuZGluZ1NwaGVyZSxmKXx8IXQuaW50ZXJzZWN0c0JveChsLmJvdW5kaW5nQm94LGYpKSlyZXR1cm4gdTtpZihhKXJldHVybiB1LmhpdD0hbyx1LnBpY2tlZE1lc2g9bz9udWxsOnRoaXMsdS5kaXN0YW5jZT1vPzA6RS5EaXN0YW5jZSh0Lm9yaWdpbixsLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksdS5zdWJNZXNoSWQ9MCx1O2lmKCF0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCkpcmV0dXJuIHU7Zm9yKHZhciBoPW51bGwsYz10aGlzLl9zY2VuZS5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcyh0aGlzLHQpLGQ9Yy5sZW5ndGgscD0hMSxfPTA7XzxkO18rKyl7dmFyIGc9Yy5kYXRhW19dLG09Zy5nZXRNYXRlcmlhbCgpO2lmKCEhbSYmKG0uZmlsbE1vZGU9PTd8fG0uZmlsbE1vZGU9PTB8fG0uZmlsbE1vZGU9PTF8fG0uZmlsbE1vZGU9PTJ8fG0uZmlsbE1vZGU9PTQpKXtwPSEwO2JyZWFrfX1pZighcClyZXR1cm4gdS5oaXQ9ITAsdS5waWNrZWRNZXNoPXRoaXMsdS5kaXN0YW5jZT1FLkRpc3RhbmNlKHQub3JpZ2luLGwuYm91bmRpbmdTcGhlcmUuY2VudGVyKSx1LnN1Yk1lc2hJZD0tMSx1O2Zvcih2YXIgXz0wO188ZDtfKyspe3ZhciBnPWMuZGF0YVtfXTtpZighKGQ+MSYmIWcuY2FuSW50ZXJzZWN0cyh0KSkpe3ZhciB2PWcuaW50ZXJzZWN0cyh0LHRoaXMuX3Bvc2l0aW9ucyx0aGlzLmdldEluZGljZXMoKSxyLG4pO2lmKHYmJihyfHwhaHx8di5kaXN0YW5jZTxoLmRpc3RhbmNlKSYmKGg9dixoLnN1Yk1lc2hJZD1fLHIpKWJyZWFrfX1pZihoKXt2YXIgUz1zIT1udWxsP3M6dGhpcy5nZXRXb3JsZE1hdHJpeCgpLE09eC5WZWN0b3IzWzBdLEE9eC5WZWN0b3IzWzFdO0UuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0Lm9yaWdpbixTLE0pLHQuZGlyZWN0aW9uLnNjYWxlVG9SZWYoaC5kaXN0YW5jZSxBKTt2YXIgUj1FLlRyYW5zZm9ybU5vcm1hbChBLFMpLHk9Ui5hZGRJblBsYWNlKE0pO3JldHVybiB1LmhpdD0hMCx1LmRpc3RhbmNlPUUuRGlzdGFuY2UoTSx5KSx1LnBpY2tlZFBvaW50PXksdS5waWNrZWRNZXNoPXRoaXMsdS5idT1oLmJ1fHwwLHUuYnY9aC5idnx8MCx1LnN1Yk1lc2hGYWNlSWQ9aC5mYWNlSWQsdS5mYWNlSWQ9aC5mYWNlSWQrYy5kYXRhW2guc3ViTWVzaElkXS5pbmRleFN0YXJ0Lyh0aGlzLmdldENsYXNzTmFtZSgpLmluZGV4T2YoIkxpbmVzTWVzaCIpIT09LTE/MjozKSx1LnN1Yk1lc2hJZD1oLnN1Yk1lc2hJZCx1fXJldHVybiB1fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnJlbGVhc2VTdWJNZXNoZXM9ZnVuY3Rpb24oKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoO3RoaXMuc3ViTWVzaGVzLmxlbmd0aDspdGhpcy5zdWJNZXNoZXNbMF0uZGlzcG9zZSgpO2Vsc2UgdGhpcy5zdWJNZXNoZXM9bmV3IEFycmF5O3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcztyPT09dm9pZCAwJiYocj0hMSk7dmFyIGE7Zm9yKHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5nZXRTY2VuZSgpLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmdldFNjZW5lKCkuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuYWN0aW9uTWFuYWdlciE9PXZvaWQgMCYmdGhpcy5hY3Rpb25NYW5hZ2VyIT09bnVsbCYmKHRoaXMuYWN0aW9uTWFuYWdlci5kaXNwb3NlKCksdGhpcy5hY3Rpb25NYW5hZ2VyPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZSYmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCksYT0wO2E8dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MubGVuZ3RoO2ErKyl7dmFyIHM9dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3NbYV0sbz1zLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKHRoaXMpO3MuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnNwbGljZShvLDEpfXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPVtdO3ZhciB1PXRoaXMuZ2V0U2NlbmUoKS5saWdodHM7dS5mb3JFYWNoKGZ1bmN0aW9uKGgpe3ZhciBjPWguaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2Yobik7YyE9PS0xJiZoLmluY2x1ZGVkT25seU1lc2hlcy5zcGxpY2UoYywxKSxjPWguZXhjbHVkZWRNZXNoZXMuaW5kZXhPZihuKSxjIT09LTEmJmguZXhjbHVkZWRNZXNoZXMuc3BsaWNlKGMsMSk7dmFyIGQ9aC5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihkKXt2YXIgcD1kLmdldFNoYWRvd01hcCgpO3AmJnAucmVuZGVyTGlzdCYmKGM9cC5yZW5kZXJMaXN0LmluZGV4T2YobiksYyE9PS0xJiZwLnJlbmRlckxpc3Quc3BsaWNlKGMsMSkpfX0pLCh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZExpbmVzTWVzaCIpJiZ0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTt2YXIgZj10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7aWYodGhpcy5fb2NjbHVzaW9uUXVlcnkhPT1udWxsJiYodGhpcy5pc09jY2x1c2lvblF1ZXJ5SW5Qcm9ncmVzcz0hMSxmLmRlbGV0ZVF1ZXJ5KHRoaXMuX29jY2x1c2lvblF1ZXJ5KSx0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSxmLndpcGVDYWNoZXMoKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlTWVzaCh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBsPXRoaXMuX3BhcmVudENvbnRhaW5lci5tZXNoZXMuaW5kZXhPZih0aGlzKTtsPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLnNwbGljZShsLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHImJnRoaXMubWF0ZXJpYWwmJih0aGlzLm1hdGVyaWFsLmdldENsYXNzTmFtZSgpPT09Ik11bHRpTWF0ZXJpYWwiP3RoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCwhMCk6dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCExLCEwKSksIXQpZm9yKGE9MDthPHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ErKyl0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zW2FdLmVtaXR0ZXI9PT10aGlzJiYodGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1thXS5kaXNwb3NlKCksYS0tKTt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZCYmdGhpcy5kaXNhYmxlRmFjZXREYXRhKCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5jbGVhcigpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx0LnNldFBhcmVudCh0aGlzLHIpLHRoaXN9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx0LnNldFBhcmVudChudWxsLHIpLHRoaXN9LGUucHJvdG90eXBlLl9pbml0RmFjZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3QuZmFjZXROb3JtYWxzfHwodC5mYWNldE5vcm1hbHM9bmV3IEFycmF5KSx0LmZhY2V0UG9zaXRpb25zfHwodC5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXkpLHQuZmFjZXRQYXJ0aXRpb25pbmd8fCh0LmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSksdC5mYWNldE5iPXRoaXMuZ2V0SW5kaWNlcygpLmxlbmd0aC8zfDAsdC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9dC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM/dC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM6MTAsdC5wYXJ0aXRpb25pbmdCQm94UmF0aW89dC5wYXJ0aXRpb25pbmdCQm94UmF0aW8/dC5wYXJ0aXRpb25pbmdCQm94UmF0aW86MS4wMTtmb3IodmFyIHI9MDtyPHQuZmFjZXROYjtyKyspdC5mYWNldE5vcm1hbHNbcl09RS5aZXJvKCksdC5mYWNldFBvc2l0aW9uc1tyXT1FLlplcm8oKTtyZXR1cm4gdC5mYWNldERhdGFFbmFibGVkPSEwLHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZUZhY2V0RGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTt0LmZhY2V0RGF0YUVuYWJsZWR8fHRoaXMuX2luaXRGYWNldERhdGEoKTt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCksbj10aGlzLmdldEluZGljZXMoKSxhPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCkscz10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKHQuZmFjZXREZXB0aFNvcnQmJiF0LmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7aWYodC5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITAsbiBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KXQuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShuKTtlbHNlIGlmKG4gaW5zdGFuY2VvZiBVaW50MzJBcnJheSl0LmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkobik7ZWxzZXtmb3IodmFyIG89ITEsdT0wO3U8bi5sZW5ndGg7dSsrKWlmKG5bdV0+NjU1MzUpe289ITA7YnJlYWt9bz90LmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkobik6dC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KG4pfWlmKHQuZmFjZXREZXB0aFNvcnRGdW5jdGlvbj1mdW5jdGlvbihfLGcpe3JldHVybiBnLnNxRGlzdGFuY2UtXy5zcURpc3RhbmNlfSwhdC5mYWNldERlcHRoU29ydEZyb20pe3ZhciBmPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7dC5mYWNldERlcHRoU29ydEZyb209Zj9mLnBvc2l0aW9uOkUuWmVybygpfXQuZGVwdGhTb3J0ZWRGYWNldHM9W107Zm9yKHZhciBsPTA7bDx0LmZhY2V0TmI7bCsrKXt2YXIgaD17aW5kOmwqMyxzcURpc3RhbmNlOjB9O3QuZGVwdGhTb3J0ZWRGYWNldHMucHVzaChoKX10LmludmVydGVkTWF0cml4PUkuSWRlbnRpdHkoKSx0LmZhY2V0RGVwdGhTb3J0T3JpZ2luPUUuWmVybygpfXQuYmJTaXplLng9cy5tYXhpbXVtLngtcy5taW5pbXVtLng+ZmU/cy5tYXhpbXVtLngtcy5taW5pbXVtLng6ZmUsdC5iYlNpemUueT1zLm1heGltdW0ueS1zLm1pbmltdW0ueT5mZT9zLm1heGltdW0ueS1zLm1pbmltdW0ueTpmZSx0LmJiU2l6ZS56PXMubWF4aW11bS56LXMubWluaW11bS56PmZlP3MubWF4aW11bS56LXMubWluaW11bS56OmZlO3ZhciBjPXQuYmJTaXplLng+dC5iYlNpemUueT90LmJiU2l6ZS54OnQuYmJTaXplLnk7aWYoYz1jPnQuYmJTaXplLno/Yzp0LmJiU2l6ZS56LHQuc3ViRGl2Lm1heD10LnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucyx0LnN1YkRpdi5YPU1hdGguZmxvb3IodC5zdWJEaXYubWF4KnQuYmJTaXplLngvYyksdC5zdWJEaXYuWT1NYXRoLmZsb29yKHQuc3ViRGl2Lm1heCp0LmJiU2l6ZS55L2MpLHQuc3ViRGl2Llo9TWF0aC5mbG9vcih0LnN1YkRpdi5tYXgqdC5iYlNpemUuei9jKSx0LnN1YkRpdi5YPXQuc3ViRGl2Llg8MT8xOnQuc3ViRGl2LlgsdC5zdWJEaXYuWT10LnN1YkRpdi5ZPDE/MTp0LnN1YkRpdi5ZLHQuc3ViRGl2Llo9dC5zdWJEaXYuWjwxPzE6dC5zdWJEaXYuWix0LmZhY2V0UGFyYW1ldGVycy5mYWNldE5vcm1hbHM9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLHQuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UG9zaXRpb25zPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLHQuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UGFydGl0aW9uaW5nPXRoaXMuZ2V0RmFjZXRMb2NhbFBhcnRpdGlvbmluZygpLHQuZmFjZXRQYXJhbWV0ZXJzLmJJbmZvPXMsdC5mYWNldFBhcmFtZXRlcnMuYmJTaXplPXQuYmJTaXplLHQuZmFjZXRQYXJhbWV0ZXJzLnN1YkRpdj10LnN1YkRpdix0LmZhY2V0UGFyYW1ldGVycy5yYXRpbz10aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbyx0LmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnQ9dC5mYWNldERlcHRoU29ydCx0LmZhY2V0RGVwdGhTb3J0JiZ0LmZhY2V0RGVwdGhTb3J0RW5hYmxlZCYmKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZih0LmludmVydGVkTWF0cml4KSxFLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodC5mYWNldERlcHRoU29ydEZyb20sdC5pbnZlcnRlZE1hdHJpeCx0LmZhY2V0RGVwdGhTb3J0T3JpZ2luKSx0LmZhY2V0UGFyYW1ldGVycy5kaXN0YW5jZVRvPXQuZmFjZXREZXB0aFNvcnRPcmlnaW4pLHQuZmFjZXRQYXJhbWV0ZXJzLmRlcHRoU29ydGVkRmFjZXRzPXQuZGVwdGhTb3J0ZWRGYWNldHMsYSYmbGUuQ29tcHV0ZU5vcm1hbHMocixuLGEsdC5mYWNldFBhcmFtZXRlcnMpLHQuZmFjZXREZXB0aFNvcnQmJnQuZmFjZXREZXB0aFNvcnRFbmFibGVkKXt0LmRlcHRoU29ydGVkRmFjZXRzLnNvcnQodC5mYWNldERlcHRoU29ydEZ1bmN0aW9uKTtmb3IodmFyIGQ9dC5kZXB0aFNvcnRlZEluZGljZXMubGVuZ3RoLzN8MCxsPTA7bDxkO2wrKyl7dmFyIHA9dC5kZXB0aFNvcnRlZEZhY2V0c1tsXS5pbmQ7dC5kZXB0aFNvcnRlZEluZGljZXNbbCozXT1uW3BdLHQuZGVwdGhTb3J0ZWRJbmRpY2VzW2wqMysxXT1uW3ArMV0sdC5kZXB0aFNvcnRlZEluZGljZXNbbCozKzJdPW5bcCsyXX10aGlzLnVwZGF0ZUluZGljZXModC5kZXB0aFNvcnRlZEluZGljZXMsdm9pZCAwLCEwKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0RmFjZXRMb2NhbE5vcm1hbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIHQuZmFjZXROb3JtYWxzfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLHQuZmFjZXROb3JtYWxzfSxlLnByb3RvdHlwZS5nZXRGYWNldExvY2FsUG9zaXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0UG9zaXRpb25zfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLHQuZmFjZXRQb3NpdGlvbnN9LGUucHJvdG90eXBlLmdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIHQuZmFjZXRQYXJ0aXRpb25pbmd8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksdC5mYWNldFBhcnRpdGlvbmluZ30sZS5wcm90b3R5cGUuZ2V0RmFjZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgcj1FLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldFBvc2l0aW9uVG9SZWYodCxyKSxyfSxlLnByb3RvdHlwZS5nZXRGYWNldFBvc2l0aW9uVG9SZWY9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKVt0XSxhPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtyZXR1cm4gRS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKG4sYSxyKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRGYWNldE5vcm1hbD1mdW5jdGlvbih0KXt2YXIgcj1FLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldE5vcm1hbFRvUmVmKHQscikscn0sZS5wcm90b3R5cGUuZ2V0RmFjZXROb3JtYWxUb1JlZj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKVt0XTtyZXR1cm4gRS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihuLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSxyKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscz10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEsbz1NYXRoLmZsb29yKCh0LWEubWluaW11bS54KnMucGFydGl0aW9uaW5nQkJveFJhdGlvKSpzLnN1YkRpdi5YKnMucGFydGl0aW9uaW5nQkJveFJhdGlvL3MuYmJTaXplLngpLHU9TWF0aC5mbG9vcigoci1hLm1pbmltdW0ueSpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqcy5zdWJEaXYuWSpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9zLmJiU2l6ZS55KSxmPU1hdGguZmxvb3IoKG4tYS5taW5pbXVtLnoqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnMuc3ViRGl2Lloqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8vcy5iYlNpemUueik7cmV0dXJuIG88MHx8bz5zLnN1YkRpdi5tYXh8fHU8MHx8dT5zLnN1YkRpdi5tYXh8fGY8MHx8Zj5zLnN1YkRpdi5tYXg/bnVsbDpzLmZhY2V0UGFydGl0aW9uaW5nW28rcy5zdWJEaXYubWF4KnUrcy5zdWJEaXYubWF4KnMuc3ViRGl2Lm1heCpmXX0sZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZhY2V0QXRDb29yZGluYXRlcz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9ITEpLG89PT12b2lkIDAmJihvPSEwKTt2YXIgdT10aGlzLmdldFdvcmxkTWF0cml4KCksZj14Lk1hdHJpeFs1XTt1LmludmVydFRvUmVmKGYpO3ZhciBsPXguVmVjdG9yM1s4XTtFLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQscixuLGYsbCk7dmFyIGg9dGhpcy5nZXRDbG9zZXN0RmFjZXRBdExvY2FsQ29vcmRpbmF0ZXMobC54LGwueSxsLnosYSxzLG8pO3JldHVybiBhJiZFLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGEueCxhLnksYS56LHUsYSksaH0sZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZhY2V0QXRMb2NhbENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQscixuLGEscyxvKXtzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITApO3ZhciB1PW51bGwsZj0wLGw9MCxoPTAsYz0wLGQ9MCxwPTAsXz0wLGc9MCxtPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLHY9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLFM9dGhpcy5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXModCxyLG4pO2lmKCFTKXJldHVybiBudWxsO2Zvcih2YXIgTT1OdW1iZXIuTUFYX1ZBTFVFLEE9TSxSLHksQyx3PTA7dzxTLmxlbmd0aDt3KyspUj1TW3ddLHk9dltSXSxDPW1bUl0sYz0odC1DLngpKnkueCsoci1DLnkpKnkueSsobi1DLnopKnkueiwoIXN8fHMmJm8mJmM+PTB8fHMmJiFvJiZjPD0wKSYmKGM9eS54KkMueCt5LnkqQy55K3kueipDLnosZD0tKHkueCp0K3kueSpyK3kueipuLWMpLyh5LngqeS54K3kueSp5LnkreS56KnkueikscD10K3kueCpkLF89cit5LnkqZCxnPW4reS56KmQsZj1wLXQsbD1fLXIsaD1nLW4sQT1mKmYrbCpsK2gqaCxBPE0mJihNPUEsdT1SLGEmJihhLng9cCxhLnk9XyxhLno9ZykpKTtyZXR1cm4gdX0sZS5wcm90b3R5cGUuZ2V0RmFjZXREYXRhUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXRQYXJhbWV0ZXJzfSxlLnByb3RvdHlwZS5kaXNhYmxlRmFjZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0RGF0YUVuYWJsZWQmJih0LmZhY2V0RGF0YUVuYWJsZWQ9ITEsdC5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXksdC5mYWNldE5vcm1hbHM9bmV3IEFycmF5LHQuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5LHQuZmFjZXRQYXJhbWV0ZXJzPW51bGwsdC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KDApKSx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVJbmRpY2VzPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuY3JlYXRlTm9ybWFscz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCksbj10aGlzLmdldEluZGljZXMoKSxhO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk5vcm1hbEtpbmQpP2E9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kKTphPVtdLGxlLkNvbXB1dGVOb3JtYWxzKHIsbixhLHt1c2VSaWdodEhhbmRlZFN5c3RlbTp0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW19KSx0aGlzLnNldFZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQsYSx0KSx0aGlzfSxlLnByb3RvdHlwZS5hbGlnbldpdGhOb3JtYWw9ZnVuY3Rpb24odCxyKXtyfHwocj1Qci5ZKTt2YXIgbj14LlZlY3RvcjNbMF0sYT14LlZlY3RvcjNbMV07cmV0dXJuIEUuQ3Jvc3NUb1JlZihyLHQsYSksRS5Dcm9zc1RvUmVmKHQsYSxuKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9lZS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKG4sdCxhLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTpFLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihuLHQsYSx0aGlzLnJvdGF0aW9uKSx0aGlzfSxlLnByb3RvdHlwZS5fY2hlY2tPY2NsdXNpb25RdWVyeT1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5kaXNhYmxlRWRnZXNSZW5kZXJpbmc9ZnVuY3Rpb24oKXt0aHJvdyBVKCJFZGdlc1JlbmRlcmVyIil9LGUucHJvdG90eXBlLmVuYWJsZUVkZ2VzUmVuZGVyaW5nPWZ1bmN0aW9uKHQscixuKXt0aHJvdyBVKCJFZGdlc1JlbmRlcmVyIil9LGUucHJvdG90eXBlLmdldENvbm5lY3RlZFBhcnRpY2xlU3lzdGVtcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjZW5lLnBhcnRpY2xlU3lzdGVtcy5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHIuZW1pdHRlcj09PXR9KX0sZS5PQ0NMVVNJT05fVFlQRV9OT05FPTAsZS5PQ0NMVVNJT05fVFlQRV9PUFRJTUlTVElDPTEsZS5PQ0NMVVNJT05fVFlQRV9TVFJJQ1Q9MixlLk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9BQ0NVUkFURT0wLGUuT0NDTFVTSU9OX0FMR09SSVRITV9UWVBFX0NPTlNFUlZBVElWRT0xLGUuQ1VMTElOR1NUUkFURUdZX1NUQU5EQVJEPTAsZS5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWT0xLGUuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OPTIsZS5DVUxMSU5HU1RSQVRFR1lfT1BUSU1JU1RJQ19JTkNMVVNJT05fVEhFTl9CU1BIRVJFX09OTFk9MyxlfShqZSk7T2UoIkJBQllMT04uQWJzdHJhY3RNZXNoIixyaSk7dmFyIFBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9bn1yZXR1cm4gaS5wcm90b3R5cGUudG9HbG9iYWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQsdGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfSxpLnByb3RvdHlwZS50b0dsb2JhbFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci54PXRoaXMueCplLHIueT10aGlzLnkqdCxyLndpZHRoPXRoaXMud2lkdGgqZSxyLmhlaWdodD10aGlzLmhlaWdodCp0LHRoaXN9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGl9KCksQ2U9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9ITApO3ZhciBzPWkuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIHMuX3Bvc2l0aW9uPUUuWmVybygpLHMuX3VwVmVjdG9yPUUuVXAoKSxzLm9ydGhvTGVmdD1udWxsLHMub3J0aG9SaWdodD1udWxsLHMub3J0aG9Cb3R0b209bnVsbCxzLm9ydGhvVG9wPW51bGwscy5mb3Y9Ljgscy5wcm9qZWN0aW9uUGxhbmVUaWx0PTAscy5taW5aPTEscy5tYXhaPTFlNCxzLmluZXJ0aWE9Ljkscy5tb2RlPWUuUEVSU1BFQ1RJVkVfQ0FNRVJBLHMuaXNJbnRlcm1lZGlhdGU9ITEscy52aWV3cG9ydD1uZXcgUGEoMCwwLDEsMSkscy5sYXllck1hc2s9MjY4NDM1NDU1LHMuZm92TW9kZT1lLkZPVk1PREVfVkVSVElDQUxfRklYRUQscy5jYW1lcmFSaWdNb2RlPWUuUklHX01PREVfTk9ORSxzLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LHMub3V0cHV0UmVuZGVyVGFyZ2V0PW51bGwscy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyxzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZT1uZXcgTyxzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZT1uZXcgTyxzLmlzUmlnQ2FtZXJhPSExLHMuX3JpZ0NhbWVyYXM9bmV3IEFycmF5LHMuX3dlYnZyVmlld01hdHJpeD1JLklkZW50aXR5KCkscy5fc2tpcFJlbmRlcmluZz0hMSxzLl9wcm9qZWN0aW9uTWF0cml4PW5ldyBJLHMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHMuX2FjdGl2ZU1lc2hlcz1uZXcgQmUoMjU2KSxzLl9nbG9iYWxQb3NpdGlvbj1FLlplcm8oKSxzLl9jb21wdXRlZFZpZXdNYXRyaXg9SS5JZGVudGl0eSgpLHMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITEscy5fdHJhbnNmb3JtTWF0cml4PUkuWmVybygpLHMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHMuX2Fic29sdXRlUm90YXRpb249ZWUuSWRlbnRpdHkoKSxzLl9pc0NhbWVyYT0hMCxzLl9pc0xlZnRDYW1lcmE9ITEscy5faXNSaWdodENhbWVyYT0hMSxzLmdldFNjZW5lKCkuYWRkQ2FtZXJhKHMpLGEmJiFzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhJiYocy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYT1zKSxzLnBvc2l0aW9uPXIscy5yZW5kZXJQYXNzSWQ9cy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclBhc3NJZCgiQ2FtZXJhICIuY29uY2F0KHQpKSxzfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVwVmVjdG9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwVmVjdG9yfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXBWZWN0b3I9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNjcmVlbkFyZWEiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxzPTAsbz0wO2lmKHRoaXMubW9kZT09PWUuUEVSU1BFQ1RJVkVfQ0FNRVJBKXRoaXMuZm92TW9kZT09PWUuRk9WTU9ERV9WRVJUSUNBTF9GSVhFRD8obz10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxzPXRoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykqbyk6KHM9dGhpcy5taW5aKjIqTWF0aC50YW4odGhpcy5mb3YvMiksbz1zL3RoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykpO2Vsc2V7dmFyIHU9dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJXaWR0aCgpLzIsZj10aGlzLmdldEVuZ2luZSgpLmdldFJlbmRlckhlaWdodCgpLzI7cz0oKHQ9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJnQhPT12b2lkIDA/dDp1KS0oKHI9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmciE9PXZvaWQgMD9yOi11KSxvPSgobj10aGlzLm9ydGhvVG9wKSE9PW51bGwmJm4hPT12b2lkIDA/bjpmKS0oKGE9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZhIT09dm9pZCAwP2E6LWYpfXJldHVybiBzKm99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc3RvcmVTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD0hMCx0aGlzLl9zdG9yZWRGb3Y9dGhpcy5mb3YsdGhpc30sZS5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZVZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD8odGhpcy5mb3Y9dGhpcy5fc3RvcmVkRm92LCEwKTohMX0sZS5wcm90b3R5cGUucmVzdG9yZVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksITApOiExfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ2FtZXJhIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHIrPSIsIHR5cGU6ICIrdGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLmFuaW1hdGlvbnMpZm9yKHZhciBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKylyKz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW25dLnRvU3RyaW5nKHQpO3JldHVybiByfSxlLnByb3RvdHlwZS5hcHBseVZlcnRpY2FsQ29ycmVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYWJzb2x1dGVSb3RhdGlvbi50b0V1bGVyQW5nbGVzKCk7dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy10Lng6dC54fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImdsb2JhbFBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFBvc2l0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFjdGl2ZU1lc2hlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXN9LGUucHJvdG90eXBlLmlzQWN0aXZlTWVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YodCkhPT0tMX0sZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMSksdClmb3IodmFyIHI9MCxuPXRoaXMuX3Bvc3RQcm9jZXNzZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoYSYmIWEuaXNSZWFkeSgpKXJldHVybiExfXJldHVybiBpLnByb3RvdHlwZS5pc1JlYWR5LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuX2luaXRDYWNoZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9pbml0Q2FjaGUuY2FsbCh0aGlzKSx0aGlzLl9jYWNoZS5wb3NpdGlvbj1uZXcgRShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUudXBWZWN0b3I9bmV3IEUoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLm1vZGU9dm9pZCAwLHRoaXMuX2NhY2hlLm1pblo9dm9pZCAwLHRoaXMuX2NhY2hlLm1heFo9dm9pZCAwLHRoaXMuX2NhY2hlLmZvdj12b2lkIDAsdGhpcy5fY2FjaGUuZm92TW9kZT12b2lkIDAsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9SaWdodD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD12b2lkIDAsdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PXZvaWQgMH0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhY2hlPWZ1bmN0aW9uKHQpe3R8fGkucHJvdG90eXBlLl91cGRhdGVDYWNoZS5jYWxsKHRoaXMpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX2NhY2hlLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIGkucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZC5jYWxsKHRoaXMpP3RoaXMuX2NhY2hlLnBvc2l0aW9uLmVxdWFscyh0aGlzLnBvc2l0aW9uKSYmdGhpcy5fY2FjaGUudXBWZWN0b3IuZXF1YWxzKHRoaXMudXBWZWN0b3IpJiZ0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpOiExfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FjaGUubW9kZT09PXRoaXMubW9kZSYmdGhpcy5fY2FjaGUubWluWj09PXRoaXMubWluWiYmdGhpcy5fY2FjaGUubWF4Wj09PXRoaXMubWF4WjtpZighdClyZXR1cm4hMTt2YXIgcj10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLm1vZGU9PT1lLlBFUlNQRUNUSVZFX0NBTUVSQT90PXRoaXMuX2NhY2hlLmZvdj09PXRoaXMuZm92JiZ0aGlzLl9jYWNoZS5mb3ZNb2RlPT09dGhpcy5mb3ZNb2RlJiZ0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz09PXIuZ2V0QXNwZWN0UmF0aW8odGhpcykmJnRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9PT10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ6dD10aGlzLl9jYWNoZS5vcnRob0xlZnQ9PT10aGlzLm9ydGhvTGVmdCYmdGhpcy5fY2FjaGUub3J0aG9SaWdodD09PXRoaXMub3J0aG9SaWdodCYmdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209PT10aGlzLm9ydGhvQm90dG9tJiZ0aGlzLl9jYWNoZS5vcnRob1RvcD09PXRoaXMub3J0aG9Ub3AmJnRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPT09ci5nZXRSZW5kZXJXaWR0aCgpJiZ0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9PT1yLmdldFJlbmRlckhlaWdodCgpLHR9LGUucHJvdG90eXBlLmF0dGFjaENvbnRyb2w9ZnVuY3Rpb24odCxyKXt9LGUucHJvdG90eXBlLmRldGFjaENvbnRyb2w9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9jaGVja0lucHV0cygpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PWUuUklHX01PREVfTk9ORSYmdGhpcy5fdXBkYXRlUmlnQ2FtZXJhcygpfSxlLnByb3RvdHlwZS5fY2hlY2tJbnB1dHM9ZnVuY3Rpb24oKXt0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ0NhbWVyYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ1Bvc3RQcm9jZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ1Bvc3RQcm9jZXNzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9nZXRGaXJzdFBvc3RQcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDt0KyspaWYodGhpcy5fcG9zdFByb2Nlc3Nlc1t0XSE9PW51bGwpcmV0dXJuIHRoaXMuX3Bvc3RQcm9jZXNzZXNbdF07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2Ftcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTt0JiZ0Lm1hcmtUZXh0dXJlRGlydHkoKTtmb3IodmFyIHI9MCxuPXRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3I8bjtyKyspe3ZhciBhPXRoaXMuX3JpZ0NhbWVyYXNbcl0scz1hLl9yaWdQb3N0UHJvY2VzcztpZihzKXt2YXIgbz1zLmdldEVmZmVjdE5hbWUoKT09PSJwYXNzIjtvJiYoYS5pc0ludGVybWVkaWF0ZT10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD09PTApLGEuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKS5jb25jYXQocykscy5tYXJrVGV4dHVyZURpcnR5KCl9ZWxzZSBhLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCl9fSxlLnByb3RvdHlwZS5hdHRhY2hQb3N0UHJvY2Vzcz1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj1udWxsKSwhdC5pc1JldXNhYmxlKCkmJnRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0KT4tMT8oei5FcnJvcigiWW91J3JlIHRyeWluZyB0byByZXVzZSBhIHBvc3QgcHJvY2VzcyBub3QgZGVmaW5lZCBhcyByZXVzYWJsZS4iKSwwKToocj09bnVsbHx8cjwwP3RoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaCh0KTp0aGlzLl9wb3N0UHJvY2Vzc2VzW3JdPT09bnVsbD90aGlzLl9wb3N0UHJvY2Vzc2VzW3JdPXQ6dGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UociwwLHQpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCkpfSxlLnByb3RvdHlwZS5kZXRhY2hQb3N0UHJvY2Vzcz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCk7ciE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1tyXT1udWxsKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl9LGUucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX3dvcmxkTWF0cml4Oih0aGlzLmdldFZpZXdNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCl9LGUucHJvdG90eXBlLl9nZXRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHkoKX0sZS5wcm90b3R5cGUuZ2V0Vmlld01hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Oih0aGlzLnVwZGF0ZUNhY2hlKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXRoaXMuX2dldFZpZXdNYXRyaXgoKSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fY2hpbGRVcGRhdGVJZCsrLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcyYmdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCYmdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZSYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucGFyZW50KSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCl9LGUucHJvdG90eXBlLmZyZWV6ZVByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMCx0IT09dm9pZCAwJiYodGhpcy5fcHJvamVjdGlvbk1hdHJpeD10KX0sZS5wcm90b3R5cGUudW5mcmVlemVQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMX0sZS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0KXt2YXIgcixuLGEscyxvLHUsZixsO2lmKHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXh8fCF0JiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKSlyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDt0aGlzLl9jYWNoZS5tb2RlPXRoaXMubW9kZSx0aGlzLl9jYWNoZS5taW5aPXRoaXMubWluWix0aGlzLl9jYWNoZS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMDt2YXIgaD10aGlzLmdldEVuZ2luZSgpLGM9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMubW9kZT09PWUuUEVSU1BFQ1RJVkVfQ0FNRVJBKXt0aGlzLl9jYWNoZS5mb3Y9dGhpcy5mb3YsdGhpcy5fY2FjaGUuZm92TW9kZT10aGlzLmZvdk1vZGUsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89aC5nZXRBc3BlY3RSYXRpbyh0aGlzKSx0aGlzLl9jYWNoZS5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMucHJvamVjdGlvblBsYW5lVGlsdCx0aGlzLm1pblo8PTAmJih0aGlzLm1pblo9LjEpO3ZhciBkPWgudXNlUmV2ZXJzZURlcHRoQnVmZmVyLHA9dm9pZCAwO2MudXNlUmlnaHRIYW5kZWRTeXN0ZW0/cD1JLlBlcnNwZWN0aXZlRm92UkhUb1JlZjpwPUkuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmLHAodGhpcy5mb3YsaC5nZXRBc3BlY3RSYXRpbyh0aGlzKSxkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5mb3ZNb2RlPT09ZS5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELGguaXNORENIYWxmWlJhbmdlLHRoaXMucHJvamVjdGlvblBsYW5lVGlsdCxoLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcil9ZWxzZXt2YXIgXz1oLmdldFJlbmRlcldpZHRoKCkvMixnPWguZ2V0UmVuZGVySGVpZ2h0KCkvMjtjLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0kuT3J0aG9PZmZDZW50ZXJSSFRvUmVmKChyPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnIhPT12b2lkIDA/cjotXywobj10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOl8sKGE9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZhIT09dm9pZCAwP2E6LWcsKHM9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZzIT09dm9pZCAwP3M6Zyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsaC5pc05EQ0hhbGZaUmFuZ2UpOkkuT3J0aG9PZmZDZW50ZXJMSFRvUmVmKChvPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJm8hPT12b2lkIDA/bzotXywodT10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmdSE9PXZvaWQgMD91Ol8sKGY9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6LWcsKGw9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZsIT09dm9pZCAwP2w6Zyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsaC5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXRoaXMub3J0aG9SaWdodCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT10aGlzLm9ydGhvQm90dG9tLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXRoaXMub3J0aG9Ub3AsdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9aC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD1oLmdldFJlbmRlckhlaWdodCgpfXJldHVybiB0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4fSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fdHJhbnNmb3JtTWF0cml4fSxlLnByb3RvdHlwZS5fdXBkYXRlRnJ1c3R1bVBsYW5lcz1mdW5jdGlvbigpeyF0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lc3x8KHRoaXMuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSx0aGlzLl9mcnVzdHVtUGxhbmVzP1JyLkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPVJyLkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSExKX0sZS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLHImJnRoaXMucmlnQ2FtZXJhcy5sZW5ndGg+MCl7dmFyIG49ITE7cmV0dXJuIHRoaXMucmlnQ2FtZXJhcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSxuPW58fHQuaXNJbkZydXN0dW0oYS5fZnJ1c3R1bVBsYW5lcyl9KSxufWVsc2UgcmV0dXJuIHQuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcyl9LGUucHJvdG90eXBlLmlzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLHQuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfSxlLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5PWZ1bmN0aW9uKHQscixuKXt0aHJvdyBVKCJSYXkiKX0sZS5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheVRvUmVmPWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFUoIlJheSIpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7Zm9yKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLmNsZWFyKCksdGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZUNhbWVyYSh0aGlzKTt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7dmFyIG49dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtuJiZuLmRpc3Bvc2UoKX1pZih0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBhPXRoaXMuX3BhcmVudENvbnRhaW5lci5jYW1lcmFzLmluZGV4T2YodGhpcyk7YT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuc3BsaWNlKGEsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5fcmlnUG9zdFByb2Nlc3MpdGhpcy5fcmlnUG9zdFByb2Nlc3MuZGlzcG9zZSh0aGlzKSx0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXM9W107ZWxzZSBpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1lLlJJR19NT0RFX05PTkUpdGhpcy5fcmlnUG9zdFByb2Nlc3M9bnVsbCx0aGlzLl9wb3N0UHJvY2Vzc2VzPVtdO2Vsc2UgZm9yKHZhciBvPXRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoOy0tbz49MDspe3ZhciBzPXRoaXMuX3Bvc3RQcm9jZXNzZXNbb107cyYmcy5kaXNwb3NlKHRoaXMpfWZvcih2YXIgbz10aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoOy0tbz49MDspdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW29dLmRpc3Bvc2UoKTt0aGlzLmN1c3RvbVJlbmRlclRhcmdldHM9W10sdGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLnJlbmRlclBhc3NJZCksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0xlZnRDYW1lcmEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMZWZ0Q2FtZXJhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNSaWdodENhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1JpZ2h0Q2FtZXJhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGVmdENhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ2h0Q2FtZXJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldExlZnRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8MT9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMF0uZ2V0VGFyZ2V0KCl9LGUucHJvdG90eXBlLmdldFJpZ2h0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdLmdldFRhcmdldCgpfSxlLnByb3RvdHlwZS5zZXRDYW1lcmFSaWdNb2RlPWZ1bmN0aW9uKHQscil7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09dCl7Zm9yKDt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7dmFyIG49dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtuJiZuLmRpc3Bvc2UoKX1pZih0aGlzLmNhbWVyYVJpZ01vZGU9dCx0aGlzLl9jYW1lcmFSaWdQYXJhbXM9e30sdGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZT1yLmludGVyYXhpYWxEaXN0YW5jZXx8LjA2MzcsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZT1pZS5Ub1JhZGlhbnModGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZS8uMDYzNyksdGhpcy5jYW1lcmFSaWdNb2RlIT09ZS5SSUdfTU9ERV9OT05FKXt2YXIgYT10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9MIiwwKTthJiYoYS5faXNMZWZ0Q2FtZXJhPSEwKTt2YXIgcz10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9SIiwxKTtzJiYocy5faXNSaWdodENhbWVyYT0hMCksYSYmcyYmKHRoaXMuX3JpZ0NhbWVyYXMucHVzaChhKSx0aGlzLl9yaWdDYW1lcmFzLnB1c2gocykpfXRoaXMuX3NldFJpZ01vZGUociksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKSx0aGlzLnVwZGF0ZSgpfX0sZS5wcm90b3R5cGUuX3NldFJpZ01vZGU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5fZ2V0VlJQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ck1ldHJpY3MuYXNwZWN0UmF0aW9Gb3YsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpbyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgsITAsdGhpcy5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJITWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9LGUucHJvdG90eXBlLl91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3VwZGF0ZVdlYlZSQ2FtZXJhUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9nZXRXZWJWUlByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gSS5JZGVudGl0eSgpfSxlLnByb3RvdHlwZS5fZ2V0V2ViVlJWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHkoKX0sZS5wcm90b3R5cGUuc2V0Q2FtZXJhUmlnUGFyYW1ldGVyPWZ1bmN0aW9uKHQscil7dGhpcy5fY2FtZXJhUmlnUGFyYW1zfHwodGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9KSx0aGlzLl9jYW1lcmFSaWdQYXJhbXNbdF09cix0PT09ImludGVyYXhpYWxEaXN0YW5jZSImJih0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPWllLlRvUmFkaWFucyhyLy4wNjM3KSl9LGUucHJvdG90eXBlLmNyZWF0ZVJpZ0NhbWVyYT1mdW5jdGlvbih0LHIpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5fdXBkYXRlUmlnQ2FtZXJhcz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg7dCsrKXRoaXMuX3JpZ0NhbWVyYXNbdF0ubWluWj10aGlzLm1pblosdGhpcy5fcmlnQ2FtZXJhc1t0XS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yaWdDYW1lcmFzW3RdLmZvdj10aGlzLmZvdix0aGlzLl9yaWdDYW1lcmFzW3RdLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpO3RoaXMuY2FtZXJhUmlnTW9kZT09PWUuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIJiYodGhpcy5fcmlnQ2FtZXJhc1swXS52aWV3cG9ydD10aGlzLl9yaWdDYW1lcmFzWzFdLnZpZXdwb3J0PXRoaXMudmlld3BvcnQpfSxlLnByb3RvdHlwZS5fc2V0dXBJbnB1dHM9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVkuU2VyaWFsaXplKHRoaXMpO3JldHVybiB0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdC50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksdGhpcy5wYXJlbnQmJih0LnBhcmVudElkPXRoaXMucGFyZW50LnVuaXF1ZUlkKSx0aGlzLmlucHV0cyYmdGhpcy5pbnB1dHMuc2VyaWFsaXplKHQpLFkuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0LnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLHQuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksdH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIHI9WS5DbG9uZShlLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRDbGFzc05hbWUoKSx0LHRoaXMuZ2V0U2NlbmUoKSx0aGlzLmludGVyYXhpYWxEaXN0YW5jZSx0aGlzLmlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSksdGhpcyk7cmV0dXJuIHIubmFtZT10LHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSxyfSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIHI9RS5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYodCxyKSxyfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFic29sdXRlUm90YXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpLmRlY29tcG9zZSh2b2lkIDAsdGhpcy5fYWJzb2x1dGVSb3RhdGlvbiksdGhpcy5fYWJzb2x1dGVSb3RhdGlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb25Ub1JlZj1mdW5jdGlvbih0LHIpe0UuVHJhbnNmb3JtTm9ybWFsVG9SZWYodCx0aGlzLmdldFdvcmxkTWF0cml4KCkscil9LGUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZT1mdW5jdGlvbih0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPSEwKTt2YXIgbz1IZS5Db25zdHJ1Y3QodCxyLG4se2ludGVyYXhpYWxfZGlzdGFuY2U6YSxpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGU6c30pO3JldHVybiBvfHxmdW5jdGlvbigpe3JldHVybiBlLl9jcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhKHIsbil9fSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpfSxlLlBhcnNlPWZ1bmN0aW9uKHQscil7dmFyIG49dC50eXBlLGE9ZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKG4sdC5uYW1lLHIsdC5pbnRlcmF4aWFsX2Rpc3RhbmNlLHQuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSxzPVkuUGFyc2UoYSx0LHIpO2lmKHQucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCkscy5pbnB1dHMmJihzLmlucHV0cy5wYXJzZSh0KSxzLl9zZXR1cElucHV0cygpKSx0LnVwVmVjdG9yJiYocy51cFZlY3Rvcj1FLkZyb21BcnJheSh0LnVwVmVjdG9yKSkscy5zZXRQb3NpdGlvbiYmKHMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHMuc2V0UG9zaXRpb24oRS5Gcm9tQXJyYXkodC5wb3NpdGlvbikpKSx0LnRhcmdldCYmcy5zZXRUYXJnZXQmJnMuc2V0VGFyZ2V0KEUuRnJvbUFycmF5KHQudGFyZ2V0KSksdC5jYW1lcmFSaWdNb2RlKXt2YXIgbz10LmludGVyYXhpYWxfZGlzdGFuY2U/e2ludGVyYXhpYWxEaXN0YW5jZTp0LmludGVyYXhpYWxfZGlzdGFuY2V9Ont9O3Muc2V0Q2FtZXJhUmlnTW9kZSh0LmNhbWVyYVJpZ01vZGUsbyl9aWYodC5hbmltYXRpb25zKXtmb3IodmFyIHU9MDt1PHQuYW5pbWF0aW9ucy5sZW5ndGg7dSsrKXt2YXIgZj10LmFuaW1hdGlvbnNbdV0sbD1SdCgiQkFCWUxPTi5BbmltYXRpb24iKTtsJiZzLmFuaW1hdGlvbnMucHVzaChsLlBhcnNlKGYpKX1IZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhzLHQscil9cmV0dXJuIHQuYXV0b0FuaW1hdGUmJnIuYmVnaW5BbmltYXRpb24ocyx0LmF1dG9BbmltYXRlRnJvbSx0LmF1dG9BbmltYXRlVG8sdC5hdXRvQW5pbWF0ZUxvb3AsdC5hdXRvQW5pbWF0ZVNwZWVkfHwxKSx0LmlzRW5hYmxlZCE9PXZvaWQgMCYmcy5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxzfSxlLl9jcmVhdGVEZWZhdWx0UGFyc2VkQ2FtZXJhPWZ1bmN0aW9uKHQscil7dGhyb3cgVSgiVW5pdmVyc2FsQ2FtZXJhIil9LGUuUEVSU1BFQ1RJVkVfQ0FNRVJBPTAsZS5PUlRIT0dSQVBISUNfQ0FNRVJBPTEsZS5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPTAsZS5GT1ZNT0RFX0hPUklaT05UQUxfRklYRUQ9MSxlLlJJR19NT0RFX05PTkU9MCxlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSD0xMCxlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMPTExLGUuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPTEyLGUuUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUj0xMyxlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEPTE0LGUuUklHX01PREVfVlI9MjAsZS5SSUdfTU9ERV9XRUJWUj0yMSxlLlJJR19NT0RFX0NVU1RPTT0yMixlLkZvcmNlQXR0YWNoQ29udHJvbFRvQWx3YXlzUHJldmVudERlZmF1bHQ9ITEsVChbb3QoInBvc2l0aW9uIildLGUucHJvdG90eXBlLCJfcG9zaXRpb24iLHZvaWQgMCksVChbb3QoInVwVmVjdG9yIildLGUucHJvdG90eXBlLCJfdXBWZWN0b3IiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9MZWZ0Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIm9ydGhvUmlnaHQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9Cb3R0b20iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9Ub3AiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiZm92Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInByb2plY3Rpb25QbGFuZVRpbHQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibWluWiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtYXhaIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImluZXJ0aWEiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibW9kZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJsYXllck1hc2siLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiZm92TW9kZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJjYW1lcmFSaWdNb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImludGVyYXhpYWxEaXN0YW5jZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUiLHZvaWQgMCksZX0oSGUpLEtlPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gbi5kaWZmdXNlPW5ldyBwZSgxLDEsMSksbi5zcGVjdWxhcj1uZXcgcGUoMSwxLDEpLG4uZmFsbG9mZlR5cGU9ZS5GQUxMT0ZGX0RFRkFVTFQsbi5pbnRlbnNpdHk9MSxuLl9yYW5nZT1OdW1iZXIuTUFYX1ZBTFVFLG4uX2ludmVyc2VTcXVhcmVkUmFuZ2U9MCxuLl9waG90b21ldHJpY1NjYWxlPTEsbi5faW50ZW5zaXR5TW9kZT1lLklOVEVOU0lUWU1PREVfQVVUT01BVElDLG4uX3JhZGl1cz0xZS01LG4ucmVuZGVyUHJpb3JpdHk9MCxuLl9zaGFkb3dFbmFibGVkPSEwLG4uX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrPTAsbi5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPTAsbi5fbGlnaHRtYXBNb2RlPTAsbi5fZXhjbHVkZWRNZXNoZXNJZHM9bmV3IEFycmF5LG4uX2luY2x1ZGVkT25seU1lc2hlc0lkcz1uZXcgQXJyYXksbi5faXNMaWdodD0hMCxuLmdldFNjZW5lKCkuYWRkTGlnaHQobiksbi5fdW5pZm9ybUJ1ZmZlcj1uZXcgVHIobi5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsdCksbi5fYnVpbGRVbmlmb3JtTGF5b3V0KCksbi5pbmNsdWRlZE9ubHlNZXNoZXM9bmV3IEFycmF5LG4uZXhjbHVkZWRNZXNoZXM9bmV3IEFycmF5LG4uX3Jlc3luY01lc2hlcygpLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmFuZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yYW5nZT10LHRoaXMuX2ludmVyc2VTcXVhcmVkUmFuZ2U9MS8odGhpcy5yYW5nZSp0aGlzLnJhbmdlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImludGVuc2l0eU1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZW5zaXR5TW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVuc2l0eU1vZGU9dCx0aGlzLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmFkaXVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhZGl1c30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JhZGl1cz10LHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFkb3dFbmFibGVkIT09dCYmKHRoaXMuX3NoYWRvd0VuYWJsZWQ9dCx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW5jbHVkZWRPbmx5TWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkT25seU1lc2hlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luY2x1ZGVkT25seU1lc2hlcz10LHRoaXMuX2hvb2tBcnJheUZvckluY2x1ZGVkT25seSh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImV4Y2x1ZGVkTWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVkTWVzaGVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXhjbHVkZWRNZXNoZXM9dCx0aGlzLl9ob29rQXJyYXlGb3JFeGNsdWRlZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2s9dCx0aGlzLl9yZXN5bmNNZXNoZXMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImluY2x1ZGVPbmx5V2l0aExheWVyTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9dCx0aGlzLl9yZXN5bmNNZXNoZXMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpZ2h0bWFwTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saWdodG1hcE1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9saWdodG1hcE1vZGUhPT10JiYodGhpcy5fbGlnaHRtYXBNb2RlPXQsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50cmFuc2ZlclRleHR1cmVzVG9FZmZlY3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX2JpbmRMaWdodD1mdW5jdGlvbih0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPSEwKTt2YXIgbz10LnRvU3RyaW5nKCksdT0hMTtpZih0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRUb0VmZmVjdChuLCJMaWdodCIrbyksdGhpcy5fcmVuZGVySWQhPT1yLmdldFJlbmRlcklkKCl8fHRoaXMuX2xhc3RVc2VTcGVjdWxhciE9PWF8fCF0aGlzLl91bmlmb3JtQnVmZmVyLnVzZVVibyl7dGhpcy5fcmVuZGVySWQ9ci5nZXRSZW5kZXJJZCgpLHRoaXMuX2xhc3RVc2VTcGVjdWxhcj1hO3ZhciBmPXRoaXMuZ2V0U2NhbGVkSW50ZW5zaXR5KCk7dGhpcy50cmFuc2ZlclRvRWZmZWN0KG4sbyksdGhpcy5kaWZmdXNlLnNjYWxlVG9SZWYoZixoci5Db2xvcjNbMF0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHREaWZmdXNlIixoci5Db2xvcjNbMF0sdGhpcy5yYW5nZSxvKSxhJiYodGhpcy5zcGVjdWxhci5zY2FsZVRvUmVmKGYsaHIuQ29sb3IzWzFdKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yNCgidkxpZ2h0U3BlY3VsYXIiLGhyLkNvbG9yM1sxXSx0aGlzLnJhZGl1cyxvKSksdT0hMH1pZih0aGlzLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChuLG8pLHIuc2hhZG93c0VuYWJsZWQmJnRoaXMuc2hhZG93RW5hYmxlZCYmcyl7dmFyIGw9dGhpcy5nZXRTaGFkb3dHZW5lcmF0b3IoKTtsJiYobC5iaW5kU2hhZG93TGlnaHQobyxuKSx1PSEwKX11P3RoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlKCk6dGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVW5pZm9ybUJ1ZmZlcigpfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTGlnaHQifSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXt2YXIgcj0iTmFtZTogIit0aGlzLm5hbWU7aWYocis9IiwgdHlwZTogIitbIlBvaW50IiwiRGlyZWN0aW9uYWwiLCJTcG90IiwiSGVtaXNwaGVyaWMiXVt0aGlzLmdldFR5cGVJRCgpXSx0aGlzLmFuaW1hdGlvbnMpZm9yKHZhciBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKylyKz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW25dLnRvU3RyaW5nKHQpO3JldHVybiByfSxlLnByb3RvdHlwZS5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlLmNhbGwodGhpcyksdGhpcy5pc0Rpc3Bvc2VkKCl8fHRoaXMuX3Jlc3luY01lc2hlcygpfSxlLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLnNldEVuYWJsZWQuY2FsbCh0aGlzLHQpLHRoaXMuX3Jlc3luY01lc2hlcygpfSxlLnByb3RvdHlwZS5nZXRTaGFkb3dHZW5lcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93R2VuZXJhdG9yfSxlLnByb3RvdHlwZS5nZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIEUuWmVybygpfSxlLnByb3RvdHlwZS5jYW5BZmZlY3RNZXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0PyEodGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKHQpPT09LTF8fHRoaXMuZXhjbHVkZWRNZXNoZXMmJnRoaXMuZXhjbHVkZWRNZXNoZXMubGVuZ3RoPjAmJnRoaXMuZXhjbHVkZWRNZXNoZXMuaW5kZXhPZih0KSE9PS0xfHx0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayE9PTAmJih0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayZ0LmxheWVyTWFzayk9PT0wfHx0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIT09MCYmdGhpcy5leGNsdWRlV2l0aExheWVyTWFzayZ0LmxheWVyTWFzayk6ITB9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fc2hhZG93R2VuZXJhdG9yJiYodGhpcy5fc2hhZG93R2VuZXJhdG9yLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dHZW5lcmF0b3I9bnVsbCksdGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgbj10aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLmluZGV4T2YodGhpcyk7bj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmxpZ2h0cy5zcGxpY2UobiwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1mb3IodmFyIGE9MCxzPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5fcmVtb3ZlTGlnaHRTb3VyY2UodGhpcywhMCl9dGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZUxpZ2h0KHRoaXMpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLmdldFR5cGVJRD1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRTY2FsZWRJbnRlbnNpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGhvdG9tZXRyaWNTY2FsZSp0aGlzLmludGVuc2l0eX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj1udWxsKTt2YXIgbj1lLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRUeXBlSUQoKSx0LHRoaXMuZ2V0U2NlbmUoKSk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGE9WS5DbG9uZShuLHRoaXMpO3JldHVybiB0JiYoYS5uYW1lPXQpLHImJihhLnBhcmVudD1yKSxhLnNldEVuYWJsZWQodGhpcy5pc0VuYWJsZWQoKSksdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLGF9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVkuU2VyaWFsaXplKHRoaXMpO3JldHVybiB0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdC50eXBlPXRoaXMuZ2V0VHlwZUlEKCksdGhpcy5wYXJlbnQmJih0LnBhcmVudElkPXRoaXMucGFyZW50LnVuaXF1ZUlkKSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmxlbmd0aD4wJiYodC5leGNsdWRlZE1lc2hlc0lkcz1bXSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmZvckVhY2goZnVuY3Rpb24ocil7dC5leGNsdWRlZE1lc2hlc0lkcy5wdXNoKHIuaWQpfSkpLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiYodC5pbmNsdWRlZE9ubHlNZXNoZXNJZHM9W10sdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMuZm9yRWFjaChmdW5jdGlvbihyKXt0LmluY2x1ZGVkT25seU1lc2hlc0lkcy5wdXNoKHIuaWQpfSkpLFkuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0LnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLHQuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksdH0sZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lPWZ1bmN0aW9uKHQscixuKXt2YXIgYT1IZS5Db25zdHJ1Y3QoIkxpZ2h0X1R5cGVfIit0LHIsbik7cmV0dXJuIGF8fG51bGx9LGUuUGFyc2U9ZnVuY3Rpb24odCxyKXt2YXIgbj1lLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodC50eXBlLHQubmFtZSxyKTtpZighbilyZXR1cm4gbnVsbDt2YXIgYT1ZLlBhcnNlKG4sdCxyKTtpZih0LmV4Y2x1ZGVkTWVzaGVzSWRzJiYoYS5fZXhjbHVkZWRNZXNoZXNJZHM9dC5leGNsdWRlZE1lc2hlc0lkcyksdC5pbmNsdWRlZE9ubHlNZXNoZXNJZHMmJihhLl9pbmNsdWRlZE9ubHlNZXNoZXNJZHM9dC5pbmNsdWRlZE9ubHlNZXNoZXNJZHMpLHQucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCksdC5mYWxsb2ZmVHlwZSE9PXZvaWQgMCYmKGEuZmFsbG9mZlR5cGU9dC5mYWxsb2ZmVHlwZSksdC5saWdodG1hcE1vZGUhPT12b2lkIDAmJihhLmxpZ2h0bWFwTW9kZT10LmxpZ2h0bWFwTW9kZSksdC5hbmltYXRpb25zKXtmb3IodmFyIHM9MDtzPHQuYW5pbWF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz10LmFuaW1hdGlvbnNbc10sdT1SdCgiQkFCWUxPTi5BbmltYXRpb24iKTt1JiZhLmFuaW1hdGlvbnMucHVzaCh1LlBhcnNlKG8pKX1IZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhhLHQscil9cmV0dXJuIHQuYXV0b0FuaW1hdGUmJnIuYmVnaW5BbmltYXRpb24oYSx0LmF1dG9BbmltYXRlRnJvbSx0LmF1dG9BbmltYXRlVG8sdC5hdXRvQW5pbWF0ZUxvb3AsdC5hdXRvQW5pbWF0ZVNwZWVkfHwxKSx0LmlzRW5hYmxlZCE9PXZvaWQgMCYmYS5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxhfSxlLnByb3RvdHlwZS5faG9va0FycmF5Rm9yRXhjbHVkZWQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGY9W10sbD0wO2w8YXJndW1lbnRzLmxlbmd0aDtsKyspZltsXT1hcmd1bWVudHNbbF07Zm9yKHZhciBoPW4uYXBwbHkodCxmKSxjPTAsZD1mO2M8ZC5sZW5ndGg7YysrKXt2YXIgcD1kW2NdO3AuX3Jlc3luY0xpZ2h0U291cmNlKHIpfXJldHVybiBofTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihmLGwpe2Zvcih2YXIgaD1hLmFwcGx5KHQsW2YsbF0pLGM9MCxkPWg7YzxkLmxlbmd0aDtjKyspe3ZhciBwPWRbY107cC5fcmVzeW5jTGlnaHRTb3VyY2Uocil9cmV0dXJuIGh9O2Zvcih2YXIgcz0wLG89dDtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTt1Ll9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX19LGUucHJvdG90eXBlLl9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHk9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHM9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspc1tvXT1hcmd1bWVudHNbb107dmFyIHU9bi5hcHBseSh0LHMpO3JldHVybiByLl9yZXN5bmNNZXNoZXMoKSx1fTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1PWEuYXBwbHkodCxbcyxvXSk7cmV0dXJuIHIuX3Jlc3luY01lc2hlcygpLHV9LHRoaXMuX3Jlc3luY01lc2hlcygpfSxlLnByb3RvdHlwZS5fcmVzeW5jTWVzaGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLmdldFNjZW5lKCkubWVzaGVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfX0sZS5wcm90b3R5cGUuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzKSE9PS0xJiZuLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9fSxlLnByb3RvdHlwZS5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGU9ZnVuY3Rpb24oKXt0aGlzLl9waG90b21ldHJpY1NjYWxlPXRoaXMuX2dldFBob3RvbWV0cmljU2NhbGUoKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSxlLnByb3RvdHlwZS5fZ2V0UGhvdG9tZXRyaWNTY2FsZT1mdW5jdGlvbigpe3ZhciB0PTAscj10aGlzLmdldFR5cGVJRCgpLG49dGhpcy5pbnRlbnNpdHlNb2RlO3N3aXRjaChuPT09ZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyYmKHI9PT1lLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/bj1lLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6bj1lLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFkpLHIpe2Nhc2UgZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUOmNhc2UgZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ6c3dpdGNoKG4pe2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI6dD0xLyg0Kk1hdGguUEkpO2JyZWFrO2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZOnQ9MTticmVhaztjYXNlIGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6dD10aGlzLnJhZGl1cyp0aGlzLnJhZGl1czticmVha31icmVhaztjYXNlIGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVDpzd2l0Y2gobil7Y2FzZSBlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6dD0xO2JyZWFrO2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRTp2YXIgYT10aGlzLnJhZGl1czthPU1hdGgubWF4KGEsLjAwMSk7dmFyIHM9MipNYXRoLlBJKigxLU1hdGguY29zKGEpKTt0PXM7YnJlYWt9YnJlYWs7Y2FzZSBlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ6dD0xO2JyZWFrfXJldHVybiB0fSxlLnByb3RvdHlwZS5fcmVvcmRlckxpZ2h0c0luU2NlbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNjZW5lKCk7dGhpcy5fcmVuZGVyUHJpb3JpdHkhPTAmJih0LnJlcXVpcmVMaWdodFNvcnRpbmc9ITApLHRoaXMuZ2V0U2NlbmUoKS5zb3J0TGlnaHRzQnlQcmlvcml0eSgpfSxlLkZBTExPRkZfREVGQVVMVD1BZS5GQUxMT0ZGX0RFRkFVTFQsZS5GQUxMT0ZGX1BIWVNJQ0FMPUFlLkZBTExPRkZfUEhZU0lDQUwsZS5GQUxMT0ZGX0dMVEY9QWUuRkFMTE9GRl9HTFRGLGUuRkFMTE9GRl9TVEFOREFSRD1BZS5GQUxMT0ZGX1NUQU5EQVJELGUuTElHSFRNQVBfREVGQVVMVD1BZS5MSUdIVE1BUF9ERUZBVUxULGUuTElHSFRNQVBfU1BFQ1VMQVI9QWUuTElHSFRNQVBfU1BFQ1VMQVIsZS5MSUdIVE1BUF9TSEFET1dTT05MWT1BZS5MSUdIVE1BUF9TSEFET1dTT05MWSxlLklOVEVOU0lUWU1PREVfQVVUT01BVElDPUFlLklOVEVOU0lUWU1PREVfQVVUT01BVElDLGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPUFlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUixlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk9QWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSxlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U9QWUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRSxlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPUFlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFLGUuTElHSFRUWVBFSURfUE9JTlRMSUdIVD1BZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hULGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD1BZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hULGUuTElHSFRUWVBFSURfU1BPVExJR0hUPUFlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVCxlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ9QWUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVCxUKFt4dCgpXSxlLnByb3RvdHlwZSwiZGlmZnVzZSIsdm9pZCAwKSxUKFt4dCgpXSxlLnByb3RvdHlwZSwic3BlY3VsYXIiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiZmFsbG9mZlR5cGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW50ZW5zaXR5Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInJhbmdlIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJpbnRlbnNpdHlNb2RlIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJyYWRpdXMiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsIl9yZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxUKFt0ZSgiX3Jlb3JkZXJMaWdodHNJblNjZW5lIildLGUucHJvdG90eXBlLCJyZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxUKFtQKCJzaGFkb3dFbmFibGVkIildLGUucHJvdG90eXBlLCJfc2hhZG93RW5hYmxlZCIsdm9pZCAwKSxUKFtQKCJleGNsdWRlV2l0aExheWVyTWFzayIpXSxlLnByb3RvdHlwZSwiX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFQoW1AoImluY2x1ZGVPbmx5V2l0aExheWVyTWFzayIpXSxlLnByb3RvdHlwZSwiX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzayIsdm9pZCAwKSxUKFtQKCJsaWdodG1hcE1vZGUiKV0sZS5wcm90b3R5cGUsIl9saWdodG1hcE1vZGUiLHZvaWQgMCksZX0oSGUpLENhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5CaW5kQ2xpcFBsYW5lPWZ1bmN0aW9uKGUsdCl7aWYodC5jbGlwUGxhbmUpe3ZhciByPXQuY2xpcFBsYW5lO2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lIixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfWlmKHQuY2xpcFBsYW5lMil7dmFyIHI9dC5jbGlwUGxhbmUyO2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lMiIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX1pZih0LmNsaXBQbGFuZTMpe3ZhciByPXQuY2xpcFBsYW5lMztlLnNldEZsb2F0NCgidkNsaXBQbGFuZTMiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9aWYodC5jbGlwUGxhbmU0KXt2YXIgcj10LmNsaXBQbGFuZTQ7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmU0IixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfWlmKHQuY2xpcFBsYW5lNSl7dmFyIHI9dC5jbGlwUGxhbmU1O2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lNSIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX1pZih0LmNsaXBQbGFuZTYpe3ZhciByPXQuY2xpcFBsYW5lNjtlLnNldEZsb2F0NCgidkNsaXBQbGFuZTYiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9fSxpfSgpLEg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oZSx0KXt0LmJpbmRUb0VmZmVjdChlLCJTY2VuZSIpfSxpLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVY9ZnVuY3Rpb24oZSx0LHIpe3QuX25lZWRVVnM9ITAsdFtyXT0hMCxlLmdldFRleHR1cmVNYXRyaXgoKS5pc0lkZW50aXR5QXMzeDIoKT8odFtyKyJESVJFQ1RVViJdPWUuY29vcmRpbmF0ZXNJbmRleCsxLHRbIk1BSU5VViIrKGUuY29vcmRpbmF0ZXNJbmRleCsxKV09ITApOnRbcisiRElSRUNUVVYiXT0wfSxpLkJpbmRUZXh0dXJlTWF0cml4PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmdldFRleHR1cmVNYXRyaXgoKTt0LnVwZGF0ZU1hdHJpeChyKyJNYXRyaXgiLG4pfSxpLkdldEZvZ1N0YXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZm9nRW5hYmxlZCYmZS5hcHBseUZvZyYmdC5mb2dNb2RlIT09RWUuRk9HTU9ERV9OT05FfSxpLlByZXBhcmVEZWZpbmVzRm9yTWlzYz1mdW5jdGlvbihlLHQscixuLGEscyxvKXtvLl9hcmVNaXNjRGlydHkmJihvLkxPR0FSSVRITUlDREVQVEg9cixvLlBPSU5UU0laRT1uLG8uRk9HPWEmJnRoaXMuR2V0Rm9nU3RhdGUoZSx0KSxvLk5PTlVOSUZPUk1TQ0FMSU5HPWUubm9uVW5pZm9ybVNjYWxpbmcsby5BTFBIQVRFU1Q9cyl9LGkuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz0hMSk7dmFyIG89ITEsdT0hMSxmPSExLGw9ITEsaD0hMSxjPSExLGQ9ITE7dT1hPT1udWxsP2UuY2xpcFBsYW5lIT09dm9pZCAwJiZlLmNsaXBQbGFuZSE9PW51bGw6YSxmPWE9PW51bGw/ZS5jbGlwUGxhbmUyIT09dm9pZCAwJiZlLmNsaXBQbGFuZTIhPT1udWxsOmEsbD1hPT1udWxsP2UuY2xpcFBsYW5lMyE9PXZvaWQgMCYmZS5jbGlwUGxhbmUzIT09bnVsbDphLGg9YT09bnVsbD9lLmNsaXBQbGFuZTQhPT12b2lkIDAmJmUuY2xpcFBsYW5lNCE9PW51bGw6YSxjPWE9PW51bGw/ZS5jbGlwUGxhbmU1IT09dm9pZCAwJiZlLmNsaXBQbGFuZTUhPT1udWxsOmEsZD1hPT1udWxsP2UuY2xpcFBsYW5lNiE9PXZvaWQgMCYmZS5jbGlwUGxhbmU2IT09bnVsbDphLHIuQ0xJUFBMQU5FIT09dSYmKHIuQ0xJUFBMQU5FPXUsbz0hMCksci5DTElQUExBTkUyIT09ZiYmKHIuQ0xJUFBMQU5FMj1mLG89ITApLHIuQ0xJUFBMQU5FMyE9PWwmJihyLkNMSVBQTEFORTM9bCxvPSEwKSxyLkNMSVBQTEFORTQhPT1oJiYoci5DTElQUExBTkU0PWgsbz0hMCksci5DTElQUExBTkU1IT09YyYmKHIuQ0xJUFBMQU5FNT1jLG89ITApLHIuQ0xJUFBMQU5FNiE9PWQmJihyLkNMSVBQTEFORTY9ZCxvPSEwKSxyLkRFUFRIUFJFUEFTUyE9PSF0LmdldENvbG9yV3JpdGUoKSYmKHIuREVQVEhQUkVQQVNTPSFyLkRFUFRIUFJFUEFTUyxvPSEwKSxyLklOU1RBTkNFUyE9PW4mJihyLklOU1RBTkNFUz1uLG89ITApLHIuSU5TVEFOQ0VTQ09MT1ImJiFyLklOU1RBTkNFUyYmKHIuSU5TVEFOQ0VTQ09MT1I9ITEsbz0hMCksci5USElOX0lOU1RBTkNFUyE9PXMmJihyLlRISU5fSU5TVEFOQ0VTPXMsbz0hMCksbyYmci5tYXJrQXNVbnByb2Nlc3NlZCgpfSxpLlByZXBhcmVEZWZpbmVzRm9yQm9uZXM9ZnVuY3Rpb24oZSx0KXtpZihlLnVzZUJvbmVzJiZlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZS5za2VsZXRvbil7dC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz1lLm51bUJvbmVJbmZsdWVuY2Vyczt2YXIgcj10LkJPTkVURVhUVVJFIT09dm9pZCAwO2lmKGUuc2tlbGV0b24uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmcil0LkJPTkVURVhUVVJFPSEwO2Vsc2V7dC5Cb25lc1Blck1lc2g9ZS5za2VsZXRvbi5ib25lcy5sZW5ndGgrMSx0LkJPTkVURVhUVVJFPXI/ITE6dm9pZCAwO3ZhciBuPWUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXI7aWYobiYmbi5lbmFibGVkKXt2YXIgYT1uLmV4Y2x1ZGVkU2tpbm5lZE1lc2guaW5kZXhPZihlKT09PS0xO3QuQk9ORVNfVkVMT0NJVFlfRU5BQkxFRD1hfX19ZWxzZSB0Lk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdC5Cb25lc1Blck1lc2g9MH0saS5QcmVwYXJlRGVmaW5lc0Zvck1vcnBoVGFyZ2V0cz1mdW5jdGlvbihlLHQpe3ZhciByPWUubW9ycGhUYXJnZXRNYW5hZ2VyO3I/KHQuTU9SUEhUQVJHRVRTX1VWPXIuc3VwcG9ydHNVVnMmJnQuVVYxLHQuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ci5zdXBwb3J0c1RhbmdlbnRzJiZ0LlRBTkdFTlQsdC5NT1JQSFRBUkdFVFNfTk9STUFMPXIuc3VwcG9ydHNOb3JtYWxzJiZ0Lk5PUk1BTCx0Lk1PUlBIVEFSR0VUUz1yLm51bUluZmx1ZW5jZXJzPjAsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9ci5udW1JbmZsdWVuY2Vycyx0Lk1PUlBIVEFSR0VUU19URVhUVVJFPXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKToodC5NT1JQSFRBUkdFVFNfVVY9ITEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsdC5NT1JQSFRBUkdFVFM9ITEsdC5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCl9LGkuUHJlcGFyZURlZmluZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPWUuYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyO3QuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSEhKHImJnIuaXNFbmFibGVkKX0saS5QcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7aWYoYT09PXZvaWQgMCYmKGE9ITEpLHM9PT12b2lkIDAmJihzPSEwKSxvPT09dm9pZCAwJiYobz0hMCksIXQuX2FyZUF0dHJpYnV0ZXNEaXJ0eSYmdC5fbmVlZE5vcm1hbHM9PT10Ll9ub3JtYWxzJiZ0Ll9uZWVkVVZzPT09dC5fdXZzKXJldHVybiExO3QuX25vcm1hbHM9dC5fbmVlZE5vcm1hbHMsdC5fdXZzPXQuX25lZWRVVnMsdC5OT1JNQUw9dC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuTm9ybWFsS2luZCksdC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuVGFuZ2VudEtpbmQpJiYodC5UQU5HRU5UPSEwKTtmb3IodmFyIHU9MTt1PD02OysrdSl0WyJVViIrdV09dC5fbmVlZFVWcz9lLmlzVmVydGljZXNEYXRhUHJlc2VudCgidXYiLmNvbmNhdCh1PT09MT8iIjp1KSk6ITE7aWYocil7dmFyIGY9ZS51c2VWZXJ0ZXhDb2xvcnMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuQ29sb3JLaW5kKTt0LlZFUlRFWENPTE9SPWYsdC5WRVJURVhBTFBIQT1lLmhhc1ZlcnRleEFscGhhJiZmJiZzfXJldHVybiBlLmlzVmVydGljZXNEYXRhUHJlc2VudChiLkNvbG9ySW5zdGFuY2VLaW5kKSYmKHQuSU5TVEFOQ0VTQ09MT1I9ITApLG4mJnRoaXMuUHJlcGFyZURlZmluZXNGb3JCb25lcyhlLHQpLGEmJnRoaXMuUHJlcGFyZURlZmluZXNGb3JNb3JwaFRhcmdldHMoZSx0KSxvJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0KSwhMH0saS5QcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldz1mdW5jdGlvbihlLHQpe2lmKGUuYWN0aXZlQ2FtZXJhKXt2YXIgcj10Lk1VTFRJVklFVzt0Lk1VTFRJVklFVz1lLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQhPT1udWxsJiZlLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQuZ2V0Vmlld0NvdW50KCk+MSx0Lk1VTFRJVklFVyE9ciYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfX0saS5QcmVwYXJlRGVmaW5lc0Zvck9JVD1mdW5jdGlvbihlLHQscil7dmFyIG49dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1ksYT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM7dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZyLHQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUz0hZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nLChuIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1l8fGEhPT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFMpJiZ0Lm1hcmtBc1VucHJvY2Vzc2VkKCl9LGkuUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LlBSRVBBU1M7aWYoISF0Ll9hcmVQcmVQYXNzRGlydHkpe3ZhciBhPVt7dHlwZToxLGRlZmluZToiUFJFUEFTU19QT1NJVElPTiIsaW5kZXg6IlBSRVBBU1NfUE9TSVRJT05fSU5ERVgifSx7dHlwZToyLGRlZmluZToiUFJFUEFTU19WRUxPQ0lUWSIsaW5kZXg6IlBSRVBBU1NfVkVMT0NJVFlfSU5ERVgifSx7dHlwZTozLGRlZmluZToiUFJFUEFTU19SRUZMRUNUSVZJVFkiLGluZGV4OiJQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWCJ9LHt0eXBlOjAsZGVmaW5lOiJQUkVQQVNTX0lSUkFESUFOQ0UiLGluZGV4OiJQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVgifSx7dHlwZTo3LGRlZmluZToiUFJFUEFTU19BTEJFRE9fU1FSVCIsaW5kZXg6IlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVgifSx7dHlwZTo1LGRlZmluZToiUFJFUEFTU19ERVBUSCIsaW5kZXg6IlBSRVBBU1NfREVQVEhfSU5ERVgifSx7dHlwZTo2LGRlZmluZToiUFJFUEFTU19OT1JNQUwiLGluZGV4OiJQUkVQQVNTX05PUk1BTF9JTkRFWCJ9XTtpZihlLnByZVBhc3NSZW5kZXJlciYmZS5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmcil7dC5QUkVQQVNTPSEwLHQuU0NFTkVfTVJUX0NPVU5UPWUucHJlUGFzc1JlbmRlcmVyLm1ydENvdW50O2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbz1lLnByZVBhc3NSZW5kZXJlci5nZXRJbmRleChhW3NdLnR5cGUpO28hPT0tMT8odFthW3NdLmRlZmluZV09ITAsdFthW3NdLmluZGV4XT1vKTp0W2Fbc10uZGVmaW5lXT0hMX19ZWxzZXt0LlBSRVBBU1M9ITE7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspdFthW3NdLmRlZmluZV09ITF9dC5QUkVQQVNTIT1uJiYodC5tYXJrQXNVbnByb2Nlc3NlZCgpLHQubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKSl9fSxpLlByZXBhcmVEZWZpbmVzRm9yTGlnaHQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7c3dpdGNoKG8ubmVlZE5vcm1hbHM9ITAsYVsiTElHSFQiK25dPT09dm9pZCAwJiYoby5uZWVkUmVidWlsZD0hMCksYVsiTElHSFQiK25dPSEwLGFbIlNQT1RMSUdIVCIrbl09ITEsYVsiSEVNSUxJR0hUIituXT0hMSxhWyJQT0lOVExJR0hUIituXT0hMSxhWyJESVJMSUdIVCIrbl09ITEsci5wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXMoYSxuKSxhWyJMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMIituXT0hMSxhWyJMSUdIVF9GQUxMT0ZGX0dMVEYiK25dPSExLGFbIkxJR0hUX0ZBTExPRkZfU1RBTkRBUkQiK25dPSExLHIuZmFsbG9mZlR5cGUpe2Nhc2UgS2UuRkFMTE9GRl9HTFRGOmFbIkxJR0hUX0ZBTExPRkZfR0xURiIrbl09ITA7YnJlYWs7Y2FzZSBLZS5GQUxMT0ZGX1BIWVNJQ0FMOmFbIkxJR0hUX0ZBTExPRkZfUEhZU0lDQUwiK25dPSEwO2JyZWFrO2Nhc2UgS2UuRkFMTE9GRl9TVEFOREFSRDphWyJMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEIituXT0hMDticmVha31pZihzJiYhci5zcGVjdWxhci5lcXVhbHNGbG9hdHMoMCwwLDApJiYoby5zcGVjdWxhckVuYWJsZWQ9ITApLGFbIlNIQURPVyIrbl09ITEsYVsiU0hBRE9XQ1NNIituXT0hMSxhWyJTSEFET1dDU01ERUJVRyIrbl09ITEsYVsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIituXT0hMSxhWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIituXT0hMSxhWyJTSEFET1dDU01OT0JMRU5EIituXT0hMSxhWyJTSEFET1dDU01fUklHSFRIQU5ERUQiK25dPSExLGFbIlNIQURPV1BDRiIrbl09ITEsYVsiU0hBRE9XUENTUyIrbl09ITEsYVsiU0hBRE9XUE9JU1NPTiIrbl09ITEsYVsiU0hBRE9XRVNNIituXT0hMSxhWyJTSEFET1dDTE9TRUVTTSIrbl09ITEsYVsiU0hBRE9XQ1VCRSIrbl09ITEsYVsiU0hBRE9XTE9XUVVBTElUWSIrbl09ITEsYVsiU0hBRE9XTUVESVVNUVVBTElUWSIrbl09ITEsdCYmdC5yZWNlaXZlU2hhZG93cyYmZS5zaGFkb3dzRW5hYmxlZCYmci5zaGFkb3dFbmFibGVkKXt2YXIgdT1yLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKHUpe3ZhciBmPXUuZ2V0U2hhZG93TWFwKCk7ZiYmZi5yZW5kZXJMaXN0JiZmLnJlbmRlckxpc3QubGVuZ3RoPjAmJihvLnNoYWRvd0VuYWJsZWQ9ITAsdS5wcmVwYXJlRGVmaW5lcyhhLG4pKX19ci5saWdodG1hcE1vZGUhPUtlLkxJR0hUTUFQX0RFRkFVTFQ/KG8ubGlnaHRtYXBNb2RlPSEwLGFbIkxJR0hUTUFQRVhDTFVERUQiK25dPSEwLGFbIkxJR0hUTUFQTk9TUEVDVUxBUiIrbl09ci5saWdodG1hcE1vZGU9PUtlLkxJR0hUTUFQX1NIQURPV1NPTkxZKTooYVsiTElHSFRNQVBFWENMVURFRCIrbl09ITEsYVsiTElHSFRNQVBOT1NQRUNVTEFSIituXT0hMSl9LGkuUHJlcGFyZURlZmluZXNGb3JMaWdodHM9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2lmKGE9PT12b2lkIDAmJihhPTQpLHM9PT12b2lkIDAmJihzPSExKSwhci5fYXJlTGlnaHRzRGlydHkpcmV0dXJuIHIuX25lZWROb3JtYWxzO3ZhciBvPTAsdT17bmVlZE5vcm1hbHM6ITEsbmVlZFJlYnVpbGQ6ITEsbGlnaHRtYXBNb2RlOiExLHNoYWRvd0VuYWJsZWQ6ITEsc3BlY3VsYXJFbmFibGVkOiExfTtpZihlLmxpZ2h0c0VuYWJsZWQmJiFzKWZvcih2YXIgZj0wLGw9dC5saWdodFNvdXJjZXM7ZjxsLmxlbmd0aDtmKyspe3ZhciBoPWxbZl07aWYodGhpcy5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0KGUsdCxoLG8scixuLHUpLG8rKyxvPT09YSlicmVha31yLlNQRUNVTEFSVEVSTT11LnNwZWN1bGFyRW5hYmxlZCxyLlNIQURPV1M9dS5zaGFkb3dFbmFibGVkO2Zvcih2YXIgYz1vO2M8YTtjKyspclsiTElHSFQiK2NdIT09dm9pZCAwJiYoclsiTElHSFQiK2NdPSExLHJbIkhFTUlMSUdIVCIrY109ITEsclsiUE9JTlRMSUdIVCIrY109ITEsclsiRElSTElHSFQiK2NdPSExLHJbIlNQT1RMSUdIVCIrY109ITEsclsiU0hBRE9XIitjXT0hMSxyWyJTSEFET1dDU00iK2NdPSExLHJbIlNIQURPV0NTTURFQlVHIitjXT0hMSxyWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK2NdPSExLHJbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK2NdPSExLHJbIlNIQURPV0NTTU5PQkxFTkQiK2NdPSExLHJbIlNIQURPV0NTTV9SSUdIVEhBTkRFRCIrY109ITEsclsiU0hBRE9XUENGIitjXT0hMSxyWyJTSEFET1dQQ1NTIitjXT0hMSxyWyJTSEFET1dQT0lTU09OIitjXT0hMSxyWyJTSEFET1dFU00iK2NdPSExLHJbIlNIQURPV0NMT1NFRVNNIitjXT0hMSxyWyJTSEFET1dDVUJFIitjXT0hMSxyWyJTSEFET1dMT1dRVUFMSVRZIitjXT0hMSxyWyJTSEFET1dNRURJVU1RVUFMSVRZIitjXT0hMSk7dmFyIGQ9ZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7cmV0dXJuIHIuU0hBRE9XRkxPQVQ9PT12b2lkIDAmJih1Lm5lZWRSZWJ1aWxkPSEwKSxyLlNIQURPV0ZMT0FUPXUuc2hhZG93RW5hYmxlZCYmKGQudGV4dHVyZUZsb2F0UmVuZGVyJiZkLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8ZC50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZkLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpLHIuTElHSFRNQVBFWENMVURFRD11LmxpZ2h0bWFwTW9kZSx1Lm5lZWRSZWJ1aWxkJiZyLnJlYnVpbGQoKSx1Lm5lZWROb3JtYWxzfSxpLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPSExKSxhJiZhLnB1c2goIkxpZ2h0IitlKSwhcyYmKHQucHVzaCgidkxpZ2h0RGF0YSIrZSwidkxpZ2h0RGlmZnVzZSIrZSwidkxpZ2h0U3BlY3VsYXIiK2UsInZMaWdodERpcmVjdGlvbiIrZSwidkxpZ2h0RmFsbG9mZiIrZSwidkxpZ2h0R3JvdW5kIitlLCJsaWdodE1hdHJpeCIrZSwic2hhZG93c0luZm8iK2UsImRlcHRoVmFsdWVzIitlKSxyLnB1c2goInNoYWRvd1NhbXBsZXIiK2UpLHIucHVzaCgiZGVwdGhTYW1wbGVyIitlKSx0LnB1c2goInZpZXdGcnVzdHVtWiIrZSwiY2FzY2FkZUJsZW5kRmFjdG9yIitlLCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK2UsImRlcHRoQ29ycmVjdGlvbiIrZSwicGVudW1icmFEYXJrbmVzcyIrZSwiZnJ1c3R1bUxlbmd0aHMiK2UpLG4mJihyLnB1c2goInByb2plY3Rpb25MaWdodFNhbXBsZXIiK2UpLHQucHVzaCgidGV4dHVyZVByb2plY3Rpb25NYXRyaXgiK2UpKSl9LGkuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0PWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPTQpO3ZhciBhLHM9bnVsbDtpZihlLnVuaWZvcm1zTmFtZXMpe3ZhciBvPWU7YT1vLnVuaWZvcm1zTmFtZXMscz1vLnVuaWZvcm1CdWZmZXJzTmFtZXMsdD1vLnNhbXBsZXJzLHI9by5kZWZpbmVzLG49by5tYXhTaW11bHRhbmVvdXNMaWdodHN8fDB9ZWxzZSBhPWUsdHx8KHQ9W10pO2Zvcih2YXIgdT0wO3U8biYmclsiTElHSFQiK3VdO3UrKyl0aGlzLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzRm9yTGlnaHQodSxhLHQsclsiUFJPSkVDVEVETElHSFRURVhUVVJFIit1XSxzKTtyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmYS5wdXNoKCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiKSxyLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmKGEucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncyIpLGEucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkIiksYS5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRpbWUiKSx0LnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSIpKX0saS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPTQpLG49PT12b2lkIDAmJihuPTApO2Zvcih2YXIgYT0wLHM9MDtzPHImJmVbIkxJR0hUIitzXTtzKyspcz4wJiYoYT1uK3MsdC5hZGRGYWxsYmFjayhhLCJMSUdIVCIrcykpLGUuU0hBRE9XU3x8KGVbIlNIQURPVyIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XIitzKSxlWyJTSEFET1dQQ0YiK3NdJiZ0LmFkZEZhbGxiYWNrKG4sIlNIQURPV1BDRiIrcyksZVsiU0hBRE9XUENTUyIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XUENTUyIrcyksZVsiU0hBRE9XUE9JU1NPTiIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XUE9JU1NPTiIrcyksZVsiU0hBRE9XRVNNIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1dFU00iK3MpLGVbIlNIQURPV0NMT1NFRVNNIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1dDTE9TRUVTTSIrcykpO3JldHVybiBhKyt9LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2Vycz1mdW5jdGlvbihlLHQscil7dGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9cix0aGlzLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGUsdCx0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzKX0saS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cz1mdW5jdGlvbihlLHQscil7dmFyIG49ci5OVU1fTU9SUEhfSU5GTFVFTkNFUlM7aWYobj4wJiZKLkxhc3RDcmVhdGVkRW5naW5lKXt2YXIgYT1KLkxhc3RDcmVhdGVkRW5naW5lLmdldENhcHMoKS5tYXhWZXJ0ZXhBdHRyaWJzLHM9dC5tb3JwaFRhcmdldE1hbmFnZXI7aWYocz09bnVsbD92b2lkIDA6cy5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2Zvcih2YXIgbz1zJiZzLnN1cHBvcnRzTm9ybWFscyYmci5OT1JNQUwsdT1zJiZzLnN1cHBvcnRzVGFuZ2VudHMmJnIuVEFOR0VOVCxmPXMmJnMuc3VwcG9ydHNVVnMmJnIuVVYxLGw9MDtsPG47bCsrKWUucHVzaChiLlBvc2l0aW9uS2luZCtsKSxvJiZlLnB1c2goYi5Ob3JtYWxLaW5kK2wpLHUmJmUucHVzaChiLlRhbmdlbnRLaW5kK2wpLGYmJmUucHVzaChiLlVWS2luZCsiXyIrbCksZS5sZW5ndGg+YSYmei5FcnJvcigiQ2Fubm90IGFkZCBtb3JlIHZlcnRleCBhdHRyaWJ1dGVzIGZvciBtZXNoICIrdC5uYW1lKX19LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbj1mdW5jdGlvbihlLHQscil7dmFyIG49ci5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJnIuSU5TVEFOQ0VTO24mJmUucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZCIpfSxpLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXM9ZnVuY3Rpb24oZSx0LHIsbil7ci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz4wJiYobi5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsdCksZS5wdXNoKGIuTWF0cmljZXNJbmRpY2VzS2luZCksZS5wdXNoKGIuTWF0cmljZXNXZWlnaHRzS2luZCksci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz40JiYoZS5wdXNoKGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxlLnB1c2goYi5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKSl9LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXM9ZnVuY3Rpb24oZSx0KXsodC5JTlNUQU5DRVN8fHQuVEhJTl9JTlNUQU5DRVMpJiZ0aGlzLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsISF0LlBSRVBBU1NfVkVMT0NJVFkpfSxpLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpLGUucHVzaCgid29ybGQwIiksZS5wdXNoKCJ3b3JsZDEiKSxlLnB1c2goIndvcmxkMiIpLGUucHVzaCgid29ybGQzIiksdCYmKGUucHVzaCgicHJldmlvdXNXb3JsZDAiKSxlLnB1c2goInByZXZpb3VzV29ybGQxIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMiIpLGUucHVzaCgicHJldmlvdXNXb3JsZDMiKSl9LGkuQmluZExpZ2h0UHJvcGVydGllcz1mdW5jdGlvbihlLHQscil7ZS50cmFuc2ZlclRvRWZmZWN0KHQscisiIil9LGkuQmluZExpZ2h0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0hMCksZS5fYmluZExpZ2h0KHQscixuLGEscyl9LGkuQmluZExpZ2h0cz1mdW5jdGlvbihlLHQscixuLGEpe2E9PT12b2lkIDAmJihhPTQpO2Zvcih2YXIgcz1NYXRoLm1pbih0LmxpZ2h0U291cmNlcy5sZW5ndGgsYSksbz0wO288cztvKyspe3ZhciB1PXQubGlnaHRTb3VyY2VzW29dO3RoaXMuQmluZExpZ2h0KHUsbyxlLHIsdHlwZW9mIG49PSJib29sZWFuIj9uOm4uU1BFQ1VMQVJURVJNLHQucmVjZWl2ZVNoYWRvd3MpfX0saS5CaW5kRm9nUGFyYW1ldGVycz1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0hMSksZS5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZlLmZvZ01vZGUhPT1FZS5GT0dNT0RFX05PTkUmJihyLnNldEZsb2F0NCgidkZvZ0luZm9zIixlLmZvZ01vZGUsZS5mb2dTdGFydCxlLmZvZ0VuZCxlLmZvZ0RlbnNpdHkpLG4/KGUuZm9nQ29sb3IudG9MaW5lYXJTcGFjZVRvUmVmKHRoaXMuX3RlbXBGb2dDb2xvciksci5zZXRDb2xvcjMoInZGb2dDb2xvciIsdGhpcy5fdGVtcEZvZ0NvbG9yKSk6ci5zZXRDb2xvcjMoInZGb2dDb2xvciIsZS5mb2dDb2xvcikpfSxpLkJpbmRCb25lc1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0LHIpe2lmKCEoIXR8fCFlKSYmKGUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFUmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSksZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pKXt2YXIgbj1lLnNrZWxldG9uO2lmKG4uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmdC5nZXRVbmlmb3JtSW5kZXgoImJvbmVUZXh0dXJlV2lkdGgiKT4tMSl7dmFyIGE9bi5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGUpO3Quc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLGEpLHQuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKG4uYm9uZXMubGVuZ3RoKzEpKX1lbHNle3ZhciBzPW4uZ2V0VHJhbnNmb3JtTWF0cmljZXMoZSk7cyYmKHQuc2V0TWF0cmljZXMoIm1Cb25lcyIscyksciYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlciYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSYmKHIucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXXx8KHIucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXT1zLnNsaWNlKCkpLHQuc2V0TWF0cmljZXMoIm1QcmV2aW91c0JvbmVzIixyLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pLGkuX0NvcHlCb25lc1RyYW5zZm9ybWF0aW9uTWF0cmljZXMocyxyLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pKSl9fX0saS5fQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcz1mdW5jdGlvbihlLHQpe3JldHVybiB0LnNldChlKSx0fSxpLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1vcnBoVGFyZ2V0TWFuYWdlcjshZXx8IXJ8fHQuc2V0RmxvYXRBcnJheSgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixyLmluZmx1ZW5jZXMpfSxpLkJpbmRMb2dEZXB0aD1mdW5jdGlvbihlLHQscil7aWYoIWV8fGUuTE9HQVJJVEhNSUNERVBUSCl7dmFyIG49ci5hY3RpdmVDYW1lcmE7bi5tb2RlPT09Q2UuT1JUSE9HUkFQSElDX0NBTUVSQSYmei5FcnJvcigiTG9nYXJpdGhtaWMgZGVwdGggaXMgbm90IGNvbXBhdGlibGUgd2l0aCBvcnRob2dyYXBoaWMgY2FtZXJhcyEiLDIwKSx0LnNldEZsb2F0KCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLDIvKE1hdGgubG9nKG4ubWF4WisxKS9NYXRoLkxOMikpfX0saS5CaW5kQ2xpcFBsYW5lPWZ1bmN0aW9uKGUsdCl7Q2EuQmluZENsaXBQbGFuZShlLHQpfSxpLl9UbXBNb3JwaEluZmx1ZW5jZXJzPXtOVU1fTU9SUEhfSU5GTFVFTkNFUlM6MH0saS5fdGVtcEZvZ0NvbG9yPXBlLkJsYWNrKCksaX0oKSxEYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnJlc2V0KCl9cmV0dXJuIGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExLHRoaXMubWFzaz0yNTUsdGhpcy5mdW5jPTUxOSx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9NzY4MCx0aGlzLm9wRGVwdGhGYWlsPTc2ODAsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9NzY4MX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jUmVmIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bmNSZWZ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jUmVmPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jTWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Z1bmNNYXNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcERlcHRoRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcERlcHRoRmFpbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wRGVwdGhGYWlsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9lbmFibGVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdGVyaWFsU3RlbmNpbFN0YXRlIn0saS5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKGUpe1kuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gZX0sdGhpcyl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBZLlNlcmlhbGl6ZSh0aGlzKX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7WS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBufSxlLHQscil9LFQoW1AoKV0saS5wcm90b3R5cGUsImZ1bmMiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsImZ1bmNSZWYiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsImZ1bmNNYXNrIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJvcERlcHRoRmFpbCIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwib3BTdGVuY2lsRGVwdGhQYXNzIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJtYXNrIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJlbmFibGVkIixudWxsKSxpfSgpLFJlOyhmdW5jdGlvbihpKXtpW2kuQ3JlYXRlZD0xXT0iQ3JlYXRlZCIsaVtpLkRpc3Bvc2VkPTJdPSJEaXNwb3NlZCIsaVtpLkdldERlZmluZU5hbWVzPTRdPSJHZXREZWZpbmVOYW1lcyIsaVtpLlByZXBhcmVVbmlmb3JtQnVmZmVyPThdPSJQcmVwYXJlVW5pZm9ybUJ1ZmZlciIsaVtpLklzUmVhZHlGb3JTdWJNZXNoPTE2XT0iSXNSZWFkeUZvclN1Yk1lc2giLGlbaS5QcmVwYXJlRGVmaW5lcz0zMl09IlByZXBhcmVEZWZpbmVzIixpW2kuQmluZEZvclN1Yk1lc2g9NjRdPSJCaW5kRm9yU3ViTWVzaCIsaVtpLlByZXBhcmVFZmZlY3Q9MTI4XT0iUHJlcGFyZUVmZmVjdCIsaVtpLkdldEFuaW1hdGFibGVzPTI1Nl09IkdldEFuaW1hdGFibGVzIixpW2kuR2V0QWN0aXZlVGV4dHVyZXM9NTEyXT0iR2V0QWN0aXZlVGV4dHVyZXMiLGlbaS5IYXNUZXh0dXJlPTEwMjRdPSJIYXNUZXh0dXJlIixpW2kuRmlsbFJlbmRlclRhcmdldFRleHR1cmVzPTIwNDhdPSJGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGlbaS5IYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz00MDk2XT0iSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGlbaS5IYXJkQmluZEZvclN1Yk1lc2g9ODE5Ml09IkhhcmRCaW5kRm9yU3ViTWVzaCJ9KShSZXx8KFJlPXt9KSk7dmFyIERlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5zaGFkb3dEZXB0aFdyYXBwZXI9bnVsbCx0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMSx0aGlzLnN0YXRlPSIiLHRoaXMuX2FscGhhPTEsdGhpcy5fYmFja0ZhY2VDdWxsaW5nPSEwLHRoaXMuX2N1bGxCYWNrRmFjZXM9ITAsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz1udWxsLHRoaXMuZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz0hMSx0aGlzLmFuaW1hdGlvbnM9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IE8sdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl9vbkJpbmRPYnNlcnZlcj1udWxsLHRoaXMuX2FscGhhTW9kZT0yLHRoaXMuX25lZWREZXB0aFByZVBhc3M9ITEsdGhpcy5kaXNhYmxlRGVwdGhXcml0ZT0hMSx0aGlzLmRpc2FibGVDb2xvcldyaXRlPSExLHRoaXMuZm9yY2VEZXB0aFdyaXRlPSExLHRoaXMuZGVwdGhGdW5jdGlvbj0wLHRoaXMuc2VwYXJhdGVDdWxsaW5nUGFzcz0hMSx0aGlzLl9mb2dFbmFibGVkPSEwLHRoaXMucG9pbnRTaXplPTEsdGhpcy56T2Zmc2V0PTAsdGhpcy56T2Zmc2V0VW5pdHM9MCx0aGlzLnN0ZW5jaWw9bmV3IERhLHRoaXMuX3VzZVVCTz0hMSx0aGlzLl9maWxsTW9kZT1pLlRyaWFuZ2xlRmlsbE1vZGUsdGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZT0hMSx0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9MCx0aGlzLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMSx0aGlzLl9ldmVudEluZm89e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbigpe30sdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ITEsdGhpcy5fdHJhbnNwYXJlbmN5TW9kZT1udWxsLHRoaXMubmFtZT1lO3ZhciBuPXR8fEouTGFzdENyZWF0ZWRTY2VuZTshbnx8KHRoaXMuX3NjZW5lPW4sdGhpcy5fZGlydHlDYWxsYmFja3M9e30sdGhpcy5fZGlydHlDYWxsYmFja3NbMV09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzJdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbNF09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbOF09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMTZdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzMyXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNQcmVQYXNzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s2M109dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzQWxsRGlydHkuYmluZCh0aGlzKSx0aGlzLmlkPWV8fGllLlJhbmRvbUlkKCksdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX21hdGVyaWFsQ29udGV4dD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jcmVhdGVNYXRlcmlhbENvbnRleHQoKSx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgUXQodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksITEpLHRoaXMuX2RyYXdXcmFwcGVyLm1hdGVyaWFsQ29udGV4dD10aGlzLl9tYXRlcmlhbENvbnRleHQsdGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/dGhpcy5zaWRlT3JpZW50YXRpb249aS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb246dGhpcy5zaWRlT3JpZW50YXRpb249aS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uLHRoaXMuX3VuaWZvcm1CdWZmZXI9bmV3IFRyKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSksdGhpcy5fdXNlVUJPPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHJ8fHRoaXMuX3NjZW5lLmFkZE1hdGVyaWFsKHRoaXMpLHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmKHRoaXMubWVzaE1hcD17fSksaS5PbkV2ZW50T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyxSZS5DcmVhdGVkKSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY2FuUmVuZGVyVG9NUlQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFscGhhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYWxwaGEhPT1lJiYodGhpcy5fYWxwaGE9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuTWlzY0RpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYmFja0ZhY2VDdWxsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JhY2tGYWNlQ3VsbGluZ30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JhY2tGYWNlQ3VsbGluZyE9PWUmJih0aGlzLl9iYWNrRmFjZUN1bGxpbmc9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuVGV4dHVyZURpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VsbEJhY2tGYWNlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdWxsQmFja0ZhY2VzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY3VsbEJhY2tGYWNlcyE9PWUmJih0aGlzLl9jdWxsQmFja0ZhY2VzPWUsdGhpcy5tYXJrQXNEaXJ0eShpLlRleHR1cmVEaXJ0eUZsYWcpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhhc1JlbmRlclRhcmdldFRleHR1cmVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkRpc3Bvc2UiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkJpbmRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQmluZE9ic2VydmFibGV8fCh0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25CaW5kIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uQmluZE9ic2VydmVyJiZ0aGlzLm9uQmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmluZE9ic2VydmVyKSx0aGlzLl9vbkJpbmRPYnNlcnZlcj10aGlzLm9uQmluZE9ic2VydmFibGUuYWRkKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25VbkJpbmRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlfHwodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFscGhhTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYU1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9hbHBoYU1vZGUhPT1lJiYodGhpcy5fYWxwaGFNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShpLlRleHR1cmVEaXJ0eUZsYWcpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5lZWREZXB0aFByZVBhc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVlZERlcHRoUHJlUGFzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX25lZWREZXB0aFByZVBhc3MhPT1lJiYodGhpcy5fbmVlZERlcHRoUHJlUGFzcz1lLHRoaXMuX25lZWREZXB0aFByZVBhc3MmJih0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNQcmVQYXNzQ2FwYWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZm9nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb2dFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZm9nRW5hYmxlZCE9PWUmJih0aGlzLl9mb2dFbmFibGVkPWUsdGhpcy5tYXJrQXNEaXJ0eShpLk1pc2NEaXJ0eUZsYWcpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndpcmVmcmFtZSIse2dldDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBpLldpcmVGcmFtZUZpbGxNb2RlOmNhc2UgaS5MaW5lTGlzdERyYXdNb2RlOmNhc2UgaS5MaW5lTG9vcERyYXdNb2RlOmNhc2UgaS5MaW5lU3RyaXBEcmF3TW9kZTpyZXR1cm4hMH1yZXR1cm4gdGhpcy5fc2NlbmUuZm9yY2VXaXJlZnJhbWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZpbGxNb2RlPWU/aS5XaXJlRnJhbWVGaWxsTW9kZTppLlRyaWFuZ2xlRmlsbE1vZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwb2ludHNDbG91ZCIse2dldDpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBpLlBvaW50RmlsbE1vZGU6Y2FzZSBpLlBvaW50TGlzdERyYXdNb2RlOnJldHVybiEwfXJldHVybiB0aGlzLl9zY2VuZS5mb3JjZVBvaW50c0Nsb3VkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5maWxsTW9kZT1lP2kuUG9pbnRGaWxsTW9kZTppLlRyaWFuZ2xlRmlsbE1vZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmaWxsTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxsTW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2ZpbGxNb2RlIT09ZSYmKHRoaXMuX2ZpbGxNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShpLk1pc2NEaXJ0eUZsYWcpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fZ2V0RHJhd1dyYXBwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXJ9LGkucHJvdG90eXBlLl9zZXREcmF3V3JhcHBlcj1mdW5jdGlvbihlKXt0aGlzLl9kcmF3V3JhcHBlcj1lfSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXt2YXIgdD0iTmFtZTogIit0aGlzLm5hbWU7cmV0dXJuIHR9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJNYXRlcmlhbCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNGcm96ZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja1JlYWR5T25seU9uY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZnJlZXplPWZ1bmN0aW9uKCl7dGhpcy5tYXJrRGlydHkoKSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMH0saS5wcm90b3R5cGUudW5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSExfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuITB9LGkucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10Lm1hdGVyaWFsRGVmaW5lcztyZXR1cm4gbj8odGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPW4sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoKTohMX0saS5wcm90b3R5cGUuZ2V0RWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH0saS5wcm90b3R5cGUuZ2V0U2NlbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NlbmV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidHJhbnNwYXJlbmN5TW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdHJhbnNwYXJlbmN5TW9kZSE9PWUmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPWUsdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ZT09PWkuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJfZGlzYWJsZUFscGhhQmxlbmRpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PWkuTUFURVJJQUxfT1BBUVVFfHx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09aS5NQVRFUklBTF9BTFBIQVRFU1R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUubmVlZEFscGhhQmxlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfSxpLnByb3RvdHlwZS5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nJiZlLnZpc2liaWxpdHk+PTE/ITE6dGhpcy5uZWVkQWxwaGFCbGVuZGluZygpfHxlLnZpc2liaWxpdHk8MXx8ZS5oYXNWZXJ0ZXhBbHBoYX0saS5wcm90b3R5cGUubmVlZEFscGhhVGVzdGluZz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZm9yY2VBbHBoYVRlc3R9LGkucHJvdG90eXBlLl9zaG91bGRUdXJuQWxwaGFUZXN0T249ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpJiZ0aGlzLm5lZWRBbHBoYVRlc3RpbmcoKX0saS5wcm90b3R5cGUuZ2V0QWxwaGFUZXN0VGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxpLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcyx0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKCEhbi5zdWJNZXNoZXMpZm9yKHZhciBhPTAscz1uLnN1Yk1lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLmdldE1hdGVyaWFsKCk9PT10aGlzJiYoIW8uZWZmZWN0fHwoby5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSkpfX19LGkucHJvdG90eXBlLl9wcmVCaW5kPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksbj10PT1udWxsP3RoaXMuc2lkZU9yaWVudGF0aW9uOnQsYT1uPT09aS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb247cmV0dXJuIHIuZW5hYmxlRWZmZWN0KGV8fHRoaXMuX2dldERyYXdXcmFwcGVyKCkpLHIuc2V0U3RhdGUodGhpcy5iYWNrRmFjZUN1bGxpbmcsdGhpcy56T2Zmc2V0LCExLGEsdGhpcy5jdWxsQmFja0ZhY2VzLHRoaXMuc3RlbmNpbCx0aGlzLnpPZmZzZXRVbml0cyksYX0saS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlLHQpe30saS5wcm90b3R5cGUuYnVpbGRVbmlmb3JtTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0aGlzLl9ldmVudEluZm8udWJvPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoUmUuUHJlcGFyZVVuaWZvcm1CdWZmZXIsdGhpcy5fZXZlbnRJbmZvKSxlLmNyZWF0ZSgpLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMH0saS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIuZWZmZWN0OyFufHwodGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9cix0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSl9LGkucHJvdG90eXBlLmJpbmRPbmx5V29ybGRNYXRyaXg9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5iaW5kVmlldz1mdW5jdGlvbihlKXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOmUuc2V0TWF0cml4KCJ2aWV3Iix0aGlzLmdldFNjZW5lKCkuZ2V0Vmlld01hdHJpeCgpKX0saS5wcm90b3R5cGUuYmluZFZpZXdQcm9qZWN0aW9uPWZ1bmN0aW9uKGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6KGUuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxlLnNldE1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFByb2plY3Rpb25NYXRyaXgoKSkpfSxpLnByb3RvdHlwZS5iaW5kRXllUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOnRoaXMuX3NjZW5lLmJpbmRFeWVQb3NpdGlvbihlLHQpfSxpLnByb3RvdHlwZS5fYWZ0ZXJCaW5kPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9bnVsbCksdGhpcy5fc2NlbmUuX2NhY2hlZE1hdGVyaWFsPXRoaXMsdGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvJiZ0JiYodGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSExLEguQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcih0LHRoaXMuZ2V0U2NlbmUoKS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSksdGhpcy5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKSxlP3RoaXMuX3NjZW5lLl9jYWNoZWRWaXNpYmlsaXR5PWUudmlzaWJpbGl0eTp0aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT0xLHRoaXMuX29uQmluZE9ic2VydmFibGUmJmUmJnRoaXMuX29uQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuZGlzYWJsZURlcHRoV3JpdGUpe3ZhciByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZT1yLmdldERlcHRoV3JpdGUoKSxyLnNldERlcHRoV3JpdGUoITEpfWlmKHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUpe3ZhciByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZT1yLmdldENvbG9yV3JpdGUoKSxyLnNldENvbG9yV3JpdGUoITEpfWlmKHRoaXMuZGVwdGhGdW5jdGlvbiE9PTApe3ZhciByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT1yLmdldERlcHRoRnVuY3Rpb24oKXx8MCxyLnNldERlcHRoRnVuY3Rpb24odGhpcy5kZXB0aEZ1bmN0aW9uKX19LGkucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbigpe2lmKHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmRlcHRoRnVuY3Rpb24hPT0wKXt2YXIgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtlLnNldERlcHRoRnVuY3Rpb24odGhpcy5fY2FjaGVkRGVwdGhGdW5jdGlvblN0YXRlKX1pZih0aGlzLmRpc2FibGVEZXB0aFdyaXRlKXt2YXIgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtlLnNldERlcHRoV3JpdGUodGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlKX1pZih0aGlzLmRpc2FibGVDb2xvcldyaXRlKXt2YXIgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtlLnNldENvbG9yV3JpdGUodGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlKX19LGkucHJvdG90eXBlLmdldEFuaW1hdGFibGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5hbmltYXRhYmxlcz1bXSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhSZS5HZXRBbmltYXRhYmxlcyx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5hbmltYXRhYmxlc30saS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFJlLkdldEFjdGl2ZVRleHR1cmVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzfSxpLnByb3RvdHlwZS5oYXNUZXh0dXJlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ldmVudEluZm8uaGFzVGV4dHVyZT0hMSx0aGlzLl9ldmVudEluZm8udGV4dHVyZT1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFJlLkhhc1RleHR1cmUsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaGFzVGV4dHVyZX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLmdldEJpbmRlZE1lc2hlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5tZXNoTWFwKXt2YXIgdD1uZXcgQXJyYXk7Zm9yKHZhciByIGluIHRoaXMubWVzaE1hcCl7dmFyIG49dGhpcy5tZXNoTWFwW3JdO24mJnQucHVzaChuKX1yZXR1cm4gdH1lbHNle3ZhciBhPXRoaXMuX3NjZW5lLm1lc2hlcztyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24ocyl7cmV0dXJuIHMubWF0ZXJpYWw9PT1lfSl9fSxpLnByb3RvdHlwZS5mb3JjZUNvbXBpbGF0aW9uPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMscz1jZSh7Y2xpcFBsYW5lOiExLHVzZUluc3RhbmNlczohMX0sciksbz10aGlzLmdldFNjZW5lKCksdT10aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc7dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExO3ZhciBmPWZ1bmN0aW9uKCl7aWYoISghYS5fc2NlbmV8fCFhLl9zY2VuZS5nZXRFbmdpbmUoKSkpe3ZhciBsPW8uY2xpcFBsYW5lO2lmKHMuY2xpcFBsYW5lJiYoby5jbGlwUGxhbmU9bmV3IFpyKDAsMCwwLDEpKSxhLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXt2YXIgaD0hMCxjPW51bGw7aWYoZS5zdWJNZXNoZXMpe3ZhciBkPW5ldyBtdCgwLDAsMCwwLDAsZSx2b2lkIDAsITEsITEpO2QubWF0ZXJpYWxEZWZpbmVzJiYoZC5tYXRlcmlhbERlZmluZXMuX3JlbmRlcklkPS0xKSxhLmlzUmVhZHlGb3JTdWJNZXNoKGUsZCxzLnVzZUluc3RhbmNlcyl8fChkLmVmZmVjdCYmZC5lZmZlY3QuZ2V0Q29tcGlsYXRpb25FcnJvcigpJiZkLmVmZmVjdC5hbGxGYWxsYmFja3NQcm9jZXNzZWQoKT9jPWQuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKTooaD0hMSxzZXRUaW1lb3V0KGYsMTYpKSl9aCYmKGEuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz11LGMmJm4mJm4oYyksdCYmdChhKSl9ZWxzZSBhLmlzUmVhZHkoKT8oYS5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPXUsdCYmdChhKSk6c2V0VGltZW91dChmLDE2KTtzLmNsaXBQbGFuZSYmKG8uY2xpcFBsYW5lPWwpfX07ZigpfSxpLnByb3RvdHlwZS5mb3JjZUNvbXBpbGF0aW9uQXN5bmM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLGEpe3IuZm9yY2VDb21waWxhdGlvbihlLGZ1bmN0aW9uKCl7bigpfSx0LGZ1bmN0aW9uKHMpe2Eocyl9KX0pfSxpLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbihlKXt0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHwoaS5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aD0wLGUmaS5UZXh0dXJlRGlydHlGbGFnJiZpLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChpLl9UZXh0dXJlRGlydHlDYWxsQmFjayksZSZpLkxpZ2h0RGlydHlGbGFnJiZpLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChpLl9MaWdodHNEaXJ0eUNhbGxCYWNrKSxlJmkuRnJlc25lbERpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fRnJlc25lbERpcnR5Q2FsbEJhY2spLGUmaS5BdHRyaWJ1dGVzRGlydHlGbGFnJiZpLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChpLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrKSxlJmkuTWlzY0RpcnR5RmxhZyYmaS5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goaS5fTWlzY0RpcnR5Q2FsbEJhY2spLGUmaS5QcmVQYXNzRGlydHlGbGFnJiZpLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChpLl9QcmVQYXNzRGlydHlDYWxsQmFjayksaS5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aCYmdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fUnVuRGlydHlDYWxsQmFja3MpLHRoaXMuZ2V0U2NlbmUoKS5yZXNldENhY2hlZE1hdGVyaWFsKCkpfSxpLnByb3RvdHlwZS5yZXNldERyYXdDYWNoZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldFNjZW5lKCkubWVzaGVzLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07aWYoISFuLnN1Yk1lc2hlcylmb3IodmFyIGE9MCxzPW4uc3ViTWVzaGVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uZ2V0TWF0ZXJpYWwoKT09PXRoaXMmJm8ucmVzZXREcmF3Q2FjaGUoKX19fSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHk9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pZm9yKHZhciB0PXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMscj0wLG49dDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZighIWEuc3ViTWVzaGVzKWZvcih2YXIgcz0wLG89YS5zdWJNZXNoZXM7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107aWYoIShhLl9yZW5kZXJJZD09PTB8fHUuZ2V0TWF0ZXJpYWwoKSE9PXRoaXMpKWZvcih2YXIgZj0wLGw9dS5fZHJhd1dyYXBwZXJzO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdOyFofHwhaC5kZWZpbmVzfHwhaC5kZWZpbmVzLm1hcmtBbGxBc0RpcnR5fHx0aGlzLl9tYXRlcmlhbENvbnRleHQ9PT1oLm1hdGVyaWFsQ29udGV4dCYmZShoLmRlZmluZXMpfX19fSxpLnByb3RvdHlwZS5fbWFya1NjZW5lUHJlUGFzc0RpcnR5PWZ1bmN0aW9uKCl7aWYoIXRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pe3ZhciBlPXRoaXMuZ2V0U2NlbmUoKS5lbmFibGVQcmVQYXNzUmVuZGVyZXIoKTtlJiZlLm1hcmtBc0RpcnR5KCl9fSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzQWxsRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9BbGxEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fVGV4dHVyZURpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fRnJlc25lbERpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0ZyZXNuZWxBbmRNaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0xpZ2h0c0RpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fQXR0cmlidXRlRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9NaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNQcmVQYXNzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9NaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLnNldFByZVBhc3NSZW5kZXJlcj1mdW5jdGlvbihlKXtyZXR1cm4hMX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5nZXRTY2VuZSgpO2lmKG4uc3RvcEFuaW1hdGlvbih0aGlzKSxuLmZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKSxuLnJlbW92ZU1hdGVyaWFsKHRoaXMpLHRoaXMuX2V2ZW50SW5mby5mb3JjZURpc3Bvc2VUZXh0dXJlcz10LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFJlLkRpc3Bvc2VkLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgYT10aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7YT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1hdGVyaWFscy5zcGxpY2UoYSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZihyIT09ITApaWYodGhpcy5tZXNoTWFwKWZvcih2YXIgcyBpbiB0aGlzLm1lc2hNYXApe3ZhciBvPXRoaXMubWVzaE1hcFtzXTtvJiYoby5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG8sZSkpfWVsc2UgZm9yKHZhciB1PW4ubWVzaGVzLGY9MCxsPXU7ZjxsLmxlbmd0aDtmKyspe3ZhciBvPWxbZl07by5tYXRlcmlhbD09PXRoaXMmJiFvLnNvdXJjZU1lc2gmJihvLm1hdGVyaWFsPW51bGwsdGhpcy5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QobyxlKSl9dGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksZSYmdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0JiYodGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlc3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LmRpc3Bvc2UoKSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9bnVsbCksdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25CaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSYmdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZS5jbGVhcigpfSxpLnByb3RvdHlwZS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSx0KXtpZihlLmdlb21ldHJ5KXt2YXIgcj1lLmdlb21ldHJ5O2lmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKHZhciBuPTAsYT1lLnN1Yk1lc2hlcztuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtyLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Qocy5lZmZlY3QpLHQmJnMuZWZmZWN0JiZzLmVmZmVjdC5kaXNwb3NlKCl9ZWxzZSByLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KX19LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPVkuU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnN0ZW5jaWw9dGhpcy5zdGVuY2lsLnNlcmlhbGl6ZSgpLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlfSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyKXtpZighZS5jdXN0b21UeXBlKWUuY3VzdG9tVHlwZT0iQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIjtlbHNlIGlmKGUuY3VzdG9tVHlwZT09PSJCQUJZTE9OLlBCUk1hdGVyaWFsIiYmZS5vdmVybG9hZGVkQWxiZWRvJiYoZS5jdXN0b21UeXBlPSJCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsIiwhQkFCWUxPTi5MZWdhY3lQQlJNYXRlcmlhbCkpcmV0dXJuIHouRXJyb3IoIllvdXIgc2NlbmUgaXMgdHJ5aW5nIHRvIGxvYWQgYSBsZWdhY3kgdmVyc2lvbiBvZiB0aGUgUEJSTWF0ZXJpYWwsIHBsZWFzZSwgaW5jbHVkZSBpdCBmcm9tIHRoZSBtYXRlcmlhbHMgbGlicmFyeS4iKSxudWxsO3ZhciBuPWllLkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSksYT1uLlBhcnNlKGUsdCxyKTtyZXR1cm4gYS5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxhfSxpLlRyaWFuZ2xlRmlsbE1vZGU9MCxpLldpcmVGcmFtZUZpbGxNb2RlPTEsaS5Qb2ludEZpbGxNb2RlPTIsaS5Qb2ludExpc3REcmF3TW9kZT0zLGkuTGluZUxpc3REcmF3TW9kZT00LGkuTGluZUxvb3BEcmF3TW9kZT01LGkuTGluZVN0cmlwRHJhd01vZGU9NixpLlRyaWFuZ2xlU3RyaXBEcmF3TW9kZT03LGkuVHJpYW5nbGVGYW5EcmF3TW9kZT04LGkuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTAsaS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTEsaS5UZXh0dXJlRGlydHlGbGFnPTEsaS5MaWdodERpcnR5RmxhZz0yLGkuRnJlc25lbERpcnR5RmxhZz00LGkuQXR0cmlidXRlc0RpcnR5RmxhZz04LGkuTWlzY0RpcnR5RmxhZz0xNixpLlByZVBhc3NEaXJ0eUZsYWc9MzIsaS5BbGxEaXJ0eUZsYWc9NjMsaS5NQVRFUklBTF9PUEFRVUU9MCxpLk1BVEVSSUFMX0FMUEhBVEVTVD0xLGkuTUFURVJJQUxfQUxQSEFCTEVORD0yLGkuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQ9MyxpLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VUPTAsaS5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9STk09MSxpLk9uRXZlbnRPYnNlcnZhYmxlPW5ldyBPLGkuX0FsbERpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FsbEFzRGlydHkoKX0saS5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpfSxpLl9UZXh0dXJlRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNUZXh0dXJlc0RpcnR5KCl9LGkuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc0ZyZXNuZWxEaXJ0eSgpfSxpLl9NaXNjRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNNaXNjRGlydHkoKX0saS5fUHJlUGFzc0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzUHJlUGFzc0RpcnR5KCl9LGkuX0xpZ2h0c0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzTGlnaHREaXJ0eSgpfSxpLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxpLl9GcmVzbmVsQW5kTWlzY0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7aS5fRnJlc25lbERpcnR5Q2FsbEJhY2soZSksaS5fTWlzY0RpcnR5Q2FsbEJhY2soZSl9LGkuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtpLl9UZXh0dXJlRGlydHlDYWxsQmFjayhlKSxpLl9NaXNjRGlydHlDYWxsQmFjayhlKX0saS5fRGlydHlDYWxsYmFja0FycmF5PVtdLGkuX1J1bkRpcnR5Q2FsbEJhY2tzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9aS5fRGlydHlDYWxsYmFja0FycmF5O3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24oZSl9fSxUKFtQKCldLGkucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJjaGVja1JlYWR5T25seU9uY2UiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksVChbUCgiYWxwaGEiKV0saS5wcm90b3R5cGUsIl9hbHBoYSIsdm9pZCAwKSxUKFtQKCJiYWNrRmFjZUN1bGxpbmciKV0saS5wcm90b3R5cGUsIl9iYWNrRmFjZUN1bGxpbmciLHZvaWQgMCksVChbUCgiY3VsbEJhY2tGYWNlcyIpXSxpLnByb3RvdHlwZSwiX2N1bGxCYWNrRmFjZXMiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic2lkZU9yaWVudGF0aW9uIix2b2lkIDApLFQoW1AoImFscGhhTW9kZSIpXSxpLnByb3RvdHlwZSwiX2FscGhhTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbmVlZERlcHRoUHJlUGFzcyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJkaXNhYmxlRGVwdGhXcml0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJkaXNhYmxlQ29sb3JXcml0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJmb3JjZURlcHRoV3JpdGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZGVwdGhGdW5jdGlvbiIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJzZXBhcmF0ZUN1bGxpbmdQYXNzIix2b2lkIDApLFQoW1AoImZvZ0VuYWJsZWQiKV0saS5wcm90b3R5cGUsIl9mb2dFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInBvaW50U2l6ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ6T2Zmc2V0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInpPZmZzZXRVbml0cyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJwb2ludHNDbG91ZCIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwiZmlsbE1vZGUiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsInRyYW5zcGFyZW5jeU1vZGUiLG51bGwpLGl9KCksaWk9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIsITApfHx0aGlzO3JldHVybiBuLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPVtdLG4uZ2V0U2NlbmUoKS5tdWx0aU1hdGVyaWFscy5wdXNoKG4pLG4uc3ViTWF0ZXJpYWxzPW5ldyBBcnJheSxuLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSEwLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic3ViTWF0ZXJpYWxzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1Yk1hdGVyaWFsc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3N1Yk1hdGVyaWFscz10LHRoaXMuX2hvb2tBcnJheSh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN1Yk1hdGVyaWFsc30sZS5wcm90b3R5cGUuX2hvb2tBcnJheT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dC5wdXNoO3QucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgcz1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKylzW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1uLmFwcGx5KHQscyk7cmV0dXJuIHIuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSx1fTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1PWEuYXBwbHkodCxbcyxvXSk7cmV0dXJuIHIuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSx1fX0sZS5wcm90b3R5cGUuZ2V0U3ViTWF0ZXJpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MHx8dD49dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoP3RoaXMuZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6dGhpcy5zdWJNYXRlcmlhbHNbdF19LGUucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9aS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXMuY2FsbCh0aGlzKSkuY29uY2F0LmFwcGx5KHQsdGhpcy5zdWJNYXRlcmlhbHMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByP3IuZ2V0QWN0aXZlVGV4dHVyZXMoKTpbXX0pKX0sZS5wcm90b3R5cGUuaGFzVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgcjtpZihpLnByb3RvdHlwZS5oYXNUZXh0dXJlLmNhbGwodGhpcyx0KSlyZXR1cm4hMDtmb3IodmFyIG49MDtuPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtuKyspaWYoKHI9dGhpcy5zdWJNYXRlcmlhbHNbbl0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5oYXNUZXh0dXJlKHQpKXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTXVsdGlNYXRlcmlhbCJ9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGE9MDthPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDthKyspe3ZhciBzPXRoaXMuc3ViTWF0ZXJpYWxzW2FdO2lmKHMpe2lmKHMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFzLmlzUmVhZHlGb3JTdWJNZXNoKHQscixuKSlyZXR1cm4hMTtjb250aW51ZX1pZighcy5pc1JlYWR5KHQpKXJldHVybiExfX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49bmV3IGUodCx0aGlzLmdldFNjZW5lKCkpLGE9MDthPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDthKyspe3ZhciBzPW51bGwsbz10aGlzLnN1Yk1hdGVyaWFsc1thXTtyJiZvP3M9by5jbG9uZSh0KyItIitvLm5hbWUpOnM9dGhpcy5zdWJNYXRlcmlhbHNbYV0sbi5zdWJNYXRlcmlhbHMucHVzaChzKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9e307dC5uYW1lPXRoaXMubmFtZSx0LmlkPXRoaXMuaWQsdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHNlJiYodC50YWdzPXNlLkdldFRhZ3ModGhpcykpLHQubWF0ZXJpYWxzVW5pcXVlSWRzPVtdLHQubWF0ZXJpYWxzPVtdO2Zvcih2YXIgcj0wO3I8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3IrKyl7dmFyIG49dGhpcy5zdWJNYXRlcmlhbHNbcl07bj8odC5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChuLnVuaXF1ZUlkKSx0Lm1hdGVyaWFscy5wdXNoKG4uaWQpKToodC5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChudWxsKSx0Lm1hdGVyaWFscy5wdXNoKG51bGwpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5nZXRTY2VuZSgpO2lmKCEhYSl7aWYobilmb3IodmFyIG89MDtvPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtvKyspe3ZhciBzPXRoaXMuc3ViTWF0ZXJpYWxzW29dO3MmJnMuZGlzcG9zZSh0LHIpfXZhciBvPWEubXVsdGlNYXRlcmlhbHMuaW5kZXhPZih0aGlzKTtvPj0wJiZhLm11bHRpTWF0ZXJpYWxzLnNwbGljZShvLDEpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9fSxlLlBhcnNlTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0LHIpe3ZhciBuPW5ldyBlKHQubmFtZSxyKTtyZXR1cm4gbi5pZD10LmlkLG4uX2xvYWRlZFVuaXF1ZUlkPXQudW5pcXVlSWQsc2UmJnNlLkFkZFRhZ3NUbyhuLHQudGFncyksdC5tYXRlcmlhbHNVbmlxdWVJZHM/bi5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz10Lm1hdGVyaWFsc1VuaXF1ZUlkczp0Lm1hdGVyaWFscy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBuLnN1Yk1hdGVyaWFscy5wdXNoKHIuZ2V0TGFzdE1hdGVyaWFsQnlJZChhKSl9KSxufSxlfShEZSk7T2UoIkJBQllMT04uTXVsdGlNYXRlcmlhbCIsaWkpO3ZhciB4YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT1lLHRoaXMubWVzaD10fXJldHVybiBpfSgpLElhPWZ1bmN0aW9uKGkpe2kucHJvdG90eXBlLnNldE1hdGVyaWFsQnlJRD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRNYXRlcmlhbEJ5SWQoZSl9LGkuQ3JlYXRlRGlzYz1pLkNyZWF0ZURpc2N8fGZ1bmN0aW9uKCl7dGhyb3cgVSgiTWVzaEJ1aWxkZXIiKX0saS5DcmVhdGVCb3g9aS5DcmVhdGVCb3h8fGZ1bmN0aW9uKCl7dGhyb3cgVSgiTWVzaEJ1aWxkZXIiKX0saS5DcmVhdGVTcGhlcmU9aS5DcmVhdGVTcGhlcmV8fGZ1bmN0aW9uKCl7dGhyb3cgVSgiTWVzaEJ1aWxkZXIiKX0saS5DcmVhdGVDeWxpbmRlcj1pLkNyZWF0ZUN5bGluZGVyfHxmdW5jdGlvbigpe3Rocm93IFUoIk1lc2hCdWlsZGVyIil9LGkuQ3JlYXRlVG9ydXNLbm90PWkuQ3JlYXRlVG9ydXNLbm90fHxmdW5jdGlvbigpe3Rocm93IFUoIk1lc2hCdWlsZGVyIil9LGkuQ3JlYXRlVG9ydXM9aS5DcmVhdGVUb3J1c3x8ZnVuY3Rpb24oKXt0aHJvdyBVKCJNZXNoQnVpbGRlciIpfSxpLkNyZWF0ZVBsYW5lPWkuQ3JlYXRlUGxhbmV8fGZ1bmN0aW9uKCl7dGhyb3cgVSgiTWVzaEJ1aWxkZXIiKX0saS5DcmVhdGVHcm91bmQ9aS5DcmVhdGVHcm91bmR8fGZ1bmN0aW9uKCl7dGhyb3cgVSgiTWVzaEJ1aWxkZXIiKX0saS5DcmVhdGVUaWxlZEdyb3VuZD1pLkNyZWF0ZVRpbGVkR3JvdW5kfHxmdW5jdGlvbigpe3Rocm93IFUoIk1lc2hCdWlsZGVyIil9LGkuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcD1pLkNyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXB8fGZ1bmN0aW9uKCl7dGhyb3cgVSgiTWVzaEJ1aWxkZXIiKX0saS5DcmVhdGVUdWJlPWkuQ3JlYXRlVHViZXx8ZnVuY3Rpb24oKXt0aHJvdyBVKCJNZXNoQnVpbGRlciIpfSxpLkNyZWF0ZVBvbHloZWRyb249aS5DcmVhdGVQb2x5aGVkcm9ufHxmdW5jdGlvbigpe3Rocm93IFUoIk1lc2hCdWlsZGVyIil9LGkuQ3JlYXRlSWNvU3BoZXJlPWkuQ3JlYXRlSWNvU3BoZXJlfHxmdW5jdGlvbigpe3Rocm93IFUoIk1lc2hCdWlsZGVyIil9LGkuQ3JlYXRlRGVjYWw9aS5DcmVhdGVEZWNhbHx8ZnVuY3Rpb24oKXt0aHJvdyBVKCJNZXNoQnVpbGRlciIpfSxpLkNyZWF0ZUNhcHN1bGU9aS5DcmVhdGVDYXBzdWxlfHxmdW5jdGlvbigpe3Rocm93IFUoIk1lc2hCdWlsZGVyIil9LGkuQ3JlYXRlR29sZGJlcmc9aS5DcmVhdGVHb2xkYmVyZ3x8ZnVuY3Rpb24oKXt0aHJvdyBVKCJNZXNoQnVpbGRlciIpfX0sT2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy52aXNpYmxlSW5zdGFuY2VzPXt9LHRoaXMuYmF0Y2hDYWNoZT1uZXcgcm4sdGhpcy5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlPW5ldyBybix0aGlzLmluc3RhbmNlc0J1ZmZlclNpemU9MzIqMTYqNH1yZXR1cm4gaX0oKSxybj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLm11c3RSZXR1cm49ITEsdGhpcy52aXNpYmxlSW5zdGFuY2VzPW5ldyBBcnJheSx0aGlzLnJlbmRlclNlbGY9bmV3IEFycmF5LHRoaXMuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmc9bmV3IEFycmF5fXJldHVybiBpfSgpLEZhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuaW5zdGFuY2VzQ291bnQ9MCx0aGlzLm1hdHJpeEJ1ZmZlcj1udWxsLHRoaXMucHJldmlvdXNNYXRyaXhCdWZmZXI9bnVsbCx0aGlzLm1hdHJpeEJ1ZmZlclNpemU9MzIqMTYsdGhpcy5tYXRyaXhEYXRhPW51bGwsdGhpcy5ib3VuZGluZ1ZlY3RvcnM9W10sdGhpcy53b3JsZE1hdHJpY2VzPW51bGx9cmV0dXJuIGl9KCksd2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fYXJlTm9ybWFsc0Zyb3plbj0hMSx0aGlzLl9zb3VyY2U9bnVsbCx0aGlzLm1lc2hNYXA9bnVsbCx0aGlzLl9wcmVBY3RpdmF0ZUlkPS0xLHRoaXMuX0xPRExldmVscz1uZXcgQXJyYXksdGhpcy5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U9ITEsdGhpcy5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCx0aGlzLl9mb3JjZWRJbnN0YW5jZUNvdW50PTB9cmV0dXJuIGl9KCksVWU9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzLG8pe3I9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG89PT12b2lkIDAmJihvPSEwKTt2YXIgdT1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO2lmKHUuX2ludGVybmFsTWVzaERhdGFJbmZvPW5ldyB3YSx1LmRlbGF5TG9hZFN0YXRlPTAsdS5pbnN0YW5jZXM9bmV3IEFycmF5LHUuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9bnVsbCx1Ll9nZW9tZXRyeT1udWxsLHUuX2luc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IE9hLHUuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlPW5ldyBGYSx1Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExLHUuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1lLkRFRkFVTFRTSURFLHUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1udWxsLHUuaWdub3JlQ2FtZXJhTWF4Wj0hMSxyPXUuZ2V0U2NlbmUoKSx1Ll9vbkJlZm9yZURyYXc9ZnVuY3Rpb24oZyxtLHYpe2cmJnYmJih1Ll91bmlmb3JtQnVmZmVyP3UudHJhbnNmZXJUb0VmZmVjdChtKTp2LmJpbmRPbmx5V29ybGRNYXRyaXgobSkpfSxhKXtpZihhLl9nZW9tZXRyeSYmYS5fZ2VvbWV0cnkuYXBwbHlUb01lc2godSksR3IuRGVlcENvcHkoYSx1LFsibmFtZSIsIm1hdGVyaWFsIiwic2tlbGV0b24iLCJpbnN0YW5jZXMiLCJwYXJlbnQiLCJ1bmlxdWVJZCIsInNvdXJjZSIsIm1ldGFkYXRhIiwibW9ycGhUYXJnZXRNYW5hZ2VyIiwiaGFzSW5zdGFuY2VzIiwid29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwiaGFzTE9ETGV2ZWxzIiwiZ2VvbWV0cnkiLCJpc0Jsb2NrZWQiLCJhcmVOb3JtYWxzRnJvemVuIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImxpZ2h0U291cmNlcyIsInVzZUJvbmVzIiwiaXNBbkluc3RhbmNlIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJjbG9uZU1lc2hNYXAiLCJoYXNCb3VuZGluZ0luZm8iXSxbIl9wb3NlTWF0cml4Il0pLHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9YSxyLnVzZUNsb25lZE1lc2hNYXAmJihhLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfHwoYS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcD17fSksYS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt1LnVuaXF1ZUlkXT11KSx1Ll9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249YS5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uLHUuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9YS5fY3JlYXRpb25EYXRhU3RvcmFnZSxhLl9yYW5nZXMpe3ZhciBmPWEuX3Jhbmdlcztmb3IodmFyIHQgaW4gZikhZi5oYXNPd25Qcm9wZXJ0eSh0KXx8IWZbdF18fHUuY3JlYXRlQW5pbWF0aW9uUmFuZ2UodCxmW3RdLmZyb20sZlt0XS50byl9aWYoYS5tZXRhZGF0YSYmYS5tZXRhZGF0YS5jbG9uZT91Lm1ldGFkYXRhPWEubWV0YWRhdGEuY2xvbmUoKTp1Lm1ldGFkYXRhPWEubWV0YWRhdGEsc2UmJnNlLkhhc1RhZ3MoYSkmJnNlLkFkZFRhZ3NUbyh1LHNlLkdldFRhZ3MoYSwhMCkpLHUuc2V0RW5hYmxlZChhLmlzRW5hYmxlZCgpKSx1LnBhcmVudD1hLnBhcmVudCx1LnNldFBpdm90TWF0cml4KGEuZ2V0UGl2b3RNYXRyaXgoKSksdS5pZD10KyIuIithLmlkLHUubWF0ZXJpYWw9YS5tYXRlcmlhbCwhcylmb3IodmFyIGw9YS5nZXREZXNjZW5kYW50cyghMCksaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgYz1sW2hdO2MuY2xvbmUmJmMuY2xvbmUodCsiLiIrYy5uYW1lLHUpfWlmKGEubW9ycGhUYXJnZXRNYW5hZ2VyJiYodS5tb3JwaFRhcmdldE1hbmFnZXI9YS5tb3JwaFRhcmdldE1hbmFnZXIpLHIuZ2V0UGh5c2ljc0VuZ2luZSl7dmFyIGQ9ci5nZXRQaHlzaWNzRW5naW5lKCk7aWYobyYmZCl7dmFyIHA9ZC5nZXRJbXBvc3RvckZvclBoeXNpY3NPYmplY3QoYSk7cCYmKHUucGh5c2ljc0ltcG9zdG9yPXAuY2xvbmUodSkpfX1mb3IodmFyIGg9MDtoPHIucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtoKyspe3ZhciBfPXIucGFydGljbGVTeXN0ZW1zW2hdO18uZW1pdHRlcj09PWEmJl8uY2xvbmUoXy5uYW1lLHUpfXUuc2tlbGV0b249YS5za2VsZXRvbix1LnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLHUuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1yZXR1cm4gbiE9PW51bGwmJih1LnBhcmVudD1uKSx1Ll9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPXUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyx1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkPWZ1bmN0aW9uKGcpe2cudW5yZWdpc3Rlck9uTmV4dENhbGw9ITAsdS5pc1JlYWR5KCEwKT91Lm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSk6dS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXJ8fCh1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcj11Ll9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dS5pc1JlYWR5KCEwKSYmKHUuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPW51bGwsdS5vbk1lc2hSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpKX0pKX0sdS5vbk1lc2hSZWFkeU9ic2VydmFibGU9bmV3IE8odS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZCksYSYmYS5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpLHV9cmV0dXJuIGUuX0dldERlZmF1bHRTaWRlT3JpZW50YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHR8fGUuRlJPTlRTSURFfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZUxPRFNjcmVlbkNvdmVyYWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PXQmJih0JiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zJiYodGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucy5zbGljZSgpLCEwKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscyYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzLnNsaWNlKCksITApKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZVJlbmRlck9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZUJpbmRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25BZnRlclJlbmRlck9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQmVmb3JlRHJhd09ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZURyYXciLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXImJnRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyPXRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNJbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNUaGluSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKCh0PXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJnQhPT12b2lkIDA/dDowKT4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yY2VkSW5zdGFuY2VDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZm9yY2VkSW5zdGFuY2VDb3VudH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9mb3JjZWRJbnN0YW5jZUNvdW50PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNsb25lTWVzaE1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNVbkluZGV4ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5JbmRleGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdW5JbmRleGVkIT09dCYmKHRoaXMuX3VuSW5kZXhlZD10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIndvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzRGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNQcmV2aW91c0RhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtYW51YWxVcGRhdGVPZldvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hbnVhbFVwZGF0ZU9mUHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmluc3RhbnRpYXRlSGllcmFyY2h5PWZ1bmN0aW9uKHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT10aGlzLmdldFRvdGFsVmVydGljZXMoKT4wJiYoIXJ8fCFyLmRvTm90SW5zdGFudGlhdGUpP3RoaXMuY3JlYXRlSW5zdGFuY2UoImluc3RhbmNlIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCkpOnRoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksdHx8dGhpcy5wYXJlbnQsITApO2EucGFyZW50PXR8fHRoaXMucGFyZW50LGEucG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLGEuc2NhbGluZz10aGlzLnNjYWxpbmcuY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9hLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpOmEucm90YXRpb249dGhpcy5yb3RhdGlvbi5jbG9uZSgpLG4mJm4odGhpcyxhKTtmb3IodmFyIHM9MCxvPXRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCk7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107dS5pbnN0YW50aWF0ZUhpZXJhcmNoeShhLHIsbil9cmV0dXJuIGF9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJNZXNoIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfaXNNZXNoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9aS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLHQpO2lmKHIrPSIsIG4gdmVydGljZXM6ICIrdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkscis9IiwgcGFyZW50OiAiKyh0aGlzLl93YWl0aW5nUGFyZW50SWQ/dGhpcy5fd2FpdGluZ1BhcmVudElkOnRoaXMucGFyZW50P3RoaXMucGFyZW50Lm5hbWU6Ik5PTkUiKSx0aGlzLmFuaW1hdGlvbnMpZm9yKHZhciBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKylyKz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW25dLnRvU3RyaW5nKHQpO2lmKHQpaWYodGhpcy5fZ2VvbWV0cnkpe3ZhciBhPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQpO3MmJmEmJihyKz0iLCBmbGF0IHNoYWRpbmc6ICIrKHMubGVuZ3RoLzM9PT1hLmxlbmd0aD8iWUVTIjoiTk8iKSl9ZWxzZSByKz0iLCBmbGF0IHNoYWRpbmc6IFVOS05PV04iO3JldHVybiByfSxlLnByb3RvdHlwZS5fdW5CaW5kRWZmZWN0PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX3VuQmluZEVmZmVjdC5jYWxsKHRoaXMpO2Zvcih2YXIgdD0wLHI9dGhpcy5pbnN0YW5jZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fdW5CaW5kRWZmZWN0KCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc0xPRExldmVscyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLmxlbmd0aD4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldExPRExldmVscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzfSxlLnByb3RvdHlwZS5fc29ydExPRExldmVscz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT8tMToxO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMuc29ydChmdW5jdGlvbihyLG4pe3JldHVybiByLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZTxuLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT90OnIuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPm4uZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPy10OjB9KX0sZS5wcm90b3R5cGUuYWRkTE9ETGV2ZWw9ZnVuY3Rpb24odCxyKXtpZihyJiZyLl9tYXN0ZXJNZXNoKXJldHVybiB6Lldhcm4oIllvdSBjYW5ub3QgdXNlIGEgbWVzaCBhcyBMT0QgbGV2ZWwgdHdpY2UiKSx0aGlzO3ZhciBuPW5ldyB4YSh0LHIpO3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnB1c2gobiksciYmKHIuX21hc3Rlck1lc2g9dGhpcyksdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9LGUucHJvdG90eXBlLmdldExPRExldmVsQXREaXN0YW5jZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8sbj0wO248ci5fTE9ETGV2ZWxzLmxlbmd0aDtuKyspe3ZhciBhPXIuX0xPRExldmVsc1tuXTtpZihhLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT09PXQpcmV0dXJuIGEubWVzaH1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucmVtb3ZlTE9ETGV2ZWw9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLG49MDtuPHIuX0xPRExldmVscy5sZW5ndGg7bisrKXIuX0xPRExldmVsc1tuXS5tZXNoPT09dCYmKHIuX0xPRExldmVscy5zcGxpY2UobiwxKSx0JiYodC5fbWFzdGVyTWVzaD1udWxsKSk7cmV0dXJuIHRoaXMuX3NvcnRMT0RMZXZlbHMoKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRMT0Q9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighbi5fTE9ETGV2ZWxzfHxuLl9MT0RMZXZlbHMubGVuZ3RoPT09MClyZXR1cm4gdGhpczt2YXIgYTtpZihyKWE9cjtlbHNle3ZhciBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7YT1zLmJvdW5kaW5nU3BoZXJlfXZhciBvPWEuY2VudGVyV29ybGQuc3VidHJhY3QodC5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCksdT1uLl91c2VMT0RTY3JlZW5Db3ZlcmFnZSxmPW8sbD0xO2lmKHUpe3ZhciBoPXQuc2NyZWVuQXJlYSxjPWEucmFkaXVzV29ybGQqdC5taW5aL287Yz1jKmMqTWF0aC5QSSxmPWMvaCxsPS0xfWlmKGwqbi5fTE9ETGV2ZWxzW24uX0xPRExldmVscy5sZW5ndGgtMV0uZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPmwqZilyZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24oZix0aGlzLHRoaXMpLHRoaXM7Zm9yKHZhciBkPTA7ZDxuLl9MT0RMZXZlbHMubGVuZ3RoO2QrKyl7dmFyIHA9bi5fTE9ETGV2ZWxzW2RdO2lmKGwqcC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U8bCpmKXtpZihwLm1lc2gpe2lmKHAubWVzaC5kZWxheUxvYWRTdGF0ZT09PTQpcmV0dXJuIHAubWVzaC5fY2hlY2tEZWxheVN0YXRlKCksdGhpcztpZihwLm1lc2guZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiB0aGlzO3AubWVzaC5fcHJlQWN0aXZhdGUoKSxwLm1lc2guX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24oZix0aGlzLHAubWVzaCkscC5tZXNofX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24oZix0aGlzLHRoaXMpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZ2VvbWV0cnkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeT09PW51bGx8fHRoaXMuX2dlb21ldHJ5PT09dm9pZCAwPzA6dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxWZXJ0aWNlcygpfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHM7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiBudWxsO3ZhciBvPShzPShhPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnZlcnRleEJ1ZmZlcnNbdF0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5nZXRGbG9hdERhdGEodGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxWZXJ0aWNlcygpLG58fHImJnRoaXMuX2dlb21ldHJ5Lm1lc2hlcy5sZW5ndGghPT0xKTtyZXR1cm4gb3x8KG89dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGljZXNEYXRhKHQscixuKSksb30sZS5wcm90b3R5cGUuZ2V0VmVydGV4QnVmZmVyPWZ1bmN0aW9uKHQpe3ZhciByLG47cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyhuPShyPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnZlcnRleEJ1ZmZlcnNbdF0pIT09bnVsbCYmbiE9PXZvaWQgMD9uOnRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcih0KTpudWxsfSxlLnByb3RvdHlwZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQ9ZnVuY3Rpb24odCl7dmFyIHI7cmV0dXJuIHRoaXMuX2dlb21ldHJ5Pygocj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci52ZXJ0ZXhCdWZmZXJzW3RdKSE9PXZvaWQgMHx8dGhpcy5fZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHQpOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZih0KSE9PS0xOiExfSxlLnByb3RvdHlwZS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZT1mdW5jdGlvbih0KXt2YXIgcixuO3JldHVybiB0aGlzLl9nZW9tZXRyeT8oKG49KHI9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudmVydGV4QnVmZmVyc1t0XSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmlzVXBkYXRhYmxlKCkpfHx0aGlzLl9nZW9tZXRyeS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZSh0KTp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YodCkhPT0tMTohMX0sZS5wcm90b3R5cGUuZ2V0VmVydGljZXNEYXRhS2luZHM9ZnVuY3Rpb24oKXtpZighdGhpcy5fZ2VvbWV0cnkpe3ZhciB0PW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZGVsYXlJbmZvJiZ0aGlzLl9kZWxheUluZm8uZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYSl9KSx0fXZhciByPXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YUtpbmRzKCk7aWYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKWZvcih2YXIgbiBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycylyLnB1c2gobik7cmV0dXJuIHJ9LGUucHJvdG90eXBlLmdldFRvdGFsSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5nZXRUb3RhbEluZGljZXMoKTowfSxlLnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldEluZGljZXModCxyKTpbXX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0Jsb2NrZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCE9PW51bGwmJnRoaXMuX21hc3Rlck1lc2ghPT12b2lkIDB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0LHIpe3ZhciBuLGEscyxvLHUsZjtpZih0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhaS5wcm90b3R5cGUuaXNSZWFkeS5jYWxsKHRoaXMsdCkpcmV0dXJuITE7aWYoIXRoaXMuc3ViTWVzaGVzfHx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHwhdClyZXR1cm4hMDt2YXIgbD10aGlzLmdldEVuZ2luZSgpLGg9dGhpcy5nZXRTY2VuZSgpLGM9cnx8bC5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYodGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB8fHRoaXMuaGFzVGhpbkluc3RhbmNlcyk7dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKTt2YXIgZD10aGlzLm1hdGVyaWFsfHxoLmRlZmF1bHRNYXRlcmlhbDtpZihkKXtpZihkLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcih2YXIgcD0wLF89dGhpcy5zdWJNZXNoZXM7cDxfLmxlbmd0aDtwKyspe3ZhciBnPV9bcF0sbT1nLmdldE1hdGVyaWFsKCk7aWYobSl7aWYobS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIW0uaXNSZWFkeUZvclN1Yk1lc2godGhpcyxnLGMpKXJldHVybiExfWVsc2UgaWYoIW0uaXNSZWFkeSh0aGlzLGMpKXJldHVybiExfX1lbHNlIGlmKCFkLmlzUmVhZHkodGhpcyxjKSlyZXR1cm4hMX1mb3IodmFyIHY9bC5jdXJyZW50UmVuZGVyUGFzc0lkLFM9MCxNPXRoaXMubGlnaHRTb3VyY2VzO1M8TS5sZW5ndGg7UysrKXt2YXIgQT1NW1NdLFI9QS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihSJiYoISgobj1SLmdldFNoYWRvd01hcCgpKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4ucmVuZGVyTGlzdCl8fCgoYT1SLmdldFNoYWRvd01hcCgpKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEucmVuZGVyTGlzdCkmJigobz0ocz1SLmdldFNoYWRvd01hcCgpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucmVuZGVyTGlzdCk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmluZGV4T2YodGhpcykpIT09LTEpKXtSLmdldFNoYWRvd01hcCgpJiYobC5jdXJyZW50UmVuZGVyUGFzc0lkPVIuZ2V0U2hhZG93TWFwKCkucmVuZGVyUGFzc0lkKTtmb3IodmFyIHk9MCxDPXRoaXMuc3ViTWVzaGVzO3k8Qy5sZW5ndGg7eSsrKXt2YXIgZz1DW3ldO2lmKCFSLmlzUmVhZHkoZyxjLChmPSh1PWcuZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1Lm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0aGlzKSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6ITEpKXJldHVybiBsLmN1cnJlbnRSZW5kZXJQYXNzSWQ9diwhMX1sLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dn19Zm9yKHZhciB3PTAsRj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzO3c8Ri5sZW5ndGg7dysrKXt2YXIgRD1GW3ddO2lmKEQubWVzaCYmIUQubWVzaC5pc1JlYWR5KGMpKXJldHVybiExfXJldHVybiEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFyZU5vcm1hbHNGcm96ZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZnJlZXplTm9ybWFscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMCx0aGlzfSxlLnByb3RvdHlwZS51bmZyZWV6ZU5vcm1hbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvdmVycmlkZW5JbnN0YW5jZUNvdW50Iix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLHI9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7cmV0dXJuIHQuX3ByZUFjdGl2YXRlSWQ9PT1yP3RoaXM6KHQuX3ByZUFjdGl2YXRlSWQ9cix0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9bnVsbCx0aGlzKX0sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkPXQpLHRoaXN9LGUucHJvdG90eXBlLl9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPXtkZWZhdWx0UmVuZGVySWQ6cixzZWxmRGVmYXVsdFJlbmRlcklkOnRoaXMuX3JlbmRlcklkfSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkIT09dm9pZCAwJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZF09bnVsbCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkPXIsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdPW5ldyBBcnJheSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdLnB1c2godCksdGhpc30sZS5wcm90b3R5cGUuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4LmNhbGwodGhpcyksISF0aGlzLmhhc1RoaW5JbnN0YW5jZXMmJih0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mb3x8dGhpcy50aGluSW5zdGFuY2VSZWZyZXNoQm91bmRpbmdJbmZvKCExKSl9LGUucHJvdG90eXBlLl9wb3N0QWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLmVkZ2VzU2hhcmVXaXRoSW5zdGFuY2VzJiZ0aGlzLmVkZ2VzUmVuZGVyZXImJnRoaXMuZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3JlbmRlcmluZ0dyb3VwJiYodGhpcy5fcmVuZGVyaW5nR3JvdXAuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLmVkZ2VzUmVuZGVyZXIpLHRoaXMuZWRnZXNSZW5kZXJlci5jdXN0b21JbnN0YW5jZXMucHVzaCh0aGlzLmdldFdvcmxkTWF0cml4KCkpKX0sZS5wcm90b3R5cGUucmVmcmVzaEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIpe2lmKHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5oYXNCb3VuZGluZ0luZm8mJnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNMb2NrZWQpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5nZW9tZXRyeT90aGlzLmdlb21ldHJ5LmJvdW5kaW5nQmlhczpudWxsO3JldHVybiB0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YSh0LHIpLG4pLHRoaXN9LGUucHJvdG90eXBlLl9jcmVhdGVHbG9iYWxTdWJNZXNoPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpO2lmKCFyfHwhdGhpcy5nZXRJbmRpY2VzKCkpcmV0dXJuIG51bGw7aWYodGhpcy5zdWJNZXNoZXMmJnRoaXMuc3ViTWVzaGVzLmxlbmd0aD4wKXt2YXIgbj10aGlzLmdldEluZGljZXMoKTtpZighbilyZXR1cm4gbnVsbDt2YXIgYT1uLmxlbmd0aCxzPSExO2lmKHQpcz0hMDtlbHNlIGZvcih2YXIgbz0wLHU9dGhpcy5zdWJNZXNoZXM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107aWYoZi5pbmRleFN0YXJ0K2YuaW5kZXhDb3VudD5hKXtzPSEwO2JyZWFrfWlmKGYudmVydGljZXNTdGFydCtmLnZlcnRpY2VzQ291bnQ+cil7cz0hMDticmVha319aWYoIXMpcmV0dXJuIHRoaXMuc3ViTWVzaGVzWzBdfXJldHVybiB0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSxuZXcgbXQoMCwwLHIsMCx0aGlzLmdldFRvdGFsSW5kaWNlcygpLHRoaXMpfSxlLnByb3RvdHlwZS5zdWJkaXZpZGU9ZnVuY3Rpb24odCl7aWYoISh0PDEpKXtmb3IodmFyIHI9dGhpcy5nZXRUb3RhbEluZGljZXMoKSxuPXIvdHwwLGE9MDtuJTMhPT0wOyluKys7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKHZhciBzPTA7czx0JiYhKGE+PXIpO3MrKyltdC5DcmVhdGVGcm9tSW5kaWNlcygwLGEscz09PXQtMT9yLWE6bix0aGlzKSxhKz1uO3RoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKX19LGUucHJvdG90eXBlLnNldFZlcnRpY2VzRGF0YT1mdW5jdGlvbih0LHIsbixhKXtpZihuPT09dm9pZCAwJiYobj0hMSksdGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKHQscixuLGEpO2Vsc2V7dmFyIHM9bmV3IGxlO3Muc2V0KHIsdCk7dmFyIG89dGhpcy5nZXRTY2VuZSgpO25ldyB5dCh5dC5SYW5kb21JZCgpLG8scyxuLHRoaXMpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5yZW1vdmVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCl7IXRoaXMuX2dlb21ldHJ5fHx0aGlzLl9nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEodCl9LGUucHJvdG90eXBlLm1hcmtWZXJ0aWNlc0RhdGFBc1VwZGF0YWJsZT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSEwKTt2YXIgbj10aGlzLmdldFZlcnRleEJ1ZmZlcih0KTshbnx8bi5pc1VwZGF0YWJsZSgpPT09cnx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEodCx0aGlzLmdldFZlcnRpY2VzRGF0YSh0KSxyKX0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNCdWZmZXI9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9ITApLHRoaXMuX2dlb21ldHJ5fHwodGhpcy5fZ2VvbWV0cnk9eXQuQ3JlYXRlR2VvbWV0cnlGb3JNZXNoKHRoaXMpKSx0aGlzLl9nZW9tZXRyeS5zZXRWZXJ0aWNlc0J1ZmZlcih0LG51bGwsciksdGhpc30sZS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8oYT8odGhpcy5tYWtlR2VvbWV0cnlVbmlxdWUoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YSh0LHIsbiwhMSkpOnRoaXMuX2dlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YSh0LHIsbiksdGhpcyk6dGhpc30sZS5wcm90b3R5cGUudXBkYXRlTWVzaFBvc2l0aW9ucz1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSEwKTt2YXIgbj10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCk7aWYoIW4pcmV0dXJuIHRoaXM7aWYodChuKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCxuLCExLCExKSxyKXt2YXIgYT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCk7aWYoIXMpcmV0dXJuIHRoaXM7bGUuQ29tcHV0ZU5vcm1hbHMobixhLHMpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCxzLCExLCExKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUubWFrZUdlb21ldHJ5VW5pcXVlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzO2lmKHRoaXMuX2dlb21ldHJ5Lm1lc2hlcy5sZW5ndGg9PT0xKXJldHVybiB0aGlzO3ZhciB0PXRoaXMuX2dlb21ldHJ5LHI9dGhpcy5fZ2VvbWV0cnkuY29weSh5dC5SYW5kb21JZCgpKTtyZXR1cm4gdC5yZWxlYXNlRm9yTWVzaCh0aGlzLCEwKSxyLmFwcGx5VG9NZXNoKHRoaXMpLHRoaXN9LGUucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24odCxyLG4pe2lmKHI9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPSExKSx0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRJbmRpY2VzKHQscixuKTtlbHNle3ZhciBhPW5ldyBsZTthLmluZGljZXM9dDt2YXIgcz10aGlzLmdldFNjZW5lKCk7bmV3IHl0KHl0LlJhbmRvbUlkKCkscyxhLG4sdGhpcyl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZUluZGljZXM9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBuPT09dm9pZCAwJiYobj0hMSksdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnVwZGF0ZUluZGljZXModCxyLG4pLHRoaXMpOnRoaXN9LGUucHJvdG90eXBlLnRvTGVmdEhhbmRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudG9MZWZ0SGFuZGVkKCksdGhpcyk6dGhpc30sZS5wcm90b3R5cGUuX2JpbmQ9ZnVuY3Rpb24odCxyLG4pe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpczt2YXIgYT10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQocik7dmFyIHM7aWYodGhpcy5fdW5JbmRleGVkKXM9bnVsbDtlbHNlIHN3aXRjaChuKXtjYXNlIERlLlBvaW50RmlsbE1vZGU6cz1udWxsO2JyZWFrO2Nhc2UgRGUuV2lyZUZyYW1lRmlsbE1vZGU6cz10Ll9nZXRMaW5lc0luZGV4QnVmZmVyKHRoaXMuZ2V0SW5kaWNlcygpLGEpO2JyZWFrO2RlZmF1bHQ6Y2FzZSBEZS5UcmlhbmdsZUZpbGxNb2RlOnM9dGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKTticmVha31yZXR1cm4hdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXM/dGhpcy5fZ2VvbWV0cnkuX2JpbmQocixzKTp0aGlzLl9nZW9tZXRyeS5fYmluZChyLHMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyksdGhpc30sZS5wcm90b3R5cGUuX2RyYXc9ZnVuY3Rpb24odCxyLG4pe2lmKCF0aGlzLl9nZW9tZXRyeXx8IXRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcnMoKXx8IXRoaXMuX3VuSW5kZXhlZCYmIXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCkpcmV0dXJuIHRoaXM7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgYT10aGlzLmdldFNjZW5lKCkscz1hLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLl91bkluZGV4ZWR8fHI9PURlLlBvaW50RmlsbE1vZGU/cy5kcmF3QXJyYXlzVHlwZShyLHQudmVydGljZXNTdGFydCx0LnZlcnRpY2VzQ291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxuKTpyPT1EZS5XaXJlRnJhbWVGaWxsTW9kZT9zLmRyYXdFbGVtZW50c1R5cGUociwwLHQuX2xpbmVzSW5kZXhDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fG4pOnMuZHJhd0VsZW1lbnRzVHlwZShyLHQuaW5kZXhTdGFydCx0LmluZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxuKSx0aGlzfSxlLnByb3RvdHlwZS5yZWdpc3RlckJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQpLHRoaXN9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpLHRoaXN9LGUucHJvdG90eXBlLnJlZ2lzdGVyQWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHQpLHRoaXN9LGUucHJvdG90eXBlLnVucmVnaXN0ZXJBZnRlclJlbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayh0KSx0aGlzfSxlLnByb3RvdHlwZS5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdD1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuKXtpZihyKXJldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGUuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbdF09ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLnJlbmRlclNlbGZbdF09ITAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlO2lmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaClyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNofXZhciBuPXRoaXMuZ2V0U2NlbmUoKSxhPW4uX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSxzPWE/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzLG89dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlO2lmKG8ubXVzdFJldHVybj0hMSxvLnJlbmRlclNlbGZbdF09cnx8IXMmJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlLG8udmlzaWJsZUluc3RhbmNlc1t0XT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyYmIXIpe3ZhciB1PXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyxmPW4uZ2V0UmVuZGVySWQoKSxsPWE/dS5pbnRlcm1lZGlhdGVEZWZhdWx0UmVuZGVySWQ6dS5kZWZhdWx0UmVuZGVySWQ7by52aXNpYmxlSW5zdGFuY2VzW3RdPXVbZl0sIW8udmlzaWJsZUluc3RhbmNlc1t0XSYmbCYmKG8udmlzaWJsZUluc3RhbmNlc1t0XT11W2xdKX1yZXR1cm4gby5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1t0XT0hciYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZyYmby52aXNpYmxlSW5zdGFuY2VzW3RdIT09bnVsbCYmby52aXNpYmxlSW5zdGFuY2VzW3RdIT09dm9pZCAwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1vLG99LGUucHJvdG90eXBlLl9yZW5kZXJXaXRoSW5zdGFuY2VzPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG8sdT1uLnZpc2libGVJbnN0YW5jZXNbdC5faWRdO2lmKCF1KXJldHVybiB0aGlzO2Zvcih2YXIgZj10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLGw9Zi5pbnN0YW5jZXNCdWZmZXJTaXplLGg9Zi5pbnN0YW5jZXNCdWZmZXIsYz1mLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyLGQ9dS5sZW5ndGgrMSxwPWQqMTYqNDtmLmluc3RhbmNlc0J1ZmZlclNpemU8cDspZi5pbnN0YW5jZXNCdWZmZXJTaXplKj0yOyghZi5pbnN0YW5jZXNEYXRhfHxsIT1mLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoZi5pbnN0YW5jZXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoZi5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKSwodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFmLmluc3RhbmNlc1ByZXZpb3VzRGF0YXx8bCE9Zi5pbnN0YW5jZXNCdWZmZXJTaXplKSYmKGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoZi5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKTt2YXIgXz0wLGc9MCxtPW4ucmVuZGVyU2VsZlt0Ll9pZF0sdj0haHx8bCE9PWYuaW5zdGFuY2VzQnVmZmVyU2l6ZXx8dGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFmLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyO2lmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZSYmKCFmLmlzRnJvemVufHx2KSl7dmFyIFM9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2lmKG0mJih0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXg/KGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsXyksZi5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5RnJvbShTKSk6KGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXg9Uy5jbG9uZSgpLGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsXykpKSxTLmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzRGF0YSxfKSxfKz0xNixnKyspLHUpe2lmKGUuSU5TVEFOQ0VETUVTSF9TT1JUX1RSQU5TUEFSRU5UJiZ0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEmJigobz10LmdldE1hdGVyaWFsKCkpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godC5nZXRSZW5kZXJpbmdNZXNoKCkpKSl7Zm9yKHZhciBNPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbixBPTA7QTx1Lmxlbmd0aDtBKyspe3ZhciBSPXVbQV07Ui5fZGlzdGFuY2VUb0NhbWVyYT1FLkRpc3RhbmNlKFIuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsTSl9dS5zb3J0KGZ1bmN0aW9uKEYsRCl7cmV0dXJuIEYuX2Rpc3RhbmNlVG9DYW1lcmE+RC5fZGlzdGFuY2VUb0NhbWVyYT8tMTpGLl9kaXN0YW5jZVRvQ2FtZXJhPEQuX2Rpc3RhbmNlVG9DYW1lcmE/MTowfSl9Zm9yKHZhciB5PTA7eTx1Lmxlbmd0aDt5Kyspe3ZhciBDPXVbeV0sdz1DLmdldFdvcmxkTWF0cml4KCk7dy5jb3B5VG9BcnJheShmLmluc3RhbmNlc0RhdGEsXyksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihDLl9wcmV2aW91c1dvcmxkTWF0cml4PyhDLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLF8pLEMuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20odykpOihDLl9wcmV2aW91c1dvcmxkTWF0cml4PXcuY2xvbmUoKSxDLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLF8pKSksXys9MTYsZysrfX19ZWxzZSBnPShtPzE6MCkrdS5sZW5ndGg7cmV0dXJuIHY/KGgmJmguZGlzcG9zZSgpLGMmJmMuZGlzcG9zZSgpLGg9bmV3IFNyKHMsZi5pbnN0YW5jZXNEYXRhLCEwLDE2LCExLCEwKSxmLmluc3RhbmNlc0J1ZmZlcj1oLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZT17ZGF0YTp7fSx2ZXJ0ZXhCdWZmZXJzOnt9LHN0cmlkZXM6e30sc2l6ZXM6e30sdmVydGV4QXJyYXlPYmplY3RzOnRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0P3t9OnZvaWQgMH0pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMD1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMT1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQxIiw0LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMj1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQyIiw4LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLndvcmxkMz1oLmNyZWF0ZVZlcnRleEJ1ZmZlcigid29ybGQzIiwxMiw0KSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKGM9bmV3IFNyKHMsZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsITAsMTYsITEsITApLGYuaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI9Yyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMD1jLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDAiLDAsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDE9Yy5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQxIiw0LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQyPWMuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMz1jLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDMiLDEyLDQpKSx0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpKTp0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVufHwoaC51cGRhdGVEaXJlY3RseShmLmluc3RhbmNlc0RhdGEsMCxnKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZXx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSkmJmMudXBkYXRlRGlyZWN0bHkoZi5pbnN0YW5jZXNQcmV2aW91c0RhdGEsMCxnKSksdGhpcy5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnModSxtKSx0aGlzLmdldFNjZW5lKCkuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQodC5pbmRleENvdW50KmcsITEpLHMuX2N1cnJlbnREcmF3Q29udGV4dCYmKHMuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSEwKSx0aGlzLl9iaW5kKHQsYSxyKSx0aGlzLl9kcmF3KHQscixnKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIXYmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYhdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbiYmIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGUmJmMudXBkYXRlRGlyZWN0bHkoZi5pbnN0YW5jZXNEYXRhLDAsZykscy51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKSx0aGlzfSxlLnByb3RvdHlwZS5fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXM9ZnVuY3Rpb24odCxyLG4sYSl7dmFyIHMsbyx1PShvPShzPXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuaW5zdGFuY2VzQ291bnQpIT09bnVsbCYmbyE9PXZvaWQgMD9vOjA7dGhpcy5nZXRTY2VuZSgpLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KHQuaW5kZXhDb3VudCp1LCExKSxhLl9jdXJyZW50RHJhd0NvbnRleHQmJihhLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMCksdGhpcy5fYmluZCh0LG4sciksdGhpcy5fZHJhdyh0LHIsdSksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiF0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeERhdGEmJnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEmJih0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlcj90aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlci51cGRhdGVEaXJlY3RseSh0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhLDAsdSk6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI9dGhpcy5fdGhpbkluc3RhbmNlQ3JlYXRlTWF0cml4QnVmZmVyKCJwcmV2aW91c1dvcmxkIix0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhLCExKSksYS51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKX0sZS5wcm90b3R5cGUuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzPWZ1bmN0aW9uKHQscil7fSxlLnByb3RvdHlwZS5fcHJvY2Vzc1JlbmRlcmluZz1mdW5jdGlvbih0LHIsbixhLHMsbyx1LGYpe3ZhciBsPXRoaXMuZ2V0U2NlbmUoKSxoPWwuZ2V0RW5naW5lKCk7aWYobyYmci5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcylyZXR1cm4gdGhpcy5fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXMocixhLG4saCksdGhpcztpZihvKXRoaXMuX3JlbmRlcldpdGhJbnN0YW5jZXMocixhLHMsbixoKTtlbHNle2guX2N1cnJlbnREcmF3Q29udGV4dCYmKGguX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSExKTt2YXIgYz0wO3MucmVuZGVyU2VsZltyLl9pZF0mJih1JiZ1KCExLHQuZ2V0V29ybGRNYXRyaXgoKSxmKSxjKyssdGhpcy5fZHJhdyhyLGEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5vdmVycmlkZW5JbnN0YW5jZUNvdW50KSk7dmFyIGQ9cy52aXNpYmxlSW5zdGFuY2VzW3IuX2lkXTtpZihkKXt2YXIgcD1kLmxlbmd0aDtjKz1wO2Zvcih2YXIgXz0wO188cDtfKyspe3ZhciBnPWRbX10sbT1nLmdldFdvcmxkTWF0cml4KCk7dSYmdSghMCxtLGYpLHRoaXMuX2RyYXcocixhKX19bC5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChyLmluZGV4Q291bnQqYywhMSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKHQpe2lmKHQ9PT12b2lkIDAmJih0PSExKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKHQmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Upe2Zvcih2YXIgciBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyl7dmFyIG49dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl07biYmKHQmJm4uZGlzcG9zZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdPW51bGwpfXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9KX10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCxpLnByb3RvdHlwZS5fcmVidWlsZC5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLl9mcmVlemU9ZnVuY3Rpb24oKXtpZighIXRoaXMuc3ViTWVzaGVzKXtmb3IodmFyIHQ9MDt0PHRoaXMuc3ViTWVzaGVzLmxlbmd0aDt0KyspdGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdCh0KTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSEwfX0sZS5wcm90b3R5cGUuX3VuRnJlZXplPWZ1bmN0aW9uKCl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbj0hMSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2g9bnVsbH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzLG8sdT10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITE6dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITEsdGhpcy5fY2hlY2tPY2NsdXNpb25RdWVyeSgpJiYhdGhpcy5fb2NjbHVzaW9uRGF0YVN0b3JhZ2UuZm9yY2VSZW5kZXJpbmdXaGVuT2NjbHVkZWQpcmV0dXJuIHRoaXM7dmFyIGY9dGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdCh0Ll9pZCwhIW4pO2lmKGYubXVzdFJldHVybilyZXR1cm4gdGhpcztpZighdGhpcy5fZ2VvbWV0cnl8fCF0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXJzKCl8fCF0aGlzLl91bkluZGV4ZWQmJiF0aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpKXJldHVybiB0aGlzO3ZhciBsPXUuZ2V0RW5naW5lKCksaD0wLGM9bnVsbDt0aGlzLmlnbm9yZUNhbWVyYU1heFomJnUuYWN0aXZlQ2FtZXJhJiYhdS5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpJiYoaD11LmFjdGl2ZUNhbWVyYS5tYXhaLGM9dS5hY3RpdmVDYW1lcmEsdS5hY3RpdmVDYW1lcmEubWF4Wj0wLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIGQ9Zi5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1t0Ll9pZF18fHQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMscD10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLF89dC5nZXRNYXRlcmlhbCgpO2lmKCFfKXJldHVybiBjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO2lmKCFwLmlzRnJvemVufHwhdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsfHx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwhPT1fKXtpZihfLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighXy5pc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLHQsZCkpcmV0dXJuIGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXN9ZWxzZSBpZighXy5pc1JlYWR5KHRoaXMsZCkpcmV0dXJuIGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPV99ZWxzZSBpZihfLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzJiYhKChhPXQuZWZmZWN0KT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuX3dhc1ByZXZpb3VzbHlSZWFkeSl8fCFfLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzJiYhKChzPV8uZ2V0RWZmZWN0KCkpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5fd2FzUHJldmlvdXNseVJlYWR5KSlyZXR1cm4gYyYmKGMubWF4Wj1oLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztyJiZsLnNldEFscGhhTW9kZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYWxwaGFNb2RlKTt2YXIgZzt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/Zz10Ll9kcmF3V3JhcHBlcjpnPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fZ2V0RHJhd1dyYXBwZXIoKTtmb3IodmFyIG09KG89Zz09bnVsbD92b2lkIDA6Zy5lZmZlY3QpIT09bnVsbCYmbyE9PXZvaWQgMD9vOm51bGwsdj0wLFM9dS5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlO3Y8Uy5sZW5ndGg7disrKXt2YXIgTT1TW3ZdO00uYWN0aW9uKHRoaXMsdCxmLG0pfWlmKCFnfHwhbSlyZXR1cm4gYyYmKGMubWF4Wj1oLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt2YXIgQT1ufHx0aGlzLFI7aWYoIXAuaXNGcm96ZW4mJih0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYmFja0ZhY2VDdWxsaW5nfHx0aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24hPT1udWxsKSl7dmFyIHk9QS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpO1I9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLFI9PW51bGwmJihSPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5zaWRlT3JpZW50YXRpb24pLHk8MCYmKFI9Uj09PURlLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj9EZS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOkRlLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbikscC5zaWRlT3JpZW50YXRpb249Un1lbHNlIFI9cC5zaWRlT3JpZW50YXRpb247dmFyIEM9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9wcmVCaW5kKGcsUik7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmZvcmNlRGVwdGhXcml0ZSYmbC5zZXREZXB0aFdyaXRlKCEwKTt2YXIgdz11LmZvcmNlUG9pbnRzQ2xvdWQ/RGUuUG9pbnRGaWxsTW9kZTp1LmZvcmNlV2lyZWZyYW1lP0RlLldpcmVGcmFtZUZpbGxNb2RlOnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5maWxsTW9kZTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGR8fHRoaXMuX2JpbmQodCxtLHcpO3ZhciBGPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCxEPUEuZ2V0V29ybGRNYXRyaXgoKTtGLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP0YuYmluZEZvclN1Yk1lc2goRCx0aGlzLHQpOkYuYmluZChELHRoaXMpLCFGLmJhY2tGYWNlQ3VsbGluZyYmRi5zZXBhcmF0ZUN1bGxpbmdQYXNzJiYobC5zZXRTdGF0ZSghMCxGLnpPZmZzZXQsITEsIUMsRi5jdWxsQmFja0ZhY2VzLEYuc3RlbmNpbCxGLnpPZmZzZXRVbml0cyksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLHQsbSx3LGYsZCx0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSxsLnNldFN0YXRlKCEwLEYuek9mZnNldCwhMSxDLEYuY3VsbEJhY2tGYWNlcyxGLnN0ZW5jaWwsRi56T2Zmc2V0VW5pdHMpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLHQsbSx3LGYsZCx0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwudW5iaW5kKCk7Zm9yKHZhciBYPTAsVz11Ll9hZnRlclJlbmRlcmluZ01lc2hTdGFnZTtYPFcubGVuZ3RoO1grKyl7dmFyIE09V1tYXTtNLmFjdGlvbih0aGlzLHQsZixtKX1yZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXN9LGUucHJvdG90eXBlLmNsZWFuTWF0cml4V2VpZ2h0cz1mdW5jdGlvbigpe3RoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuTWF0cmljZXNXZWlnaHRzS2luZCkmJih0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk/dGhpcy5ub3JtYWxpemVTa2luV2VpZ2h0c0FuZEV4dHJhKCk6dGhpcy5ub3JtYWxpemVTa2luRm91cldlaWdodHMoKSl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHI9dC5sZW5ndGgsbj0wO248cjtuKz00KXt2YXIgYT10W25dK3RbbisxXSt0W24rMl0rdFtuKzNdO2lmKGE9PT0wKXRbbl09MTtlbHNle3ZhciBzPTEvYTt0W25dKj1zLHRbbisxXSo9cyx0W24rMl0qPXMsdFtuKzNdKj1zfX10aGlzLnNldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdCl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpLHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc1dlaWdodHNLaW5kKSxuPXIubGVuZ3RoLGE9MDthPG47YSs9NCl7dmFyIHM9clthXStyW2ErMV0rclthKzJdK3JbYSszXTtpZihzKz10W2FdK3RbYSsxXSt0W2ErMl0rdFthKzNdLHM9PT0wKXJbYV09MTtlbHNle3ZhciBvPTEvcztyW2FdKj1vLHJbYSsxXSo9byxyW2ErMl0qPW8sclthKzNdKj1vLHRbYV0qPW8sdFthKzFdKj1vLHRbYSsyXSo9byx0W2ErM10qPW99fXRoaXMuc2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNXZWlnaHRzS2luZCxyKSx0aGlzLnNldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdCl9LGUucHJvdG90eXBlLnZhbGlkYXRlU2tpbm5pbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkscj10aGlzLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKHI9PT1udWxsfHx0aGlzLnNrZWxldG9uPT1udWxsKXJldHVybntza2lubmVkOiExLHZhbGlkOiEwLHJlcG9ydDoibm90IHNraW5uZWQifTtmb3IodmFyIG49ci5sZW5ndGgsYT0wLHM9MCxvPTAsdT0wLGY9dD09PW51bGw/NDo4LGw9bmV3IEFycmF5LGg9MDtoPD1mO2grKylsW2hdPTA7Zm9yKHZhciBjPS4wMDEsaD0wO2g8bjtoKz00KXtmb3IodmFyIGQ9cltoXSxwPWQsXz1wPT09MD8wOjEsZz0xO2c8ZjtnKyspe3ZhciBtPWc8ND9yW2grZ106dFtoK2ctNF07bT5kJiZhKyssbSE9PTAmJl8rKyxwKz1tLGQ9bX1pZihsW19dKyssXz5vJiYobz1fKSxwPT09MClzKys7ZWxzZXt2YXIgdj0xL3AsUz0wO2ZvcihnPTA7ZzxmO2crKylnPDQ/Uys9TWF0aC5hYnMocltoK2ddLXJbaCtnXSp2KTpTKz1NYXRoLmFicyh0W2grZy00XS10W2grZy00XSp2KTtTPmMmJnUrK319Zm9yKHZhciBNPXRoaXMuc2tlbGV0b24uYm9uZXMubGVuZ3RoLEE9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc0luZGljZXNLaW5kKSxSPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSx5PTAsaD0wO2g8bjtoKz00KWZvcih2YXIgZz0wO2c8ZjtnKyspe3ZhciBDPWc8ND9BW2grZ106UltoK2ctNF07KEM+PU18fEM8MCkmJnkrK312YXIgdz0iTnVtYmVyIG9mIFdlaWdodHMgPSAiK24vNCtgCk1heGltdW0gaW5mbHVlbmNlcyA9IGArbytgCk1pc3NpbmcgV2VpZ2h0cyA9IGArcytgCk5vdCBTb3J0ZWQgPSBgK2ErYApOb3QgTm9ybWFsaXplZCA9IGArdStgCldlaWdodENvdW50cyA9IFtgK2wrYF0KTnVtYmVyIG9mIGJvbmVzID0gYCtNK2AKQmFkIEJvbmUgSW5kaWNlcyA9IGAreTtyZXR1cm57c2tpbm5lZDohMCx2YWxpZDpzPT09MCYmdT09PTAmJnk9PT0wLHJlcG9ydDp3fX0sZS5wcm90b3R5cGUuX2NoZWNrRGVsYXlTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkubG9hZCh0KTp0aGlzLmRlbGF5TG9hZFN0YXRlPT09NCYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9Mix0aGlzLl9xdWV1ZUxvYWQodCkpLHRoaXN9LGUucHJvdG90eXBlLl9xdWV1ZUxvYWQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0Ll9hZGRQZW5kaW5nRGF0YSh0aGlzKTt2YXIgbj10aGlzLmRlbGF5TG9hZGluZ0ZpbGUuaW5kZXhPZigiLmJhYnlsb25iaW5hcnltZXNoZGF0YSIpIT09LTE7cmV0dXJuIGllLkxvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ci5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oYSxyKTpyLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGEpLHIpLHIuaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24ocyl7cy5yZWZyZXNoQm91bmRpbmdJbmZvKCkscy5fc3luY1N1Yk1lc2hlcygpfSksci5kZWxheUxvYWRTdGF0ZT0xLHQuX3JlbW92ZVBlbmRpbmdEYXRhKHIpfSxmdW5jdGlvbigpe30sdC5vZmZsaW5lUHJvdmlkZXIsbiksdGhpc30sZS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhaS5wcm90b3R5cGUuaXNJbkZydXN0dW0uY2FsbCh0aGlzLHQpPyExOih0aGlzLl9jaGVja0RlbGF5U3RhdGUoKSwhMCl9LGUucHJvdG90eXBlLnNldE1hdGVyaWFsQnlJZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFNjZW5lKCkubWF0ZXJpYWxzLG47Zm9yKG49ci5sZW5ndGgtMTtuPi0xO24tLSlpZihyW25dLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbD1yW25dLHRoaXM7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLm11bHRpTWF0ZXJpYWxzO2ZvcihuPWEubGVuZ3RoLTE7bj4tMTtuLS0paWYoYVtuXS5pZD09PXQpcmV0dXJuIHRoaXMubWF0ZXJpYWw9YVtuXSx0aGlzO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbigpe3ZhciB0PW5ldyBBcnJheTtyZXR1cm4gdGhpcy5tYXRlcmlhbCYmdC5wdXNoKHRoaXMubWF0ZXJpYWwpLHRoaXMuc2tlbGV0b24mJnQucHVzaCh0aGlzLnNrZWxldG9uKSx0fSxlLnByb3RvdHlwZS5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5zdWJNZXNoZXMuc3BsaWNlKDApO3RoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpO3ZhciBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuUG9zaXRpb25LaW5kKSxhPW5ldyBBcnJheSxzO2ZvcihzPTA7czxuLmxlbmd0aDtzKz0zKUUuVHJhbnNmb3JtQ29vcmRpbmF0ZXMoRS5Gcm9tQXJyYXkobixzKSx0KS50b0FycmF5KGEscyk7aWYodGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsYSx0aGlzLmdldFZlcnRleEJ1ZmZlcihiLlBvc2l0aW9uS2luZCkuaXNVcGRhdGFibGUoKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5Ob3JtYWxLaW5kKSl7Zm9yKG49dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kKSxhPVtdLHM9MDtzPG4ubGVuZ3RoO3MrPTMpRS5UcmFuc2Zvcm1Ob3JtYWwoRS5Gcm9tQXJyYXkobixzKSx0KS5ub3JtYWxpemUoKS50b0FycmF5KGEscyk7dGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kLGEsdGhpcy5nZXRWZXJ0ZXhCdWZmZXIoYi5Ob3JtYWxLaW5kKS5pc1VwZGF0YWJsZSgpKX1yZXR1cm4gdC5kZXRlcm1pbmFudCgpPDAmJnRoaXMuZmxpcEZhY2VzKCksdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksdGhpcy5zdWJNZXNoZXM9cix0aGlzfSxlLnByb3RvdHlwZS5iYWtlQ3VycmVudFRyYW5zZm9ybUludG9WZXJ0aWNlcz1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuYmFrZVRyYW5zZm9ybUludG9WZXJ0aWNlcyh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMucmVzZXRMb2NhbE1hdHJpeCh0KSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9wb3NpdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uczp0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5fcG9zaXRpb25zOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLHRoaXN9LGUucHJvdG90eXBlLl9nZW5lcmF0ZVBvaW50c0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5Ll9nZW5lcmF0ZVBvaW50c0FycmF5KCk6ITF9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9bnVsbCksYT09PXZvaWQgMCYmKGE9ITApLG5ldyBlKHQsdGhpcy5nZXRTY2VuZSgpLHIsdGhpcyxuLGEpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITEpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5LnJlbGVhc2VGb3JNZXNoKHRoaXMsITApO3ZhciBuPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKG4uX29uQmVmb3JlRHJhd09ic2VydmFibGUmJm4uX29uQmVmb3JlRHJhd09ic2VydmFibGUuY2xlYXIoKSxuLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlJiZuLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksbi5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlJiZuLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSxuLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmbi5fb25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSxuLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSYmbi5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zY2VuZS51c2VDbG9uZWRNZXNoTWFwKXtpZihuLm1lc2hNYXApZm9yKHZhciBhIGluIG4ubWVzaE1hcCl7dmFyIHM9bi5tZXNoTWFwW2FdO3MmJihzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwsbi5tZXNoTWFwW2FdPXZvaWQgMCl9bi5fc291cmNlJiZuLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXAmJihuLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKX1lbHNlIGZvcih2YXIgbz10aGlzLmdldFNjZW5lKCkubWVzaGVzLHU9MCxmPW87dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV0scz1sO3MuX2ludGVybmFsTWVzaERhdGFJbmZvJiZzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlJiZzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPT09dGhpcyYmKHMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCl9bi5fc291cmNlPW51bGwsdGhpcy5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0LHIpfSxlLnByb3RvdHlwZS5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hcHBseURpc3BsYWNlbWVudE1hcD1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt2YXIgZj10aGlzO3U9PT12b2lkIDAmJih1PSExKTt2YXIgbD10aGlzLmdldFNjZW5lKCksaD1mdW5jdGlvbihjKXt2YXIgZD1jLndpZHRoLHA9Yy5oZWlnaHQsXz1mLmdldEVuZ2luZSgpLmNyZWF0ZUNhbnZhcyhkLHApLGc9Xy5nZXRDb250ZXh0KCIyZCIpO2cuZHJhd0ltYWdlKGMsMCwwKTt2YXIgbT1nLmdldEltYWdlRGF0YSgwLDAsZCxwKS5kYXRhO2YuYXBwbHlEaXNwbGFjZW1lbnRNYXBGcm9tQnVmZmVyKG0sZCxwLHIsbixzLG8sdSksYSYmYShmKX07cmV0dXJuIGllLkxvYWRJbWFnZSh0LGgsZnVuY3Rpb24oKXt9LGwub2ZmbGluZVByb3ZpZGVyKSx0aGlzfSxlLnByb3RvdHlwZS5hcHBseURpc3BsYWNlbWVudE1hcEZyb21CdWZmZXI9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmKXtpZihmPT09dm9pZCAwJiYoZj0hMSksIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuUG9zaXRpb25LaW5kKXx8IXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuTm9ybWFsS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLlVWS2luZCkpcmV0dXJuIHouV2FybigiQ2Fubm90IGNhbGwgYXBwbHlEaXNwbGFjZW1lbnRNYXA6IEdpdmVuIG1lc2ggaXMgbm90IGNvbXBsZXRlLiBQb3NpdGlvbiwgTm9ybWFsIG9yIFVWIGFyZSBtaXNzaW5nIiksdGhpczt2YXIgbD10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCwhMCwhMCksaD10aGlzLmdldFZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQpLGM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5VVktpbmQpLGQ9RS5aZXJvKCkscD1FLlplcm8oKSxfPWJlLlplcm8oKTtvPW98fGJlLlplcm8oKSx1PXV8fG5ldyBiZSgxLDEpO2Zvcih2YXIgZz0wO2c8bC5sZW5ndGg7Zys9Myl7RS5Gcm9tQXJyYXlUb1JlZihsLGcsZCksRS5Gcm9tQXJyYXlUb1JlZihoLGcscCksYmUuRnJvbUFycmF5VG9SZWYoYyxnLzMqMixfKTt2YXIgbT1NYXRoLmFicyhfLngqdS54K28ueCUxKSooci0xKSVyfDAsdj1NYXRoLmFicyhfLnkqdS55K28ueSUxKSoobi0xKSVufDAsUz0obSt2KnIpKjQsTT10W1NdLzI1NSxBPXRbUysxXS8yNTUsUj10W1MrMl0vMjU1LHk9TSouMytBKi41OStSKi4xMTtwLm5vcm1hbGl6ZSgpLHAuc2NhbGVJblBsYWNlKGErKHMtYSkqeSksZD1kLmFkZChwKSxkLnRvQXJyYXkobCxnKX1yZXR1cm4gbGUuQ29tcHV0ZU5vcm1hbHMobCx0aGlzLmdldEluZGljZXMoKSxoKSxmPyh0aGlzLnNldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCxsKSx0aGlzLnNldFZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQsaCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5VVktpbmQsYykpOih0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCxsKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQsaCkpLHRoaXN9LGUucHJvdG90eXBlLmNvbnZlcnRUb0ZsYXRTaGFkZWRNZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpLHI9e30sbj17fSxhPXt9LHM9ITEsbyx1O2ZvcihvPTA7bzx0Lmxlbmd0aDtvKyspe3U9dFtvXTt2YXIgZj10aGlzLmdldFZlcnRleEJ1ZmZlcih1KSxsPWYuZ2V0RGF0YSgpO2lmKCEoKGwgaW5zdGFuY2VvZiBBcnJheXx8bCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkmJmwubGVuZ3RoPT09MCkpe2lmKHU9PT1iLk5vcm1hbEtpbmQpe3M9Zi5pc1VwZGF0YWJsZSgpLHQuc3BsaWNlKG8sMSksby0tO2NvbnRpbnVlfXJbdV09ZixuW3VdPXRoaXMuZ2V0VmVydGljZXNEYXRhKHUpLGFbdV09W119fXZhciBoPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApLGM9dGhpcy5nZXRJbmRpY2VzKCksZD10aGlzLmdldFRvdGFsSW5kaWNlcygpLHA7Zm9yKHA9MDtwPGQ7cCsrKXt2YXIgXz1jW3BdO2ZvcihvPTA7bzx0Lmxlbmd0aDtvKyspaWYodT10W29dLCEhclt1XSlmb3IodmFyIGc9clt1XS5nZXRTdHJpZGVTaXplKCksbT0wO208ZzttKyspYVt1XS5wdXNoKG5bdV1bXypnK21dKX12YXIgdj1bXSxTPWFbYi5Qb3NpdGlvbktpbmRdLE09dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtLEE7Zm9yKE0/QT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT0xOkE9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09MCxwPTA7cDxkO3ArPTMpe2NbcF09cCxjW3ArMV09cCsxLGNbcCsyXT1wKzI7dmFyIFI9RS5Gcm9tQXJyYXkoUyxwKjMpLHk9RS5Gcm9tQXJyYXkoUywocCsxKSozKSxDPUUuRnJvbUFycmF5KFMsKHArMikqMyksdz1SLnN1YnRyYWN0KHkpLEY9Qy5zdWJ0cmFjdCh5KSxEPUUuTm9ybWFsaXplKEUuQ3Jvc3ModyxGKSk7QSYmRC5zY2FsZUluUGxhY2UoLTEpO2Zvcih2YXIgWD0wO1g8MztYKyspdi5wdXNoKEQueCksdi5wdXNoKEQueSksdi5wdXNoKEQueil9Zm9yKHRoaXMuc2V0SW5kaWNlcyhjKSx0aGlzLnNldFZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQsdixzKSxvPTA7bzx0Lmxlbmd0aDtvKyspdT10W29dLCEhYVt1XSYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEodSxhW3VdLHJbdV0uaXNVcGRhdGFibGUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKHZhciBXPTA7VzxoLmxlbmd0aDtXKyspe3ZhciBOPWhbV107bXQuQWRkVG9NZXNoKE4ubWF0ZXJpYWxJbmRleCxOLmluZGV4U3RhcnQsTi5pbmRleENvdW50LE4uaW5kZXhTdGFydCxOLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfSxlLnByb3RvdHlwZS5jb252ZXJ0VG9VbkluZGV4ZWRNZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpLHI9e30sbj17fSxhPXt9LHMsbztmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXtvPXRbc107dmFyIHU9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobyk7cltvXT11LG5bb109cltvXS5nZXREYXRhKCksYVtvXT1bXX12YXIgZj10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxsPXRoaXMuZ2V0SW5kaWNlcygpLGg9dGhpcy5nZXRUb3RhbEluZGljZXMoKSxjO2ZvcihjPTA7YzxoO2MrKyl7dmFyIGQ9bFtjXTtmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXtvPXRbc107Zm9yKHZhciBwPXJbb10uZ2V0U3RyaWRlU2l6ZSgpLF89MDtfPHA7XysrKWFbb10ucHVzaChuW29dW2QqcCtfXSl9fWZvcihjPTA7YzxoO2MrPTMpbFtjXT1jLGxbYysxXT1jKzEsbFtjKzJdPWMrMjtmb3IodGhpcy5zZXRJbmRpY2VzKGwpLHM9MDtzPHQubGVuZ3RoO3MrKylvPXRbc10sdGhpcy5zZXRWZXJ0aWNlc0RhdGEobyxhW29dLHJbb10uaXNVcGRhdGFibGUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciBtPWZbZ107bXQuQWRkVG9NZXNoKG0ubWF0ZXJpYWxJbmRleCxtLmluZGV4U3RhcnQsbS5pbmRleENvdW50LG0uaW5kZXhTdGFydCxtLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuX3VuSW5kZXhlZD0hMCx0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc30sZS5wcm90b3R5cGUuZmxpcEZhY2VzPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PSExKTt2YXIgcj1sZS5FeHRyYWN0RnJvbU1lc2godGhpcyksbjtpZih0JiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk5vcm1hbEtpbmQpJiZyLm5vcm1hbHMpZm9yKG49MDtuPHIubm9ybWFscy5sZW5ndGg7bisrKXIubm9ybWFsc1tuXSo9LTE7aWYoci5pbmRpY2VzKXt2YXIgYTtmb3Iobj0wO248ci5pbmRpY2VzLmxlbmd0aDtuKz0zKWE9ci5pbmRpY2VzW24rMV0sci5pbmRpY2VzW24rMV09ci5pbmRpY2VzW24rMl0sci5pbmRpY2VzW24rMl09YX1yZXR1cm4gci5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5Qb3NpdGlvbktpbmQpKSx0aGlzfSxlLnByb3RvdHlwZS5pbmNyZWFzZVZlcnRpY2VzPWZ1bmN0aW9uKHQpe3ZhciByPWxlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSxuPXIudXZzJiYhQXJyYXkuaXNBcnJheShyLnV2cykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLnV2cyk6ci51dnMsYT1yLmluZGljZXMmJiFBcnJheS5pc0FycmF5KHIuaW5kaWNlcykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLmluZGljZXMpOnIuaW5kaWNlcyxzPXIucG9zaXRpb25zJiYhQXJyYXkuaXNBcnJheShyLnBvc2l0aW9ucykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLnBvc2l0aW9ucyk6ci5wb3NpdGlvbnMsbz1yLm5vcm1hbHMmJiFBcnJheS5pc0FycmF5KHIubm9ybWFscykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLm5vcm1hbHMpOnIubm9ybWFscztpZighYXx8IXN8fCFvfHwhbil6Lldhcm4oIlZlcnRleERhdGEgY29udGFpbnMgbnVsbCBlbnRyaWVzIik7ZWxzZXtyLmluZGljZXM9YSxyLnBvc2l0aW9ucz1zLHIubm9ybWFscz1vLHIudXZzPW47Zm9yKHZhciB1PXQrMSxmPW5ldyBBcnJheSxsPTA7bDx1KzE7bCsrKWZbbF09bmV3IEFycmF5O2Zvcih2YXIgaCxjLGQ9bmV3IEUoMCwwLDApLHA9bmV3IEUoMCwwLDApLF89bmV3IGJlKDAsMCksZz1uZXcgQXJyYXksbT1uZXcgQXJyYXksdj1uZXcgQXJyYXksUyxNPXMubGVuZ3RoLEE9bi5sZW5ndGgsbD0wO2w8YS5sZW5ndGg7bCs9Myl7bVswXT1hW2xdLG1bMV09YVtsKzFdLG1bMl09YVtsKzJdO2Zvcih2YXIgUj0wO1I8MztSKyspaWYoaD1tW1JdLGM9bVsoUisxKSUzXSx2W2hdPT09dm9pZCAwJiZ2W2NdPT09dm9pZCAwPyh2W2hdPW5ldyBBcnJheSx2W2NdPW5ldyBBcnJheSk6KHZbaF09PT12b2lkIDAmJih2W2hdPW5ldyBBcnJheSksdltjXT09PXZvaWQgMCYmKHZbY109bmV3IEFycmF5KSksdltoXVtjXT09PXZvaWQgMCYmdltjXVtoXT09PXZvaWQgMCl7dltoXVtjXT1bXSxkLng9KHNbMypjXS1zWzMqaF0pL3UsZC55PShzWzMqYysxXS1zWzMqaCsxXSkvdSxkLno9KHNbMypjKzJdLXNbMypoKzJdKS91LHAueD0ob1szKmNdLW9bMypoXSkvdSxwLnk9KG9bMypjKzFdLW9bMypoKzFdKS91LHAuej0ob1szKmMrMl0tb1szKmgrMl0pL3UsXy54PShuWzIqY10tblsyKmhdKS91LF8ueT0oblsyKmMrMV0tblsyKmgrMV0pL3UsdltoXVtjXS5wdXNoKGgpO2Zvcih2YXIgeT0xO3k8dTt5KyspdltoXVtjXS5wdXNoKHMubGVuZ3RoLzMpLHNbTV09c1szKmhdK3kqZC54LG9bTSsrXT1vWzMqaF0reSpwLngsc1tNXT1zWzMqaCsxXSt5KmQueSxvW00rK109b1szKmgrMV0reSpwLnksc1tNXT1zWzMqaCsyXSt5KmQueixvW00rK109b1szKmgrMl0reSpwLnosbltBKytdPW5bMipoXSt5Kl8ueCxuW0ErK109blsyKmgrMV0reSpfLnk7dltoXVtjXS5wdXNoKGMpLHZbY11baF09bmV3IEFycmF5LFM9dltoXVtjXS5sZW5ndGg7Zm9yKHZhciBDPTA7QzxTO0MrKyl2W2NdW2hdW0NdPXZbaF1bY11bUy0xLUNdfWZbMF1bMF09YVtsXSxmWzFdWzBdPXZbYVtsXV1bYVtsKzFdXVsxXSxmWzFdWzFdPXZbYVtsXV1bYVtsKzJdXVsxXTtmb3IodmFyIHk9Mjt5PHU7eSsrKXtmW3ldWzBdPXZbYVtsXV1bYVtsKzFdXVt5XSxmW3ldW3ldPXZbYVtsXV1bYVtsKzJdXVt5XSxkLng9KHNbMypmW3ldW3ldXS1zWzMqZlt5XVswXV0pL3ksZC55PShzWzMqZlt5XVt5XSsxXS1zWzMqZlt5XVswXSsxXSkveSxkLno9KHNbMypmW3ldW3ldKzJdLXNbMypmW3ldWzBdKzJdKS95LHAueD0ob1szKmZbeV1beV1dLW9bMypmW3ldWzBdXSkveSxwLnk9KG9bMypmW3ldW3ldKzFdLW9bMypmW3ldWzBdKzFdKS95LHAuej0ob1szKmZbeV1beV0rMl0tb1szKmZbeV1bMF0rMl0pL3ksXy54PShuWzIqZlt5XVt5XV0tblsyKmZbeV1bMF1dKS95LF8ueT0oblsyKmZbeV1beV0rMV0tblsyKmZbeV1bMF0rMV0pL3k7Zm9yKHZhciBSPTE7Ujx5O1IrKylmW3ldW1JdPXMubGVuZ3RoLzMsc1tNXT1zWzMqZlt5XVswXV0rUipkLngsb1tNKytdPW9bMypmW3ldWzBdXStSKnAueCxzW01dPXNbMypmW3ldWzBdKzFdK1IqZC55LG9bTSsrXT1vWzMqZlt5XVswXSsxXStSKnAueSxzW01dPXNbMypmW3ldWzBdKzJdK1IqZC56LG9bTSsrXT1vWzMqZlt5XVswXSsyXStSKnAueixuW0ErK109blsyKmZbeV1bMF1dK1IqXy54LG5bQSsrXT1uWzIqZlt5XVswXSsxXStSKl8ueX1mW3VdPXZbYVtsKzFdXVthW2wrMl1dLGcucHVzaChmWzBdWzBdLGZbMV1bMF0sZlsxXVsxXSk7Zm9yKHZhciB5PTE7eTx1O3krKyl7Zm9yKHZhciBSPTA7Ujx5O1IrKylnLnB1c2goZlt5XVtSXSxmW3krMV1bUl0sZlt5KzFdW1IrMV0pLGcucHVzaChmW3ldW1JdLGZbeSsxXVtSKzFdLGZbeV1bUisxXSk7Zy5wdXNoKGZbeV1bUl0sZlt5KzFdW1JdLGZbeSsxXVtSKzFdKX19ci5pbmRpY2VzPWcsci5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5Qb3NpdGlvbktpbmQpKX19LGUucHJvdG90eXBlLmZvcmNlU2hhcmVkVmVydGljZXM9ZnVuY3Rpb24oKXt2YXIgdD1sZS5FeHRyYWN0RnJvbU1lc2godGhpcykscj10LnV2cyxuPXQuaW5kaWNlcyxhPXQucG9zaXRpb25zLHM9dC5jb2xvcnM7aWYobj09PXZvaWQgMHx8YT09PXZvaWQgMHx8bj09PW51bGx8fGE9PT1udWxsKXouV2FybigiVmVydGV4RGF0YSBjb250YWlucyBlbXB0eSBlbnRyaWVzIik7ZWxzZXtmb3IodmFyIG89bmV3IEFycmF5LHU9bmV3IEFycmF5LGY9bmV3IEFycmF5LGw9bmV3IEFycmF5LGg9bmV3IEFycmF5LGM9MCxkPXt9LHAsXyxnPTA7ZzxuLmxlbmd0aDtnKz0zKXtfPVtuW2ddLG5bZysxXSxuW2crMl1dLGg9bmV3IEFycmF5O2Zvcih2YXIgbT0wO208MzttKyspe2hbbV09IiI7Zm9yKHZhciB2PTA7djwzO3YrKylNYXRoLmFicyhhWzMqX1ttXSt2XSk8MWUtOCYmKGFbMypfW21dK3ZdPTApLGhbbV0rPWFbMypfW21dK3ZdKyJ8In1pZighKGhbMF09PWhbMV18fGhbMF09PWhbMl18fGhbMV09PWhbMl0pKWZvcih2YXIgbT0wO208MzttKyspe2lmKHA9ZFtoW21dXSxwPT09dm9pZCAwKXtkW2hbbV1dPWMscD1jKys7Zm9yKHZhciB2PTA7djwzO3YrKylvLnB1c2goYVszKl9bbV0rdl0pO2lmKHMhPW51bGwpZm9yKHZhciB2PTA7djw0O3YrKylsLnB1c2goc1s0Kl9bbV0rdl0pO2lmKHIhPW51bGwpZm9yKHZhciB2PTA7djwyO3YrKylmLnB1c2goclsyKl9bbV0rdl0pfXUucHVzaChwKX19dmFyIFM9bmV3IEFycmF5O2xlLkNvbXB1dGVOb3JtYWxzKG8sdSxTKSx0LnBvc2l0aW9ucz1vLHQuaW5kaWNlcz11LHQubm9ybWFscz1TLHIhPW51bGwmJih0LnV2cz1mKSxzIT1udWxsJiYodC5jb2xvcnM9bCksdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5Qb3NpdGlvbktpbmQpKX19LGUuX2luc3RhbmNlZE1lc2hGYWN0b3J5PWZ1bmN0aW9uKHQscil7dGhyb3cgVSgiSW5zdGFuY2VkTWVzaCIpfSxlLl9QaHlzaWNzSW1wb3N0b3JQYXJzZXI9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFUoIlBoeXNpY3NJbXBvc3RvciIpfSxlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5faW5zdGFuY2VkTWVzaEZhY3RvcnkodCx0aGlzKX0sZS5wcm90b3R5cGUuc3luY2hyb25pemVJbnN0YW5jZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuaW5zdGFuY2VzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuaW5zdGFuY2VzW3RdO3IuX3N5bmNTdWJNZXNoZXMoKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUub3B0aW1pemVJbmRpY2VzPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsbj10aGlzLmdldEluZGljZXMoKSxhPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuUG9zaXRpb25LaW5kKTtpZighYXx8IW4pcmV0dXJuIHRoaXM7Zm9yKHZhciBzPW5ldyBBcnJheSxvPTA7bzxhLmxlbmd0aDtvPW8rMylzLnB1c2goRS5Gcm9tQXJyYXkoYSxvKSk7dmFyIHU9bmV3IEFycmF5O3JldHVybiByYS5TeW5jQXN5bmNGb3JMb29wKHMubGVuZ3RoLDQwLGZ1bmN0aW9uKGYpe2Zvcih2YXIgbD1zLmxlbmd0aC0xLWYsaD1zW2xdLGM9MDtjPGw7KytjKXt2YXIgZD1zW2NdO2lmKGguZXF1YWxzKGQpKXt1W2xdPWM7YnJlYWt9fX0sZnVuY3Rpb24oKXtmb3IodmFyIGY9MDtmPG4ubGVuZ3RoOysrZiluW2ZdPXVbbltmXV18fG5bZl07dmFyIGw9ci5zdWJNZXNoZXMuc2xpY2UoMCk7ci5zZXRJbmRpY2VzKG4pLHIuc3ViTWVzaGVzPWwsdCYmdChyKX0pLHRoaXN9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbih0KXt0Lm5hbWU9dGhpcy5uYW1lLHQuaWQ9dGhpcy5pZCx0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdC50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksc2UmJnNlLkhhc1RhZ3ModGhpcykmJih0LnRhZ3M9c2UuR2V0VGFncyh0aGlzKSksdC5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmFzQXJyYXkoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90LnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dGhpcy5yb3RhdGlvbiYmKHQucm90YXRpb249dGhpcy5yb3RhdGlvbi5hc0FycmF5KCkpLHQuc2NhbGluZz10aGlzLnNjYWxpbmcuYXNBcnJheSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4P3QucGl2b3RNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKTp0LmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoITEpLHQuaXNWaXNpYmxlPXRoaXMuaXNWaXNpYmxlLHQuaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2UsdC5waWNrYWJsZT10aGlzLmlzUGlja2FibGUsdC5yZWNlaXZlU2hhZG93cz10aGlzLnJlY2VpdmVTaGFkb3dzLHQuYmlsbGJvYXJkTW9kZT10aGlzLmJpbGxib2FyZE1vZGUsdC52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSx0LmNoZWNrQ29sbGlzaW9ucz10aGlzLmNoZWNrQ29sbGlzaW9ucyx0LmlzQmxvY2tlcj10aGlzLmlzQmxvY2tlcix0Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHRoaXMucGFyZW50JiYodC5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCksdC5pc1VuSW5kZXhlZD10aGlzLmlzVW5JbmRleGVkO3ZhciByPXRoaXMuX2dlb21ldHJ5O2lmKHImJnRoaXMuc3ViTWVzaGVzKXt0Lmdlb21ldHJ5VW5pcXVlSWQ9ci51bmlxdWVJZCx0Lmdlb21ldHJ5SWQ9ci5pZCx0LnN1Yk1lc2hlcz1bXTtmb3IodmFyIG49MDtuPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtuKyspe3ZhciBhPXRoaXMuc3ViTWVzaGVzW25dO3Quc3ViTWVzaGVzLnB1c2goe21hdGVyaWFsSW5kZXg6YS5tYXRlcmlhbEluZGV4LHZlcnRpY2VzU3RhcnQ6YS52ZXJ0aWNlc1N0YXJ0LHZlcnRpY2VzQ291bnQ6YS52ZXJ0aWNlc0NvdW50LGluZGV4U3RhcnQ6YS5pbmRleFN0YXJ0LGluZGV4Q291bnQ6YS5pbmRleENvdW50fSl9fWlmKHRoaXMubWF0ZXJpYWw/dGhpcy5tYXRlcmlhbC5kb05vdFNlcmlhbGl6ZXx8KHQubWF0ZXJpYWxVbmlxdWVJZD10aGlzLm1hdGVyaWFsLnVuaXF1ZUlkLHQubWF0ZXJpYWxJZD10aGlzLm1hdGVyaWFsLmlkKToodGhpcy5tYXRlcmlhbD1udWxsLHQubWF0ZXJpYWxVbmlxdWVJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwudW5pcXVlSWQsdC5tYXRlcmlhbElkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC5pZCksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJih0Lm1vcnBoVGFyZ2V0TWFuYWdlcklkPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLnVuaXF1ZUlkKSx0aGlzLnNrZWxldG9uJiYodC5za2VsZXRvbklkPXRoaXMuc2tlbGV0b24uaWQsdC5udW1Cb25lSW5mbHVlbmNlcnM9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnMpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KGt0Lk5BTUVfUEhZU0lDU0VOR0lORSkpe3ZhciBzPXRoaXMuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7cyYmKHQucGh5c2ljc01hc3M9cy5nZXRQYXJhbSgibWFzcyIpLHQucGh5c2ljc0ZyaWN0aW9uPXMuZ2V0UGFyYW0oImZyaWN0aW9uIiksdC5waHlzaWNzUmVzdGl0dXRpb249cy5nZXRQYXJhbSgibWFzcyIpLHQucGh5c2ljc0ltcG9zdG9yPXMudHlwZSl9dGhpcy5tZXRhZGF0YSYmKHQubWV0YWRhdGE9dGhpcy5tZXRhZGF0YSksdC5pbnN0YW5jZXM9W107Zm9yKHZhciBvPTA7bzx0aGlzLmluc3RhbmNlcy5sZW5ndGg7bysrKXt2YXIgdT10aGlzLmluc3RhbmNlc1tvXTtpZighdS5kb05vdFNlcmlhbGl6ZSl7dmFyIGY9e25hbWU6dS5uYW1lLGlkOnUuaWQsaXNFbmFibGVkOnUuaXNFbmFibGVkKCExKSxpc1Zpc2libGU6dS5pc1Zpc2libGUsaXNQaWNrYWJsZTp1LmlzUGlja2FibGUsY2hlY2tDb2xsaXNpb25zOnUuY2hlY2tDb2xsaXNpb25zLHBvc2l0aW9uOnUucG9zaXRpb24uYXNBcnJheSgpLHNjYWxpbmc6dS5zY2FsaW5nLmFzQXJyYXkoKX07aWYodS5wYXJlbnQmJihmLnBhcmVudElkPXUucGFyZW50LnVuaXF1ZUlkKSx1LnJvdGF0aW9uUXVhdGVybmlvbj9mLnJvdGF0aW9uUXVhdGVybmlvbj11LnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dS5yb3RhdGlvbiYmKGYucm90YXRpb249dS5yb3RhdGlvbi5hc0FycmF5KCkpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KGt0Lk5BTUVfUEhZU0lDU0VOR0lORSkpe3ZhciBzPXUuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7cyYmKGYucGh5c2ljc01hc3M9cy5nZXRQYXJhbSgibWFzcyIpLGYucGh5c2ljc0ZyaWN0aW9uPXMuZ2V0UGFyYW0oImZyaWN0aW9uIiksZi5waHlzaWNzUmVzdGl0dXRpb249cy5nZXRQYXJhbSgibWFzcyIpLGYucGh5c2ljc0ltcG9zdG9yPXMudHlwZSl9dS5tZXRhZGF0YSYmKGYubWV0YWRhdGE9dS5tZXRhZGF0YSksdC5pbnN0YW5jZXMucHVzaChmKSxZLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHUsZiksZi5yYW5nZXM9dS5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKX19aWYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQmJnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEmJih0LnRoaW5JbnN0YW5jZXM9e2luc3RhbmNlc0NvdW50OnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50LG1hdHJpeERhdGE6aWUuU2xpY2VUb0FycmF5KHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEpLG1hdHJpeEJ1ZmZlclNpemU6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZSxlbmFibGVQaWNraW5nOnRoaXMudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZ30sdGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlKSl7dmFyIGw9e2RhdGE6e30sc2l6ZXM6e30sc3RyaWRlczp7fX07Zm9yKHZhciBoIGluIHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhKWwuZGF0YVtoXT1pZS5TbGljZVRvQXJyYXkodGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLmRhdGFbaF0pLGwuc2l6ZXNbaF09dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnNpemVzW2hdLGwuc3RyaWRlc1toXT10aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1toXTt0LnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZT1sfVkuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0LnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLHQubGF5ZXJNYXNrPXRoaXMubGF5ZXJNYXNrLHQuYWxwaGFJbmRleD10aGlzLmFscGhhSW5kZXgsdC5oYXNWZXJ0ZXhBbHBoYT10aGlzLmhhc1ZlcnRleEFscGhhLHQub3ZlcmxheUFscGhhPXRoaXMub3ZlcmxheUFscGhhLHQub3ZlcmxheUNvbG9yPXRoaXMub3ZlcmxheUNvbG9yLmFzQXJyYXkoKSx0LnJlbmRlck92ZXJsYXk9dGhpcy5yZW5kZXJPdmVybGF5LHQuYXBwbHlGb2c9dGhpcy5hcHBseUZvZyx0aGlzLmFjdGlvbk1hbmFnZXImJih0LmFjdGlvbnM9dGhpcy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZSh0aGlzLm5hbWUpKX0sZS5wcm90b3R5cGUuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXI9ZnVuY3Rpb24oKXtpZighIXRoaXMuZ2VvbWV0cnkpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpO3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcjtpZih0JiZ0LnZlcnRleENvdW50KXtpZih0LnZlcnRleENvdW50IT09dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkpe3ouRXJyb3IoIk1lc2ggaXMgaW5jb21wYXRpYmxlIHdpdGggbW9ycGggdGFyZ2V0cy4gVGFyZ2V0cyBhbmQgbWVzaCBtdXN0IGFsbCBoYXZlIHRoZSBzYW1lIHZlcnRpY2VzIGNvdW50LiIpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGw7cmV0dXJufWlmKHQuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtmb3IodmFyIHI9MDtyPHQubnVtSW5mbHVlbmNlcnM7cisrKXt2YXIgbj10LmdldEFjdGl2ZVRhcmdldChyKSxhPW4uZ2V0UG9zaXRpb25zKCk7aWYoIWEpe3ouRXJyb3IoIkludmFsaWQgbW9ycGggdGFyZ2V0LiBUYXJnZXQgbXVzdCBoYXZlIHBvc2l0aW9ucy4iKTtyZXR1cm59dGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQrcixhLCExLDMpO3ZhciBzPW4uZ2V0Tm9ybWFscygpO3MmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCtyLHMsITEsMyk7dmFyIG89bi5nZXRUYW5nZW50cygpO28mJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGIuVGFuZ2VudEtpbmQrcixvLCExLDMpO3ZhciB1PW4uZ2V0VVZzKCk7dSYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoYi5VVktpbmQrIl8iK3IsdSwhMSwyKX19ZWxzZSBmb3IodmFyIHI9MDt0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChiLlBvc2l0aW9uS2luZCtyKTspdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQrciksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5Ob3JtYWxLaW5kK3IpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShiLk5vcm1hbEtpbmQrciksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5UYW5nZW50S2luZCtyKSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoYi5UYW5nZW50S2luZCtyKSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChiLlVWS2luZCtyKSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoYi5VVktpbmQrIl8iK3IpLHIrK319LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe3ZhciBhO2lmKHQudHlwZSYmdC50eXBlPT09IkxpbmVzTWVzaCI/YT1lLl9MaW5lc01lc2hQYXJzZXIodCxyKTp0LnR5cGUmJnQudHlwZT09PSJHcm91bmRNZXNoIj9hPWUuX0dyb3VuZE1lc2hQYXJzZXIodCxyKTp0LnR5cGUmJnQudHlwZT09PSJHb2xkYmVyZ01lc2giP2E9ZS5fR29sZGJlcmdNZXNoUGFyc2VyKHQscik6YT1uZXcgZSh0Lm5hbWUsciksYS5pZD10LmlkLHNlJiZzZS5BZGRUYWdzVG8oYSx0LnRhZ3MpLGEucG9zaXRpb249RS5Gcm9tQXJyYXkodC5wb3NpdGlvbiksdC5tZXRhZGF0YSE9PXZvaWQgMCYmKGEubWV0YWRhdGE9dC5tZXRhZGF0YSksdC5yb3RhdGlvblF1YXRlcm5pb24/YS5yb3RhdGlvblF1YXRlcm5pb249ZWUuRnJvbUFycmF5KHQucm90YXRpb25RdWF0ZXJuaW9uKTp0LnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1FLkZyb21BcnJheSh0LnJvdGF0aW9uKSksYS5zY2FsaW5nPUUuRnJvbUFycmF5KHQuc2NhbGluZyksdC5sb2NhbE1hdHJpeD9hLnNldFByZVRyYW5zZm9ybU1hdHJpeChJLkZyb21BcnJheSh0LmxvY2FsTWF0cml4KSk6dC5waXZvdE1hdHJpeCYmYS5zZXRQaXZvdE1hdHJpeChJLkZyb21BcnJheSh0LnBpdm90TWF0cml4KSksYS5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxhLmlzVmlzaWJsZT10LmlzVmlzaWJsZSxhLmluZmluaXRlRGlzdGFuY2U9dC5pbmZpbml0ZURpc3RhbmNlLGEuc2hvd0JvdW5kaW5nQm94PXQuc2hvd0JvdW5kaW5nQm94LGEuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PXQuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94LHQuYXBwbHlGb2chPT12b2lkIDAmJihhLmFwcGx5Rm9nPXQuYXBwbHlGb2cpLHQucGlja2FibGUhPT12b2lkIDAmJihhLmlzUGlja2FibGU9dC5waWNrYWJsZSksdC5hbHBoYUluZGV4IT09dm9pZCAwJiYoYS5hbHBoYUluZGV4PXQuYWxwaGFJbmRleCksYS5yZWNlaXZlU2hhZG93cz10LnJlY2VpdmVTaGFkb3dzLGEuYmlsbGJvYXJkTW9kZT10LmJpbGxib2FyZE1vZGUsdC52aXNpYmlsaXR5IT09dm9pZCAwJiYoYS52aXNpYmlsaXR5PXQudmlzaWJpbGl0eSksYS5jaGVja0NvbGxpc2lvbnM9dC5jaGVja0NvbGxpc2lvbnMsYS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPXQub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0LmlzQmxvY2tlciE9PXZvaWQgMCYmKGEuaXNCbG9ja2VyPXQuaXNCbG9ja2VyKSxhLl9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPXQudXNlRmxhdFNoYWRpbmcsdC5mcmVlemVXb3JsZE1hdHJpeCYmKGEuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PXQuZnJlZXplV29ybGRNYXRyaXgpLHQucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCksdC5hY3Rpb25zIT09dm9pZCAwJiYoYS5fd2FpdGluZ0RhdGEuYWN0aW9ucz10LmFjdGlvbnMpLHQub3ZlcmxheUFscGhhIT09dm9pZCAwJiYoYS5vdmVybGF5QWxwaGE9dC5vdmVybGF5QWxwaGEpLHQub3ZlcmxheUNvbG9yIT09dm9pZCAwJiYoYS5vdmVybGF5Q29sb3I9cGUuRnJvbUFycmF5KHQub3ZlcmxheUNvbG9yKSksdC5yZW5kZXJPdmVybGF5IT09dm9pZCAwJiYoYS5yZW5kZXJPdmVybGF5PXQucmVuZGVyT3ZlcmxheSksYS5pc1VuSW5kZXhlZD0hIXQuaXNVbkluZGV4ZWQsYS5oYXNWZXJ0ZXhBbHBoYT10Lmhhc1ZlcnRleEFscGhhLHQuZGVsYXlMb2FkaW5nRmlsZT8oYS5kZWxheUxvYWRTdGF0ZT00LGEuZGVsYXlMb2FkaW5nRmlsZT1uK3QuZGVsYXlMb2FkaW5nRmlsZSxhLmJ1aWxkQm91bmRpbmdJbmZvKEUuRnJvbUFycmF5KHQuYm91bmRpbmdCb3hNaW5pbXVtKSxFLkZyb21BcnJheSh0LmJvdW5kaW5nQm94TWF4aW11bSkpLHQuX2JpbmFyeUluZm8mJihhLl9iaW5hcnlJbmZvPXQuX2JpbmFyeUluZm8pLGEuX2RlbGF5SW5mbz1bXSx0Lmhhc1VWcyYmYS5fZGVsYXlJbmZvLnB1c2goYi5VVktpbmQpLHQuaGFzVVZzMiYmYS5fZGVsYXlJbmZvLnB1c2goYi5VVjJLaW5kKSx0Lmhhc1VWczMmJmEuX2RlbGF5SW5mby5wdXNoKGIuVVYzS2luZCksdC5oYXNVVnM0JiZhLl9kZWxheUluZm8ucHVzaChiLlVWNEtpbmQpLHQuaGFzVVZzNSYmYS5fZGVsYXlJbmZvLnB1c2goYi5VVjVLaW5kKSx0Lmhhc1VWczYmJmEuX2RlbGF5SW5mby5wdXNoKGIuVVY2S2luZCksdC5oYXNDb2xvcnMmJmEuX2RlbGF5SW5mby5wdXNoKGIuQ29sb3JLaW5kKSx0Lmhhc01hdHJpY2VzSW5kaWNlcyYmYS5fZGVsYXlJbmZvLnB1c2goYi5NYXRyaWNlc0luZGljZXNLaW5kKSx0Lmhhc01hdHJpY2VzV2VpZ2h0cyYmYS5fZGVsYXlJbmZvLnB1c2goYi5NYXRyaWNlc1dlaWdodHNLaW5kKSxhLl9kZWxheUxvYWRpbmdGdW5jdGlvbj15dC5fSW1wb3J0R2VvbWV0cnksZXQuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwmJmEuX2NoZWNrRGVsYXlTdGF0ZSgpKTp5dC5fSW1wb3J0R2VvbWV0cnkodCxhKSx0Lm1hdGVyaWFsVW5pcXVlSWQ/YS5fd2FpdGluZ01hdGVyaWFsSWQ9dC5tYXRlcmlhbFVuaXF1ZUlkOnQubWF0ZXJpYWxJZCYmKGEuX3dhaXRpbmdNYXRlcmlhbElkPXQubWF0ZXJpYWxJZCksdC5tb3JwaFRhcmdldE1hbmFnZXJJZD4tMSYmKGEubW9ycGhUYXJnZXRNYW5hZ2VyPXIuZ2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZCh0Lm1vcnBoVGFyZ2V0TWFuYWdlcklkKSksdC5za2VsZXRvbklkIT09dm9pZCAwJiZ0LnNrZWxldG9uSWQhPT1udWxsJiYoYS5za2VsZXRvbj1yLmdldExhc3RTa2VsZXRvbkJ5SWQodC5za2VsZXRvbklkKSx0Lm51bUJvbmVJbmZsdWVuY2VycyYmKGEubnVtQm9uZUluZmx1ZW5jZXJzPXQubnVtQm9uZUluZmx1ZW5jZXJzKSksdC5hbmltYXRpb25zKXtmb3IodmFyIHM9MDtzPHQuYW5pbWF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz10LmFuaW1hdGlvbnNbc10sdT1SdCgiQkFCWUxPTi5BbmltYXRpb24iKTt1JiZhLmFuaW1hdGlvbnMucHVzaCh1LlBhcnNlKG8pKX1IZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhhLHQscil9aWYodC5hdXRvQW5pbWF0ZSYmci5iZWdpbkFuaW1hdGlvbihhLHQuYXV0b0FuaW1hdGVGcm9tLHQuYXV0b0FuaW1hdGVUbyx0LmF1dG9BbmltYXRlTG9vcCx0LmF1dG9BbmltYXRlU3BlZWR8fDEpLHQubGF5ZXJNYXNrJiYhaXNOYU4odC5sYXllck1hc2spP2EubGF5ZXJNYXNrPU1hdGguYWJzKHBhcnNlSW50KHQubGF5ZXJNYXNrKSk6YS5sYXllck1hc2s9MjY4NDM1NDU1LHQucGh5c2ljc0ltcG9zdG9yJiZlLl9QaHlzaWNzSW1wb3N0b3JQYXJzZXIocixhLHQpLHQubG9kTWVzaElkcyYmKGEuX3dhaXRpbmdEYXRhLmxvZHM9e2lkczp0LmxvZE1lc2hJZHMsZGlzdGFuY2VzOnQubG9kRGlzdGFuY2VzP3QubG9kRGlzdGFuY2VzOm51bGwsY292ZXJhZ2VzOnQubG9kQ292ZXJhZ2VzP3QubG9kQ292ZXJhZ2VzOm51bGx9KSx0Lmluc3RhbmNlcylmb3IodmFyIGY9MDtmPHQuaW5zdGFuY2VzLmxlbmd0aDtmKyspe3ZhciBsPXQuaW5zdGFuY2VzW2ZdLGg9YS5jcmVhdGVJbnN0YW5jZShsLm5hbWUpO2lmKGwuaWQmJihoLmlkPWwuaWQpLHNlJiYobC50YWdzP3NlLkFkZFRhZ3NUbyhoLGwudGFncyk6c2UuQWRkVGFnc1RvKGgsdC50YWdzKSksaC5wb3NpdGlvbj1FLkZyb21BcnJheShsLnBvc2l0aW9uKSxsLm1ldGFkYXRhIT09dm9pZCAwJiYoaC5tZXRhZGF0YT1sLm1ldGFkYXRhKSxsLnBhcmVudElkIT09dm9pZCAwJiYoaC5fd2FpdGluZ1BhcmVudElkPWwucGFyZW50SWQpLGwuaXNFbmFibGVkIT09dm9pZCAwJiZsLmlzRW5hYmxlZCE9PW51bGwmJmguc2V0RW5hYmxlZChsLmlzRW5hYmxlZCksbC5pc1Zpc2libGUhPT12b2lkIDAmJmwuaXNWaXNpYmxlIT09bnVsbCYmKGguaXNWaXNpYmxlPWwuaXNWaXNpYmxlKSxsLmlzUGlja2FibGUhPT12b2lkIDAmJmwuaXNQaWNrYWJsZSE9PW51bGwmJihoLmlzUGlja2FibGU9bC5pc1BpY2thYmxlKSxsLnJvdGF0aW9uUXVhdGVybmlvbj9oLnJvdGF0aW9uUXVhdGVybmlvbj1lZS5Gcm9tQXJyYXkobC5yb3RhdGlvblF1YXRlcm5pb24pOmwucm90YXRpb24mJihoLnJvdGF0aW9uPUUuRnJvbUFycmF5KGwucm90YXRpb24pKSxoLnNjYWxpbmc9RS5Gcm9tQXJyYXkobC5zY2FsaW5nKSxsLmNoZWNrQ29sbGlzaW9ucyE9bnVsbCYmbC5jaGVja0NvbGxpc2lvbnMhPW51bGwmJihoLmNoZWNrQ29sbGlzaW9ucz1sLmNoZWNrQ29sbGlzaW9ucyksbC5waWNrYWJsZSE9bnVsbCYmbC5waWNrYWJsZSE9bnVsbCYmKGguaXNQaWNrYWJsZT1sLnBpY2thYmxlKSxsLnNob3dCb3VuZGluZ0JveCE9bnVsbCYmbC5zaG93Qm91bmRpbmdCb3ghPW51bGwmJihoLnNob3dCb3VuZGluZ0JveD1sLnNob3dCb3VuZGluZ0JveCksbC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJmwuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoaC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9bC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3gpLGwuYWxwaGFJbmRleCE9bnVsbCYmbC5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJihoLmFscGhhSW5kZXg9bC5hbHBoYUluZGV4KSxsLnBoeXNpY3NJbXBvc3RvciYmZS5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHIsaCxsKSxsLmFuaW1hdGlvbnMpe2ZvcihzPTA7czxsLmFuaW1hdGlvbnMubGVuZ3RoO3MrKyl7bz1sLmFuaW1hdGlvbnNbc107dmFyIHU9UnQoIkJBQllMT04uQW5pbWF0aW9uIik7dSYmaC5hbmltYXRpb25zLnB1c2godS5QYXJzZShvKSl9SGUuUGFyc2VBbmltYXRpb25SYW5nZXMoaCxsLHIpLGwuYXV0b0FuaW1hdGUmJnIuYmVnaW5BbmltYXRpb24oaCxsLmF1dG9BbmltYXRlRnJvbSxsLmF1dG9BbmltYXRlVG8sbC5hdXRvQW5pbWF0ZUxvb3AsbC5hdXRvQW5pbWF0ZVNwZWVkfHwxKX19aWYodC50aGluSW5zdGFuY2VzKXt2YXIgYz10LnRoaW5JbnN0YW5jZXM7aWYoYS50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nPSEhYy5lbmFibGVQaWNraW5nLGMubWF0cml4RGF0YT8oYS50aGluSW5zdGFuY2VTZXRCdWZmZXIoIm1hdHJpeCIsbmV3IEZsb2F0MzJBcnJheShjLm1hdHJpeERhdGEpLDE2LCExKSxhLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPWMubWF0cml4QnVmZmVyU2l6ZSxhLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudD1jLmluc3RhbmNlc0NvdW50KTphLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplPWMubWF0cml4QnVmZmVyU2l6ZSx0LnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZSl7dmFyIGQ9dC50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2U7Zm9yKHZhciBwIGluIGQuZGF0YSlhLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcihwLG5ldyBGbG9hdDMyQXJyYXkoZC5kYXRhW3BdKSxkLnN0cmlkZXNbcF0sITEpLGEuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1twXT1kLnNpemVzW3BdfX1yZXR1cm4gYX0sZS5wcm90b3R5cGUuc2V0UG9zaXRpb25zRm9yQ1BVU2tpbm5pbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighdC5fc291cmNlUG9zaXRpb25zKXt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCk7aWYoIXIpcmV0dXJuIHQuX3NvdXJjZVBvc2l0aW9uczt0Ll9zb3VyY2VQb3NpdGlvbnM9bmV3IEZsb2F0MzJBcnJheShyKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGIuUG9zaXRpb25LaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQsciwhMCl9cmV0dXJuIHQuX3NvdXJjZVBvc2l0aW9uc30sZS5wcm90b3R5cGUuc2V0Tm9ybWFsc0ZvckNQVVNraW5uaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIXQuX3NvdXJjZU5vcm1hbHMpe3ZhciByPXRoaXMuZ2V0VmVydGljZXNEYXRhKGIuTm9ybWFsS2luZCk7aWYoIXIpcmV0dXJuIHQuX3NvdXJjZU5vcm1hbHM7dC5fc291cmNlTm9ybWFscz1uZXcgRmxvYXQzMkFycmF5KHIpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoYi5Ob3JtYWxLaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kLHIsITApfXJldHVybiB0Ll9zb3VyY2VOb3JtYWxzfSxlLnByb3RvdHlwZS5hcHBseVNrZWxldG9uPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPT10aGlzLmdldFNjZW5lKCkuZ2V0RnJhbWVJZCgpKXJldHVybiB0aGlzO2lmKHRoaXMuZ2VvbWV0cnkuX3NvZnR3YXJlU2tpbm5pbmdGcmFtZUlkPXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCksIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5NYXRyaWNlc0luZGljZXNLaW5kKSlyZXR1cm4gdGhpcztpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5NYXRyaWNlc1dlaWdodHNLaW5kKSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk5vcm1hbEtpbmQpLG49dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIW4uX3NvdXJjZVBvc2l0aW9ucyl7dmFyIGE9dGhpcy5zdWJNZXNoZXMuc2xpY2UoKTt0aGlzLnNldFBvc2l0aW9uc0ZvckNQVVNraW5uaW5nKCksdGhpcy5zdWJNZXNoZXM9YX1yJiYhbi5fc291cmNlTm9ybWFscyYmdGhpcy5zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmcoKTt2YXIgcz10aGlzLmdldFZlcnRpY2VzRGF0YShiLlBvc2l0aW9uS2luZCk7aWYoIXMpcmV0dXJuIHRoaXM7cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHM9bmV3IEZsb2F0MzJBcnJheShzKSk7dmFyIG89dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kKTtpZihyKXtpZighbylyZXR1cm4gdGhpcztvIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwobz1uZXcgRmxvYXQzMkFycmF5KG8pKX12YXIgdT10aGlzLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGY9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYi5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZighZnx8IXUpcmV0dXJuIHRoaXM7Zm9yKHZhciBsPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzPjQsaD1sP3RoaXMuZ2V0VmVydGljZXNEYXRhKGIuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTpudWxsLGM9bD90aGlzLmdldFZlcnRpY2VzRGF0YShiLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk6bnVsbCxkPXQuZ2V0VHJhbnNmb3JtTWF0cmljZXModGhpcykscD1FLlplcm8oKSxfPW5ldyBJLGc9bmV3IEksbT0wLHYsUz0wO1M8cy5sZW5ndGg7Uys9MyxtKz00KXt2YXIgTTtmb3Iodj0wO3Y8NDt2KyspTT1mW20rdl0sTT4wJiYoSS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQoZCxNYXRoLmZsb29yKHVbbSt2XSoxNiksTSxnKSxfLmFkZFRvU2VsZihnKSk7aWYobClmb3Iodj0wO3Y8NDt2KyspTT1jW20rdl0sTT4wJiYoSS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQoZCxNYXRoLmZsb29yKGhbbSt2XSoxNiksTSxnKSxfLmFkZFRvU2VsZihnKSk7RS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihuLl9zb3VyY2VQb3NpdGlvbnNbU10sbi5fc291cmNlUG9zaXRpb25zW1MrMV0sbi5fc291cmNlUG9zaXRpb25zW1MrMl0sXyxwKSxwLnRvQXJyYXkocyxTKSxyJiYoRS5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYobi5fc291cmNlTm9ybWFsc1tTXSxuLl9zb3VyY2VOb3JtYWxzW1MrMV0sbi5fc291cmNlTm9ybWFsc1tTKzJdLF8scCkscC50b0FycmF5KG8sUykpLF8ucmVzZXQoKX1yZXR1cm4gdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoYi5Qb3NpdGlvbktpbmQscyksciYmdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoYi5Ob3JtYWxLaW5kLG8pLHRoaXN9LGUuTWluTWF4PWZ1bmN0aW9uKHQpe3ZhciByPW51bGwsbj1udWxsO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIHM9YS5nZXRCb3VuZGluZ0luZm8oKSxvPXMuYm91bmRpbmdCb3g7IXJ8fCFuPyhyPW8ubWluaW11bVdvcmxkLG49by5tYXhpbXVtV29ybGQpOihyLm1pbmltaXplSW5QbGFjZShvLm1pbmltdW1Xb3JsZCksbi5tYXhpbWl6ZUluUGxhY2Uoby5tYXhpbXVtV29ybGQpKX0pLCFyfHwhbj97bWluOkUuWmVybygpLG1heDpFLlplcm8oKX06e21pbjpyLG1heDpufX0sZS5DZW50ZXI9ZnVuY3Rpb24odCl7dmFyIHI9dCBpbnN0YW5jZW9mIEFycmF5P2UuTWluTWF4KHQpOnQ7cmV0dXJuIEUuQ2VudGVyKHIubWluLHIubWF4KX0sZS5NZXJnZU1lc2hlcz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSwkcihlLl9NZXJnZU1lc2hlc0Nvcm91dGluZSh0LHIsbixhLHMsbywhMSkpfSxlLk1lcmdlTWVzaGVzQXN5bmM9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe3JldHVybiByPT09dm9pZCAwJiYocj0hMCksYmEoZS5fTWVyZ2VNZXNoZXNDb3JvdXRpbmUodCxyLG4sYSxzLG8sITApLHlhKCkpfSxlLl9NZXJnZU1lc2hlc0Nvcm91dGluZT1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt2YXIgZixsLGgsYyxkLHAsXyxnLG0sdixTLE0sQSxSLHksQyx3LEYsRCxYLFcsTixqLEssYWUscTtyZXR1cm4gcj09PXZvaWQgMCYmKHI9ITApLHd0KHRoaXMsZnVuY3Rpb24oWil7c3dpdGNoKFoubGFiZWwpe2Nhc2UgMDppZih0PXQuZmlsdGVyKEJvb2xlYW4pLHQubGVuZ3RoPT09MClyZXR1cm5bMixudWxsXTtpZighbil7Zm9yKGw9MCxmPTA7Zjx0Lmxlbmd0aDtmKyspaWYobCs9dFtmXS5nZXRUb3RhbFZlcnRpY2VzKCksbD49NjU1MzYpcmV0dXJuIHouV2FybigiQ2Fubm90IG1lcmdlIG1lc2hlcyBiZWNhdXNlIHJlc3VsdGluZyBtZXNoIHdpbGwgaGF2ZSBtb3JlIHRoYW4gNjU1MzYgdmVydGljZXMuIFBsZWFzZSB1c2UgYWxsb3czMkJpdHNJbmRpY2VzID0gdHJ1ZSB0byB1c2UgMzIgYml0cyBpbmRpY2VzIiksWzIsbnVsbF19Zm9yKG8mJihoPW51bGwscz0hMSkscD1uZXcgQXJyYXksXz1uZXcgQXJyYXksZz1uZXcgQXJyYXksZj0wO2Y8dC5sZW5ndGg7ZisrKXtpZihtPXRbZl0sbS5pc0FuSW5zdGFuY2UpcmV0dXJuIHouV2FybigiQ2Fubm90IG1lcmdlIGluc3RhbmNlIG1lc2hlcy4iKSxbMixudWxsXTtpZihzJiZnLnB1c2gobS5nZXRUb3RhbEluZGljZXMoKSksbylpZihtLm1hdGVyaWFsKWlmKHY9bS5tYXRlcmlhbCx2IGluc3RhbmNlb2YgaWkpe2ZvcihkPTA7ZDx2LnN1Yk1hdGVyaWFscy5sZW5ndGg7ZCsrKXAuaW5kZXhPZih2LnN1Yk1hdGVyaWFsc1tkXSk8MCYmcC5wdXNoKHYuc3ViTWF0ZXJpYWxzW2RdKTtmb3IoYz0wO2M8bS5zdWJNZXNoZXMubGVuZ3RoO2MrKylfLnB1c2gocC5pbmRleE9mKHYuc3ViTWF0ZXJpYWxzW20uc3ViTWVzaGVzW2NdLm1hdGVyaWFsSW5kZXhdKSksZy5wdXNoKG0uc3ViTWVzaGVzW2NdLmluZGV4Q291bnQpfWVsc2UgZm9yKHAuaW5kZXhPZih2KTwwJiZwLnB1c2godiksYz0wO2M8bS5zdWJNZXNoZXMubGVuZ3RoO2MrKylfLnB1c2gocC5pbmRleE9mKHYpKSxnLnB1c2gobS5zdWJNZXNoZXNbY10uaW5kZXhDb3VudCk7ZWxzZSBmb3IoYz0wO2M8bS5zdWJNZXNoZXMubGVuZ3RoO2MrKylfLnB1c2goMCksZy5wdXNoKG0uc3ViTWVzaGVzW2NdLmluZGV4Q291bnQpfXJldHVybiBTPXRbMF0sTT1mdW5jdGlvbihtZSl7dmFyIHhlPW1lLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksTmU9bGUuRXh0cmFjdEZyb21NZXNoKG1lLCExLCExKTtyZXR1cm5bTmUseGVdfSxBPU0oUyksUj1BWzBdLHk9QVsxXSx1P1s0XTpbMywyXTtjYXNlIDE6Wi5zZW50KCksWi5sYWJlbD0yO2Nhc2UgMjpDPW5ldyBBcnJheSh0Lmxlbmd0aC0xKSx3PTEsWi5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gdzx0Lmxlbmd0aD8oQ1t3LTFdPU0odFt3XSksdT9bNF06WzMsNV0pOlszLDZdO2Nhc2UgNDpaLnNlbnQoKSxaLmxhYmVsPTU7Y2FzZSA1OnJldHVybiB3KyssWzMsM107Y2FzZSA2OkY9Ui5fbWVyZ2VDb3JvdXRpbmUoeSxDLG4sdSwhciksRD1GLm5leHQoKSxaLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBELmRvbmU/WzMsMTBdOnU/WzRdOlszLDldO2Nhc2UgODpaLnNlbnQoKSxaLmxhYmVsPTk7Y2FzZSA5OnJldHVybiBEPUYubmV4dCgpLFszLDddO2Nhc2UgMTA6WD1ELnZhbHVlLGF8fChhPW5ldyBlKFMubmFtZSsiX21lcmdlZCIsUy5nZXRTY2VuZSgpKSksVz1YLl9hcHBseVRvQ29yb3V0aW5lKGEsdm9pZCAwLHUpLE49Vy5uZXh0KCksWi5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBOLmRvbmU/WzMsMTRdOnU/WzRdOlszLDEzXTtjYXNlIDEyOlouc2VudCgpLFoubGFiZWw9MTM7Y2FzZSAxMzpyZXR1cm4gTj1XLm5leHQoKSxbMywxMV07Y2FzZSAxNDppZihhLmNoZWNrQ29sbGlzaW9ucz1TLmNoZWNrQ29sbGlzaW9ucyxhLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249Uy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHIpZm9yKGY9MDtmPHQubGVuZ3RoO2YrKyl0W2ZdLmRpc3Bvc2UoKTtpZihzfHxvKXtmb3IoYS5yZWxlYXNlU3ViTWVzaGVzKCksZj0wLGo9MDtmPGcubGVuZ3RoOyltdC5DcmVhdGVGcm9tSW5kaWNlcygwLGosZ1tmXSxhLHZvaWQgMCwhMSksais9Z1tmXSxmKys7Zm9yKEs9MCxhZT1hLnN1Yk1lc2hlcztLPGFlLmxlbmd0aDtLKyspcT1hZVtLXSxxLnJlZnJlc2hCb3VuZGluZ0luZm8oKTthLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9aWYobyl7Zm9yKGg9bmV3IGlpKFMubmFtZSsiX21lcmdlZCIsUy5nZXRTY2VuZSgpKSxoLnN1Yk1hdGVyaWFscz1wLGM9MDtjPGEuc3ViTWVzaGVzLmxlbmd0aDtjKyspYS5zdWJNZXNoZXNbY10ubWF0ZXJpYWxJbmRleD1fW2NdO2EubWF0ZXJpYWw9aH1lbHNlIGEubWF0ZXJpYWw9Uy5tYXRlcmlhbDtyZXR1cm5bMixhXX19KX0sZS5wcm90b3R5cGUuYWRkSW5zdGFuY2U9ZnVuY3Rpb24odCl7dC5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PXRoaXMuaW5zdGFuY2VzLmxlbmd0aCx0aGlzLmluc3RhbmNlcy5wdXNoKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVJbnN0YW5jZT1mdW5jdGlvbih0KXt2YXIgcj10Ll9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk7aWYociE9LTEpe2lmKHIhPT10aGlzLmluc3RhbmNlcy5sZW5ndGgtMSl7dmFyIG49dGhpcy5pbnN0YW5jZXNbdGhpcy5pbnN0YW5jZXMubGVuZ3RoLTFdO3RoaXMuaW5zdGFuY2VzW3JdPW4sbi5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PXJ9dC5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PS0xLHRoaXMuaW5zdGFuY2VzLnBvcCgpfX0sZS5wcm90b3R5cGUuX3Nob3VsZENvbnZlcnRSSFM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09RGUuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbn0sZS5GUk9OVFNJREU9bGUuRlJPTlRTSURFLGUuQkFDS1NJREU9bGUuQkFDS1NJREUsZS5ET1VCTEVTSURFPWxlLkRPVUJMRVNJREUsZS5ERUZBVUxUU0lERT1sZS5ERUZBVUxUU0lERSxlLk5PX0NBUD0wLGUuQ0FQX1NUQVJUPTEsZS5DQVBfRU5EPTIsZS5DQVBfQUxMPTMsZS5OT19GTElQPTAsZS5GTElQX1RJTEU9MSxlLlJPVEFURV9USUxFPTIsZS5GTElQX1JPVz0zLGUuUk9UQVRFX1JPVz00LGUuRkxJUF9OX1JPVEFURV9USUxFPTUsZS5GTElQX05fUk9UQVRFX1JPVz02LGUuQ0VOVEVSPTAsZS5MRUZUPTEsZS5SSUdIVD0yLGUuVE9QPTMsZS5CT1RUT009NCxlLklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVD0hMSxlLl9Hcm91bmRNZXNoUGFyc2VyPWZ1bmN0aW9uKHQscil7dGhyb3cgVSgiR3JvdW5kTWVzaCIpfSxlLl9Hb2xkYmVyZ01lc2hQYXJzZXI9ZnVuY3Rpb24odCxyKXt0aHJvdyBVKCJHb2xkYmVyZ01lc2giKX0sZS5fTGluZXNNZXNoUGFyc2VyPWZ1bmN0aW9uKHQscil7dGhyb3cgVSgiTGluZXNNZXNoIil9LGV9KHJpKTtPZSgiQkFCWUxPTi5NZXNoIixVZSksSWEoVWUpO3ZhciBsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7ZT09PXZvaWQgMCYmKGU9MCksdGhpcy5wcmlvcml0eT1lfXJldHVybiBpLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiIifSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlLHQpe3JldHVybiEwfSxpfSgpLG5pPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0xMDI0KSxuPT09dm9pZCAwJiYobj0uNSk7dmFyIGE9aS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIGEucHJpb3JpdHk9dCxhLm1heGltdW1TaXplPXIsYS5zdGVwPW4sYX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iUmVkdWNpbmcgcmVuZGVyIHRhcmdldCB0ZXh0dXJlIHNpemUgdG8gIit0aGlzLm1heGltdW1TaXplfSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj0hMCxhPTA7YTx0LnRleHR1cmVzLmxlbmd0aDthKyspe3ZhciBzPXQudGV4dHVyZXNbYV07aWYoISghcy5jYW5SZXNjYWxlfHxzLmdldENvbnRleHQpKXt2YXIgbz1zLmdldFNpemUoKSx1PU1hdGgubWF4KG8ud2lkdGgsby5oZWlnaHQpO3U+dGhpcy5tYXhpbXVtU2l6ZSYmKHMuc2NhbGUodGhpcy5zdGVwKSxuPSExKX19cmV0dXJuIG59LGV9KGx0KSxubj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9Miksbj09PXZvaWQgMCYmKG49LjI1KTt2YXIgYT1pLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gYS5wcmlvcml0eT10LGEubWF4aW11bVNjYWxlPXIsYS5zdGVwPW4sYS5fY3VycmVudFNjYWxlPS0xLGEuX2RpcmVjdGlvbk9mZnNldD0xLGF9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlNldHRpbmcgaGFyZHdhcmUgc2NhbGluZyBsZXZlbCB0byAiK3RoaXMuX2N1cnJlbnRTY2FsZX0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fY3VycmVudFNjYWxlPT09LTEmJih0aGlzLl9jdXJyZW50U2NhbGU9dC5nZXRFbmdpbmUoKS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLHRoaXMuX2N1cnJlbnRTY2FsZT50aGlzLm1heGltdW1TY2FsZSYmKHRoaXMuX2RpcmVjdGlvbk9mZnNldD0tMSkpLHRoaXMuX2N1cnJlbnRTY2FsZSs9dGhpcy5fZGlyZWN0aW9uT2Zmc2V0KnRoaXMuc3RlcCx0LmdldEVuZ2luZSgpLnNldEhhcmR3YXJlU2NhbGluZ0xldmVsKHRoaXMuX2N1cnJlbnRTY2FsZSksdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PT09MT90aGlzLl9jdXJyZW50U2NhbGU+PXRoaXMubWF4aW11bVNjYWxlOnRoaXMuX2N1cnJlbnRTY2FsZTw9dGhpcy5tYXhpbXVtU2NhbGV9LGV9KGx0KSxhaT1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlR1cm5pbmcgc2hhZG93cyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnNoYWRvd3NFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0obHQpLHNpPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBwb3N0LXByb2Nlc3NlcyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnBvc3RQcm9jZXNzZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0obHQpLG9pPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBsZW5zIGZsYXJlcyBvbi9vZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LmxlbnNGbGFyZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0obHQpLExhPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbkdldERlc2NyaXB0aW9uP3RoaXMub25HZXREZXNjcmlwdGlvbigpOiJSdW5uaW5nIHVzZXIgZGVmaW5lZCBjYWxsYmFjayJ9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMub25BcHBseT90aGlzLm9uQXBwbHkodCxyKTohMH0sZX0obHQpLHVpPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyBwYXJ0aWNsZXMgb24vb2ZmIn0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5wYXJ0aWNsZXNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0obHQpLGFuPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7cmV0dXJuIGkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iVHVybmluZyByZW5kZXIgdGFyZ2V0cyBvZmYifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0LnJlbmRlclRhcmdldHNFbmFibGVkPXIuaXNJbkltcHJvdmVtZW50TW9kZSwhMH0sZX0obHQpLGZpPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9jYW5CZU1lcmdlZD1mdW5jdGlvbihyKXtpZighKHIgaW5zdGFuY2VvZiBVZSkpcmV0dXJuITE7dmFyIG49cjtyZXR1cm4hKG4uaXNEaXNwb3NlZCgpfHwhbi5pc1Zpc2libGV8fCFuLmlzRW5hYmxlZCgpfHxuLmluc3RhbmNlcy5sZW5ndGg+MHx8bi5za2VsZXRvbnx8bi5oYXNMT0RMZXZlbHMpfSx0fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXBkYXRlU2VsZWN0aW9uVHJlZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLl9VcGRhdGVTZWxlY3Rpb25UcmVlfSxzZXQ6ZnVuY3Rpb24odCl7ZS5fVXBkYXRlU2VsZWN0aW9uVHJlZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIk1lcmdpbmcgc2ltaWxhciBtZXNoZXMgdG9nZXRoZXIifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIsbil7Zm9yKHZhciBhPXQubWVzaGVzLnNsaWNlKDApLHM9YS5sZW5ndGgsbz0wO288cztvKyspe3ZhciB1PW5ldyBBcnJheSxmPWFbb107aWYoISF0aGlzLl9jYW5CZU1lcmdlZChmKSl7dS5wdXNoKGYpO2Zvcih2YXIgbD1vKzE7bDxzO2wrKyl7dmFyIGg9YVtsXTshdGhpcy5fY2FuQmVNZXJnZWQoaCl8fGgubWF0ZXJpYWw9PT1mLm1hdGVyaWFsJiZoLmNoZWNrQ29sbGlzaW9ucz09PWYuY2hlY2tDb2xsaXNpb25zJiYodS5wdXNoKGgpLHMtLSxhLnNwbGljZShsLDEpLGwtLSl9dS5sZW5ndGg8Mnx8VWUuTWVyZ2VNZXNoZXModSx2b2lkIDAsITApfX12YXIgYz10O3JldHVybiBjLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlJiYobiE9bnVsbD9uJiZjLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlKCk6ZS5VcGRhdGVTZWxlY3Rpb25UcmVlJiZjLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlKCkpLCEwfSxlLl9VcGRhdGVTZWxlY3Rpb25UcmVlPSExLGV9KGx0KSxsaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXtlPT09dm9pZCAwJiYoZT02MCksdD09PXZvaWQgMCYmKHQ9MmUzKSx0aGlzLnRhcmdldEZyYW1lUmF0ZT1lLHRoaXMudHJhY2tlckR1cmF0aW9uPXQsdGhpcy5vcHRpbWl6YXRpb25zPW5ldyBBcnJheX1yZXR1cm4gaS5wcm90b3R5cGUuYWRkT3B0aW1pemF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGltaXphdGlvbnMucHVzaChlKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRDdXN0b21PcHRpbWl6YXRpb249ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPTApO3ZhciBuPW5ldyBMYShyKTtyZXR1cm4gbi5vbkFwcGx5PWUsbi5vbkdldERlc2NyaXB0aW9uPXQsdGhpcy5vcHRpbWl6YXRpb25zLnB1c2gobiksdGhpc30saS5Mb3dEZWdyYWRhdGlvbkFsbG93ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoZSkscj0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgZmkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBhaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IG9pKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IHNpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgdWkocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgbmkociwxMDI0KSksdH0saS5Nb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaShlKSxyPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyBmaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IGFpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgb2kocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgc2kocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyB1aShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBuaShyLDUxMikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgYW4ocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgbm4ociwyKSksdH0saS5IaWdoRGVncmFkYXRpb25BbGxvd2VkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKGUpLHI9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IGZpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgYWkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBvaShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBzaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IHVpKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IG5pKHIsMjU2KSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBhbihyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBubihyLDQpKSx0fSxpfSgpLE5hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt2YXIgYT10aGlzO2lmKHI9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj0hMSksdGhpcy5faXNSdW5uaW5nPSExLHRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTAsdGhpcy5fdGFyZ2V0RnJhbWVSYXRlPTYwLHRoaXMuX3RyYWNrZXJEdXJhdGlvbj0yZTMsdGhpcy5fY3VycmVudEZyYW1lUmF0ZT0wLHRoaXMuX2ltcHJvdmVtZW50TW9kZT0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGU9bmV3IE8sdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZT1uZXcgTyx0P3RoaXMuX29wdGlvbnM9dDp0aGlzLl9vcHRpb25zPW5ldyBsaSx0aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSYmKHRoaXMuX3RhcmdldEZyYW1lUmF0ZT10aGlzLl9vcHRpb25zLnRhcmdldEZyYW1lUmF0ZSksdGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24mJih0aGlzLl90cmFja2VyRHVyYXRpb249dGhpcy5fb3B0aW9ucy50cmFja2VyRHVyYXRpb24pLHIpZm9yKHZhciBzPTAsbz0wLHU9dGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2YucHJpb3JpdHk9cysrfXRoaXMuX2ltcHJvdmVtZW50TW9kZT1uLHRoaXMuX3NjZW5lPWV8fEouTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcj10aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe2EuX3NjZW5lRGlzcG9zZU9ic2VydmVyPW51bGwsYS5kaXNwb3NlKCl9KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0luSW1wcm92ZW1lbnRNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcHJvdmVtZW50TW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1cnJlbnRQcmlvcml0eUxldmVsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VycmVudEZyYW1lUmF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50RnJhbWVSYXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidGFyZ2V0RnJhbWVSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldEZyYW1lUmF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3RhcmdldEZyYW1lUmF0ZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidHJhY2tlckR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrZXJEdXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3RyYWNrZXJEdXJhdGlvbj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3B0aW1pemF0aW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcHRpb25zLm9wdGltaXphdGlvbnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2lzUnVubmluZz0hMX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbD0wfSxpLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5faXNSdW5uaW5nfHwodGhpcy5faXNSdW5uaW5nPSEwLHRoaXMuX3NjZW5lLmV4ZWN1dGVXaGVuUmVhZHkoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fY2hlY2tDdXJyZW50U3RhdGUoKX0sZS5fdHJhY2tlckR1cmF0aW9uKX0pKX0saS5wcm90b3R5cGUuX2NoZWNrQ3VycmVudFN0YXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighIXRoaXMuX2lzUnVubmluZyl7dmFyIHQ9dGhpcy5fc2NlbmUscj10aGlzLl9vcHRpb25zO2lmKHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9TWF0aC5yb3VuZCh0LmdldEVuZ2luZSgpLmdldEZwcygpKSx0aGlzLl9pbXByb3ZlbWVudE1vZGUmJnRoaXMuX2N1cnJlbnRGcmFtZVJhdGU8PXRoaXMuX3RhcmdldEZyYW1lUmF0ZXx8IXRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZT49dGhpcy5fdGFyZ2V0RnJhbWVSYXRlKXt0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtyZXR1cm59Zm9yKHZhciBuPSEwLGE9ITAscz0wO3M8ci5vcHRpbWl6YXRpb25zLmxlbmd0aDtzKyspe3ZhciBvPXIub3B0aW1pemF0aW9uc1tzXTtvLnByaW9yaXR5PT09dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWwmJihhPSExLG49biYmby5hcHBseSh0LHRoaXMpLHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobykpfWlmKGEpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1uJiZ0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCsrLHQuZXhlY3V0ZVdoZW5SZWFkeShmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSxlLl90cmFja2VyRHVyYXRpb24pfSl9fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXImJnRoaXMuX3NjZW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyKX0saS5PcHRpbWl6ZUFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPW5ldyBpKGUsdHx8bGkuTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQoKSwhMSk7cmV0dXJuIHImJmEub25TdWNjZXNzT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXtyKCl9KSxuJiZhLm9uRmFpbHVyZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7bigpfSksYS5zdGFydCgpLGF9LGl9KCk7ZnVuY3Rpb24gQmEoaSl7Y29uc3R7ZW5naW5lOmV9PWksdD1uZXcgRWUoZSk7dC5jbGVhckNvbG9yPW5ldyBfZSgwLDAsMCwwKSx0LnBvaW50ZXJNb3ZlUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJEb3duUHJlZGljYXRlPSgpPT4hMSx0LnBvaW50ZXJVcFByZWRpY2F0ZT0oKT0+ITEsdC5jbGVhckNhY2hlZFZlcnRleERhdGEoKTtjb25zdCByPWxpLkxvd0RlZ3JhZGF0aW9uQWxsb3dlZCgpO3JldHVybiByLm9wdGltaXphdGlvbnM9ci5vcHRpbWl6YXRpb25zLnNwbGljZSgxKSxyLnRhcmdldEZyYW1lUmF0ZT02MCxOYS5PcHRpbWl6ZUFzeW5jKHQsciksdH12YXIgVWE9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9ITApO3ZhciBzPWkuY2FsbCh0aGlzLHQscixuLGEpfHx0aGlzO3JldHVybiBzLl90bXBVcFZlY3Rvcj1FLlplcm8oKSxzLl90bXBUYXJnZXRWZWN0b3I9RS5aZXJvKCkscy5jYW1lcmFEaXJlY3Rpb249bmV3IEUoMCwwLDApLHMuY2FtZXJhUm90YXRpb249bmV3IGJlKDAsMCkscy5pZ25vcmVQYXJlbnRTY2FsaW5nPSExLHMudXBkYXRlVXBWZWN0b3JGcm9tUm90YXRpb249ITEscy5fdG1wUXVhdGVybmlvbj1uZXcgZWUscy5yb3RhdGlvbj1uZXcgRSgwLDAsMCkscy5zcGVlZD0yLHMubm9Sb3RhdGlvbkNvbnN0cmFpbnQ9ITEscy5pbnZlcnRSb3RhdGlvbj0hMSxzLmludmVyc2VSb3RhdGlvblNwZWVkPS4yLHMubG9ja2VkVGFyZ2V0PW51bGwscy5fY3VycmVudFRhcmdldD1FLlplcm8oKSxzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT0xLHMuX3ZpZXdNYXRyaXg9SS5aZXJvKCkscy5fY2FtTWF0cml4PUkuWmVybygpLHMuX2NhbWVyYVRyYW5zZm9ybU1hdHJpeD1JLlplcm8oKSxzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeD1JLlplcm8oKSxzLl9yZWZlcmVuY2VQb2ludD1uZXcgRSgwLDAsMSkscy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludD1FLlplcm8oKSxzLl9kZWZhdWx0VXA9RS5VcCgpLHMuX2NhY2hlZFJvdGF0aW9uWj0wLHMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9MCxzfXJldHVybiBlLnByb3RvdHlwZS5nZXRGcm9udFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuZ2V0V29ybGRNYXRyaXgoKTt2YXIgcj10aGlzLmdldFRhcmdldCgpLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pO3JldHVybiByLm5vcm1hbGl6ZSgpLHIuc2NhbGVJblBsYWNlKHQpLHRoaXMuZ2xvYmFsUG9zaXRpb24uYWRkKHIpfSxlLnByb3RvdHlwZS5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWRUYXJnZXQ/KHRoaXMubG9ja2VkVGFyZ2V0LmFic29sdXRlUG9zaXRpb24mJnRoaXMubG9ja2VkVGFyZ2V0LmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMubG9ja2VkVGFyZ2V0LmFic29sdXRlUG9zaXRpb258fHRoaXMubG9ja2VkVGFyZ2V0KTpudWxsfSxlLnByb3RvdHlwZS5zdG9yZVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JlZFBvc2l0aW9uPXRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLl9zdG9yZWRSb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLl9zdG9yZWRSb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksaS5wcm90b3R5cGUuc3RvcmVTdGF0ZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fcmVzdG9yZVN0YXRlVmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIGkucHJvdG90eXBlLl9yZXN0b3JlU3RhdGVWYWx1ZXMuY2FsbCh0aGlzKT8odGhpcy5wb3NpdGlvbj10aGlzLl9zdG9yZWRQb3NpdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb249dGhpcy5fc3RvcmVkUm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3N0b3JlZFJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSx0aGlzLmNhbWVyYURpcmVjdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksdGhpcy5jYW1lcmFSb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDApLCEwKTohMX0sZS5wcm90b3R5cGUuX2luaXRDYWNoZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9pbml0Q2FjaGUuY2FsbCh0aGlzKSx0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9bmV3IEUoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnJvdGF0aW9uPW5ldyBFKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb249bmV3IGVlKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ2FjaGU9ZnVuY3Rpb24odCl7dHx8aS5wcm90b3R5cGUuX3VwZGF0ZUNhY2hlLmNhbGwodGhpcyk7dmFyIHI9dGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKTtyP3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQuY29weUZyb20ocik6dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PXIuY2xvbmUoKTp0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9bnVsbCx0aGlzLl9jYWNoZS5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX0sZS5wcm90b3R5cGUuX2lzU3luY2hyb25pemVkVmlld01hdHJpeD1mdW5jdGlvbigpe2lmKCFpLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4LmNhbGwodGhpcykpcmV0dXJuITE7dmFyIHQ9dGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKTtyZXR1cm4odGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldC5lcXVhbHModCk6IXQpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZXF1YWxzKHRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbik6dGhpcy5fY2FjaGUucm90YXRpb24uZXF1YWxzKHRoaXMucm90YXRpb24pKX0sZS5wcm90b3R5cGUuX2NvbXB1dGVMb2NhbENhbWVyYVNwZWVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5zcGVlZCpNYXRoLnNxcnQodC5nZXREZWx0YVRpbWUoKS8odC5nZXRGcHMoKSoxMDApKX0sZS5wcm90b3R5cGUuc2V0VGFyZ2V0PWZ1bmN0aW9uKHQpe3RoaXMudXBWZWN0b3Iubm9ybWFsaXplKCksdGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2U9dC5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKS5sZW5ndGgoKSx0aGlzLnBvc2l0aW9uLno9PT10LnomJih0aGlzLnBvc2l0aW9uLnorPWZlKSx0aGlzLl9yZWZlcmVuY2VQb2ludC5ub3JtYWxpemUoKS5zY2FsZUluUGxhY2UodGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2UpLEkuTG9va0F0TEhUb1JlZih0aGlzLnBvc2l0aW9uLHQsdGhpcy5fZGVmYXVsdFVwLHRoaXMuX2NhbU1hdHJpeCksdGhpcy5fY2FtTWF0cml4LmludmVydCgpLHRoaXMucm90YXRpb24ueD1NYXRoLmF0YW4odGhpcy5fY2FtTWF0cml4Lm1bNl0vdGhpcy5fY2FtTWF0cml4Lm1bMTBdKTt2YXIgcj10LnN1YnRyYWN0KHRoaXMucG9zaXRpb24pO3IueD49MD90aGlzLnJvdGF0aW9uLnk9LU1hdGguYXRhbihyLnovci54KStNYXRoLlBJLzI6dGhpcy5yb3RhdGlvbi55PS1NYXRoLmF0YW4oci56L3IueCktTWF0aC5QSS8yLHRoaXMucm90YXRpb24uej0wLGlzTmFOKHRoaXMucm90YXRpb24ueCkmJih0aGlzLnJvdGF0aW9uLng9MCksaXNOYU4odGhpcy5yb3RhdGlvbi55KSYmKHRoaXMucm90YXRpb24ueT0wKSxpc05hTih0aGlzLnJvdGF0aW9uLnopJiYodGhpcy5yb3RhdGlvbi56PTApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZlZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUYXJnZXQoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2V0VGFyZ2V0KHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldFRhcmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50VGFyZ2V0fSxlLnByb3RvdHlwZS5fZGVjaWRlSWZOZWVkc1RvTW92ZT1mdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi54KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi55KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi56KT4wfSxlLnByb3RvdHlwZS5fdXBkYXRlUG9zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLnBhcmVudCl7dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZih4Lk1hdHJpeFswXSksRS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmNhbWVyYURpcmVjdGlvbix4Lk1hdHJpeFswXSx4LlZlY3RvcjNbMF0pLHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh4LlZlY3RvcjNbMF0pO3JldHVybn10aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5jYW1lcmFEaXJlY3Rpb24pfSxlLnByb3RvdHlwZS5fY2hlY2tJbnB1dHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmludmVydFJvdGF0aW9uPy10aGlzLmludmVyc2VSb3RhdGlvblNwZWVkOjEscj10aGlzLl9kZWNpZGVJZk5lZWRzVG9Nb3ZlKCksbj1NYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk+MDtpZihyJiZ0aGlzLl91cGRhdGVQb3NpdGlvbigpLG4pe2lmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5yb3RhdGlvbi54Kz10aGlzLmNhbWVyYVJvdGF0aW9uLngqdCx0aGlzLnJvdGF0aW9uLnkrPXRoaXMuY2FtZXJhUm90YXRpb24ueSp0LCF0aGlzLm5vUm90YXRpb25Db25zdHJhaW50KXt2YXIgYT0xLjU3MDc5Njt0aGlzLnJvdGF0aW9uLng+YSYmKHRoaXMucm90YXRpb24ueD1hKSx0aGlzLnJvdGF0aW9uLng8LWEmJih0aGlzLnJvdGF0aW9uLng9LWEpfWlmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKXt2YXIgcz10aGlzLnJvdGF0aW9uLmxlbmd0aFNxdWFyZWQoKTtzJiZlZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX19ciYmKE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPHRoaXMuc3BlZWQqZmUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPHRoaXMuc3BlZWQqZmUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi55PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPHRoaXMuc3BlZWQqZmUmJih0aGlzLmNhbWVyYURpcmVjdGlvbi56PTApLHRoaXMuY2FtZXJhRGlyZWN0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxuJiYoTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi54KTx0aGlzLnNwZWVkKmZlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk8dGhpcy5zcGVlZCpmZSYmKHRoaXMuY2FtZXJhUm90YXRpb24ueT0wKSx0aGlzLmNhbWVyYVJvdGF0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxpLnByb3RvdHlwZS5fY2hlY2tJbnB1dHMuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9Sb3RhdGlvbk1hdHJpeCh0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCk6SS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KX0sZS5wcm90b3R5cGUuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEUuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5fZGVmYXVsdFVwLHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4LHRoaXMudXBWZWN0b3IpLHRoaXN9LGUucHJvdG90eXBlLl9nZXRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0JiZ0aGlzLnNldFRhcmdldCh0aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpKSx0aGlzLl91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aIT10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56Pyh0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24ueik6dGhpcy5fY2FjaGVkUm90YXRpb25aIT09dGhpcy5yb3RhdGlvbi56JiYodGhpcy5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLl9jYWNoZWRSb3RhdGlvblo9dGhpcy5yb3RhdGlvbi56KSxFLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fcmVmZXJlbmNlUG9pbnQsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludCksdGhpcy5wb3NpdGlvbi5hZGRUb1JlZih0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50LHRoaXMuX2N1cnJlbnRUYXJnZXQpLHRoaXMudXBkYXRlVXBWZWN0b3JGcm9tUm90YXRpb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9Qci5ZLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpOihlZS5Gcm9tRXVsZXJWZWN0b3JUb1JlZih0aGlzLnJvdGF0aW9uLHRoaXMuX3RtcFF1YXRlcm5pb24pLFByLlkucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5fdG1wUXVhdGVybmlvbix0aGlzLnVwVmVjdG9yKSkpLHRoaXMuX2NvbXB1dGVWaWV3TWF0cml4KHRoaXMucG9zaXRpb24sdGhpcy5fY3VycmVudFRhcmdldCx0aGlzLnVwVmVjdG9yKSx0aGlzLl92aWV3TWF0cml4fSxlLnByb3RvdHlwZS5fY29tcHV0ZVZpZXdNYXRyaXg9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMuaWdub3JlUGFyZW50U2NhbGluZyl7aWYodGhpcy5wYXJlbnQpe3ZhciBhPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7RS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHQsYSx0aGlzLl9nbG9iYWxQb3NpdGlvbiksRS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHIsYSx0aGlzLl90bXBUYXJnZXRWZWN0b3IpLEUuVHJhbnNmb3JtTm9ybWFsVG9SZWYobixhLHRoaXMuX3RtcFVwVmVjdG9yKSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fZ2xvYmFsUG9zaXRpb24uY29weUZyb20odCksdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLmNvcHlGcm9tKHIpLHRoaXMuX3RtcFVwVmVjdG9yLmNvcHlGcm9tKG4pO3RoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT9JLkxvb2tBdFJIVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24sdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLHRoaXMuX3RtcFVwVmVjdG9yLHRoaXMuX3ZpZXdNYXRyaXgpOkkuTG9va0F0TEhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk7cmV0dXJufWlmKHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT9JLkxvb2tBdFJIVG9SZWYodCxyLG4sdGhpcy5fdmlld01hdHJpeCk6SS5Mb29rQXRMSFRvUmVmKHQscixuLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMucGFyZW50KXt2YXIgYT10aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpO3RoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKGEsdGhpcy5fdmlld01hdHJpeCksdGhpcy5fdmlld01hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uKSx0aGlzLl92aWV3TWF0cml4LmludmVydCgpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl9nbG9iYWxQb3NpdGlvbi5jb3B5RnJvbSh0KX0sZS5wcm90b3R5cGUuY3JlYXRlUmlnQ2FtZXJhPWZ1bmN0aW9uKHQscil7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09Q2UuUklHX01PREVfTk9ORSl7dmFyIG49bmV3IGUodCx0aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5nZXRTY2VuZSgpKTtyZXR1cm4gbi5pc1JpZ0NhbWVyYT0hMCxuLnJpZ1BhcmVudD10aGlzLCh0aGlzLmNhbWVyYVJpZ01vZGU9PT1DZS5SSUdfTU9ERV9WUnx8dGhpcy5jYW1lcmFSaWdNb2RlPT09Q2UuUklHX01PREVfV0VCVlIpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb258fCh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgZWUpLG4uX2NhbWVyYVJpZ1BhcmFtcz17fSxuLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgZWUpLG59cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl91cGRhdGVSaWdDYW1lcmFzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmlnQ2FtZXJhc1swXSxyPXRoaXMuX3JpZ0NhbWVyYXNbMV07c3dpdGNoKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5jYW1lcmFSaWdNb2RlKXtjYXNlIENlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSDpjYXNlIENlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMOmNhc2UgQ2UuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEOmNhc2UgQ2UuUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUjpjYXNlIENlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEOnZhciBuPXRoaXMuY2FtZXJhUmlnTW9kZT09PUNlLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8xOi0xLGE9dGhpcy5jYW1lcmFSaWdNb2RlPT09Q2UuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPy0xOjE7dGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSpuLHQpLHRoaXMuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGUqYSxyKTticmVhaztjYXNlIENlLlJJR19NT0RFX1ZSOnQucm90YXRpb25RdWF0ZXJuaW9uPyh0LnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksci5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pKToodC5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSxyLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pKSx0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHIucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbik7YnJlYWt9aS5wcm90b3R5cGUuX3VwZGF0ZVJpZ0NhbWVyYXMuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0PWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5nZXRUYXJnZXQoKTtuLnN1YnRyYWN0VG9SZWYodGhpcy5wb3NpdGlvbixlLl9UYXJnZXRGb2NhbFBvaW50KSxlLl9UYXJnZXRGb2NhbFBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSk7dmFyIGE9ZS5fVGFyZ2V0Rm9jYWxQb2ludC5hZGRJblBsYWNlKHRoaXMucG9zaXRpb24pO0kuVHJhbnNsYXRpb25Ub1JlZigtYS54LC1hLnksLWEueixlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKEkuUm90YXRpb25BeGlzKHIudXBWZWN0b3IsdCksZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxJLlRyYW5zbGF0aW9uVG9SZWYoYS54LGEueSxhLnosZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgubXVsdGlwbHlUb1JlZihlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgsZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxFLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbixlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgsci5wb3NpdGlvbiksci5zZXRUYXJnZXQoYSl9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUYXJnZXRDYW1lcmEifSxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXg9bmV3IEksZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4PW5ldyBJLGUuX1RhcmdldEZvY2FsUG9pbnQ9bmV3IEUsVChbb3QoKV0sZS5wcm90b3R5cGUsInJvdGF0aW9uIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInNwZWVkIix2b2lkIDApLFQoW29hKCJsb2NrZWRUYXJnZXRJZCIpXSxlLnByb3RvdHlwZSwibG9ja2VkVGFyZ2V0Iix2b2lkIDApLGV9KENlKTtmdW5jdGlvbiBWYShpKXtjb25zdHtzY2VuZTplfT1pO2xldCB0O2NvbnN0IHI9MzYuNTtyZXR1cm4gdD1uZXcgVWEoIlRhcmdldENhbWVyYTEiLG5ldyBFKDAsciwwKSxlKSx0LmZvdj0uMjUsdC5taW5aPTUsdC5tYXhaPXIrMSx0LnNldFRhcmdldChFLlplcm8oKSksdH12YXIga2E9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUoKXt2YXIgdD1pIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMCx0fXJldHVybiBlLnByb3RvdHlwZS5fc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldFBvc2l0aW9uKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9zZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5fZGlyZWN0aW9uPXR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGlyZWN0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpcmVjdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldERpcmVjdGlvbih0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd01pbloiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93TWluWn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd01pblo9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd01heFoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93TWF4Wn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd01heFo9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXg/KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbnx8KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1FLlplcm8oKSksRS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMucG9zaXRpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24pLHRoaXMuZGlyZWN0aW9uJiYodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbnx8KHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249RS5aZXJvKCkpLEUuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5kaXJlY3Rpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uKSksITApOiExfSxlLnByb3RvdHlwZS5nZXREZXB0aFNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIDUwfSxlLnByb3RvdHlwZS5nZXRTaGFkb3dEaXJlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24/dGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uOnRoaXMucG9zaXRpb259LGUucHJvdG90eXBlLnNldERpcmVjdGlvblRvVGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1FLk5vcm1hbGl6ZSh0LnN1YnRyYWN0KHRoaXMucG9zaXRpb24pKSx0aGlzLmRpcmVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTt2YXIgdD1FLkNyb3NzKHRoaXMuZGlyZWN0aW9uLFByLlkpLHI9RS5Dcm9zcyh0LHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gRS5Sb3RhdGlvbkZyb21BeGlzKHQscix0aGlzLmRpcmVjdGlvbil9LGUucHJvdG90eXBlLm5lZWRDdWJlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLm5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGV9LGUucHJvdG90eXBlLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ZnVuY3Rpb24oKXt0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9LGUucHJvdG90eXBlLl9pbml0Q2FjaGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5faW5pdENhY2hlLmNhbGwodGhpcyksdGhpcy5fY2FjaGUucG9zaXRpb249RS5aZXJvKCl9LGUucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pfSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIXQmJnRoaXMuaXNTeW5jaHJvbml6ZWQoKT8odGhpcy5fY3VycmVudFJlbmRlcklkPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpLHRoaXMuX3dvcmxkTWF0cml4KToodGhpcy5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PUkuSWRlbnRpdHkoKSksSS5UcmFuc2xhdGlvblRvUmVmKHRoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56LHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgmJih0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4KX0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNaW5aPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnQubWluWn0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNYXhaPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnQubWF4Wn0sZS5wcm90b3R5cGUuc2V0U2hhZG93UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuY3VzdG9tUHJvamVjdGlvbk1hdHJpeEJ1aWxkZXI/dGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcihyLG4sdCk6dGhpcy5fc2V0RGVmYXVsdFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodCxyLG4pLHRoaXN9LFQoW290KCldLGUucHJvdG90eXBlLCJwb3NpdGlvbiIsbnVsbCksVChbb3QoKV0sZS5wcm90b3R5cGUsImRpcmVjdGlvbiIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwic2hhZG93TWluWiIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwic2hhZG93TWF4WiIsbnVsbCksZX0oS2UpO0hlLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8xIixmdW5jdGlvbihpLGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgc24oaSxFLlplcm8oKSxlKX19KTt2YXIgc249ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIGEuX3NoYWRvd0ZydXN0dW1TaXplPTAsYS5fc2hhZG93T3J0aG9TY2FsZT0uMSxhLmF1dG9VcGRhdGVFeHRlbmRzPSEwLGEuYXV0b0NhbGNTaGFkb3daQm91bmRzPSExLGEuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLGEuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSxhLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLGEuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUUsYS5wb3NpdGlvbj1yLnNjYWxlKC0xKSxhLmRpcmVjdGlvbj1yLGF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2hhZG93RnJ1c3R1bVNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93RnJ1c3R1bVNpemV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZT10LHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2hhZG93T3J0aG9TY2FsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dPcnRob1NjYWxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhZG93T3J0aG9TY2FsZT10LHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib3J0aG9MZWZ0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ydGhvTGVmdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29ydGhvTGVmdD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib3J0aG9SaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcnRob1JpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3J0aG9SaWdodD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib3J0aG9Ub3AiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3J0aG9Ub3B9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vcnRob1RvcD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib3J0aG9Cb3R0b20iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3J0aG9Cb3R0b219LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vcnRob0JvdHRvbT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJEaXJlY3Rpb25hbExpZ2h0In0sZS5wcm90b3R5cGUuZ2V0VHlwZUlEPWZ1bmN0aW9uKCl7cmV0dXJuIEtlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFR9LGUucHJvdG90eXBlLl9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0LHIsbil7dGhpcy5zaGFkb3dGcnVzdHVtU2l6ZT4wP3RoaXMuX3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KHQpOnRoaXMuX3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeCh0LHIsbil9LGUucHJvdG90eXBlLl9zZXREZWZhdWx0Rml4ZWRGcnVzdHVtU2hhZG93UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhOyFyfHxJLk9ydGhvTEhUb1JlZih0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93RnJ1c3R1bVNpemUsdGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjpyLm1pblosdGhpcy5zaGFkb3dNYXhaIT09dm9pZCAwP3RoaXMuc2hhZG93TWF4WjpyLm1heFosdCx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKX0sZS5wcm90b3R5cGUuX3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTtpZighIWEpe2lmKHRoaXMuYXV0b1VwZGF0ZUV4dGVuZHN8fHRoaXMuX29ydGhvTGVmdD09PU51bWJlci5NQVhfVkFMVUUpe3ZhciBzPUUuWmVybygpO3RoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUU7Zm9yKHZhciBvPU51bWJlci5NQVhfVkFMVUUsdT1OdW1iZXIuTUlOX1ZBTFVFLGY9MDtmPG4ubGVuZ3RoO2YrKyl7dmFyIGw9bltmXTtpZighIWwpZm9yKHZhciBoPWwuZ2V0Qm91bmRpbmdJbmZvKCksYz1oLmJvdW5kaW5nQm94LGQ9MDtkPGMudmVjdG9yc1dvcmxkLmxlbmd0aDtkKyspRS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGMudmVjdG9yc1dvcmxkW2RdLHIscykscy54PHRoaXMuX29ydGhvTGVmdCYmKHRoaXMuX29ydGhvTGVmdD1zLngpLHMueTx0aGlzLl9vcnRob0JvdHRvbSYmKHRoaXMuX29ydGhvQm90dG9tPXMueSkscy54PnRoaXMuX29ydGhvUmlnaHQmJih0aGlzLl9vcnRob1JpZ2h0PXMueCkscy55PnRoaXMuX29ydGhvVG9wJiYodGhpcy5fb3J0aG9Ub3A9cy55KSx0aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKHMuejxvJiYobz1zLnopLHMuej51JiYodT1zLnopKX10aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKHRoaXMuX3NoYWRvd01pblo9byx0aGlzLl9zaGFkb3dNYXhaPXUpfXZhciBwPXRoaXMuX29ydGhvUmlnaHQtdGhpcy5fb3J0aG9MZWZ0LF89dGhpcy5fb3J0aG9Ub3AtdGhpcy5fb3J0aG9Cb3R0b20sZz10aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOmEubWluWixtPXRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6YS5tYXhaLHY9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtJLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9vcnRob0xlZnQtcCp0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9SaWdodCtwKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob0JvdHRvbS1fKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1RvcCtfKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx2P206Zyx2P2c6bSx0LHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfX0sZS5wcm90b3R5cGUuX2J1aWxkVW5pZm9ybUxheW91dD1mdW5jdGlvbigpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInNoYWRvd3NJbmZvIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oImRlcHRoVmFsdWVzIiwyKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvRWZmZWN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8odGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56LDEsciksdGhpcyk6KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiwxLHIpLHRoaXMpfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvTm9kZU1hdGVyaWFsRWZmZWN0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8odC5zZXRGbG9hdDMocix0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLngsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi55LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueiksdGhpcyk6KHQuc2V0RmxvYXQzKHIsdGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnopLHRoaXMpfSxlLnByb3RvdHlwZS5nZXREZXB0aE1pblo9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIXIudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZyLmlzTkRDSGFsZlpSYW5nZT8wOjF9LGUucHJvdG90eXBlLmdldERlcHRoTWF4Wj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtyZXR1cm4gci51c2VSZXZlcnNlRGVwdGhCdWZmZXImJnIuaXNORENIYWxmWlJhbmdlPzA6MX0sZS5wcm90b3R5cGUucHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzPWZ1bmN0aW9uKHQscil7dFsiRElSTElHSFQiK3JdPSEwfSxUKFtQKCldLGUucHJvdG90eXBlLCJzaGFkb3dGcnVzdHVtU2l6ZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwic2hhZG93T3J0aG9TY2FsZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiYXV0b1VwZGF0ZUV4dGVuZHMiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiYXV0b0NhbGNTaGFkb3daQm91bmRzIix2b2lkIDApLFQoW1AoIm9ydGhvTGVmdCIpXSxlLnByb3RvdHlwZSwiX29ydGhvTGVmdCIsdm9pZCAwKSxUKFtQKCJvcnRob1JpZ2h0IildLGUucHJvdG90eXBlLCJfb3J0aG9SaWdodCIsdm9pZCAwKSxUKFtQKCJvcnRob1RvcCIpXSxlLnByb3RvdHlwZSwiX29ydGhvVG9wIix2b2lkIDApLFQoW1AoIm9ydGhvQm90dG9tIildLGUucHJvdG90eXBlLCJfb3J0aG9Cb3R0b20iLHZvaWQgMCksZX0oa2EpO0hlLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8zIixmdW5jdGlvbihpLGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgb24oaSxFLlplcm8oKSxlKX19KTt2YXIgb249ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIGEuZ3JvdW5kQ29sb3I9bmV3IHBlKDAsMCwwKSxhLmRpcmVjdGlvbj1yfHxFLlVwKCksYX1yZXR1cm4gZS5wcm90b3R5cGUuX2J1aWxkVW5pZm9ybUxheW91dD1mdW5jdGlvbigpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodEdyb3VuZCIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkhlbWlzcGhlcmljTGlnaHQifSxlLnByb3RvdHlwZS5zZXREaXJlY3Rpb25Ub1RhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249RS5Ob3JtYWxpemUodC5zdWJ0cmFjdChFLlplcm8oKSkpLHRoaXMuZGlyZWN0aW9ufSxlLnByb3RvdHlwZS5nZXRTaGFkb3dHZW5lcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudHJhbnNmZXJUb0VmZmVjdD1mdW5jdGlvbih0LHIpe3ZhciBuPUUuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLG4ueCxuLnksbi56LDAsciksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjMoInZMaWdodEdyb3VuZCIsdGhpcy5ncm91bmRDb2xvci5zY2FsZSh0aGlzLmludGVuc2l0eSksciksdGhpc30sZS5wcm90b3R5cGUudHJhbnNmZXJUb05vZGVNYXRlcmlhbEVmZmVjdD1mdW5jdGlvbih0LHIpe3ZhciBuPUUuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gdC5zZXRGbG9hdDMocixuLngsbi55LG4ueiksdGhpc30sZS5wcm90b3R5cGUuY29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH0sZS5wcm90b3R5cGUuZ2V0VHlwZUlEPWZ1bmN0aW9uKCl7cmV0dXJuIEtlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFR9LGUucHJvdG90eXBlLnByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcz1mdW5jdGlvbih0LHIpe3RbIkhFTUlMSUdIVCIrcl09ITB9LFQoW3h0KCldLGUucHJvdG90eXBlLCJncm91bmRDb2xvciIsdm9pZCAwKSxUKFtvdCgpXSxlLnByb3RvdHlwZSwiZGlyZWN0aW9uIix2b2lkIDApLGV9KEtlKSx1bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dH1yZXR1cm4gaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1c6ICIuY29uY2F0KHRoaXMud2lkdGgsIiwgSDogIikuY29uY2F0KHRoaXMuaGVpZ2h0LCJ9Iil9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJTaXplIn0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndpZHRofDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuaGVpZ2h0fDApLGV9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3RoaXMud2lkdGg9ZS53aWR0aCx0aGlzLmhlaWdodD1lLmhlaWdodH0saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpc30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0KX0saS5wcm90b3R5cGUubXVsdGlwbHlCeUZsb2F0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaSh0aGlzLndpZHRoKmUsdGhpcy5oZWlnaHQqdCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy53aWR0aD09PWUud2lkdGgmJnRoaXMuaGVpZ2h0PT09ZS5oZWlnaHQ6ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3VyZmFjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuaGVpZ2h0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDApfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkodGhpcy53aWR0aCtlLndpZHRoLHRoaXMuaGVpZ2h0K2UuaGVpZ2h0KTtyZXR1cm4gdH0saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkodGhpcy53aWR0aC1lLndpZHRoLHRoaXMuaGVpZ2h0LWUuaGVpZ2h0KTtyZXR1cm4gdH0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLndpZHRoKyh0LndpZHRoLWUud2lkdGgpKnIsYT1lLmhlaWdodCsodC5oZWlnaHQtZS5oZWlnaHQpKnI7cmV0dXJuIG5ldyBpKG4sYSl9LGl9KCksV2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3dyYXBVPTEsdGhpcy5fd3JhcFY9MSx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTQsdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLl9lbmdpbmU9bnVsbCx0aGlzLl9jYWNoZWRTaXplPXVuLlplcm8oKSx0aGlzLl9jYWNoZWRCYXNlU2l6ZT11bi5aZXJvKCksdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT0yLHRoaXMuX3RleHR1cmU9ZSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fZW5naW5lPXRoaXMuX3RleHR1cmUuZ2V0RW5naW5lKCkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBVIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBVfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd3JhcFU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndyYXBWIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBWfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fd3JhcFY9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvb3JkaW5hdGVzTW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiAwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNDdWJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU6ITF9LHNldDpmdW5jdGlvbihlKXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXNDdWJlPWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXMzRCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMzRDohMX0sc2V0OmZ1bmN0aW9uKGUpeyF0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZS5pczNEPWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXMyREFycmF5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczJEQXJyYXk6ITF9LHNldDpmdW5jdGlvbihlKXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXMyREFycmF5PWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUaGluVGV4dHVyZSJ9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTQ/KHRoaXMuZGVsYXlMb2FkKCksITEpOnRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc1JlYWR5OiExfSxpLnByb3RvdHlwZS5kZWxheUxvYWQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLmdldEludGVybmFsVGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlfSxpLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS53aWR0aClyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLndpZHRoLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuaGVpZ2h0LHRoaXMuX2NhY2hlZFNpemU7aWYodGhpcy5fdGV4dHVyZS5fc2l6ZSlyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZX1yZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZX0saS5wcm90b3R5cGUuZ2V0QmFzZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1JlYWR5KCl8fCF0aGlzLl90ZXh0dXJlPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplKTp0aGlzLl90ZXh0dXJlLl9zaXplPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplKToodGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5iYXNlV2lkdGgsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuYmFzZUhlaWdodCx0aGlzLl9jYWNoZWRCYXNlU2l6ZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2FtcGxpbmdNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5zYW1wbGluZ01vZGU6dGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS51cGRhdGVTYW1wbGluZ01vZGU9ZnVuY3Rpb24oZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHRoaXMuX3RleHR1cmUpfSxpLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RleHR1cmU9bnVsbCl9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCksdGhpcy5fZW5naW5lPW51bGwpfSxpfSgpLHphPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQpe3ZhciByPWkuY2FsbCh0aGlzLG51bGwpfHx0aGlzO3JldHVybiByLm1ldGFkYXRhPW51bGwsci5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHIuX2hhc0FscGhhPSExLHIuX2dldEFscGhhRnJvbVJHQj0hMSxyLmxldmVsPTEsci5fY29vcmRpbmF0ZXNJbmRleD0wLHIuX2Nvb3JkaW5hdGVzTW9kZT0wLHIud3JhcFI9MSxyLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9ZS5ERUZBVUxUX0FOSVNPVFJPUElDX0ZJTFRFUklOR19MRVZFTCxyLl9pc0N1YmU9ITEsci5fZ2FtbWFTcGFjZT0hMCxyLmludmVydFo9ITEsci5sb2RMZXZlbEluQWxwaGE9ITEsci5pc1JlbmRlclRhcmdldD0hMSxyLl9wcmVmaWx0ZXJlZD0hMSxyLl9mb3JjZVNlcmlhbGl6ZT0hMSxyLmFuaW1hdGlvbnM9bmV3IEFycmF5LHIub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgTyxyLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHIuX3NjZW5lPW51bGwsci5fdWlkPW51bGwsci5fcGFyZW50Q29udGFpbmVyPW51bGwsci5fbG9hZGluZ0Vycm9yPSExLHQ/ZS5faXNTY2VuZSh0KT9yLl9zY2VuZT10OnIuX2VuZ2luZT10OnIuX3NjZW5lPUouTGFzdENyZWF0ZWRTY2VuZSxyLl9zY2VuZSYmKHIudW5pcXVlSWQ9ci5fc2NlbmUuZ2V0VW5pcXVlSWQoKSxyLl9zY2VuZS5hZGRUZXh0dXJlKHIpLHIuX2VuZ2luZT1yLl9zY2VuZS5nZXRFbmdpbmUoKSksci5fdWlkPW51bGwscn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNBbHBoYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNBbHBoYX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5faGFzQWxwaGEhPT10JiYodGhpcy5faGFzQWxwaGE9dCx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxmdW5jdGlvbihuKXtyZXR1cm4gbi5oYXNUZXh0dXJlKHIpfSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZ2V0QWxwaGFGcm9tUkdCIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEFscGhhRnJvbVJHQn0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5fZ2V0QWxwaGFGcm9tUkdCIT09dCYmKHRoaXMuX2dldEFscGhhRnJvbVJHQj10LHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKG4pe3JldHVybiBuLmhhc1RleHR1cmUocil9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb29yZGluYXRlc0luZGV4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXh9LHNldDpmdW5jdGlvbih0KXt2YXIgcj10aGlzO3RoaXMuX2Nvb3JkaW5hdGVzSW5kZXghPT10JiYodGhpcy5fY29vcmRpbmF0ZXNJbmRleD10LHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKG4pe3JldHVybiBuLmhhc1RleHR1cmUocil9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb29yZGluYXRlc01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0aGlzLl9jb29yZGluYXRlc01vZGUhPT10JiYodGhpcy5fY29vcmRpbmF0ZXNNb2RlPXQsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsZnVuY3Rpb24obil7cmV0dXJuIG4uaGFzVGV4dHVyZShyKX0pKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIndyYXBVIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBVfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd3JhcFU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIndyYXBWIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBWfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd3JhcFY9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQ3ViZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlOnRoaXMuX2lzQ3ViZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU9dDp0aGlzLl9pc0N1YmU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzM0QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9LHNldDpmdW5jdGlvbih0KXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXMzRD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfSxzZXQ6ZnVuY3Rpb24odCl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImdhbW1hU3BhY2UiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXh0dXJlKXRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT1udWxsJiYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT10aGlzLl9nYW1tYVNwYWNlKTtlbHNlIHJldHVybiB0aGlzLl9nYW1tYVNwYWNlO3JldHVybiB0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlJiYhdGhpcy5fdGV4dHVyZS5fdXNlU1JHQkJ1ZmZlcn0sc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3RleHR1cmUpe2lmKHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT10KXJldHVybjt0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPXR9ZWxzZXtpZih0aGlzLl9nYW1tYVNwYWNlPT09dClyZXR1cm47dGhpcy5fZ2FtbWFTcGFjZT10fXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzUkdCRCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlIT1udWxsJiZ0aGlzLl90ZXh0dXJlLl9pc1JHQkR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXNSR0JEPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibm9NaXBtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25PZmZzZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0OjB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvbk9mZnNldD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25TY2FsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZTowfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZT10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpbmVhclNwZWN1bGFyTE9EIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q6ITF9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpcnJhZGlhbmNlVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2lycmFkaWFuY2VUZXh0dXJlOm51bGx9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1aWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPXhpKCkpLHRoaXMuX3VpZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJCYXNlVGV4dHVyZSJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25EaXNwb3NlIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNCbG9ja2luZyIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ0Vycm9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmdFcnJvcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImVycm9yT2JqZWN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vycm9yT2JqZWN0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldFNjZW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lfSxlLnByb3RvdHlwZS5fZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0sZS5wcm90b3R5cGUuY2hlY2tUcmFuc2Zvcm1zQXJlSWRlbnRpY2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0IT09bnVsbH0sZS5wcm90b3R5cGUuZ2V0VGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3JldHVybiBJLklkZW50aXR5UmVhZE9ubHl9LGUucHJvdG90eXBlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHlSZWFkT25seX0sZS5wcm90b3R5cGUuaXNSZWFkeU9yTm90QmxvY2tpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Jsb2NraW5nfHx0aGlzLmlzUmVhZHkoKXx8dGhpcy5sb2FkaW5nRXJyb3J9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW5SZXNjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2dldEZyb21DYWNoZT1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFvKXJldHVybiBudWxsO2Zvcih2YXIgdT1vLl9nZXRVc2VTUkdCQnVmZmVyKCEhcyxyKSxmPW8uZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpLGw9MDtsPGYubGVuZ3RoO2wrKyl7dmFyIGg9ZltsXTtpZigocz09PXZvaWQgMHx8dT09PWguX3VzZVNSR0JCdWZmZXIpJiYoYT09PXZvaWQgMHx8YT09PWguaW52ZXJ0WSkmJmgudXJsPT09dCYmaC5nZW5lcmF0ZU1pcE1hcHM9PT0hciYmKCFufHxuPT09aC5zYW1wbGluZ01vZGUpKXJldHVybiBoLmluY3JlbWVudFJlZmVyZW5jZXMoKSxofXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ0ZXh0dXJlVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLnR5cGUhPT12b2lkIDA/dGhpcy5fdGV4dHVyZS50eXBlOjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ0ZXh0dXJlRm9ybWF0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuZm9ybWF0IT09dm9pZCAwP3RoaXMuX3RleHR1cmUuZm9ybWF0OjV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNjZW5lKCk7IXR8fHQubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9LGUucHJvdG90eXBlLnJlYWRQaXhlbHM9ZnVuY3Rpb24odCxyLG4sYSxzKXtpZih0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITEpLCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO3ZhciBvPXRoaXMuZ2V0U2l6ZSgpLHU9by53aWR0aCxmPW8uaGVpZ2h0LGw9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWwpcmV0dXJuIG51bGw7ciE9MCYmKHU9dS9NYXRoLnBvdygyLHIpLGY9Zi9NYXRoLnBvdygyLHIpLHU9TWF0aC5yb3VuZCh1KSxmPU1hdGgucm91bmQoZikpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/bC5fcmVhZFRleHR1cmVQaXhlbHModGhpcy5fdGV4dHVyZSx1LGYsdCxyLG4sYSxzKTpsLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLHUsZiwtMSxyLG4sYSxzKX1jYXRjaHtyZXR1cm4gbnVsbH19LGUucHJvdG90eXBlLl9yZWFkUGl4ZWxzU3luYz1mdW5jdGlvbih0LHIsbixhLHMpe2lmKHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPSEwKSxzPT09dm9pZCAwJiYocz0hMSksIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7dmFyIG89dGhpcy5nZXRTaXplKCksdT1vLndpZHRoLGY9by5oZWlnaHQsbD10aGlzLl9nZXRFbmdpbmUoKTtpZighbClyZXR1cm4gbnVsbDtyIT0wJiYodT11L01hdGgucG93KDIsciksZj1mL01hdGgucG93KDIsciksdT1NYXRoLnJvdW5kKHUpLGY9TWF0aC5yb3VuZChmKSk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9sLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSx1LGYsdCxyLG4sYSxzKTpsLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSx1LGYsLTEscixuLGEscyl9Y2F0Y2h7cmV0dXJuIG51bGx9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9sb2RUZXh0dXJlSGlnaCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVIaWdoOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfbG9kVGV4dHVyZU1pZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVNaWQ6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9sb2RUZXh0dXJlTG93Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUxvdzpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpZih0aGlzLl9zY2VuZSl7dGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbiYmdGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9zY2VuZS5fcmVtb3ZlUGVuZGluZ0RhdGEodGhpcyk7dmFyIHQ9dGhpcy5fc2NlbmUudGV4dHVyZXMuaW5kZXhPZih0aGlzKTtpZih0Pj0wJiZ0aGlzLl9zY2VuZS50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLl9zY2VuZS5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fc2NlbmU9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciByPXRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO3I+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5zcGxpY2UociwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH19dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm1ldGFkYXRhPW51bGwsaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO3ZhciB0PVkuU2VyaWFsaXplKHRoaXMpO3JldHVybiBZLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsdCksdH0sZS5XaGVuQWxsUmVhZHk9ZnVuY3Rpb24odCxyKXt2YXIgbj10Lmxlbmd0aDtpZihuPT09MCl7cigpO3JldHVybn1mb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtpZihzLmlzUmVhZHkoKSktLW49PT0wJiZyKCk7ZWxzZXt2YXIgbz1zLm9uTG9hZE9ic2VydmFibGU7byYmby5hZGRPbmNlKGZ1bmN0aW9uKCl7LS1uPT09MCYmcigpfSl9fX0sZS5faXNTY2VuZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRDbGFzc05hbWUoKT09PSJTY2VuZSJ9LGUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUw9NCxUKFtQKCldLGUucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW1AoImhhc0FscGhhIildLGUucHJvdG90eXBlLCJfaGFzQWxwaGEiLHZvaWQgMCksVChbUCgiZ2V0QWxwaGFGcm9tUkdCIildLGUucHJvdG90eXBlLCJfZ2V0QWxwaGFGcm9tUkdCIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxldmVsIix2b2lkIDApLFQoW1AoImNvb3JkaW5hdGVzSW5kZXgiKV0sZS5wcm90b3R5cGUsIl9jb29yZGluYXRlc0luZGV4Iix2b2lkIDApLFQoW1AoImNvb3JkaW5hdGVzTW9kZSIpXSxlLnByb3RvdHlwZSwiX2Nvb3JkaW5hdGVzTW9kZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ3cmFwVSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwid3JhcFYiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsIndyYXBSIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXNDdWJlIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJpczNEIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJpczJEQXJyYXkiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImdhbW1hU3BhY2UiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImludmVydFoiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibG9kTGV2ZWxJbkFscGhhIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25PZmZzZXQiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25TY2FsZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwibGluZWFyU3BlY3VsYXJMT0QiLG51bGwpLFQoW3plKCldLGUucHJvdG90eXBlLCJpcnJhZGlhbmNlVGV4dHVyZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXNSZW5kZXJUYXJnZXQiLHZvaWQgMCksZX0oV2EpO2Z1bmN0aW9uIGZuKGksZSx0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9ZS53aWR0aCxuPWUuaGVpZ2h0O2lmKGkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2Zvcih2YXIgYT1pLmJ5dGVMZW5ndGgvaS5CWVRFU19QRVJfRUxFTUVOVCxzPW5ldyBVaW50OEFycmF5KGEpOy0tYT49MDspe3ZhciBvPWlbYV07bzwwP289MDpvPjEmJihvPTEpLHNbYV09byoyNTV9aT1zfXZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3Uud2lkdGg9cix1LmhlaWdodD1uO3ZhciBmPXUuZ2V0Q29udGV4dCgiMmQiKTtpZighZilyZXR1cm4gbnVsbDt2YXIgbD1mLmNyZWF0ZUltYWdlRGF0YShyLG4pLGg9bC5kYXRhO2lmKGguc2V0KGkpLGYucHV0SW1hZ2VEYXRhKGwsMCwwKSx0KXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtjLndpZHRoPXIsYy5oZWlnaHQ9bjt2YXIgZD1jLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGQ/KGQudHJhbnNsYXRlKDAsbiksZC5zY2FsZSgxLC0xKSxkLmRyYXdJbWFnZSh1LDAsMCksYy50b0RhdGFVUkwoImltYWdlL3BuZyIpKTpudWxsfXJldHVybiB1LnRvRGF0YVVSTCgiaW1hZ2UvcG5nIil9ZnVuY3Rpb24gR2EoaSxlLHQpe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApO3ZhciByPWkuZ2V0SW50ZXJuYWxUZXh0dXJlKCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIG49aS5fcmVhZFBpeGVsc1N5bmMoZSx0KTtyZXR1cm4gbj9mbihuLGkuZ2V0U2l6ZSgpLHIuaW52ZXJ0WSk6bnVsbH1mdW5jdGlvbiBYYShpLGUsdCl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLEJyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByLG47cmV0dXJuIHd0KHRoaXMsZnVuY3Rpb24oYSl7c3dpdGNoKGEubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj1pLmdldEludGVybmFsVGV4dHVyZSgpLHI/WzQsaS5yZWFkUGl4ZWxzKGUsdCldOlsyLG51bGxdO2Nhc2UgMTpyZXR1cm4gbj1hLnNlbnQoKSxuP1syLGZuKG4saS5nZXRTaXplKCksci5pbnZlcnRZKV06WzIsbnVsbF19fSl9KX12YXIgUT1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwKXtzPT09dm9pZCAwJiYocz1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPSExKTt2YXIgXyxnLG0sdixTLE0sQSxSLHk9aS5jYWxsKHRoaXMscil8fHRoaXM7eS51cmw9bnVsbCx5LnVPZmZzZXQ9MCx5LnZPZmZzZXQ9MCx5LnVTY2FsZT0xLHkudlNjYWxlPTEseS51QW5nPTAseS52QW5nPTAseS53QW5nPTAseS51Um90YXRpb25DZW50ZXI9LjUseS52Um90YXRpb25DZW50ZXI9LjUseS53Um90YXRpb25DZW50ZXI9LjUseS5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT0hMSx5Lmluc3BlY3RhYmxlQ3VzdG9tUHJvcGVydGllcz1udWxsLHkuX25vTWlwbWFwPSExLHkuX2ludmVydFk9ITEseS5fcm93R2VuZXJhdGlvbk1hdHJpeD1udWxsLHkuX2NhY2hlZFRleHR1cmVNYXRyaXg9bnVsbCx5Ll9wcm9qZWN0aW9uTW9kZU1hdHJpeD1udWxsLHkuX3QwPW51bGwseS5fdDE9bnVsbCx5Ll90Mj1udWxsLHkuX2NhY2hlZFVPZmZzZXQ9LTEseS5fY2FjaGVkVk9mZnNldD0tMSx5Ll9jYWNoZWRVU2NhbGU9MCx5Ll9jYWNoZWRWU2NhbGU9MCx5Ll9jYWNoZWRVQW5nPS0xLHkuX2NhY2hlZFZBbmc9LTEseS5fY2FjaGVkV0FuZz0tMSx5Ll9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9LTEseS5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPS0xLHkuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj0tMSx5Ll9jYWNoZWRXUm90YXRpb25DZW50ZXI9LTEseS5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEseS5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPS0xLHkuX2J1ZmZlcj1udWxsLHkuX2RlbGV0ZUJ1ZmZlcj0hMSx5Ll9mb3JtYXQ9bnVsbCx5Ll9kZWxheWVkT25Mb2FkPW51bGwseS5fZGVsYXllZE9uRXJyb3I9bnVsbCx5Lm9uTG9hZE9ic2VydmFibGU9bmV3IE8seS5faXNCbG9ja2luZz0hMCx5Lm5hbWU9dHx8IiIseS51cmw9dDt2YXIgQyx3PSExO3R5cGVvZiBuPT0ib2JqZWN0IiYmbiE9PW51bGw/KEM9KF89bi5ub01pcG1hcCkhPT1udWxsJiZfIT09dm9pZCAwP186ITEsYT0oZz1uLmludmVydFkpIT09bnVsbCYmZyE9PXZvaWQgMD9nOiFHZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWLHM9KG09bi5zYW1wbGluZ01vZGUpIT09bnVsbCYmbSE9PXZvaWQgMD9tOmUuVFJJTElORUFSX1NBTVBMSU5HTU9ERSxvPSh2PW4ub25Mb2FkKSE9PW51bGwmJnYhPT12b2lkIDA/djpudWxsLHU9KFM9bi5vbkVycm9yKSE9PW51bGwmJlMhPT12b2lkIDA/UzpudWxsLGY9KE09bi5idWZmZXIpIT09bnVsbCYmTSE9PXZvaWQgMD9NOm51bGwsbD0oQT1uLmRlbGV0ZUJ1ZmZlcikhPT1udWxsJiZBIT09dm9pZCAwP0E6ITEsaD1uLmZvcm1hdCxjPW4ubWltZVR5cGUsZD1uLmxvYWRlck9wdGlvbnMscD1uLmNyZWF0aW9uRmxhZ3Msdz0oUj1uLnVzZVNSR0JCdWZmZXIpIT09bnVsbCYmUiE9PXZvaWQgMD9SOiExKTpDPSEhbix5Ll9ub01pcG1hcD1DLHkuX2ludmVydFk9YT09PXZvaWQgMD8hR2UuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVjphLHkuX2luaXRpYWxTYW1wbGluZ01vZGU9cyx5Ll9idWZmZXI9Zix5Ll9kZWxldGVCdWZmZXI9bCx5Ll9taW1lVHlwZT1jLHkuX2xvYWRlck9wdGlvbnM9ZCx5Ll9jcmVhdGlvbkZsYWdzPXAseS5fdXNlU1JHQkJ1ZmZlcj13LGgmJih5Ll9mb3JtYXQ9aCk7dmFyIEY9eS5nZXRTY2VuZSgpLEQ9eS5fZ2V0RW5naW5lKCk7aWYoIUQpcmV0dXJuIHk7RC5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeSk7dmFyIFg9ZnVuY3Rpb24oKXt5Ll90ZXh0dXJlJiYoeS5fdGV4dHVyZS5faW52ZXJ0VlNjYWxlJiYoeS52U2NhbGUqPS0xLHkudk9mZnNldCs9MSkseS5fdGV4dHVyZS5fY2FjaGVkV3JhcFUhPT1udWxsJiYoeS53cmFwVT15Ll90ZXh0dXJlLl9jYWNoZWRXcmFwVSx5Ll90ZXh0dXJlLl9jYWNoZWRXcmFwVT1udWxsKSx5Ll90ZXh0dXJlLl9jYWNoZWRXcmFwViE9PW51bGwmJih5LndyYXBWPXkuX3RleHR1cmUuX2NhY2hlZFdyYXBWLHkuX3RleHR1cmUuX2NhY2hlZFdyYXBWPW51bGwpLHkuX3RleHR1cmUuX2NhY2hlZFdyYXBSIT09bnVsbCYmKHkud3JhcFI9eS5fdGV4dHVyZS5fY2FjaGVkV3JhcFIseS5fdGV4dHVyZS5fY2FjaGVkV3JhcFI9bnVsbCkpLHkub25Mb2FkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmeS5vbkxvYWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh5KSxvJiZvKCksIXkuaXNCbG9ja2luZyYmRiYmRi5yZXNldENhY2hlZE1hdGVyaWFsKCl9LFc9ZnVuY3Rpb24oaixLKXt5Ll9sb2FkaW5nRXJyb3I9ITAseS5fZXJyb3JPYmplY3Q9e21lc3NhZ2U6aixleGNlcHRpb246S30sdSYmdShqLEspLGUuT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeSl9O2lmKCF5LnVybClyZXR1cm4geS5fZGVsYXllZE9uTG9hZD1YLHkuX2RlbGF5ZWRPbkVycm9yPVcseTtpZih5Ll90ZXh0dXJlPXkuX2dldEZyb21DYWNoZSh5LnVybCxDLHMseS5faW52ZXJ0WSx3KSx5Ll90ZXh0dXJlKWlmKHkuX3RleHR1cmUuaXNSZWFkeSlwci5TZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXtyZXR1cm4gWCgpfSk7ZWxzZXt2YXIgTj15Ll90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQoWCk7eS5fdGV4dHVyZS5vbkVycm9yT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oail7dmFyIEs7VyhqLm1lc3NhZ2Usai5leGNlcHRpb24pLChLPXkuX3RleHR1cmUpPT09bnVsbHx8Sz09PXZvaWQgMHx8Sy5vbkxvYWRlZE9ic2VydmFibGUucmVtb3ZlKE4pfSl9ZWxzZSBpZighRnx8IUYudXNlRGVsYXllZFRleHR1cmVMb2FkaW5nKXt0cnl7eS5fdGV4dHVyZT1ELmNyZWF0ZVRleHR1cmUoeS51cmwsQyx5Ll9pbnZlcnRZLEYscyxYLFcseS5fYnVmZmVyLHZvaWQgMCx5Ll9mb3JtYXQsbnVsbCxjLGQscCx3KX1jYXRjaChqKXt0aHJvdyBXKCJlcnJvciBsb2FkaW5nIixqKSxqfWwmJih5Ll9idWZmZXI9bnVsbCl9ZWxzZSB5LmRlbGF5TG9hZFN0YXRlPTQseS5fZGVsYXllZE9uTG9hZD1YLHkuX2RlbGF5ZWRPbkVycm9yPVc7cmV0dXJuIHl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibm9NaXBtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9NaXBtYXB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtaW1lVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW1lVHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQmxvY2tpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNCbG9ja2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lzQmxvY2tpbmc9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImludmVydFkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW52ZXJ0WX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS51cGRhdGVVUkw9ZnVuY3Rpb24odCxyLG4pe3I9PT12b2lkIDAmJihyPW51bGwpLHRoaXMudXJsJiYodGhpcy5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCksdGhpcy5nZXRTY2VuZSgpLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKSwoIXRoaXMubmFtZXx8WmUodGhpcy5uYW1lLCJkYXRhOiIpKSYmKHRoaXMubmFtZT10KSx0aGlzLnVybD10LHRoaXMuX2J1ZmZlcj1yLHRoaXMuZGVsYXlMb2FkU3RhdGU9NCxuJiYodGhpcy5fZGVsYXllZE9uTG9hZD1uKSx0aGlzLmRlbGF5TG9hZCgpfSxlLnByb3RvdHlwZS5kZWxheUxvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlPT09NCl7dmFyIHQ9dGhpcy5nZXRTY2VuZSgpOyF0fHwodGhpcy5kZWxheUxvYWRTdGF0ZT0xLHRoaXMuX3RleHR1cmU9dGhpcy5fZ2V0RnJvbUNhY2hlKHRoaXMudXJsLHRoaXMuX25vTWlwbWFwLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2ludmVydFksdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fdGV4dHVyZT90aGlzLl9kZWxheWVkT25Mb2FkJiYodGhpcy5fdGV4dHVyZS5pc1JlYWR5P3ByLlNldEltbWVkaWF0ZSh0aGlzLl9kZWxheWVkT25Mb2FkKTp0aGlzLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQodGhpcy5fZGVsYXllZE9uTG9hZCkpOih0aGlzLl90ZXh0dXJlPXQuZ2V0RW5naW5lKCkuY3JlYXRlVGV4dHVyZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLl9pbnZlcnRZLHQsdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fZGVsYXllZE9uTG9hZCx0aGlzLl9kZWxheWVkT25FcnJvcix0aGlzLl9idWZmZXIsbnVsbCx0aGlzLl9mb3JtYXQsbnVsbCx0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9fSxlLnByb3RvdHlwZS5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uPWZ1bmN0aW9uKHQscixuLGEpe3QqPXRoaXMuX2NhY2hlZFVTY2FsZSxyKj10aGlzLl9jYWNoZWRWU2NhbGUsdC09dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlLHItPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSxuLT10aGlzLndSb3RhdGlvbkNlbnRlcixFLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQscixuLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsYSksYS54Kz10aGlzLnVSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRVU2NhbGUrdGhpcy5fY2FjaGVkVU9mZnNldCxhLnkrPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSt0aGlzLl9jYWNoZWRWT2Zmc2V0LGEueis9dGhpcy53Um90YXRpb25DZW50ZXJ9LGUucHJvdG90eXBlLmNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PW51bGwmJnRoaXMudU9mZnNldD09PXQudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dC52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXQudVNjYWxlJiZ0aGlzLnZTY2FsZT09PXQudlNjYWxlJiZ0aGlzLnVBbmc9PT10LnVBbmcmJnRoaXMudkFuZz09PXQudkFuZyYmdGhpcy53QW5nPT09dC53QW5nfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodD09PXZvaWQgMCYmKHQ9MSksdGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGUqdD09PXRoaXMuX2NhY2hlZFVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRWU2NhbGUmJnRoaXMudUFuZz09PXRoaXMuX2NhY2hlZFVBbmcmJnRoaXMudkFuZz09PXRoaXMuX2NhY2hlZFZBbmcmJnRoaXMud0FuZz09PXRoaXMuX2NhY2hlZFdBbmcmJnRoaXMudVJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyJiZ0aGlzLnZSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciYmdGhpcy53Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXImJnRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09PT10aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSlyZXR1cm4gdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUqdCx0aGlzLl9jYWNoZWRWU2NhbGU9dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkVUFuZz10aGlzLnVBbmcsdGhpcy5fY2FjaGVkVkFuZz10aGlzLnZBbmcsdGhpcy5fY2FjaGVkV0FuZz10aGlzLndBbmcsdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPXRoaXMudVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj10aGlzLnZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXI9dGhpcy53Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09dGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSwoIXRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh8fCF0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4KSYmKHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCksdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeD1uZXcgSSx0aGlzLl90MD1FLlplcm8oKSx0aGlzLl90MT1FLlplcm8oKSx0aGlzLl90Mj1FLlplcm8oKSksSS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMudkFuZyx0aGlzLnVBbmcsdGhpcy53QW5nLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpLHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0/KEkuVHJhbnNsYXRpb25Ub1JlZigtdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLC10aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcix4Lk1hdHJpeFswXSksSS5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLHguTWF0cml4WzFdKSxJLlNjYWxpbmdUb1JlZih0aGlzLl9jYWNoZWRVU2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlLDAseC5NYXRyaXhbMl0pLEkuVHJhbnNsYXRpb25Ub1JlZih0aGlzLl9jYWNoZWRVT2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQsMCx4Lk1hdHJpeFszXSkseC5NYXRyaXhbMF0ubXVsdGlwbHlUb1JlZih0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZih4Lk1hdHJpeFsxXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoeC5NYXRyaXhbMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKHguTWF0cml4WzNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXguc2V0Um93RnJvbUZsb2F0cygyLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEzXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTRdLDEpKToodGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMCwwLHRoaXMuX3QwKSx0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMSwwLDAsdGhpcy5fdDEpLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigwLDEsMCx0aGlzLl90MiksdGhpcy5fdDEuc3VidHJhY3RJblBsYWNlKHRoaXMuX3QwKSx0aGlzLl90Mi5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLEkuRnJvbVZhbHVlc1RvUmVmKHRoaXMuX3QxLngsdGhpcy5fdDEueSx0aGlzLl90MS56LDAsdGhpcy5fdDIueCx0aGlzLl90Mi55LHRoaXMuX3QyLnosMCx0aGlzLl90MC54LHRoaXMuX3QwLnksdGhpcy5fdDAueiwwLDAsMCwwLDEsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCkpO3ZhciBuPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gbj8obi5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc1RleHR1cmUocil9KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTp0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fSxlLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7aWYodGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGU9PT10aGlzLl9jYWNoZWRVU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkVlNjYWxlJiZ0aGlzLmNvb3JkaW5hdGVzTW9kZT09PXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSlpZih0aGlzLmNvb3JkaW5hdGVzTW9kZT09PWUuUFJPSkVDVElPTl9NT0RFKXtpZih0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9PT1yLmdldFByb2plY3Rpb25NYXRyaXgoKS51cGRhdGVGbGFnKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fWVsc2UgcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7dGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8KHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCkpLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4fHwodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9SS5aZXJvKCkpO3ZhciBuPXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXRoaXMuY29vcmRpbmF0ZXNNb2RlO3N3aXRjaCh0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBlLlBMQU5BUl9NT0RFOkkuSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzBdPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXhbNV09dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeFsxMl09dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXhbMTNdPXRoaXMudk9mZnNldDticmVhaztjYXNlIGUuUFJPSkVDVElPTl9NT0RFOkkuRnJvbVZhbHVlc1RvUmVmKC41LDAsMCwwLDAsLS41LDAsMCwwLDAsMCwwLC41LC41LDEsMSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCk7dmFyIGE9ci5nZXRQcm9qZWN0aW9uTWF0cml4KCk7dGhpcy5fY2FjaGVkUHJvamVjdGlvbk1hdHJpeElkPWEudXBkYXRlRmxhZyxhLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXgsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCk7YnJlYWs7ZGVmYXVsdDpJLklkZW50aXR5VG9SZWYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCk7YnJlYWt9cmV0dXJuIG4mJnIubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxmdW5jdGlvbihzKXtyZXR1cm4gcy5nZXRBY3RpdmVUZXh0dXJlcygpLmluZGV4T2YodCkhPT0tMX0pLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPXtub01pcG1hcDp0aGlzLl9ub01pcG1hcCxpbnZlcnRZOnRoaXMuX2ludmVydFksc2FtcGxpbmdNb2RlOnRoaXMuc2FtcGxpbmdNb2RlLG9uTG9hZDp2b2lkIDAsb25FcnJvcjp2b2lkIDAsYnVmZmVyOnRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fYnVmZmVyOnZvaWQgMCxkZWxldGVCdWZmZXI6dGhpcy5fZGVsZXRlQnVmZmVyLGZvcm1hdDp0aGlzLnRleHR1cmVGb3JtYXQsbWltZVR5cGU6dGhpcy5taW1lVHlwZSxsb2FkZXJPcHRpb25zOnRoaXMuX2xvYWRlck9wdGlvbnMsY3JlYXRpb25GbGFnczp0aGlzLl9jcmVhdGlvbkZsYWdzLHVzZVNSR0JCdWZmZXI6dGhpcy5fdXNlU1JHQkJ1ZmZlcn07cmV0dXJuIFkuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5fdGV4dHVyZT90Ll90ZXh0dXJlLnVybDpudWxsLHQuZ2V0U2NlbmUoKSxyKX0sdGhpcyl9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubmFtZTtlLlNlcmlhbGl6ZUJ1ZmZlcnN8fFplKHRoaXMubmFtZSwiZGF0YToiKSYmKHRoaXMubmFtZT0iIiksWmUodGhpcy5uYW1lLCJkYXRhOiIpJiZ0aGlzLnVybD09PXRoaXMubmFtZSYmKHRoaXMudXJsPSIiKTt2YXIgcj1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gcj8oKGUuU2VyaWFsaXplQnVmZmVyc3x8ZS5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnMpJiYodHlwZW9mIHRoaXMuX2J1ZmZlcj09InN0cmluZyImJnRoaXMuX2J1ZmZlci5zdWJzdHIoMCw1KT09PSJkYXRhOiI/KHIuYmFzZTY0U3RyaW5nPXRoaXMuX2J1ZmZlcixyLm5hbWU9ci5uYW1lLnJlcGxhY2UoImRhdGE6IiwiIikpOnRoaXMudXJsJiZaZSh0aGlzLnVybCwiZGF0YToiKSYmdGhpcy5fYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheT9yLmJhc2U2NFN0cmluZz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIrYmkodGhpcy5fYnVmZmVyKTooZS5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMudXJsJiZaZSh0aGlzLnVybCwiYmxvYjoiKXx8dGhpcy5fZm9yY2VTZXJpYWxpemUpJiYoci5iYXNlNjRTdHJpbmc9IXRoaXMuX2VuZ2luZXx8dGhpcy5fZW5naW5lLl9mZWF0dXJlcy5zdXBwb3J0U3luY1RleHR1cmVSZWFkP0dhKHRoaXMpOlhhKHRoaXMpKSksci5pbnZlcnRZPXRoaXMuX2ludmVydFksci5zYW1wbGluZ01vZGU9dGhpcy5zYW1wbGluZ01vZGUsci5fY3JlYXRpb25GbGFncz10aGlzLl9jcmVhdGlvbkZsYWdzLHIuX3VzZVNSR0JCdWZmZXI9dGhpcy5fdXNlU1JHQkJ1ZmZlcix0aGlzLm5hbWU9dCxyKTpudWxsfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iVGV4dHVyZSJ9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5vbkxvYWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGx9LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe2lmKHQuY3VzdG9tVHlwZSl7dmFyIGE9Z3IuSW5zdGFudGlhdGUodC5jdXN0b21UeXBlKSxzPWEuUGFyc2UodCxyLG4pO3JldHVybiB0LnNhbXBsaW5nTW9kZSYmcy51cGRhdGVTYW1wbGluZ01vZGUmJnMuX3NhbXBsaW5nTW9kZSYmcy5fc2FtcGxpbmdNb2RlIT09dC5zYW1wbGluZ01vZGUmJnMudXBkYXRlU2FtcGxpbmdNb2RlKHQuc2FtcGxpbmdNb2RlKSxzfWlmKHQuaXNDdWJlJiYhdC5pc1JlbmRlclRhcmdldClyZXR1cm4gZS5fQ3ViZVRleHR1cmVQYXJzZXIodCxyLG4pO2lmKCF0Lm5hbWUmJiF0LmlzUmVuZGVyVGFyZ2V0KXJldHVybiBudWxsO3ZhciBvPWZ1bmN0aW9uKCl7aWYodSYmdS5fdGV4dHVyZSYmKHUuX3RleHR1cmUuX2NhY2hlZFdyYXBVPW51bGwsdS5fdGV4dHVyZS5fY2FjaGVkV3JhcFY9bnVsbCx1Ll90ZXh0dXJlLl9jYWNoZWRXcmFwUj1udWxsKSx0LnNhbXBsaW5nTW9kZSl7dmFyIGY9dC5zYW1wbGluZ01vZGU7dSYmdS5zYW1wbGluZ01vZGUhPT1mJiZ1LnVwZGF0ZVNhbXBsaW5nTW9kZShmKX1pZih1JiZ0LmFuaW1hdGlvbnMpZm9yKHZhciBsPTA7bDx0LmFuaW1hdGlvbnMubGVuZ3RoO2wrKyl7dmFyIGg9dC5hbmltYXRpb25zW2xdLGM9UnQoIkJBQllMT04uQW5pbWF0aW9uIik7YyYmdS5hbmltYXRpb25zLnB1c2goYy5QYXJzZShoKSl9fSx1PVkuUGFyc2UoZnVuY3Rpb24oKXt2YXIgZixsLGgsYz0hMDtpZih0Lm5vTWlwbWFwJiYoYz0hMSksdC5taXJyb3JQbGFuZSl7dmFyIGQ9ZS5fQ3JlYXRlTWlycm9yKHQubmFtZSx0LnJlbmRlclRhcmdldFNpemUscixjKTtyZXR1cm4gZC5fd2FpdGluZ1JlbmRlckxpc3Q9dC5yZW5kZXJMaXN0LGQubWlycm9yUGxhbmU9WnIuRnJvbUFycmF5KHQubWlycm9yUGxhbmUpLG8oKSxkfWVsc2UgaWYodC5pc1JlbmRlclRhcmdldCl7dmFyIHA9bnVsbDtpZih0LmlzQ3ViZSl7aWYoci5yZWZsZWN0aW9uUHJvYmVzKWZvcih2YXIgXz0wO188ci5yZWZsZWN0aW9uUHJvYmVzLmxlbmd0aDtfKyspe3ZhciBnPXIucmVmbGVjdGlvblByb2Jlc1tfXTtpZihnLm5hbWU9PT10Lm5hbWUpcmV0dXJuIGcuY3ViZVRleHR1cmV9fWVsc2UgcD1lLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHQubmFtZSx0LnJlbmRlclRhcmdldFNpemUscixjLChmPXQuX2NyZWF0aW9uRmxhZ3MpIT09bnVsbCYmZiE9PXZvaWQgMD9mOjApLHAuX3dhaXRpbmdSZW5kZXJMaXN0PXQucmVuZGVyTGlzdDtyZXR1cm4gbygpLHB9ZWxzZXt2YXIgbTtpZih0LmJhc2U2NFN0cmluZyltPWUuQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyh0LmJhc2U2NFN0cmluZyx0Lm5hbWUsciwhYyx0LmludmVydFksdC5zYW1wbGluZ01vZGUsbywobD10Ll9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJmwhPT12b2lkIDA/bDowLChoPXQuX3VzZVNSR0JCdWZmZXIpIT09bnVsbCYmaCE9PXZvaWQgMD9oOiExKTtlbHNle3ZhciB2PXZvaWQgMDt0Lm5hbWUmJnQubmFtZS5pbmRleE9mKCI6Ly8iKT4wP3Y9dC5uYW1lOnY9bit0Lm5hbWUsKFplKHQudXJsLCJkYXRhOiIpfHxlLlVzZVNlcmlhbGl6ZWRVcmxJZkFueSYmdC51cmwpJiYodj10LnVybCksbT1uZXcgZSh2LHIsIWMsdC5pbnZlcnRZLHQuc2FtcGxpbmdNb2RlLG8pfXJldHVybiBtfX0sdCxyKTtyZXR1cm4gdX0sZS5DcmVhdGVGcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQscixuLGEscyxvLHUsZixsLGgpe3JldHVybiBvPT09dm9pZCAwJiYobz1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPTUpLG5ldyBlKCJkYXRhOiIrcixuLGEscyxvLHUsZix0LCExLGwsdm9pZCAwLHZvaWQgMCxoKX0sZS5Mb2FkRnJvbURhdGFTdHJpbmc9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmLGwsaCxjKXtyZXR1cm4gYT09PXZvaWQgMCYmKGE9ITEpLG89PT12b2lkIDAmJihvPSEwKSx1PT09dm9pZCAwJiYodT1lLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPW51bGwpLGg9PT12b2lkIDAmJihoPTUpLHQuc3Vic3RyKDAsNSkhPT0iZGF0YToiJiYodD0iZGF0YToiK3QpLG5ldyBlKHQsbixzLG8sdSxmLGwscixhLGgsdm9pZCAwLHZvaWQgMCxjKX0sZS5TZXJpYWxpemVCdWZmZXJzPSEwLGUuRm9yY2VTZXJpYWxpemVCdWZmZXJzPSExLGUuT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZT1uZXcgTyxlLl9DdWJlVGV4dHVyZVBhcnNlcj1mdW5jdGlvbih0LHIsbil7dGhyb3cgVSgiQ3ViZVRleHR1cmUiKX0sZS5fQ3JlYXRlTWlycm9yPWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFUoIk1pcnJvclRleHR1cmUiKX0sZS5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbih0LHIsbixhLHMpe3Rocm93IFUoIlJlbmRlclRhcmdldFRleHR1cmUiKX0sZS5ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLGUuTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LGUuQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsZS5MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFPTMsZS5MSU5FQVJfTElORUFSX01JUExJTkVBUj0zLGUuTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxlLk5FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxlLk5FQVJFU1RfTElORUFSX01JUExJTkVBUj02LGUuTkVBUkVTVF9MSU5FQVI9NyxlLk5FQVJFU1RfTkVBUkVTVD0xLGUuTElORUFSX05FQVJFU1RfTUlQTkVBUkVTVD05LGUuTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLGUuTElORUFSX0xJTkVBUj0yLGUuTElORUFSX05FQVJFU1Q9MTIsZS5FWFBMSUNJVF9NT0RFPTAsZS5TUEhFUklDQUxfTU9ERT0xLGUuUExBTkFSX01PREU9MixlLkNVQklDX01PREU9MyxlLlBST0pFQ1RJT05fTU9ERT00LGUuU0tZQk9YX01PREU9NSxlLklOVkNVQklDX01PREU9NixlLkVRVUlSRUNUQU5HVUxBUl9NT0RFPTcsZS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERT04LGUuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxlLkNMQU1QX0FERFJFU1NNT0RFPTAsZS5XUkFQX0FERFJFU1NNT0RFPTEsZS5NSVJST1JfQUREUkVTU01PREU9MixlLlVzZVNlcmlhbGl6ZWRVcmxJZkFueT0hMSxUKFtQKCldLGUucHJvdG90eXBlLCJ1cmwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidU9mZnNldCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2T2Zmc2V0Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInVTY2FsZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2U2NhbGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidUFuZyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ2QW5nIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIndBbmciLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidVJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInZSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ3Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXNCbG9ja2luZyIsbnVsbCksZX0oemEpO09lKCJCQUJZTE9OLlRleHR1cmUiLFEpLFkuX1RleHR1cmVQYXJzZXI9US5QYXJzZTt2YXIgSGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3RoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fYXR0YWNobWVudHM9bnVsbCx0aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ITEsdGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj0hMSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9ITEsdGhpcy5faXNNdWx0aT1lLHRoaXMuX2lzQ3ViZT10LHRoaXMuX3NpemU9cix0aGlzLl9lbmdpbmU9bix0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhTdGVuY2lsVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzQ3ViZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0N1YmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc011bHRpIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTXVsdGl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpczJEQXJyYXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllcnM+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndpZHRoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGh8fHRoaXMuX3NpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoZWlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZS5oZWlnaHR8fHRoaXMuX3NpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJsYXllcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZS5sYXllcnN8fDB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0ZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl90ZXh0dXJlcyk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplWzBdKSE9PW51bGwmJnQhPT12b2lkIDA/dDpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidGV4dHVyZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzYW1wbGVzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLnRleHR1cmUpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5zYW1wbGVzKSE9PW51bGwmJnQhPT12b2lkIDA/dDoxfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldFNhbXBsZXM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMCkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuc2FtcGxlcz09PWUmJiFyP2U6dGhpcy5faXNNdWx0aT90aGlzLl9lbmdpbmUudXBkYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQodGhpcyxlLHQpOnRoaXMuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQodGhpcyxlKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZXM9ZnVuY3Rpb24oZSl7QXJyYXkuaXNBcnJheShlKT90aGlzLl90ZXh0dXJlcz1lOmU/dGhpcy5fdGV4dHVyZXM9W2VdOnRoaXMuX3RleHR1cmVzPW51bGx9LGkucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLl90ZXh0dXJlc3x8KHRoaXMuX3RleHR1cmVzPVtdKSx0aGlzLl90ZXh0dXJlc1t0XSYmciYmdGhpcy5fdGV4dHVyZXNbdF0uZGlzcG9zZSgpLHRoaXMuX3RleHR1cmVzW3RdPWV9LGkucHJvdG90eXBlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcztyZXR1cm4gZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj0xKSxhPT09dm9pZCAwJiYoYT0xNCksKHM9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9cix0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPXRoaXMuX2VuZ2luZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX3NpemUse2JpbGluZWFyRmlsdGVyaW5nOnQsY29tcGFyaXNvbkZ1bmN0aW9uOmUsZ2VuZXJhdGVTdGVuY2lsOnIsaXNDdWJlOnRoaXMuX2lzQ3ViZSxzYW1wbGVzOm4sZGVwdGhUZXh0dXJlRm9ybWF0OmF9LHRoaXMpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9LGkucHJvdG90eXBlLl9zaGFyZURlcHRoPWZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJihlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmRpc3Bvc2UoKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5pbmNyZW1lbnRSZWZlcmVuY2VzKCkpfSxpLnByb3RvdHlwZS5fc3dhcEFuZERpZT1mdW5jdGlvbihlKXt0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZS5fc3dhcEFuZERpZShlKSx0aGlzLl90ZXh0dXJlcz1udWxsLHRoaXMuZGlzcG9zZSghMCl9LGkucHJvdG90eXBlLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixhLHMsbz1udWxsO2lmKHRoaXMuX2lzTXVsdGkpe3ZhciB1PXRoaXMudGV4dHVyZXM7aWYodSYmdS5sZW5ndGg+MCl7dmFyIGY9ITEsbD11Lmxlbmd0aCxoPXVbdS5sZW5ndGgtMV0uX3NvdXJjZTsoaD09PXllLkRlcHRofHxoPT09eWUuRGVwdGhTdGVuY2lsKSYmKGY9ITAsbC0tKTtmb3IodmFyIGM9W10sZD1bXSxwPTA7cDxsOysrcCl7dmFyIF89dVtwXTtjLnB1c2goXy5zYW1wbGluZ01vZGUpLGQucHVzaChfLnR5cGUpfXZhciBnPXtzYW1wbGluZ01vZGVzOmMsZ2VuZXJhdGVNaXBNYXBzOnVbMF0uZ2VuZXJhdGVNaXBNYXBzLGdlbmVyYXRlRGVwdGhCdWZmZXI6dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6dGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGdlbmVyYXRlRGVwdGhUZXh0dXJlOmYsdHlwZXM6ZCx0ZXh0dXJlQ291bnQ6bH0sbT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9O289dGhpcy5fZW5naW5lLmNyZWF0ZU11bHRpcGxlUmVuZGVyVGFyZ2V0KG0sZyl9fWVsc2V7dmFyIHY9e307aWYodi5nZW5lcmF0ZURlcHRoQnVmZmVyPXRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsdi5nZW5lcmF0ZU1pcE1hcHM9KHQ9KGU9dGhpcy50ZXh0dXJlKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2VuZXJhdGVNaXBNYXBzKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMSx2LmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj10aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsdi5zYW1wbGluZ01vZGU9KHI9dGhpcy50ZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuc2FtcGxpbmdNb2RlLHYudHlwZT0obj10aGlzLnRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi50eXBlLHYuZm9ybWF0PShhPXRoaXMudGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmZvcm1hdCx0aGlzLmlzQ3ViZSlvPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLndpZHRoLHYpO2Vsc2V7dmFyIG09e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LGxheWVyczp0aGlzLmlzMkRBcnJheT8ocz10aGlzLnRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5kZXB0aDp2b2lkIDB9O289dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUobSx2KX1vLnRleHR1cmUuaXNSZWFkeT0hMH1yZXR1cm4gb30saS5wcm90b3R5cGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3RleHR1cmVzJiZlLl90ZXh0dXJlcylmb3IodmFyIHQ9MDt0PHRoaXMuX3RleHR1cmVzLmxlbmd0aDsrK3QpdGhpcy5fdGV4dHVyZXNbdF0uX3N3YXBBbmREaWUoZS5fdGV4dHVyZXNbdF0sITEpLGUuX3RleHR1cmVzW3RdLmlzUmVhZHk9ITA7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuX3N3YXBBbmREaWUoZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSksZS5fZGVwdGhTdGVuY2lsVGV4dHVyZS5pc1JlYWR5PSEwKSx0aGlzLl90ZXh0dXJlcz1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbH0saS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKTtpZighIWUpe2lmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpe3ZhciB0PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxpbmdNb2RlLHI9dD09PTJ8fHQ9PT0zfHx0PT09MTE7ZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuX2NvbXBhcmlzb25GdW5jdGlvbixyLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLnNhbXBsZXMpfXRoaXMuc2FtcGxlcz4xJiZlLnNldFNhbXBsZXModGhpcy5zYW1wbGVzKSxlLl9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcih0aGlzKSxlLmRpc3Bvc2UoKX19LGkucHJvdG90eXBlLnJlbGVhc2VUZXh0dXJlcz1mdW5jdGlvbigpe3ZhciBlLHQ7aWYodGhpcy5fdGV4dHVyZXMpZm9yKHZhciByPTA7KHQ9cjwoKGU9dGhpcy5fdGV4dHVyZXMpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5sZW5ndGgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDowOysrcil0aGlzLl90ZXh0dXJlc1tyXS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZXM9bnVsbH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlKXt2YXIgdDtlPT09dm9pZCAwJiYoZT0hMSksZXx8KCh0PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsLHRoaXMucmVsZWFzZVRleHR1cmVzKCkpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIodGhpcyl9LGl9KCksamE9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzKXt2YXIgbz1pLmNhbGwodGhpcyx0LHIsbixhKXx8dGhpcztyZXR1cm4gby5fZnJhbWVidWZmZXI9bnVsbCxvLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCxvLl9NU0FBRnJhbWVidWZmZXI9bnVsbCxvLl9jb2xvclRleHR1cmVBcnJheT1udWxsLG8uX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsLG8uX2NvbnRleHQ9cyxvfXJldHVybiBlLnByb3RvdHlwZS5fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtyZXR1cm4gdGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJnRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT8odD10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGl2aWV3UmVuZGVyVGFyZ2V0VGV4dHVyZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0LnRleHR1cmUuaXNSZWFkeT0hMCk6dD1pLnByb3RvdHlwZS5fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyLmNhbGwodGhpcyksdH0sZS5wcm90b3R5cGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLl9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlci5jYWxsKHRoaXMsdCksdC5fZnJhbWVidWZmZXI9dGhpcy5fZnJhbWVidWZmZXIsdC5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcix0Ll9NU0FBRnJhbWVidWZmZXI9dGhpcy5fTVNBQUZyYW1lYnVmZmVyLHQuX2NvbG9yVGV4dHVyZUFycmF5PXRoaXMuX2NvbG9yVGV4dHVyZUFycmF5LHQuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXksdGhpcy5fZnJhbWVidWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcj10aGlzLl9jb2xvclRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbH0sZS5wcm90b3R5cGUuX3NoYXJlRGVwdGg9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuX3NoYXJlRGVwdGguY2FsbCh0aGlzLHQpO3ZhciByPXRoaXMuX2NvbnRleHQsbj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsYT10Ll9mcmFtZWJ1ZmZlcjt0Ll9kZXB0aFN0ZW5jaWxCdWZmZXImJnIuZGVsZXRlUmVuZGVyYnVmZmVyKHQuX2RlcHRoU3RlbmNpbEJ1ZmZlciksdC5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcix0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYSksci5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihyLkZSQU1FQlVGRkVSLHIuREVQVEhfQVRUQUNITUVOVCxyLlJFTkRFUkJVRkZFUixuKSx0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9LGUucHJvdG90eXBlLl9iaW5kVGV4dHVyZVJlbmRlclRhcmdldD1mdW5jdGlvbih0LHIsbixhKXtpZihyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0tMSksYT09PXZvaWQgMCYmKGE9MCksISF0Ll9oYXJkd2FyZVRleHR1cmUpe3ZhciBzPXRoaXMuX2NvbnRleHQsbz10aGlzLl9mcmFtZWJ1ZmZlcix1PXRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lYnVmZmVyO3RoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihvKTt2YXIgZj1zW3RoaXMuX2VuZ2luZS53ZWJHTFZlcnNpb24+MT8iQ09MT1JfQVRUQUNITUVOVCIrcjoiQ09MT1JfQVRUQUNITUVOVCIrcisiX1dFQkdMIl0sbD1uIT09LTE/cy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbjpzLlRFWFRVUkVfMkQ7cy5mcmFtZWJ1ZmZlclRleHR1cmUyRChzLkZSQU1FQlVGRkVSLGYsbCx0Ll9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLGEpLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcih1KX19LGUucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24odCxyLG4pe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPSEwKSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlLmNhbGwodGhpcyx0LHIsbiksdGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQodCxyKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0KXt0PT09dm9pZCAwJiYodD0hMSk7dmFyIHI9dGhpcy5fY29udGV4dDt0fHwodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkpLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsKSksdGhpcy5fZnJhbWVidWZmZXImJihyLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2ZyYW1lYnVmZmVyKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXImJihyLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsKSx0aGlzLl9NU0FBRnJhbWVidWZmZXImJihyLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX01TQUFGcmFtZWJ1ZmZlciksdGhpcy5fTVNBQUZyYW1lYnVmZmVyPW51bGwpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQpfSxlfShIYSk7cmUucHJvdG90eXBlLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oaSxlLHQpe3ZhciByPW5ldyBqYShpLGUsdCx0aGlzLHRoaXMuX2dsKTtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnB1c2gocikscn0scmUucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9ZnVuY3Rpb24oaSxlKXt2YXIgdD10aGlzLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXIoITEsITEsaSkscj17fTtlIT09dm9pZCAwJiZ0eXBlb2YgZT09Im9iamVjdCI/KHIuZ2VuZXJhdGVEZXB0aEJ1ZmZlcj0hIWUuZ2VuZXJhdGVEZXB0aEJ1ZmZlcixyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj0hIWUuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyKTooci5nZW5lcmF0ZURlcHRoQnVmZmVyPSEwLHIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExKTt2YXIgbj10aGlzLl9jcmVhdGVJbnRlcm5hbFRleHR1cmUoaSxlLCEwLHllLlJlbmRlclRhcmdldCksYT1pLndpZHRofHxpLHM9aS5oZWlnaHR8fGksbz10aGlzLl9jdXJyZW50RnJhbWVidWZmZXIsdT10aGlzLl9nbCxmPXUuY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmKSx0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoISFyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLmdlbmVyYXRlRGVwdGhCdWZmZXIsYSxzKSxuLmlzMkRBcnJheXx8dS5mcmFtZWJ1ZmZlclRleHR1cmUyRCh1LkZSQU1FQlVGRkVSLHUuQ09MT1JfQVRUQUNITUVOVDAsdS5URVhUVVJFXzJELG4uX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UsMCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihvKSx0Ll9mcmFtZWJ1ZmZlcj1mLHQuX2dlbmVyYXRlRGVwdGhCdWZmZXI9ci5nZW5lcmF0ZURlcHRoQnVmZmVyLHQuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj0hIXIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHQuc2V0VGV4dHVyZXMobiksdH0scmUucHJvdG90eXBlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oaSxlLHQpe2lmKGUuaXNDdWJlKXt2YXIgcj1pLndpZHRofHxpO3JldHVybiB0aGlzLl9jcmVhdGVEZXB0aFN0ZW5jaWxDdWJlVGV4dHVyZShyLGUsdCl9ZWxzZSByZXR1cm4gdGhpcy5fY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShpLGUsdCl9LHJlLnByb3RvdHlwZS5fY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihpLGUsdCl7dmFyIHI9dGhpcy5fZ2wsbj1pLmxheWVyc3x8MCxhPW4hPT0wP3IuVEVYVFVSRV8yRF9BUlJBWTpyLlRFWFRVUkVfMkQscz1uZXcgcXQodGhpcyx5ZS5EZXB0aFN0ZW5jaWwpO2lmKCF0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbilyZXR1cm4gei5FcnJvcigiRGVwdGggdGV4dHVyZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlciBvciBoYXJkd2FyZS4iKSxzO3ZhciBvPWNlKHtiaWxpbmVhckZpbHRlcmluZzohMSxjb21wYXJpc29uRnVuY3Rpb246MCxnZW5lcmF0ZVN0ZW5jaWw6ITF9LGUpO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoYSxzLCEwKSx0aGlzLl9zZXR1cERlcHRoU3RlbmNpbFRleHR1cmUocyxpLG8uZ2VuZXJhdGVTdGVuY2lsLG8uY29tcGFyaXNvbkZ1bmN0aW9uPT09MD8hMTpvLmJpbGluZWFyRmlsdGVyaW5nLG8uY29tcGFyaXNvbkZ1bmN0aW9uKSxzLmZvcm1hdD1vLmdlbmVyYXRlU3RlbmNpbD8xMzoxNix0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlPXMsdC5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPW8uZ2VuZXJhdGVTdGVuY2lsO3ZhciB1PW8uZ2VuZXJhdGVTdGVuY2lsP3IuVU5TSUdORURfSU5UXzI0Xzg6ci5VTlNJR05FRF9JTlQsZj1vLmdlbmVyYXRlU3RlbmNpbD9yLkRFUFRIX1NURU5DSUw6ci5ERVBUSF9DT01QT05FTlQsbD1mO3JldHVybiB0aGlzLndlYkdMVmVyc2lvbj4xJiYobD1vLmdlbmVyYXRlU3RlbmNpbD9yLkRFUFRIMjRfU1RFTkNJTDg6ci5ERVBUSF9DT01QT05FTlQyNCkscy5pczJEQXJyYXk/ci50ZXhJbWFnZTNEKGEsMCxsLHMud2lkdGgscy5oZWlnaHQsbiwwLGYsdSxudWxsKTpyLnRleEltYWdlMkQoYSwwLGwscy53aWR0aCxzLmhlaWdodCwwLGYsdSxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGEsbnVsbCksdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gocyksc30scmUucHJvdG90eXBlLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudD1mdW5jdGlvbihpLGUpe2lmKHRoaXMud2ViR0xWZXJzaW9uPDJ8fCFpfHwhaS50ZXh0dXJlKXJldHVybiAxO2lmKGkuc2FtcGxlcz09PWUpcmV0dXJuIGU7dmFyIHQ9dGhpcy5fZ2w7ZT1NYXRoLm1pbihlLHRoaXMuZ2V0Q2FwcygpLm1heE1TQUFTYW1wbGVzKSxpLl9kZXB0aFN0ZW5jaWxCdWZmZXImJih0LmRlbGV0ZVJlbmRlcmJ1ZmZlcihpLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLGkuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsKSxpLl9NU0FBRnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKGkuX01TQUFGcmFtZWJ1ZmZlciksaS5fTVNBQUZyYW1lYnVmZmVyPW51bGwpO3ZhciByPWkudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlO2lmKHIuX01TQUFSZW5kZXJCdWZmZXImJih0LmRlbGV0ZVJlbmRlcmJ1ZmZlcihyLl9NU0FBUmVuZGVyQnVmZmVyKSxyLl9NU0FBUmVuZGVyQnVmZmVyPW51bGwpLGU+MSYmdC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUpe3ZhciBuPXQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO2kuX01TQUFGcmFtZWJ1ZmZlcj1uLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoaS5fTVNBQUZyYW1lYnVmZmVyKTt2YXIgYT10aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaS50ZXh0dXJlLndpZHRoLGkudGV4dHVyZS5oZWlnaHQsZSwtMSx0aGlzLl9nZXRSR0JBTXVsdGlTYW1wbGVCdWZmZXJGb3JtYXQoaS50ZXh0dXJlLnR5cGUpLHQuQ09MT1JfQVRUQUNITUVOVDAsITEpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBtdWx0aSBzYW1wbGVkIGZyYW1lYnVmZmVyIik7ci5fTVNBQVJlbmRlckJ1ZmZlcj1hfWVsc2UgdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihpLl9mcmFtZWJ1ZmZlcik7cmV0dXJuIGkudGV4dHVyZS5zYW1wbGVzPWUsaS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGkuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixpLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGkudGV4dHVyZS53aWR0aCxpLnRleHR1cmUuaGVpZ2h0LGUpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksZX0scmUucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlPWZ1bmN0aW9uKGksZSl7dmFyIHQ9dGhpcy5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyKCExLCEwLGkpLHI9Y2Uoe2dlbmVyYXRlTWlwTWFwczohMCxnZW5lcmF0ZURlcHRoQnVmZmVyOiEwLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMSx0eXBlOjAsc2FtcGxpbmdNb2RlOjMsZm9ybWF0OjV9LGUpO3IuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPXIuZ2VuZXJhdGVEZXB0aEJ1ZmZlciYmci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsKHIudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8ci50eXBlPT09MiYmIXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZykmJihyLnNhbXBsaW5nTW9kZT0xKTt2YXIgbj10aGlzLl9nbCxhPW5ldyBxdCh0aGlzLHllLlJlbmRlclRhcmdldCk7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfQ1VCRV9NQVAsYSwhMCk7dmFyIHM9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKHIuc2FtcGxpbmdNb2RlLHIuZ2VuZXJhdGVNaXBNYXBzKTtyLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJihyLnR5cGU9MCx6Lldhcm4oIkZsb2F0IHRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLiBDdWJlIHJlbmRlciB0YXJnZXQgZm9yY2VkIHRvIFRFWFRVUkVUWVBFX1VORVNJR05FRF9CWVRFIHR5cGUiKSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixzLm1hZyksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfTUlOX0ZJTFRFUixzLm1pbiksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfV1JBUF9TLG4uQ0xBTVBfVE9fRURHRSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfV1JBUF9ULG4uQ0xBTVBfVE9fRURHRSk7Zm9yKHZhciBvPTA7bzw2O28rKyluLnRleEltYWdlMkQobi5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbywwLHRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KHIudHlwZSxyLmZvcm1hdCksaSxpLDAsdGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoci5mb3JtYXQpLHRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoci50eXBlKSxudWxsKTt2YXIgdT1uLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIodSksdC5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKHIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHIuZ2VuZXJhdGVEZXB0aEJ1ZmZlcixpLGkpLHIuZ2VuZXJhdGVNaXBNYXBzJiZuLmdlbmVyYXRlTWlwbWFwKG4uVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0Ll9mcmFtZWJ1ZmZlcj11LHQuX2dlbmVyYXRlRGVwdGhCdWZmZXI9ci5nZW5lcmF0ZURlcHRoQnVmZmVyLHQuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1yLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixhLndpZHRoPWksYS5oZWlnaHQ9aSxhLmlzUmVhZHk9ITAsYS5pc0N1YmU9ITAsYS5zYW1wbGVzPTEsYS5nZW5lcmF0ZU1pcE1hcHM9ci5nZW5lcmF0ZU1pcE1hcHMsYS5zYW1wbGluZ01vZGU9ci5zYW1wbGluZ01vZGUsYS50eXBlPXIudHlwZSxhLmZvcm1hdD1yLmZvcm1hdCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChhKSx0LnNldFRleHR1cmVzKGEpLHR9O3ZhciB6dD1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLF8sZyl7cz09PXZvaWQgMCYmKHM9ITApLG89PT12b2lkIDAmJihvPTApLHU9PT12b2lkIDAmJih1PSExKSxmPT09dm9pZCAwJiYoZj1RLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLGw9PT12b2lkIDAmJihsPSEwKSxoPT09dm9pZCAwJiYoaD0hMSksYz09PXZvaWQgMCYmKGM9ITEpLGQ9PT12b2lkIDAmJihkPTUpLHA9PT12b2lkIDAmJihwPSExKTt2YXIgbSx2PWkuY2FsbCh0aGlzLG51bGwsbiwhYSx2b2lkIDAsZix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZCl8fHRoaXM7aWYodi5yZW5kZXJQYXJ0aWNsZXM9ITAsdi5yZW5kZXJTcHJpdGVzPSExLHYuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITEsdi5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyBPLHYub25BZnRlclVuYmluZE9ic2VydmFibGU9bmV3IE8sdi5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8sdi5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx2Lm9uQ2xlYXJPYnNlcnZhYmxlPW5ldyBPLHYub25SZXNpemVPYnNlcnZhYmxlPW5ldyBPLHYuX2NsZWFyZWQ9ITEsdi5za2lwSW5pdGlhbENsZWFyPSExLHYuX2N1cnJlbnRSZWZyZXNoSWQ9LTEsdi5fcmVmcmVzaFJhdGU9MSx2Ll9zYW1wbGVzPTEsdi5fY2FuUmVzY2FsZT0hMCx2Ll9yZW5kZXJUYXJnZXQ9bnVsbCx2LmJvdW5kaW5nQm94UG9zaXRpb249RS5aZXJvKCksbj12LmdldFNjZW5lKCksIW4pcmV0dXJuIHY7dmFyIFM9di5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3JldHVybiB2Ll9jb29yZGluYXRlc01vZGU9US5QUk9KRUNUSU9OX01PREUsdi5yZW5kZXJMaXN0PW5ldyBBcnJheSx2Lm5hbWU9dCx2LmlzUmVuZGVyVGFyZ2V0PSEwLHYuX2luaXRpYWxTaXplUGFyYW1ldGVyPXIsdi5fcmVuZGVyUGFzc0lkcz1bXSx2Ll9faXNDdWJlPXUsdi5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIociksdi5yZW5kZXJQYXNzSWQ9di5fcmVuZGVyUGFzc0lkc1swXSx2Ll9yZXNpemVPYnNlcnZlcj1TLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt9KSx2Ll9nZW5lcmF0ZU1pcE1hcHM9ISFhLHYuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW89cyx2Ll9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBBcihuKSx2Ll9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSEwLGN8fCh2Ll9yZW5kZXJUYXJnZXRPcHRpb25zPXtnZW5lcmF0ZU1pcE1hcHM6YSx0eXBlOm8sZm9ybWF0OihtPXYuX2Zvcm1hdCkhPT1udWxsJiZtIT09dm9pZCAwP206dm9pZCAwLHNhbXBsaW5nTW9kZTp2LnNhbXBsaW5nTW9kZSxnZW5lcmF0ZURlcHRoQnVmZmVyOmwsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOmgsc2FtcGxlczpfLGNyZWF0aW9uRmxhZ3M6Z30sdi5zYW1wbGluZ01vZGU9PT1RLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodi53cmFwVT1RLkNMQU1QX0FERFJFU1NNT0RFLHYud3JhcFY9US5DTEFNUF9BRERSRVNTTU9ERSkscHx8KHU/KHYuX3JlbmRlclRhcmdldD1uLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHYuZ2V0UmVuZGVyU2l6ZSgpLHYuX3JlbmRlclRhcmdldE9wdGlvbnMpLHYuY29vcmRpbmF0ZXNNb2RlPVEuSU5WQ1VCSUNfTU9ERSx2Ll90ZXh0dXJlTWF0cml4PUkuSWRlbnRpdHkoKSk6di5fcmVuZGVyVGFyZ2V0PW4uZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh2Ll9zaXplLHYuX3JlbmRlclRhcmdldE9wdGlvbnMpLHYuX3RleHR1cmU9di5fcmVuZGVyVGFyZ2V0LnRleHR1cmUsXyE9PXZvaWQgMCYmKHYuc2FtcGxlcz1fKSkpLHZ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyTGlzdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJMaXN0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVuZGVyTGlzdD10LHRoaXMuX3JlbmRlckxpc3QmJnRoaXMuX2hvb2tBcnJheSh0aGlzLl9yZW5kZXJMaXN0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5faG9va0FycmF5PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsbj10LnB1c2g7dC5wdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBzLG89W10sdT0wO3U8YXJndW1lbnRzLmxlbmd0aDt1Kyspb1t1XT1hcmd1bWVudHNbdV07dmFyIGY9dC5sZW5ndGg9PT0wLGw9bi5hcHBseSh0LG8pO3JldHVybiBmJiYoKHM9ci5nZXRTY2VuZSgpKT09PW51bGx8fHM9PT12b2lkIDB8fHMubWVzaGVzLmZvckVhY2goZnVuY3Rpb24oaCl7aC5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfSkpLGx9O3ZhciBhPXQuc3BsaWNlO3Quc3BsaWNlPWZ1bmN0aW9uKHMsbyl7dmFyIHUsZj1hLmFwcGx5KHQsW3Msb10pO3JldHVybiB0Lmxlbmd0aD09PTAmJigodT1yLmdldFNjZW5lKCkpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5tZXNoZXMuZm9yRWFjaChmdW5jdGlvbihsKXtsLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9KSksZn19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicG9zdFByb2Nlc3NlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3N0UHJvY2Vzc2VzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX3ByZVBhc3NFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmVuYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkFmdGVyVW5iaW5kIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciYmdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyKSx0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZVJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkFmdGVyUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkNsZWFyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQ2xlYXJPYnNlcnZlciYmdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25DbGVhck9ic2VydmVyKSx0aGlzLl9vbkNsZWFyT2JzZXJ2ZXI9dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJQYXNzSWRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NJZHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjdXJyZW50UmVmcmVzaElkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmc9ZnVuY3Rpb24odCxyKXt2YXIgbjtBcnJheS5pc0FycmF5KHQpP249dDpuPVt0XTtmb3IodmFyIGE9MDthPG4ubGVuZ3RoOysrYSlmb3IodmFyIHM9MDtzPHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrcyluW2FdLnNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9yZW5kZXJQYXNzSWRzW3NdLHIhPT12b2lkIDA/QXJyYXkuaXNBcnJheShyKT9yW3NdOnI6dm9pZCAwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJUYXJnZXRPcHRpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9vblJhdGlvUmVzY2FsZT1mdW5jdGlvbigpe3RoaXMuX3NpemVSYXRpbyYmdGhpcy5yZXNpemUodGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJvdW5kaW5nQm94U2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZGluZ0JveFNpemV9LHNldDpmdW5jdGlvbih0KXtpZighKHRoaXMuX2JvdW5kaW5nQm94U2l6ZSYmdGhpcy5fYm91bmRpbmdCb3hTaXplLmVxdWFscyh0KSkpe3RoaXMuX2JvdW5kaW5nQm94U2l6ZT10O3ZhciByPXRoaXMuZ2V0U2NlbmUoKTtyJiZyLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImRlcHRoU3RlbmNpbFRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxyO3JldHVybihyPSh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlKSE9PW51bGwmJnIhPT12b2lkIDA/cjpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbzt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0hMCksbj09PXZvaWQgMCYmKG49ITEpLGE9PT12b2lkIDAmJihhPTEpLHM9PT12b2lkIDAmJihzPTE0KSwobz10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8bz09PXZvaWQgMHx8by5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHQscixuLGEscyl9LGUucHJvdG90eXBlLl9yZWxlYXNlUmVuZGVyUGFzc0lkPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2NlbmUpZm9yKHZhciB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9MDtyPHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrcil0LnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5fcmVuZGVyUGFzc0lkc1tyXSk7dGhpcy5fcmVuZGVyUGFzc0lkcz1bXX0sZS5wcm90b3R5cGUuX2NyZWF0ZVJlbmRlclBhc3NJZD1mdW5jdGlvbigpe3RoaXMuX3JlbGVhc2VSZW5kZXJQYXNzSWQoKTtmb3IodmFyIHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj10aGlzLl9faXNDdWJlPzY6dGhpcy5nZXRSZW5kZXJMYXllcnMoKXx8MSxuPTA7bjxyOysrbil0aGlzLl9yZW5kZXJQYXNzSWRzW25dPXQuY3JlYXRlUmVuZGVyUGFzc0lkKCJSZW5kZXJUYXJnZXRUZXh0dXJlIC0gIi5jb25jYXQodGhpcy5uYW1lLCIjIikuY29uY2F0KG4pKX0sZS5wcm90b3R5cGUuX3Byb2Nlc3NTaXplUGFyYW1ldGVyPWZ1bmN0aW9uKHQpe2lmKHQucmF0aW8pe3RoaXMuX3NpemVSYXRpbz10LnJhdGlvO3ZhciByPXRoaXMuX2dldEVuZ2luZSgpO3RoaXMuX3NpemU9e3dpZHRoOnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHIuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLl9zaXplUmF0aW8pLGhlaWdodDp0aGlzLl9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbihyLmdldFJlbmRlckhlaWdodCgpLHRoaXMuX3NpemVSYXRpbyl9fWVsc2UgdGhpcy5fc2l6ZT10O3RoaXMuX2NyZWF0ZVJlbmRlclBhc3NJZCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNhbXBsZXMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxyO3JldHVybihyPSh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnNhbXBsZXMpIT09bnVsbCYmciE9PXZvaWQgMD9yOnRoaXMuX3NhbXBsZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJUYXJnZXQmJih0aGlzLl9zYW1wbGVzPXRoaXMuX3JlbmRlclRhcmdldC5zZXRTYW1wbGVzKHQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZXNldFJlZnJlc2hDb3VudGVyPWZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudFJlZnJlc2hJZD0tMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZWZyZXNoUmF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWZyZXNoUmF0ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JlZnJlc2hSYXRlPXQsdGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYWRkUG9zdFByb2Nlc3M9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcil7dmFyIHI9dGhpcy5nZXRTY2VuZSgpO2lmKCFyKXJldHVybjt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IE1yKHIpLHRoaXMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXRoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaCh0KSx0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMX0sZS5wcm90b3R5cGUuY2xlYXJQb3N0UHJvY2Vzc2VzPWZ1bmN0aW9uKHQpe2lmKHQ9PT12b2lkIDAmJih0PSExKSwhIXRoaXMuX3Bvc3RQcm9jZXNzZXMpe2lmKHQpZm9yKHZhciByPTAsbj10aGlzLl9wb3N0UHJvY2Vzc2VzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EuZGlzcG9zZSgpfXRoaXMuX3Bvc3RQcm9jZXNzZXM9W119fSxlLnByb3RvdHlwZS5yZW1vdmVQb3N0UHJvY2Vzcz1mdW5jdGlvbih0KXtpZighIXRoaXMuX3Bvc3RQcm9jZXNzZXMpe3ZhciByPXRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0KTtyIT09LTEmJih0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZShyLDEpLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjAmJih0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMSkpfX0sZS5wcm90b3R5cGUuX3Nob3VsZFJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmVmcmVzaElkPT09LTE/KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9MSwhMCk6dGhpcy5yZWZyZXNoUmF0ZT09PXRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ/KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9MSwhMCk6KHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQrKywhMSl9LGUucHJvdG90eXBlLmdldFJlbmRlclNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCgpfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUud2lkdGg6dGhpcy5fc2l6ZX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVySGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGg/dGhpcy5fc2l6ZS5oZWlnaHQ6dGhpcy5fc2l6ZX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyTGF5ZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2l6ZS5sYXllcnM7cmV0dXJuIHR8fDB9LGUucHJvdG90eXBlLmRpc2FibGVSZXNjYWxpbmc9ZnVuY3Rpb24oKXt0aGlzLl9jYW5SZXNjYWxlPSExfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhblJlc2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FuUmVzY2FsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXt2YXIgcj1NYXRoLm1heCgxLHRoaXMuZ2V0UmVuZGVyU2l6ZSgpKnQpO3RoaXMucmVzaXplKHIpfSxlLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQ3ViZT90aGlzLl90ZXh0dXJlTWF0cml4OmkucHJvdG90eXBlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt2YXIgcixuPXRoaXMuaXNDdWJlOyhyPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbDt2YXIgYT10aGlzLmdldFNjZW5lKCk7IWF8fCh0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcih0KSxuP3RoaXMuX3JlbmRlclRhcmdldD1hLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpOnRoaXMuX3JlbmRlclRhcmdldD1hLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxyKXt0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuX3JlbmRlcih0LHIpfSxlLnByb3RvdHlwZS5pc1JlYWR5Rm9yUmVuZGVyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcighMSwhMSwhMCl9LGUucHJvdG90eXBlLl9yZW5kZXI9ZnVuY3Rpb24odCxyLG4pe3ZhciBhO3Q9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksbj09PXZvaWQgMCYmKG49ITEpO3ZhciBzPXRoaXMuZ2V0U2NlbmUoKTtpZighcylyZXR1cm4gbjt2YXIgbz1zLmdldEVuZ2luZSgpO2lmKHRoaXMudXNlQ2FtZXJhUG9zdFByb2Nlc3NlcyE9PXZvaWQgMCYmKHQ9dGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzKSx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdCl7dGhpcy5yZW5kZXJMaXN0PVtdO2Zvcih2YXIgdT0wO3U8dGhpcy5fd2FpdGluZ1JlbmRlckxpc3QubGVuZ3RoO3UrKyl7dmFyIGY9dGhpcy5fd2FpdGluZ1JlbmRlckxpc3RbdV0sbD1zLmdldE1lc2hCeUlkKGYpO2wmJnRoaXMucmVuZGVyTGlzdC5wdXNoKGwpfXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0PXZvaWQgMH1pZih0aGlzLnJlbmRlckxpc3RQcmVkaWNhdGUpe3RoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoPTA6dGhpcy5yZW5kZXJMaXN0PVtdO3ZhciBzPXRoaXMuZ2V0U2NlbmUoKTtpZighcylyZXR1cm4gbjtmb3IodmFyIGg9cy5tZXNoZXMsdT0wO3U8aC5sZW5ndGg7dSsrKXt2YXIgYz1oW3VdO3RoaXMucmVuZGVyTGlzdFByZWRpY2F0ZShjKSYmdGhpcy5yZW5kZXJMaXN0LnB1c2goYyl9fXZhciBkPW8uY3VycmVudFJlbmRlclBhc3NJZDt0aGlzLm9uQmVmb3JlQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3ZhciBwPShhPXRoaXMuYWN0aXZlQ2FtZXJhKSE9PW51bGwmJmEhPT12b2lkIDA/YTpzLmFjdGl2ZUNhbWVyYTtwJiYocCE9PXMuYWN0aXZlQ2FtZXJhJiZzLnNldFRyYW5zZm9ybU1hdHJpeChwLmdldFZpZXdNYXRyaXgoKSxwLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxvLnNldFZpZXdwb3J0KHAudmlld3BvcnQsdGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCkpKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSExO3ZhciBfPW47aWYobil7cy5nZXRWaWV3TWF0cml4KCl8fHMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCk7Zm9yKHZhciB2PXRoaXMuaXMyREFycmF5P3RoaXMuZ2V0UmVuZGVyTGF5ZXJzKCk6dGhpcy5pc0N1YmU/NjoxLGc9MDtnPHYmJl87ZysrKXt2YXIgUz1udWxsLE09dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpzLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsQT10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpzLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDtvLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tnXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZyksdGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0JiYoUz10aGlzLmdldEN1c3RvbVJlbmRlckxpc3QoZyxNLEEpKSxTfHwoUz1NKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKHZhciBSPTA7UjxTLmxlbmd0aCYmXzsrK1Ipe3ZhciB5PVNbUl07aWYoISgheS5pc0VuYWJsZWQoKXx8eS5pc0Jsb2NrZWR8fCF5LmlzVmlzaWJsZXx8IXkuc3ViTWVzaGVzKSl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbih5LHRoaXMucmVmcmVzaFJhdGUpKXtfPSExO2JyZWFrfX1lbHNlIGlmKCF5LmlzUmVhZHkoITApKXtfPSExO2JyZWFrfX19dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZyl9fWVsc2UgaWYodGhpcy5pczJEQXJyYXkpZm9yKHZhciBnPTA7Zzx0aGlzLmdldFJlbmRlckxheWVycygpO2crKyl0aGlzLnJlbmRlclRvVGFyZ2V0KDAsdCxyLGcscCkscy5pbmNyZW1lbnRSZW5kZXJJZCgpLHMucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgaWYodGhpcy5pc0N1YmUpZm9yKHZhciBtPTA7bTw2O20rKyl0aGlzLnJlbmRlclRvVGFyZ2V0KG0sdCxyLHZvaWQgMCxwKSxzLmluY3JlbWVudFJlbmRlcklkKCkscy5yZXNldENhY2hlZE1hdGVyaWFsKCk7ZWxzZSB0aGlzLnJlbmRlclRvVGFyZ2V0KDAsdCxyLHZvaWQgMCxwKTtyZXR1cm4gdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksby5jdXJyZW50UmVuZGVyUGFzc0lkPWQscy5hY3RpdmVDYW1lcmEmJigocy5nZXRFbmdpbmUoKS5zY2VuZXMubGVuZ3RoPjF8fHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYSE9PXMuYWN0aXZlQ2FtZXJhKSYmcy5zZXRUcmFuc2Zvcm1NYXRyaXgocy5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHMuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxvLnNldFZpZXdwb3J0KHMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSkscy5yZXNldENhY2hlZE1hdGVyaWFsKCksX30sZS5wcm90b3R5cGUuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKHQscil7dmFyIG49MTI4LGE9dCpyLHM9b2UuTmVhcmVzdFBPVChhK24qbi8obithKSk7cmV0dXJuIE1hdGgubWluKG9lLkZsb29yUE9UKHQpLHMpfSxlLnByb3RvdHlwZS5fcHJlcGFyZVJlbmRlcmluZ01hbmFnZXI9ZnVuY3Rpb24odCxyLG4sYSl7dmFyIHM9dGhpcy5nZXRTY2VuZSgpO2lmKCEhcyl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpO2Zvcih2YXIgbz1zLmdldFJlbmRlcklkKCksdT0wO3U8cjt1Kyspe3ZhciBmPXRbdV07aWYoZiYmIWYuaXNCbG9ja2VkKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKGYsdGhpcy5yZWZyZXNoUmF0ZSkpe3RoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpO2NvbnRpbnVlfX1lbHNlIGlmKCFmLmlzUmVhZHkodGhpcy5yZWZyZXNoUmF0ZT09PTApKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX1pZighZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGUmJnMuYWN0aXZlQ2FtZXJhJiYoZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRD1zLmN1c3RvbUxPRFNlbGVjdG9yP3MuY3VzdG9tTE9EU2VsZWN0b3IoZix0aGlzLmFjdGl2ZUNhbWVyYXx8cy5hY3RpdmVDYW1lcmEpOmYuZ2V0TE9EKHRoaXMuYWN0aXZlQ2FtZXJhfHxzLmFjdGl2ZUNhbWVyYSksZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITApLCFmLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EKWNvbnRpbnVlO3ZhciBsPWYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q7bC5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcobyk7dmFyIGg9dm9pZCAwO2lmKGEmJm4/aD0oZi5sYXllck1hc2smbi5sYXllck1hc2spPT09MDpoPSExLGYuaXNFbmFibGVkKCkmJmYuaXNWaXNpYmxlJiZmLnN1Yk1lc2hlcyYmIWgmJihsIT09ZiYmbC5fYWN0aXZhdGUobywhMCksZi5fYWN0aXZhdGUobywhMCkmJmYuc3ViTWVzaGVzLmxlbmd0aCkpe2YuaXNBbkluc3RhbmNlP2YuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihsPWYpOmwuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITEsbC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITA7Zm9yKHZhciBjPTA7YzxsLnN1Yk1lc2hlcy5sZW5ndGg7YysrKXt2YXIgZD1sLnN1Yk1lc2hlc1tjXTt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKGQsbCl9fX19Zm9yKHZhciBwPTA7cDxzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7cCsrKXt2YXIgXz1zLnBhcnRpY2xlU3lzdGVtc1twXSxnPV8uZW1pdHRlcjshXy5pc1N0YXJ0ZWQoKXx8IWd8fCFnLnBvc2l0aW9ufHwhZy5pc0VuYWJsZWQoKXx8dC5pbmRleE9mKGcpPj0wJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoUGFydGljbGVzKF8pfX19LGUucHJvdG90eXBlLl9iaW5kRnJhbWVCdWZmZXI9ZnVuY3Rpb24odCxyKXt0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKTt2YXIgbj10aGlzLmdldFNjZW5lKCk7aWYoISFuKXt2YXIgYT1uLmdldEVuZ2luZSgpO3RoaXMuX3JlbmRlclRhcmdldCYmYS5iaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlP3Q6dm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5pZ25vcmVDYW1lcmFWaWV3cG9ydCwwLHIpfX0sZS5wcm90b3R5cGUudW5iaW5kRnJhbWVCdWZmZXI9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzOyF0aGlzLl9yZW5kZXJUYXJnZXR8fHQudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlLGZ1bmN0aW9uKCl7bi5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9KX0sZS5wcm90b3R5cGUuX3ByZXBhcmVGcmFtZT1mdW5jdGlvbih0LHIsbixhKXt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI/dGhpcy5fcHJlUGFzc0VuYWJsZWR8fHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKHRoaXMuX3RleHR1cmUsdGhpcy5fcG9zdFByb2Nlc3Nlcyk6KCFhfHwhdC5wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSh0aGlzLl90ZXh0dXJlKSkmJnRoaXMuX2JpbmRGcmFtZUJ1ZmZlcihyLG4pfSxlLnByb3RvdHlwZS5yZW5kZXJUb1RhcmdldD1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvLHUsZixsO2E9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPW51bGwpO3ZhciBoPXRoaXMuZ2V0U2NlbmUoKTtpZighIWgpe3ZhciBjPWguZ2V0RW5naW5lKCk7aWYoISF0aGlzLl90ZXh0dXJlKXsobz1jLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwoYywicmVuZGVyIHRvIGZhY2UgIyIuY29uY2F0KHQsIiBsYXllciAjIikuY29uY2F0KGEpLDEpLHRoaXMuX3ByZXBhcmVGcmFtZShoLHQsYSxyKSx0aGlzLmlzMkRBcnJheT8oYy5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbYV0sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpKTooYy5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbdF0sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKTt2YXIgZD1jLnNuYXBzaG90UmVuZGVyaW5nJiZjLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTE7aWYoZCl0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3RoaXMub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGMpOnRoaXMuc2tpcEluaXRpYWxDbGVhcnx8Yy5jbGVhcih0aGlzLmNsZWFyQ29sb3J8fGguY2xlYXJDb2xvciwhMCwhMCwhMCk7ZWxzZXt2YXIgcD1udWxsLF89dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpoLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsZz10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpoLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDt0aGlzLmdldEN1c3RvbVJlbmRlckxpc3QmJihwPXRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCh0aGlzLmlzMkRBcnJheT9hOnQsXyxnKSkscD90aGlzLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcihwLHAubGVuZ3RoLHMsITEpOih0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkfHwodGhpcy5fcHJlcGFyZVJlbmRlcmluZ01hbmFnZXIoXyxnLHMsIXRoaXMucmVuZGVyTGlzdCksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMCkscD1fKTtmb3IodmFyIG09MCx2PWguX2JlZm9yZVJlbmRlclRhcmdldENsZWFyU3RhZ2U7bTx2Lmxlbmd0aDttKyspe3ZhciBTPXZbbV07Uy5hY3Rpb24odGhpcyx0LGEpfXRoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYyk6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxjLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8aC5jbGVhckNvbG9yLCEwLCEwLCEwKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxoLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKHZhciBNPTAsQT1oLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2U7TTxBLmxlbmd0aDtNKyspe3ZhciBTPUFbTV07Uy5hY3Rpb24odGhpcyx0LGEpfXRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVuZGVyKHRoaXMuY3VzdG9tUmVuZGVyRnVuY3Rpb24scCx0aGlzLnJlbmRlclBhcnRpY2xlcyx0aGlzLnJlbmRlclNwcml0ZXMpO2Zvcih2YXIgUj0wLHk9aC5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2U7Ujx5Lmxlbmd0aDtSKyspe3ZhciBTPXlbUl07Uy5hY3Rpb24odGhpcyx0LGEpfXZhciBDPXRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzO3RoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPSExLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoITEsKHU9dGhpcy5fcmVuZGVyVGFyZ2V0KSE9PW51bGwmJnUhPT12b2lkIDA/dTp2b2lkIDAsdCx0aGlzLl9wb3N0UHJvY2Vzc2VzLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQpOnImJmgucG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChmPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZmIT09dm9pZCAwP2Y6dm9pZCAwLHQpLHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPUMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8aC51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApLG4mJmllLkR1bXBGcmFtZWJ1ZmZlcih0aGlzLmdldFJlbmRlcldpZHRoKCksdGhpcy5nZXRSZW5kZXJIZWlnaHQoKSxjKX10aGlzLnVuYmluZEZyYW1lQnVmZmVyKGMsdCksdGhpcy5pc0N1YmUmJnQ9PT01JiZjLmdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAodGhpcy5fdGV4dHVyZSksKGw9Yy5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxsPT09dm9pZCAwfHxsLmNhbGwoYywxKX19fSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdPcmRlcj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKHQscixuLGEpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24odCxyKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbCh0LHIpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITF9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTaXplKCkscj1uZXcgZSh0aGlzLm5hbWUsdCx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gci5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHIubGV2ZWw9dGhpcy5sZXZlbCxyLmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJihyLnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSxyfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO3ZhciB0PWkucHJvdG90eXBlLnNlcmlhbGl6ZS5jYWxsKHRoaXMpO2lmKHQucmVuZGVyVGFyZ2V0U2l6ZT10aGlzLmdldFJlbmRlclNpemUoKSx0LnJlbmRlckxpc3Q9W10sdGhpcy5yZW5kZXJMaXN0KWZvcih2YXIgcj0wO3I8dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDtyKyspdC5yZW5kZXJMaXN0LnB1c2godGhpcy5yZW5kZXJMaXN0W3JdLmlkKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cz1mdW5jdGlvbigpe3ZhciB0Oyh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoITApfSxlLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ7KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmKHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW51bGwpLHRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQmJnRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQuZGlzcG9zZSgpLHRoaXMuX3JlbGVhc2VSZW5kZXJQYXNzSWQoKSx0aGlzLmNsZWFyUG9zdFByb2Nlc3NlcyghMCksdGhpcy5fcmVzaXplT2JzZXJ2ZXImJih0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkub25SZXNpemVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9yZXNpemVPYnNlcnZlciksdGhpcy5fcmVzaXplT2JzZXJ2ZXI9bnVsbCksdGhpcy5yZW5kZXJMaXN0PW51bGw7dmFyIHI9dGhpcy5nZXRTY2VuZSgpO2lmKCEhcil7dmFyIG49ci5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyk7bj49MCYmci5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShuLDEpO2Zvcih2YXIgYT0wLHM9ci5jYW1lcmFzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO249by5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyksbj49MCYmby5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShuLDEpfSh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl90ZXh0dXJlPW51bGwsaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfX0sZS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hSYXRlPT09ZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSYmKHRoaXMucmVmcmVzaFJhdGU9ZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX0sZS5wcm90b3R5cGUuZnJlZVJlbmRlcmluZ0dyb3Vwcz1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpfSxlLnByb3RvdHlwZS5nZXRWaWV3Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0sZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRT0wLGUuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllGUkFNRT0xLGUuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllUV09GUkFNRVM9MixlfShRKTtRLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPWZ1bmN0aW9uKGksZSx0LHIsbil7cmV0dXJuIG5ldyB6dChpLGUsdCxyKX07dmFyIEthPSJwb3N0cHJvY2Vzc1ZlcnRleFNoYWRlciIsWWE9YAphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKdW5pZm9ybSB2ZWMyIHNjYWxlOwoKdmFyeWluZyB2ZWMyIHZVVjsKY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgp2VVY9KHBvc2l0aW9uKm1hZGQrbWFkZCkqc2NhbGU7CmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtMLlNoYWRlcnNTdG9yZVtLYV09WWE7dmFyIGFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsXyl7bz09PXZvaWQgMCYmKG89MSksbD09PXZvaWQgMCYmKGw9bnVsbCksaD09PXZvaWQgMCYmKGg9MCksYz09PXZvaWQgMCYmKGM9InBvc3Rwcm9jZXNzIikscD09PXZvaWQgMCYmKHA9ITEpLF89PT12b2lkIDAmJihfPTUpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMud2lkdGg9LTEsdGhpcy5oZWlnaHQ9LTEsdGhpcy5ub2RlTWF0ZXJpYWxTb3VyY2U9bnVsbCx0aGlzLl9vdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hbHBoYU1vZGU9MCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT0hMSx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuc2NhbGVNb2RlPTEsdGhpcy5hbHdheXNGb3JjZVBPVD0hMSx0aGlzLl9zYW1wbGVzPTEsdGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQ9ITEsdGhpcy5fcmV1c2FibGU9ITEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSExLHRoaXMuX3RleHR1cmVzPW5ldyBCZSgyKSx0aGlzLl90ZXh0dXJlQ2FjaGU9W10sdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9MCx0aGlzLl9zY2FsZVJhdGlvPW5ldyBiZSgxLDEpLHRoaXMuX3RleGVsU2l6ZT1iZS5aZXJvKCksdGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25BcHBseU9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm5hbWU9ZSxzIT1udWxsPyh0aGlzLl9jYW1lcmE9cyx0aGlzLl9zY2VuZT1zLmdldFNjZW5lKCkscy5hdHRhY2hQb3N0UHJvY2Vzcyh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSk6dSYmKHRoaXMuX2VuZ2luZT11LHRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLnB1c2godGhpcykpLHRoaXMuX29wdGlvbnM9YSx0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZT1vfHwxLHRoaXMuX3JldXNhYmxlPWZ8fCExLHRoaXMuX3RleHR1cmVUeXBlPWgsdGhpcy5fdGV4dHVyZUZvcm1hdD1fLHRoaXMuX3NhbXBsZXJzPW58fFtdLHRoaXMuX3NhbXBsZXJzLnB1c2goInRleHR1cmVTYW1wbGVyIiksdGhpcy5fZnJhZ21lbnRVcmw9dCx0aGlzLl92ZXJ0ZXhVcmw9Yyx0aGlzLl9wYXJhbWV0ZXJzPXJ8fFtdLHRoaXMuX3BhcmFtZXRlcnMucHVzaCgic2NhbGUiKSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9ZCx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgUXQodGhpcy5fZW5naW5lKSxwfHx0aGlzLnVwZGF0ZUVmZmVjdChsKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzYW1wbGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3NhbXBsZXM9TWF0aC5taW4oZSx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLm1heE1TQUFTYW1wbGVzKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Iuc2FtcGxlcyE9PXQuX3NhbXBsZXMmJnQuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQocix0Ll9zYW1wbGVzKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldEVmZmVjdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhZ21lbnRVcmx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25BY3RpdmF0ZSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvblNpemVDaGFuZ2VkIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlciYmdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyKSx0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXI9dGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkFwcGx5Iix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uQXBwbHlPYnNlcnZlciYmdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BcHBseU9ic2VydmVyKSx0aGlzLl9vbkFwcGx5T2JzZXJ2ZXI9dGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkJlZm9yZVJlbmRlciIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkFmdGVyUmVuZGVyIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpbnB1dFRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXMuZGF0YVt0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF19LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzdG9yZURlZmF1bHRJbnB1dFRleHR1cmU9ZnVuY3Rpb24oKXt0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlJiYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1udWxsLHRoaXMubWFya1RleHR1cmVEaXJ0eSgpKX0saS5wcm90b3R5cGUuZ2V0Q2FtZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0ZXhlbFNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MudGV4ZWxTaXplOih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlJiZ0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQpLHRoaXMuX3RleGVsU2l6ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlBvc3RQcm9jZXNzIn0saS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0saS5wcm90b3R5cGUuZ2V0RWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH0saS5wcm90b3R5cGUuc2hhcmVPdXRwdXRXaXRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kaXNwb3NlVGV4dHVyZXMoKSx0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz1lLHRoaXN9LGkucHJvdG90eXBlLnVzZU93bk91dHB1dD1mdW5jdGlvbigpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD09MCYmKHRoaXMuX3RleHR1cmVzPW5ldyBCZSgyKSksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9bnVsbH0saS5wcm90b3R5cGUudXBkYXRlRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7ZT09PXZvaWQgMCYmKGU9bnVsbCksdD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzPWUsdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PXRoaXMuX2VuZ2luZS5jcmVhdGVFZmZlY3Qoe3ZlcnRleDpvIT1udWxsP286dGhpcy5fdmVydGV4VXJsLGZyYWdtZW50OnUhPW51bGw/dTp0aGlzLl9mcmFnbWVudFVybH0sWyJwb3NpdGlvbiJdLHR8fHRoaXMuX3BhcmFtZXRlcnMscnx8dGhpcy5fc2FtcGxlcnMsZSE9PW51bGw/ZToiIix2b2lkIDAsYSxzLG58fHRoaXMuX2luZGV4UGFyYW1ldGVycyl9LGkucHJvdG90eXBlLmlzUmV1c2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV1c2FibGV9LGkucHJvdG90eXBlLm1hcmtUZXh0dXJlRGlydHk9ZnVuY3Rpb24oKXt0aGlzLndpZHRoPS0xfSxpLnByb3RvdHlwZS5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9MCk7Zm9yKHZhciBuPTA7bjx0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoO24rKylpZih0aGlzLl90ZXh0dXJlQ2FjaGVbbl0udGV4dHVyZS53aWR0aD09PWUud2lkdGgmJnRoaXMuX3RleHR1cmVDYWNoZVtuXS50ZXh0dXJlLmhlaWdodD09PWUuaGVpZ2h0JiZ0aGlzLl90ZXh0dXJlQ2FjaGVbbl0ucG9zdFByb2Nlc3NDaGFubmVsPT09ciYmdGhpcy5fdGV4dHVyZUNhY2hlW25dLnRleHR1cmUuX2dlbmVyYXRlRGVwdGhCdWZmZXI9PT10LmdlbmVyYXRlRGVwdGhCdWZmZXIpcmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZVtuXS50ZXh0dXJlO3ZhciBhPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOmEscG9zdFByb2Nlc3NDaGFubmVsOnIsbGFzdFVzZWRSZW5kZXJJZDotMX0pLGF9LGkucHJvdG90eXBlLl9mbHVzaFRleHR1cmVDYWNoZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9yZW5kZXJJZCx0PXRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGgtMTt0Pj0wO3QtLSlpZihlLXRoaXMuX3RleHR1cmVDYWNoZVt0XS5sYXN0VXNlZFJlbmRlcklkPjEwMCl7Zm9yKHZhciByPSExLG49MDtuPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtuKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtuXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtyPSEwO2JyZWFrfXJ8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19LGkucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oZSx0LHIsbixhKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg+MCYmdGhpcy5fdGV4dHVyZXMucmVzZXQoKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dDtmb3IodmFyIHM9bnVsbCxvPTA7bzxyLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtvKyspaWYoci5fcG9zdFByb2Nlc3Nlc1tvXSE9PW51bGwpe3M9ci5fcG9zdFByb2Nlc3Nlc1tvXTticmVha312YXIgdT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LGY9e2dlbmVyYXRlTWlwTWFwczpuLGdlbmVyYXRlRGVwdGhCdWZmZXI6YXx8cz09PXRoaXMsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOihhfHxzPT09dGhpcykmJnRoaXMuX2VuZ2luZS5pc1N0ZW5jaWxFbmFibGUsc2FtcGxpbmdNb2RlOnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLHR5cGU6dGhpcy5fdGV4dHVyZVR5cGUsZm9ybWF0OnRoaXMuX3RleHR1cmVGb3JtYXR9O3RoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh1LGYsMCkpLHRoaXMuX3JldXNhYmxlJiZ0aGlzLl90ZXh0dXJlcy5wdXNoKHRoaXMuX2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodSxmLDEpKSx0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLndpZHRoLDEvdGhpcy5oZWlnaHQpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxpLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxhLHM7dD09PXZvaWQgMCYmKHQ9bnVsbCksZT1lfHx0aGlzLl9jYW1lcmE7dmFyIG89ZS5nZXRTY2VuZSgpLHU9by5nZXRFbmdpbmUoKSxmPXUuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplLGw9KHQ/dC53aWR0aDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyV2lkdGgoITApKSp0aGlzLl9vcHRpb25zfDAsaD0odD90LmhlaWdodDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVySGVpZ2h0KCEwKSkqdGhpcy5fb3B0aW9uc3wwLGM9ZS5wYXJlbnQ7YyYmKGMubGVmdENhbWVyYT09ZXx8Yy5yaWdodENhbWVyYT09ZSkmJihsLz0yKTt2YXIgZD10aGlzLl9vcHRpb25zLndpZHRofHxsLHA9dGhpcy5fb3B0aW9ucy5oZWlnaHR8fGgsXz10aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTcmJnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09MSYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0yO2lmKCF0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2VzcyYmIXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe2lmKHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0KXt2YXIgZz11LmN1cnJlbnRWaWV3cG9ydDtnJiYoZCo9Zy53aWR0aCxwKj1nLmhlaWdodCl9KF98fHRoaXMuYWx3YXlzRm9yY2VQT1QpJiYodGhpcy5fb3B0aW9ucy53aWR0aHx8KGQ9dS5uZWVkUE9UVGV4dHVyZXM/b2UuR2V0RXhwb25lbnRPZlR3byhkLGYsdGhpcy5zY2FsZU1vZGUpOmQpLHRoaXMuX29wdGlvbnMuaGVpZ2h0fHwocD11Lm5lZWRQT1RUZXh0dXJlcz9vZS5HZXRFeHBvbmVudE9mVHdvKHAsZix0aGlzLnNjYWxlTW9kZSk6cCkpLCh0aGlzLndpZHRoIT09ZHx8dGhpcy5oZWlnaHQhPT1wKSYmdGhpcy5fcmVzaXplKGQscCxlLF8sciksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbihNKXtNLnNhbXBsZXMhPT1uLnNhbXBsZXMmJm4uX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQoTSxuLnNhbXBsZXMpfSksdGhpcy5fZmx1c2hUZXh0dXJlQ2FjaGUoKSx0aGlzLl9yZW5kZXJJZCsrfXZhciBtO2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzKW09dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlO2Vsc2UgaWYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSltPXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUsdGhpcy53aWR0aD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0O2Vsc2V7bT10aGlzLmlucHV0VGV4dHVyZTtmb3IodmFyIHY9dm9pZCAwLFM9MDtTPHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7UysrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVtTXS50ZXh0dXJlPT09bSl7dj10aGlzLl90ZXh0dXJlQ2FjaGVbU107YnJlYWt9diYmKHYubGFzdFVzZWRSZW5kZXJJZD10aGlzLl9yZW5kZXJJZCl9cmV0dXJuIHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT8odGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cyhsL2QsaC9wKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKG0sMCxsLGgsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpOih0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKDEsMSksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihtLDAsdm9pZCAwLHZvaWQgMCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSksKHM9KGE9dGhpcy5fZW5naW5lKS5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGEsInBvc3QgcHJvY2VzcyAiLmNvbmNhdCh0aGlzLm5hbWUsIiBpbnB1dCIpKSx0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmF1dG9DbGVhciYmdGhpcy5hbHBoYU1vZGU9PT0wJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yP3RoaXMuY2xlYXJDb2xvcjpvLmNsZWFyQ29sb3Isby5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3IsITAsITApLHRoaXMuX3JldXNhYmxlJiYodGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9KHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kKzEpJTIpLG19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNTdXBwb3J0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LmlzU3VwcG9ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXNwZWN0UmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuYXNwZWN0UmF0aW86dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0OnRoaXMud2lkdGgvdGhpcy5oZWlnaHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNSZWFkeSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMX0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZTtpZighKChlPXRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmlzUmVhZHkoKSkpcmV0dXJuIG51bGw7dGhpcy5fZW5naW5lLmVuYWJsZUVmZmVjdCh0aGlzLl9kcmF3V3JhcHBlciksdGhpcy5fZW5naW5lLnNldFN0YXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhCdWZmZXIoITEpLHRoaXMuX2VuZ2luZS5zZXREZXB0aFdyaXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0QWxwaGFNb2RlKHRoaXMuYWxwaGFNb2RlKSx0aGlzLmFscGhhQ29uc3RhbnRzJiZ0aGlzLmdldEVuZ2luZSgpLnNldEFscGhhQ29uc3RhbnRzKHRoaXMuYWxwaGFDb25zdGFudHMucix0aGlzLmFscGhhQ29uc3RhbnRzLmcsdGhpcy5hbHBoYUNvbnN0YW50cy5iLHRoaXMuYWxwaGFDb25zdGFudHMuYSk7dmFyIHQ7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3Q9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/dD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlOnQ9dGhpcy5pbnB1dFRleHR1cmUsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZ3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LnNldFZlY3RvcjIoInNjYWxlIix0aGlzLl9zY2FsZVJhdGlvKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH0saS5wcm90b3R5cGUuX2Rpc3Bvc2VUZXh0dXJlcz1mdW5jdGlvbigpe2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzfHx0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXt0aGlzLl9kaXNwb3NlVGV4dHVyZUNhY2hlKCk7cmV0dXJufXRoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKSx0aGlzLl90ZXh0dXJlcy5kaXNwb3NlKCl9LGkucHJvdG90eXBlLl9kaXNwb3NlVGV4dHVyZUNhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLl90ZXh0dXJlQ2FjaGVbZV0udGV4dHVyZS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5zZXRQcmVQYXNzUmVuZGVyZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPyh0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj1lLmFkZEVmZmVjdENvbmZpZ3VyYXRpb24odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24pLHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLmVuYWJsZWQ9ITAsITApOiExfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5fY2FtZXJhLHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpO3ZhciB0O2lmKHRoaXMuX3NjZW5lJiYodD10aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciByPXRoaXMuX3BhcmVudENvbnRhaW5lci5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyk7cj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHIsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodD10aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpLHQhPT0tMSYmdGhpcy5fZW5naW5lLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSksISFlKXtpZihlLmRldGFjaFBvc3RQcm9jZXNzKHRoaXMpLHQ9ZS5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpLHQ9PT0wJiZlLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD4wKXt2YXIgbj10aGlzLl9jYW1lcmEuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtuJiZuLm1hcmtUZXh0dXJlRGlydHkoKX10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BcHBseU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKX19LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPVkuU2VyaWFsaXplKHRoaXMpLHQ9dGhpcy5nZXRDYW1lcmEoKXx8dGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLiIrdGhpcy5nZXRDbGFzc05hbWUoKSxlLmNhbWVyYUlkPXQ/dC5pZDpudWxsLGUucmV1c2FibGU9dGhpcy5fcmV1c2FibGUsZS50ZXh0dXJlVHlwZT10aGlzLl90ZXh0dXJlVHlwZSxlLmZyYWdtZW50VXJsPXRoaXMuX2ZyYWdtZW50VXJsLGUucGFyYW1ldGVycz10aGlzLl9wYXJhbWV0ZXJzLGUuc2FtcGxlcnM9dGhpcy5fc2FtcGxlcnMsZS5vcHRpb25zPXRoaXMuX29wdGlvbnMsZS5kZWZpbmVzPXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcyxlLnRleHR1cmVGb3JtYXQ9dGhpcy5fdGV4dHVyZUZvcm1hdCxlLnZlcnRleFVybD10aGlzLl92ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnM9dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGV9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXJpYWxpemUoKTtlLl9lbmdpbmU9dGhpcy5fZW5naW5lLGUuY2FtZXJhSWQ9bnVsbDt2YXIgdD1pLlBhcnNlKGUsdGhpcy5fc2NlbmUsIiIpO3JldHVybiB0Pyh0Lm9uQWN0aXZhdGVPYnNlcnZhYmxlPXRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPXRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQXBwbHlPYnNlcnZhYmxlPXRoaXMub25BcHBseU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQub25BZnRlclJlbmRlck9ic2VydmFibGU9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPXRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLHQpOm51bGx9LGkuUGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVJ0KGUuY3VzdG9tVHlwZSk7aWYoIW58fCFuLl9QYXJzZSlyZXR1cm4gbnVsbDt2YXIgYT10P3QuZ2V0Q2FtZXJhQnlJZChlLmNhbWVyYUlkKTpudWxsO3JldHVybiBuLl9QYXJzZShlLGEsdCxyKX0saS5fUGFyc2U9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIFkuUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoZS5uYW1lLGUuZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzLGUuc2FtcGxlcnMsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsZS5fZW5naW5lLGUucmV1c2FibGUsZS5kZWZpbmVzLGUudGV4dHVyZVR5cGUsZS52ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnMsITEsZS50ZXh0dXJlRm9ybWF0KX0sZSxyLG4pfSxUKFtQKCldLGkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIndpZHRoIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImhlaWdodCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJyZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUiLHZvaWQgMCksVChbd2koKV0saS5wcm90b3R5cGUsImNsZWFyQ29sb3IiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiYXV0b0NsZWFyIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFscGhhTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhbHBoYUNvbnN0YW50cyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJlbmFibGVQaXhlbFBlcmZlY3RNb2RlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImZvcmNlRnVsbHNjcmVlblZpZXdwb3J0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInNjYWxlTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhbHdheXNGb3JjZVBPVCIsdm9pZCAwKSxUKFtQKCJzYW1wbGVzIildLGkucHJvdG90eXBlLCJfc2FtcGxlcyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQiLHZvaWQgMCksaX0oKTtPZSgiQkFCWUxPTi5Qb3N0UHJvY2VzcyIsYXIpO3ZhciBxYT0ia2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbiIsWmE9InZhcnlpbmcgdmVjMiBzYW1wbGVDb29yZHtYfTsiO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcWFdPVphO3ZhciBRYT0icGFja2luZ0Z1bmN0aW9ucyIsJGE9YHZlYzQgcGFjayhmbG9hdCBkZXB0aCkKewpjb25zdCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDI1NS4wKjI1NS4wKjI1NS4wLDI1NS4wKjI1NS4wLDI1NS4wLDEuMCk7CmNvbnN0IHZlYzQgYml0X21hc2s9dmVjNCgwLjAsMS4wLzI1NS4wLDEuMC8yNTUuMCwxLjAvMjU1LjApOwp2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpOwpyZXMtPXJlcy54eHl6KmJpdF9tYXNrOwpyZXR1cm4gcmVzOwp9CmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfWA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtRYV09JGE7dmFyIEphPSJrZXJuZWxCbHVyRnJhZ21lbnQiLGVzPWAjaWZkZWYgRE9GCmZhY3Rvcj1zYW1wbGVDb0Moc2FtcGxlQ29vcmR7WH0pOwpjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDb29yZHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0phXT1lczt2YXIgdHM9Imtlcm5lbEJsdXJGcmFnbWVudDIiLHJzPWAjaWZkZWYgRE9GCmZhY3Rvcj1zYW1wbGVDb0Moc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KTsKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX0RFUF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKSpjb21wdXRlZFdlaWdodDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdHNdPXJzO3ZhciBpcz0ia2VybmVsQmx1clBpeGVsU2hhZGVyIixucz1gCnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwp1bmlmb3JtIHZlYzIgZGVsdGE7Cgp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaWZkZWYgRE9GCnVuaWZvcm0gc2FtcGxlcjJEIGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGNhbWVyYU1pbk1heFo7CmZsb2F0IHNhbXBsZURpc3RhbmNlKGluIHZlYzIgb2Zmc2V0KSB7CmZsb2F0IGRlcHRoPXRleHR1cmUyRChjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXIsb2Zmc2V0KS5nOwpyZXR1cm4gY2FtZXJhTWluTWF4Wi54KyhjYW1lcmFNaW5NYXhaLnktY2FtZXJhTWluTWF4Wi54KSpkZXB0aDsKfQpmbG9hdCBzYW1wbGVDb0MoaW4gdmVjMiBvZmZzZXQpIHsKZmxvYXQgY29jPXRleHR1cmUyRChjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXIsb2Zmc2V0KS5yOwpyZXR1cm4gY29jOwp9CiNlbmRpZgojaW5jbHVkZTxrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uPlswLi52YXJ5aW5nQ291bnRdCiNpZmRlZiBQQUNLRURGTE9BVAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKZmxvYXQgY29tcHV0ZWRXZWlnaHQ9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKZmxvYXQgYmxlbmQ9MC47CiNlbHNlCnZlYzQgYmxlbmQ9dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgRE9GCmZsb2F0IHN1bU9mV2VpZ2h0cz1DRU5URVJfV0VJR0hUOwpmbG9hdCBmYWN0b3I9MC4wOwoKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcikpKkNFTlRFUl9XRUlHSFQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSpDRU5URVJfV0VJR0hUOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudD5bMC4udmFyeWluZ0NvdW50XQojaW5jbHVkZTxrZXJuZWxCbHVyRnJhZ21lbnQyPlswLi5kZXBDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCmdsX0ZyYWdDb2xvcj1wYWNrKGJsZW5kKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPWJsZW5kOwojZW5kaWYKI2lmZGVmIERPRgpnbF9GcmFnQ29sb3IvPXN1bU9mV2VpZ2h0czsKI2VuZGlmCn1gO0wuU2hhZGVyc1N0b3JlW2lzXT1uczt2YXIgYXM9Imtlcm5lbEJsdXJWZXJ0ZXgiLHNzPSJzYW1wbGVDb29yZHtYfT1zYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX09GRlNFVHtYfTsiO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYXNdPXNzO3ZhciBvcz0ia2VybmVsQmx1clZlcnRleFNoYWRlciIsdXM9YAphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKCnVuaWZvcm0gdmVjMiBkZWx0YTsKCnZhcnlpbmcgdmVjMiBzYW1wbGVDZW50ZXI7CiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgpzYW1wbGVDZW50ZXI9KHBvc2l0aW9uKm1hZGQrbWFkZCk7CiNpbmNsdWRlPGtlcm5lbEJsdXJWZXJ0ZXg+WzAuLnZhcnlpbmdDb3VudF0KZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW29zXT11czt2YXIgaGk9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzLG8sdSxmLGwsaCxjKXtvPT09dm9pZCAwJiYobz1RLkJJTElORUFSX1NBTVBMSU5HTU9ERSksbD09PXZvaWQgMCYmKGw9MCksaD09PXZvaWQgMCYmKGg9IiIpLGM9PT12b2lkIDAmJihjPSExKTt2YXIgZD1pLmNhbGwodGhpcyx0LCJrZXJuZWxCbHVyIixbImRlbHRhIiwiZGlyZWN0aW9uIiwiY2FtZXJhTWluTWF4WiJdLFsiY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyIl0sYSxzLG8sdSxmLG51bGwsbCwia2VybmVsQmx1ciIse3ZhcnlpbmdDb3VudDowLGRlcENvdW50OjB9LCEwKXx8dGhpcztyZXR1cm4gZC5ibG9ja0NvbXBpbGF0aW9uPWMsZC5fcGFja2VkRmxvYXQ9ITEsZC5fc3RhdGljRGVmaW5lcz0iIixkLl9zdGF0aWNEZWZpbmVzPWgsZC5kaXJlY3Rpb249cixkLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihwKXtkLl9vdXRwdXRUZXh0dXJlP3Auc2V0RmxvYXQyKCJkZWx0YSIsMS9kLl9vdXRwdXRUZXh0dXJlLndpZHRoKmQuZGlyZWN0aW9uLngsMS9kLl9vdXRwdXRUZXh0dXJlLmhlaWdodCpkLmRpcmVjdGlvbi55KTpwLnNldEZsb2F0MigiZGVsdGEiLDEvZC53aWR0aCpkLmRpcmVjdGlvbi54LDEvZC5oZWlnaHQqZC5kaXJlY3Rpb24ueSl9KSxkLmtlcm5lbD1uLGR9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwia2VybmVsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZWFsS2VybmVsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faWRlYWxLZXJuZWwhPT10JiYodD1NYXRoLm1heCh0LDEpLHRoaXMuX2lkZWFsS2VybmVsPXQsdGhpcy5fa2VybmVsPXRoaXMuX25lYXJlc3RCZXN0S2VybmVsKHQpLHRoaXMuYmxvY2tDb21waWxhdGlvbnx8dGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBhY2tlZEZsb2F0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhY2tlZEZsb2F0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcGFja2VkRmxvYXQhPT10JiYodGhpcy5fcGFja2VkRmxvYXQ9dCx0aGlzLmJsb2NrQ29tcGlsYXRpb258fHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkJsdXJQb3N0UHJvY2VzcyJ9LGUucHJvdG90eXBlLnVwZGF0ZUVmZmVjdD1mdW5jdGlvbih0LHIsbixhLHMsbyl7dGhpcy5fdXBkYXRlUGFyYW1ldGVycyhzLG8pfSxlLnByb3RvdHlwZS5fdXBkYXRlUGFyYW1ldGVycz1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj10aGlzLl9rZXJuZWwsYT0obi0xKS8yLHM9W10sbz1bXSx1PTAsZj0wO2Y8bjtmKyspe3ZhciBsPWYvKG4tMSksaD10aGlzLl9nYXVzc2lhbldlaWdodChsKjItMSk7c1tmXT1mLWEsb1tmXT1oLHUrPWh9Zm9yKHZhciBmPTA7ZjxvLmxlbmd0aDtmKyspb1tmXS89dTtmb3IodmFyIGM9W10sZD1bXSxwPVtdLGY9MDtmPD1hO2YrPTIpe3ZhciBfPU1hdGgubWluKGYrMSxNYXRoLmZsb29yKGEpKSxnPWY9PT1fO2lmKGcpcC5wdXNoKHtvOnNbZl0sdzpvW2ZdfSk7ZWxzZXt2YXIgbT1fPT09YSx2PW9bZl0rb1tfXSoobT8uNToxKSxTPXNbZl0rMS8oMStvW2ZdL29bX10pO1M9PT0wPyhwLnB1c2goe286c1tmXSx3Om9bZl19KSxwLnB1c2goe286c1tmKzFdLHc6b1tmKzFdfSkpOihwLnB1c2goe286Uyx3OnZ9KSxwLnB1c2goe286LVMsdzp2fSkpfX1mb3IodmFyIGY9MDtmPHAubGVuZ3RoO2YrKylkW2ZdPXBbZl0ubyxjW2ZdPXBbZl0udztzPWQsbz1jO3ZhciBNPXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLm1heFZhcnlpbmdWZWN0b3JzLEE9TWF0aC5tYXgoTSwwKS0xLFI9TWF0aC5taW4ocy5sZW5ndGgsQSkseT0iIjt5Kz10aGlzLl9zdGF0aWNEZWZpbmVzLHRoaXMuX3N0YXRpY0RlZmluZXMuaW5kZXhPZigiRE9GIikhPS0xJiYoeSs9IiNkZWZpbmUgQ0VOVEVSX1dFSUdIVCAiLmNvbmNhdCh0aGlzLl9nbHNsRmxvYXQob1tSLTFdKSxgXHIKYCksUi0tKTtmb3IodmFyIGY9MDtmPFI7ZisrKXkrPSIjZGVmaW5lIEtFUk5FTF9PRkZTRVQiLmNvbmNhdChmLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChzW2ZdKSxgXHIKYCkseSs9IiNkZWZpbmUgS0VSTkVMX1dFSUdIVCIuY29uY2F0KGYsIiAiKS5jb25jYXQodGhpcy5fZ2xzbEZsb2F0KG9bZl0pLGBccgpgKTtmb3IodmFyIEM9MCxmPUE7ZjxzLmxlbmd0aDtmKyspeSs9IiNkZWZpbmUgS0VSTkVMX0RFUF9PRkZTRVQiLmNvbmNhdChDLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChzW2ZdKSxgXHIKYCkseSs9IiNkZWZpbmUgS0VSTkVMX0RFUF9XRUlHSFQiLmNvbmNhdChDLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChvW2ZdKSxgXHIKYCksQysrO3RoaXMucGFja2VkRmxvYXQmJih5Kz0iI2RlZmluZSBQQUNLRURGTE9BVCAxIiksdGhpcy5ibG9ja0NvbXBpbGF0aW9uPSExLGkucHJvdG90eXBlLnVwZGF0ZUVmZmVjdC5jYWxsKHRoaXMseSxudWxsLG51bGwse3ZhcnlpbmdDb3VudDpSLGRlcENvdW50OkN9LHQscil9LGUucHJvdG90eXBlLl9uZWFyZXN0QmVzdEtlcm5lbD1mdW5jdGlvbih0KXtmb3IodmFyIHI9TWF0aC5yb3VuZCh0KSxuPTAsYT1bcixyLTEscisxLHItMixyKzJdO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO2lmKHMlMiE9PTAmJk1hdGguZmxvb3Iocy8yKSUyPT09MCYmcz4wKXJldHVybiBNYXRoLm1heChzLDMpfXJldHVybiBNYXRoLm1heChyLDMpfSxlLnByb3RvdHlwZS5fZ2F1c3NpYW5XZWlnaHQ9ZnVuY3Rpb24odCl7dmFyIHI9LjMzMzMzMzMzMzMzMzMzMzMsbj1NYXRoLnNxcnQoMipNYXRoLlBJKSpyLGE9LSh0KnQvKDIqcipyKSkscz0xL24qTWF0aC5leHAoYSk7cmV0dXJuIHN9LGUucHJvdG90eXBlLl9nbHNsRmxvYXQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9OCksdC50b0ZpeGVkKHIpLnJlcGxhY2UoLzArJC8sIiIpfSxlLl9QYXJzZT1mdW5jdGlvbih0LHIsbixhKXtyZXR1cm4gWS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0Lm5hbWUsdC5kaXJlY3Rpb24sdC5rZXJuZWwsdC5vcHRpb25zLHIsdC5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsbi5nZXRFbmdpbmUoKSx0LnJldXNhYmxlLHQudGV4dHVyZVR5cGUsdm9pZCAwLCExKX0sdCxuLGEpfSxUKFtQKCJrZXJuZWwiKV0sZS5wcm90b3R5cGUsIl9rZXJuZWwiLHZvaWQgMCksVChbUCgicGFja2VkRmxvYXQiKV0sZS5wcm90b3R5cGUsIl9wYWNrZWRGbG9hdCIsdm9pZCAwKSxUKFtzYSgpXSxlLnByb3RvdHlwZSwiZGlyZWN0aW9uIix2b2lkIDApLGV9KGFyKTtPZSgiQkFCWUxPTi5CbHVyUG9zdFByb2Nlc3MiLGhpKTt2YXIgY2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fZGVmaW5lcz17fSx0aGlzLl9jdXJyZW50UmFuaz0zMix0aGlzLl9tYXhSYW5rPS0xLHRoaXMuX21lc2g9bnVsbH1yZXR1cm4gaS5wcm90b3R5cGUudW5CaW5kTWVzaD1mdW5jdGlvbigpe3RoaXMuX21lc2g9bnVsbH0saS5wcm90b3R5cGUuYWRkRmFsbGJhY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLl9kZWZpbmVzW2VdfHwoZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSksdGhpcy5fZGVmaW5lc1tlXT1uZXcgQXJyYXkpLHRoaXMuX2RlZmluZXNbZV0ucHVzaCh0KX0saS5wcm90b3R5cGUuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuX21lc2g9dCxlPHRoaXMuX2N1cnJlbnRSYW5rJiYodGhpcy5fY3VycmVudFJhbms9ZSksZT50aGlzLl9tYXhSYW5rJiYodGhpcy5fbWF4UmFuaz1lKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoYXNNb3JlRmFsbGJhY2tzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5rPD10aGlzLl9tYXhSYW5rfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX21lc2gmJnRoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0aGlzLl9tZXNoLm51bUJvbmVJbmZsdWVuY2Vycz4wKXt0aGlzLl9tZXNoLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSxlPWUucmVwbGFjZSgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3RoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzLCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKSx0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITA7Zm9yKHZhciByPXRoaXMuX21lc2guZ2V0U2NlbmUoKSxuPTA7bjxyLm1lc2hlcy5sZW5ndGg7bisrKXt2YXIgYT1yLm1lc2hlc1tuXTtpZighYS5tYXRlcmlhbCl7IXRoaXMuX21lc2gubWF0ZXJpYWwmJmEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZhLm51bUJvbmVJbmZsdWVuY2Vycz4wJiYoYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITEpO2NvbnRpbnVlfWlmKCEoIWEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfHxhLm51bUJvbmVJbmZsdWVuY2Vycz09PTApKXtpZihhLm1hdGVyaWFsLmdldEVmZmVjdCgpPT09dClhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMTtlbHNlIGlmKGEuc3ViTWVzaGVzKWZvcih2YXIgcz0wLG89YS5zdWJNZXNoZXM7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc10sZj11LmVmZmVjdDtpZihmPT09dCl7YS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7YnJlYWt9fX19fWVsc2V7dmFyIGw9dGhpcy5fZGVmaW5lc1t0aGlzLl9jdXJyZW50UmFua107aWYobClmb3IodmFyIG49MDtuPGwubGVuZ3RoO24rKyllPWUucmVwbGFjZSgiI2RlZmluZSAiK2xbbl0sIiIpO3RoaXMuX2N1cnJlbnRSYW5rKyt9cmV0dXJuIGV9LGl9KCksZnM9ImJheWVyRGl0aGVyRnVuY3Rpb25zIixscz1gCgoKCgpmbG9hdCBiYXllckRpdGhlcjIodmVjMiBfUCkgewpyZXR1cm4gbW9kKDIuMCpfUC55K19QLngrMS4wLDQuMCk7Cn0KCgpmbG9hdCBiYXllckRpdGhlcjQodmVjMiBfUCkgewp2ZWMyIFAxPW1vZChfUCwyLjApOwp2ZWMyIFAyPWZsb29yKDAuNSptb2QoX1AsNC4wKSk7CnJldHVybiA0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpOwp9CgpmbG9hdCBiYXllckRpdGhlcjgodmVjMiBfUCkgewp2ZWMyIFAxPW1vZChfUCwyLjApOwp2ZWMyIFAyPWZsb29yKDAuNSptb2QoX1AsNC4wKSk7CnZlYzIgUDQ9Zmxvb3IoMC4yNSptb2QoX1AsOC4wKSk7CnJldHVybiA0LjAqKDQuMCpiYXllckRpdGhlcjIoUDEpK2JheWVyRGl0aGVyMihQMikpK2JheWVyRGl0aGVyMihQNCk7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2ZzXT1sczt2YXIgaHM9InNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbiIsY3M9YCNpZiBTTV9GTE9BVCA9PSAwCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XID09IDEKI2luY2x1ZGU8YmF5ZXJEaXRoZXJGdW5jdGlvbnM+CnVuaWZvcm0gZmxvYXQgc29mdFRyYW5zcGFyZW50U2hhZG93U007CiNlbmRpZgp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY1NNOwojaWYgU01fVVNFRElTVEFOQ0UgPT0gMQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QID09IDEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbaHNdPWNzO3ZhciBkcz0iY2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbiIscHM9YCNpZmRlZiBDTElQUExBTkUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U0OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtkc109cHM7dmFyIF9zPSJjbGlwUGxhbmVGcmFnbWVudCIsZ3M9YCNpZiBkZWZpbmVkKENMSVBQTEFORSkgfHwgZGVmaW5lZChDTElQUExBTkUyKSB8fCBkZWZpbmVkKENMSVBQTEFORTMpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNCkgfHwgZGVmaW5lZChDTElQUExBTkU1KSB8fCBkZWZpbmVkKENMSVBQTEFORTYpCgoKaWYgKGZhbHNlKSB7fQojZW5kaWYKI2lmZGVmIENMSVBQTEFORQplbHNlIGlmIChmQ2xpcERpc3RhbmNlPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgplbHNlIGlmIChmQ2xpcERpc3RhbmNlMj4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTM+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U0PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQplbHNlIGlmIChmQ2xpcERpc3RhbmNlNT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTY+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW19zXT1nczt2YXIgdnM9InNoYWRvd01hcEZyYWdtZW50Iixtcz1gIGZsb2F0IGRlcHRoU009dkRlcHRoTWV0cmljU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVAgPT0gMQojaWYgU01fVVNFRElTVEFOQ0UgPT0gMQpkZXB0aFNNPShsZW5ndGgodlBvc2l0aW9uV1NNLWxpZ2h0RGF0YVNNKStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZWxzZQojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKZGVwdGhTTT0oLXpTTStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZWxzZQpkZXB0aFNNPSh6U00rZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNlbmRpZgojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKZ2xfRnJhZ0RlcHRoPWNsYW1wKDEuMC1kZXB0aFNNLDAuMCwxLjApOwojZWxzZQpnbF9GcmFnRGVwdGg9Y2xhbXAoZGVwdGhTTSwwLjAsMS4wKTsKI2VuZGlmCiNlbGlmIFNNX1VTRURJU1RBTkNFID09IDEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNpZiBTTV9FU00gPT0gMQpkZXB0aFNNPWNsYW1wKGV4cCgtbWluKDg3LixiaWFzQW5kU2NhbGVTTS56KmRlcHRoU00pKSwwLiwxLik7CiNlbmRpZgojaWYgU01fRkxPQVQgPT0gMQpnbF9GcmFnQ29sb3I9dmVjNChkZXB0aFNNLDEuMCwxLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXBhY2soZGVwdGhTTSk7CiNlbmRpZgpyZXR1cm47YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZzXT1tczt2YXIgeXM9InNoYWRvd01hcFBpeGVsU2hhZGVyIixicz1gI2luY2x1ZGU8c2hhZG93TWFwRnJhZ21lbnRFeHRyYURlY2xhcmF0aW9uPgojaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2VTYW1wbGVyOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CiNpZmRlZiBBTFBIQVRFU1QKZmxvYXQgYWxwaGFGcm9tQWxwaGFUZXh0dXJlPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2VVYpLmE7CmlmIChhbHBoYUZyb21BbHBoYVRleHR1cmU8MC40KQpkaXNjYXJkOwojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVyA9PSAxCiNpZmRlZiBBTFBIQVRFU1QKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKmFscGhhRnJvbUFscGhhVGV4dHVyZSkgZGlzY2FyZDsKI2Vsc2UKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKSBkaXNjYXJkOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50Pgp9YDtMLlNoYWRlcnNTdG9yZVt5c109YnM7dmFyIEVzPSJib25lc0RlY2xhcmF0aW9uIixUcz1gI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHM7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzSW5kaWNlc0V4dHJhOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHNFeHRyYTsKI2VuZGlmCiNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZmRlZiBCT05FVEVYVFVSRQp1bmlmb3JtIHNhbXBsZXIyRCBib25lU2FtcGxlcjsKdW5pZm9ybSBmbG9hdCBib25lVGV4dHVyZVdpZHRoOwojZWxzZQp1bmlmb3JtIG1hdDQgbUJvbmVzW0JvbmVzUGVyTWVzaF07CiNpZmRlZiBCT05FU19WRUxPQ0lUWV9FTkFCTEVECnVuaWZvcm0gbWF0NCBtUHJldmlvdXNCb25lc1tCb25lc1Blck1lc2hdOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBCT05FVEVYVFVSRQojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4KQp7CmZsb2F0IG9mZnNldD1pbmRleCo0LjA7CmZsb2F0IGR4PTEuMC9ib25lVGV4dHVyZVdpZHRoOwp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksMC4pKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLDAuKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSwwLikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksMC4pKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgojZW5kaWYKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0VzXT1Uczt2YXIgU3M9ImJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24iLE1zPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnVuaWZvcm0gZmxvYXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lOwp1bmlmb3JtIHZlYzIgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkOwp1bmlmb3JtIHZlYzQgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nczsKdW5pZm9ybSBzYW1wbGVyMkQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlOwojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQ7CiNlbmRpZgojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4LGZsb2F0IGZyYW1lKQp7CmZsb2F0IG9mZnNldD1pbmRleCo0LjA7CmZsb2F0IGZyYW1lVVY9KGZyYW1lKzAuNSkqYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkLnk7CmZsb2F0IGR4PWJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC54Owp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksZnJhbWVVVikpOwp2ZWM0IG0xPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzEuNSksZnJhbWVVVikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksZnJhbWVVVikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksZnJhbWVVVikpOwpyZXR1cm4gbWF0NChtMCxtMSxtMixtMyk7Cn0KI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1NzXT1Nczt2YXIgQXM9Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uIixScz1gI2lmZGVmIE1PUlBIVEFSR0VUUwp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKcHJlY2lzaW9uIG1lZGl1bXAgc2FtcGxlcjJEQXJyYXk7CnVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwp1bmlmb3JtIHZlYzMgbW9ycGhUYXJnZXRUZXh0dXJlSW5mbzsKdW5pZm9ybSBzYW1wbGVyMkRBcnJheSBtb3JwaFRhcmdldHM7CnZlYzMgcmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcihpbnQgdGFyZ2V0SW5kZXgsZmxvYXQgdmVydGV4SW5kZXgpCnsKZmxvYXQgeT1mbG9vcih2ZXJ0ZXhJbmRleC9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnkpOwpmbG9hdCB4PXZlcnRleEluZGV4LXkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55Owp2ZWMzIHRleHR1cmVVVj12ZWMzKCh4KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55LCh5KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby56LG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbdGFyZ2V0SW5kZXhdKTsKcmV0dXJuIHRleHR1cmUobW9ycGhUYXJnZXRzLHRleHR1cmVVVikueHl6Owp9CiNlbmRpZgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQXNdPVJzO3ZhciBQcz0ibW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24iLENzPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZm5kZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKYXR0cmlidXRlIHZlYzMgcG9zaXRpb257WH07CiNpZmRlZiBNT1JQSFRBUkdFVFNfTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAphdHRyaWJ1dGUgdmVjMyB0YW5nZW50e1h9OwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgphdHRyaWJ1dGUgdmVjMiB1dl97WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1BzXT1Dczt2YXIgRHM9ImhlbHBlckZ1bmN0aW9ucyIseHM9YGNvbnN0IGZsb2F0IFBJPTMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTsKY29uc3QgZmxvYXQgSEFMRl9NSU49NS45NjA0NjQ0OGUtMDg7CmNvbnN0IGZsb2F0IExpbmVhckVuY29kZVBvd2VyQXBwcm94PTIuMjsKY29uc3QgZmxvYXQgR2FtbWFFbmNvZGVQb3dlckFwcHJveD0xLjAvTGluZWFyRW5jb2RlUG93ZXJBcHByb3g7CmNvbnN0IHZlYzMgTHVtaW5hbmNlRW5jb2RlQXBwcm94PXZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpOwpjb25zdCBmbG9hdCBFcHNpbG9uPTAuMDAwMDAwMTsKI2RlZmluZSBzYXR1cmF0ZSh4KSBjbGFtcCh4LDAuMCwxLjApCiNkZWZpbmUgYWJzRXBzKHgpIGFicyh4KStFcHNpbG9uCiNkZWZpbmUgbWF4RXBzKHgpIG1heCh4LEVwc2lsb24pCiNkZWZpbmUgc2F0dXJhdGVFcHMoeCkgY2xhbXAoeCxFcHNpbG9uLDEuMCkKbWF0MyB0cmFuc3Bvc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKdmVjMyBpMD1pbk1hdHJpeFswXTsKdmVjMyBpMT1pbk1hdHJpeFsxXTsKdmVjMyBpMj1pbk1hdHJpeFsyXTsKbWF0MyBvdXRNYXRyaXg9bWF0MygKdmVjMyhpMC54LGkxLngsaTIueCksCnZlYzMoaTAueSxpMS55LGkyLnkpLAp2ZWMzKGkwLnosaTEueixpMi56KQopOwpyZXR1cm4gb3V0TWF0cml4Owp9CgptYXQzIGludmVyc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKZmxvYXQgYTAwPWluTWF0cml4WzBdWzBdLGEwMT1pbk1hdHJpeFswXVsxXSxhMDI9aW5NYXRyaXhbMF1bMl07CmZsb2F0IGExMD1pbk1hdHJpeFsxXVswXSxhMTE9aW5NYXRyaXhbMV1bMV0sYTEyPWluTWF0cml4WzFdWzJdOwpmbG9hdCBhMjA9aW5NYXRyaXhbMl1bMF0sYTIxPWluTWF0cml4WzJdWzFdLGEyMj1pbk1hdHJpeFsyXVsyXTsKZmxvYXQgYjAxPWEyMiphMTEtYTEyKmEyMTsKZmxvYXQgYjExPS1hMjIqYTEwK2ExMiphMjA7CmZsb2F0IGIyMT1hMjEqYTEwLWExMSphMjA7CmZsb2F0IGRldD1hMDAqYjAxK2EwMSpiMTErYTAyKmIyMTsKcmV0dXJuIG1hdDMoYjAxLCgtYTIyKmEwMSthMDIqYTIxKSwoYTEyKmEwMS1hMDIqYTExKSwKYjExLChhMjIqYTAwLWEwMiphMjApLCgtYTEyKmEwMCthMDIqYTEwKSwKYjIxLCgtYTIxKmEwMCthMDEqYTIwKSwoYTExKmEwMC1hMDEqYTEwKSkvZGV0Owp9CmZsb2F0IHRvTGluZWFyU3BhY2UoZmxvYXQgY29sb3IpCnsKcmV0dXJuIHBvdyhjb2xvcixMaW5lYXJFbmNvZGVQb3dlckFwcHJveCk7Cn0KdmVjMyB0b0xpbmVhclNwYWNlKHZlYzMgY29sb3IpCnsKcmV0dXJuIHBvdyhjb2xvcix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSk7Cn0KdmVjNCB0b0xpbmVhclNwYWNlKHZlYzQgY29sb3IpCnsKcmV0dXJuIHZlYzQocG93KGNvbG9yLnJnYix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7Cn0KdmVjMyB0b0dhbW1hU3BhY2UodmVjMyBjb2xvcikKewpyZXR1cm4gcG93KGNvbG9yLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpOwp9CnZlYzQgdG9HYW1tYVNwYWNlKHZlYzQgY29sb3IpCnsKcmV0dXJuIHZlYzQocG93KGNvbG9yLnJnYix2ZWMzKEdhbW1hRW5jb2RlUG93ZXJBcHByb3gpKSxjb2xvci5hKTsKfQpmbG9hdCB0b0dhbW1hU3BhY2UoZmxvYXQgY29sb3IpCnsKcmV0dXJuIHBvdyhjb2xvcixHYW1tYUVuY29kZVBvd2VyQXBwcm94KTsKfQpmbG9hdCBzcXVhcmUoZmxvYXQgdmFsdWUpCnsKcmV0dXJuIHZhbHVlKnZhbHVlOwp9CmZsb2F0IHBvdzUoZmxvYXQgdmFsdWUpIHsKZmxvYXQgc3E9dmFsdWUqdmFsdWU7CnJldHVybiBzcSpzcSp2YWx1ZTsKfQpmbG9hdCBnZXRMdW1pbmFuY2UodmVjMyBjb2xvcikKewpyZXR1cm4gY2xhbXAoZG90KGNvbG9yLEx1bWluYW5jZUVuY29kZUFwcHJveCksMC4sMS4pOwp9CgpmbG9hdCBnZXRSYW5kKHZlYzIgc2VlZCkgewpyZXR1cm4gZnJhY3Qoc2luKGRvdChzZWVkLnh5ICx2ZWMyKDEyLjk4OTgsNzguMjMzKSkpKjQzNzU4LjU0NTMpOwp9CmZsb2F0IGRpdGhlcih2ZWMyIHNlZWQsZmxvYXQgdmFyaWFuY2VBbW91bnQpIHsKZmxvYXQgcmFuZD1nZXRSYW5kKHNlZWQpOwpmbG9hdCBkaXRoZXI9bWl4KC12YXJpYW5jZUFtb3VudC8yNTUuMCx2YXJpYW5jZUFtb3VudC8yNTUuMCxyYW5kKTsKcmV0dXJuIGRpdGhlcjsKfQoKY29uc3QgZmxvYXQgcmdiZE1heFJhbmdlPTI1NS4wOwp2ZWM0IHRvUkdCRCh2ZWMzIGNvbG9yKSB7CmZsb2F0IG1heFJHQj1tYXhFcHMobWF4KGNvbG9yLnIsbWF4KGNvbG9yLmcsY29sb3IuYikpKTsKZmxvYXQgRD1tYXgocmdiZE1heFJhbmdlL21heFJHQiwxLik7CkQ9Y2xhbXAoZmxvb3IoRCkvMjU1LjAsMC4sMS4pOwoKdmVjMyByZ2I9Y29sb3IucmdiKkQ7CgpyZ2I9dG9HYW1tYVNwYWNlKHJnYik7CnJldHVybiB2ZWM0KGNsYW1wKHJnYiwwLiwxLiksRCk7Cn0KdmVjMyBmcm9tUkdCRCh2ZWM0IHJnYmQpIHsKCnJnYmQucmdiPXRvTGluZWFyU3BhY2UocmdiZC5yZ2IpOwoKcmV0dXJuIHJnYmQucmdiL3JnYmQuYTsKfQp2ZWMzIHBhcmFsbGF4Q29ycmVjdE5vcm1hbCggdmVjMyB2ZXJ0ZXhQb3MsdmVjMyBvcmlnVmVjLHZlYzMgY3ViZVNpemUsdmVjMyBjdWJlUG9zICkgewoKdmVjMyBpbnZPcmlnVmVjPXZlYzMoMS4wLDEuMCwxLjApL29yaWdWZWM7CnZlYzMgaGFsZlNpemU9Y3ViZVNpemUqMC41Owp2ZWMzIGludGVyc2VjQXRNYXhQbGFuZT0oY3ViZVBvcytoYWxmU2l6ZS12ZXJ0ZXhQb3MpKmludk9yaWdWZWM7CnZlYzMgaW50ZXJzZWNBdE1pblBsYW5lPShjdWJlUG9zLWhhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKCnZlYzMgbGFyZ2VzdEludGVyc2VjPW1heChpbnRlcnNlY0F0TWF4UGxhbmUsaW50ZXJzZWNBdE1pblBsYW5lKTsKCmZsb2F0IGRpc3RhbmNlPW1pbihtaW4obGFyZ2VzdEludGVyc2VjLngsbGFyZ2VzdEludGVyc2VjLnkpLGxhcmdlc3RJbnRlcnNlYy56KTsKCnZlYzMgaW50ZXJzZWN0UG9zaXRpb25XUz12ZXJ0ZXhQb3Mrb3JpZ1ZlYypkaXN0YW5jZTsKCnJldHVybiBpbnRlcnNlY3RQb3NpdGlvbldTLWN1YmVQb3M7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0RzXT14czt2YXIgSXM9InNjZW5lVmVydGV4RGVjbGFyYXRpb24iLE9zPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmCnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0lzXT1Pczt2YXIgRnM9Im1lc2hWZXJ0ZXhEZWNsYXJhdGlvbiIsd3M9YHVuaWZvcm0gbWF0NCB3b3JsZDsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRnNdPXdzO3ZhciBMcz0ic2hhZG93TWFwVmVydGV4RGVjbGFyYXRpb24iLE5zPWAjaW5jbHVkZTxzY2VuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVmVydGV4RGVjbGFyYXRpb24+CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMc109TnM7dmFyIEJzPSJzY2VuZVVib0RlY2xhcmF0aW9uIixVcz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gU2NlbmUgewptYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCm1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYKbWF0NCB2aWV3OwptYXQ0IHByb2plY3Rpb247CnZlYzQgdkV5ZVBvc2l0aW9uOwp9OwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQnNdPVVzO3ZhciBWcz0ibWVzaFVib0RlY2xhcmF0aW9uIixrcz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWVzaAp7Cm1hdDQgd29ybGQ7CmZsb2F0IHZpc2liaWxpdHk7Cn07CiNkZWZpbmUgV09STERfVUJPYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1ZzXT1rczt2YXIgV3M9InNoYWRvd01hcFVib0RlY2xhcmF0aW9uIix6cz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1dzXT16czt2YXIgR3M9InNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24iLFhzPWAjaWYgU01fTk9STUFMQklBUyA9PSAxCnVuaWZvcm0gdmVjMyBsaWdodERhdGFTTTsKI2VuZGlmCnVuaWZvcm0gdmVjMyBiaWFzQW5kU2NhbGVTTTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzU007CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRSA9PSAxCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QID09IDEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbR3NdPVhzO3ZhciBIcz0iY2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24iLGpzPWAjaWZkZWYgQ0xJUFBMQU5FCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lOwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTI7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTM7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTQ7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTY7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIc109anM7dmFyIEtzPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWwiLFlzPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQpmbG9hdCB2ZXJ0ZXhJRDsKI2VuZGlmCiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtLc109WXM7dmFyIHFzPSJtb3JwaFRhcmdldHNWZXJ0ZXgiLFpzPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQp2ZXJ0ZXhJRD1mbG9hdChnbF9WZXJ0ZXhJRCkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby54Owpwb3NpdGlvblVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCktcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CnZlcnRleElEKz0xLjA7CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKS54eS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CnZlcnRleElEKz0xLjA7CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLXRhbmdlbnQueHl6KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2VuZGlmCiNlbHNlCnBvc2l0aW9uVXBkYXRlZCs9KHBvc2l0aW9ue1h9LXBvc2l0aW9uKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKbm9ybWFsVXBkYXRlZCs9KG5vcm1hbHtYfS1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHRhbmdlbnR7WH0tdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPSh1dl97WH0tdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2VuZGlmCiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxc109WnM7dmFyIFFzPSJpbnN0YW5jZXNWZXJ0ZXgiLCRzPWAjaWZkZWYgSU5TVEFOQ0VTCm1hdDQgZmluYWxXb3JsZD1tYXQ0KHdvcmxkMCx3b3JsZDEsd29ybGQyLHdvcmxkMyk7CiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpIHx8IGRlZmluZWQoVkVMT0NJVFkpCm1hdDQgZmluYWxQcmV2aW91c1dvcmxkPW1hdDQocHJldmlvdXNXb3JsZDAscHJldmlvdXNXb3JsZDEscHJldmlvdXNXb3JsZDIscHJldmlvdXNXb3JsZDMpOwojZW5kaWYKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCmZpbmFsV29ybGQ9d29ybGQqZmluYWxXb3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKZmluYWxQcmV2aW91c1dvcmxkPXByZXZpb3VzV29ybGQqZmluYWxQcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCm1hdDQgZmluYWxXb3JsZD13b3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtRc109JHM7dmFyIEpzPSJib25lc1ZlcnRleCIsZW89YCNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgaW5mbHVlbmNlOwojaWZkZWYgQk9ORVRFWFRVUkUKaW5mbHVlbmNlPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMF0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzFdKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMl0pKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1szXSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2Vsc2UKaW5mbHVlbmNlPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbM10pXSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCiNlbmRpZgpmaW5hbFdvcmxkPWZpbmFsV29ybGQqaW5mbHVlbmNlOwojZW5kaWYKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0pzXT1lbzt2YXIgdG89ImJha2VkVmVydGV4QW5pbWF0aW9uIixybz1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp7CiNpZmRlZiBJTlNUQU5DRVMKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkCiNlbHNlCiNkZWZpbmUgQlZBU05BTUUgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncwojZW5kaWYKCmZsb2F0IFZBVFN0YXJ0RnJhbWU9QlZBU05BTUUueDsKZmxvYXQgVkFURW5kRnJhbWU9QlZBU05BTUUueTsKZmxvYXQgVkFUT2Zmc2V0RnJhbWU9QlZBU05BTUUuejsKZmxvYXQgVkFUU3BlZWQ9QlZBU05BTUUudzsKZmxvYXQgdG90YWxGcmFtZXM9VkFURW5kRnJhbWUtVkFUU3RhcnRGcmFtZSsxLjA7CmZsb2F0IHRpbWU9YmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lKlZBVFNwZWVkL3RvdGFsRnJhbWVzOwoKZmxvYXQgZnJhbWVDb3JyZWN0aW9uPXRpbWU8MS4wID8gMC4wIDogMS4wOwpmbG9hdCBudW1PZkZyYW1lcz10b3RhbEZyYW1lcy1mcmFtZUNvcnJlY3Rpb247CmZsb2F0IFZBVEZyYW1lTnVtPWZyYWN0KHRpbWUpKm51bU9mRnJhbWVzOwpWQVRGcmFtZU51bT1tb2QoVkFURnJhbWVOdW0rVkFUT2Zmc2V0RnJhbWUsbnVtT2ZGcmFtZXMpOwpWQVRGcmFtZU51bT1mbG9vcihWQVRGcmFtZU51bSk7ClZBVEZyYW1lTnVtKz1WQVRTdGFydEZyYW1lK2ZyYW1lQ29ycmVjdGlvbjsKbWF0NCBWQVRJbmZsdWVuY2U7ClZBVEluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1swXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsyXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKlZBVEluZmx1ZW5jZTsKfQojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdG9dPXJvO3ZhciBpbz0ic2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcyIsbm89YAojaWYgU01fTk9STUFMQklBUyA9PSAxCiNpZiBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQSA9PSAxCnZlYzMgd29ybGRMaWdodERpclNNPW5vcm1hbGl6ZSgtbGlnaHREYXRhU00ueHl6KTsKI2Vsc2UKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0U009bGlnaHREYXRhU00ueHl6LXdvcmxkUG9zLnh5ejsKdmVjMyB3b3JsZExpZ2h0RGlyU009bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHRTTSk7CiNlbmRpZgpmbG9hdCBuZGxTTT1kb3Qodk5vcm1hbFcsd29ybGRMaWdodERpclNNKTsKZmxvYXQgc2luTkxTTT1zcXJ0KDEuMC1uZGxTTSpuZGxTTSk7CmZsb2F0IG5vcm1hbEJpYXNTTT1iaWFzQW5kU2NhbGVTTS55KnNpbk5MU007CndvcmxkUG9zLnh5ei09dk5vcm1hbFcqbm9ybWFsQmlhc1NNOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2lvXT1ubzt2YXIgYW89InNoYWRvd01hcFZlcnRleE1ldHJpYyIsc289YCNpZiBTTV9VU0VESVNUQU5DRSA9PSAxCnZQb3NpdGlvbldTTT13b3JsZFBvcy54eXo7CiNlbmRpZgojaWYgU01fREVQVEhURVhUVVJFID09IDEKI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIEJJQVNGQUNUT1IgMC41CiNlbHNlCiNkZWZpbmUgQklBU0ZBQ1RPUiAxLjAKI2VuZGlmCgojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKZ2xfUG9zaXRpb24uei09Ymlhc0FuZFNjYWxlU00ueCpnbF9Qb3NpdGlvbi53KkJJQVNGQUNUT1I7CiNlbHNlCmdsX1Bvc2l0aW9uLnorPWJpYXNBbmRTY2FsZVNNLngqZ2xfUG9zaXRpb24udypCSUFTRkFDVE9SOwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVAgPT0gMQp6U009Z2xfUG9zaXRpb24uejsKZ2xfUG9zaXRpb24uej0wLjA7CiNlbGlmIFNNX1VTRURJU1RBTkNFID09IDAKCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWNTTT0oLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKdkRlcHRoTWV0cmljU009KGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYW9dPXNvO3ZhciBvbz0iY2xpcFBsYW5lVmVydGV4Iix1bz1gI2lmZGVmIENMSVBQTEFORQpmQ2xpcERpc3RhbmNlPWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCmZDbGlwRGlzdGFuY2UyPWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lMik7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwpmQ2xpcERpc3RhbmNlMz1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTMpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTQKZkNsaXBEaXN0YW5jZTQ9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU0KTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CmZDbGlwRGlzdGFuY2U1PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgpmQ2xpcERpc3RhbmNlNj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTYpOwojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb29dPXVvO3ZhciBmbz0ic2hhZG93TWFwVmVydGV4U2hhZGVyIixsbz1gCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQoKCiNpZmRlZiBJTlNUQU5DRVMKYXR0cmlidXRlIHZlYzQgd29ybGQwOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMjsKYXR0cmlidXRlIHZlYzQgd29ybGQzOwojZW5kaWYKI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX3NoYWRvd01hcFZlcnRleD4KI2lmZGVmIEFMUEhBVEVTVAp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpZmRlZiBVVjIKYXR0cmlidXRlIHZlYzIgdXYyOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVXBkYXRlZD1ub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpZmRlZiBOT1JNQUwKbWF0MyBub3JtV29ybGRTTT1tYXQzKGZpbmFsV29ybGQpOwojaWYgZGVmaW5lZChJTlNUQU5DRVMpICYmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpCnZlYzMgdk5vcm1hbFc9bm9ybWFsVXBkYXRlZC92ZWMzKGRvdChub3JtV29ybGRTTVswXSxub3JtV29ybGRTTVswXSksZG90KG5vcm1Xb3JsZFNNWzFdLG5vcm1Xb3JsZFNNWzFdKSxkb3Qobm9ybVdvcmxkU01bMl0sbm9ybVdvcmxkU01bMl0pKTsKdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1Xb3JsZFNNKnZOb3JtYWxXKTsKI2Vsc2UKI2lmZGVmIE5PTlVOSUZPUk1TQ0FMSU5HCm5vcm1Xb3JsZFNNPXRyYW5zcG9zZU1hdDMoaW52ZXJzZU1hdDMobm9ybVdvcmxkU00pKTsKI2VuZGlmCnZlYzMgdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1Xb3JsZFNNKm5vcm1hbFVwZGF0ZWQpOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcFZlcnRleE5vcm1hbEJpYXM+CgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4TWV0cmljPgojaWZkZWYgQUxQSEFURVNUCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KfWA7TC5TaGFkZXJzU3RvcmVbZm9dPWxvO3ZhciBobz0iZGVwdGhCb3hCbHVyUGl4ZWxTaGFkZXIiLGNvPWAKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7Cgp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjNCBjb2xvckRlcHRoPXZlYzQoMC4wKTsKZm9yIChpbnQgeD0tT0ZGU0VUOyB4PD1PRkZTRVQ7IHgrKykKZm9yIChpbnQgeT0tT0ZGU0VUOyB5PD1PRkZTRVQ7IHkrKykKY29sb3JEZXB0aCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHZVVit2ZWMyKHgseSkvc2NyZWVuU2l6ZSk7CmdsX0ZyYWdDb2xvcj0oY29sb3JEZXB0aC9mbG9hdCgoT0ZGU0VUKjIrMSkqKE9GRlNFVCoyKzEpKSk7Cn1gO0wuU2hhZGVyc1N0b3JlW2hvXT1jbzt2YXIgcG89InNoYWRvd01hcEZyYWdtZW50U29mdFRyYW5zcGFyZW50U2hhZG93Iixfbz1gI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVyA9PSAxCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYSkgZGlzY2FyZDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtwb109X287dmFyIFZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IE8sdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPWkuRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1pLlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZj0wLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5PSExLHRoaXMuX2xpZ2h0RGlyZWN0aW9uPUUuWmVybygpLHRoaXMuX3ZpZXdNYXRyaXg9SS5aZXJvKCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1JLlplcm8oKSx0aGlzLl90cmFuc2Zvcm1NYXRyaXg9SS5aZXJvKCksdGhpcy5fY2FjaGVkUG9zaXRpb249bmV3IEUoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlZERpcmVjdGlvbj1uZXcgRShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY3VycmVudEZhY2VJbmRleD0wLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT0wLHRoaXMuX2RlZmF1bHRUZXh0dXJlTWF0cml4PUkuSWRlbnRpdHkoKSx0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQ9dCx0aGlzLl9zY2VuZT10LmdldFNjZW5lKCksdC5fc2hhZG93R2VuZXJhdG9yPXRoaXMsdGhpcy5pZD10LmlkLHRoaXMuX3VzZVVCTz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lVUJPcz1bXSx0aGlzLl9zY2VuZVVCT3MucHVzaCh0aGlzLl9zY2VuZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoJ1NjZW5lIGZvciBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJy5jb25jYXQodGhpcy5fbGlnaHQubmFtZSwnIiknKSkpKSxpLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTt2YXIgbj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7cj9uLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTpuLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJm4udGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOnRoaXMuX3RleHR1cmVUeXBlPTA6bi50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZuLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MjpuLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTp0aGlzLl90ZXh0dXJlVHlwZT0wLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJpYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmlhc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JpYXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm5vcm1hbEJpYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9ybWFsQmlhc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX25vcm1hbEJpYXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJsdXJCb3hPZmZzZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1ckJveE9mZnNldH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JsdXJCb3hPZmZzZXQhPT1lJiYodGhpcy5fYmx1ckJveE9mZnNldD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJsdXJTY2FsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ibHVyU2NhbGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ibHVyU2NhbGUhPT1lJiYodGhpcy5fYmx1clNjYWxlPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYmx1cktlcm5lbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ibHVyS2VybmVsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYmx1cktlcm5lbCE9PWUmJih0aGlzLl9ibHVyS2VybmVsPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlS2VybmVsQmx1ciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VLZXJuZWxCbHVyfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdXNlS2VybmVsQmx1ciE9PWUmJih0aGlzLl91c2VLZXJuZWxCbHVyPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhTY2FsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aFNjYWxlIT09dm9pZCAwP3RoaXMuX2RlcHRoU2NhbGU6dGhpcy5fbGlnaHQuZ2V0RGVwdGhTY2FsZSgpfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhTY2FsZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl92YWxpZGF0ZUZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmaWx0ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsdGVyfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoZT10aGlzLl92YWxpZGF0ZUZpbHRlcihlKSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKXtpZihlPT09aS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKXt0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1pLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1pLkZJTFRFUl9QQ0Z8fGU9PT1pLkZJTFRFUl9QQ1NTKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59fWlmKChlPT09aS5GSUxURVJfUENGfHxlPT09aS5GSUxURVJfUENTUykmJiF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fZmVhdHVyZXMuc3VwcG9ydFNoYWRvd1NhbXBsZXJzKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59dGhpcy5fZmlsdGVyIT09ZSYmKHRoaXMuX2ZpbHRlcj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VQb2lzc29uU2FtcGxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9QT0lTU09OU0FNUExJTkd9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9QT0lTU09OU0FNUExJTkcpOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX1BPSVNTT05TQU1QTElOR3x8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfUENGfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfUENGKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9QQ0Z8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmaWx0ZXJpbmdRdWFsaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9maWx0ZXJpbmdRdWFsaXR5IT09ZSYmKHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX1BDU1N9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihpLkZJTFRFUl9QQ1NTKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9QQ1NTfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW99LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGFya25lc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGFya25lc3N9LHNldDpmdW5jdGlvbihlKXt0aGlzLnNldERhcmtuZXNzKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldERhcmtuZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfSxpLnByb3RvdHlwZS5zZXREYXJrbmVzcz1mdW5jdGlvbihlKXtyZXR1cm4gZT49MT90aGlzLl9kYXJrbmVzcz0xOmU8PTA/dGhpcy5fZGFya25lc3M9MDp0aGlzLl9kYXJrbmVzcz1lLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidHJhbnNwYXJlbmN5U2hhZG93Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvd30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2V0VHJhbnNwYXJlbmN5U2hhZG93KGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldFRyYW5zcGFyZW5jeVNoYWRvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93PWUsdGhpc30saS5wcm90b3R5cGUuZ2V0U2hhZG93TWFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcH0saS5wcm90b3R5cGUuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcDI/dGhpcy5fc2hhZG93TWFwMjp0aGlzLl9zaGFkb3dNYXB9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiBpLkNMQVNTTkFNRX0saS5wcm90b3R5cGUuYWRkU2hhZG93Q2FzdGVyPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCF0aGlzLl9zaGFkb3dNYXApcmV0dXJuIHRoaXM7aWYodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSksdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihlKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGUpLHQpZm9yKHZhciByPTAsbj1lLmdldENoaWxkTWVzaGVzKCk7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihhKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGEpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5yZW1vdmVTaGFkb3dDYXN0ZXI9ZnVuY3Rpb24oZSx0KXtpZih0PT09dm9pZCAwJiYodD0hMCksIXRoaXMuX3NoYWRvd01hcHx8IXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0KXJldHVybiB0aGlzO3ZhciByPXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk7aWYociE9PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5zcGxpY2UociwxKSx0KWZvcih2YXIgbj0wLGE9ZS5nZXRDaGlsZHJlbigpO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3RoaXMucmVtb3ZlU2hhZG93Q2FzdGVyKHMpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saWdodH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXBTaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcFNpemV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2luaXRpYWxpemVHZW5lcmF0b3I9ZnVuY3Rpb24oKXt0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2luaXRpYWxpemVTaGFkb3dNYXAoKX0saS5wcm90b3R5cGUuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtlLl9mZWF0dXJlcy5zdXBwb3J0RGVwdGhTdGVuY2lsVGV4dHVyZT8odGhpcy5fc2hhZG93TWFwPW5ldyB6dCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwIix0aGlzLl9tYXBTaXplLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCksdm9pZCAwLCExLCExKSx0aGlzLl9zaGFkb3dNYXAuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj81MTY6NTEzLCEwKSk6dGhpcy5fc2hhZG93TWFwPW5ldyB6dCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwIix0aGlzLl9tYXBTaXplLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCkpfSxpLnByb3RvdHlwZS5faW5pdGlhbGl6ZVNoYWRvd01hcD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpLHRoaXMuX3NoYWRvd01hcCE9PW51bGwpe3RoaXMuX3NoYWRvd01hcC53cmFwVT1RLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcC53cmFwVj1RLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcC5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTEsdGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZShRLkJJTElORUFSX1NBTVBMSU5HTU9ERSksdGhpcy5fc2hhZG93TWFwLnJlbmRlclBhcnRpY2xlcz0hMSx0aGlzLl9zaGFkb3dNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fc3RvcmVkVW5pcXVlSWQmJih0aGlzLl9zaGFkb3dNYXAudW5pcXVlSWQ9dGhpcy5fc3RvcmVkVW5pcXVlSWQpLHRoaXMuX3NoYWRvd01hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj10aGlzLl9yZW5kZXJGb3JTaGFkb3dNYXAuYmluZCh0aGlzKSx0aGlzLl9zaGFkb3dNYXAuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uPWZ1bmN0aW9uKHMsbyl7cmV0dXJuITB9O3ZhciB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBzO2UuX2N1cnJlbnRTY2VuZVVCTz1lLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwocz10Ll9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwodCwic2hhZG93IG1hcCBnZW5lcmF0aW9uIGZvciBwYXNzIGlkICIuY29uY2F0KHQuY3VycmVudFJlbmRlclBhc3NJZCksMSl9KSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihzKXtlLl9zY2VuZVVCT3MmJmUuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcihlLl9zY2VuZVVCT3NbMF0pLGUuX2N1cnJlbnRGYWNlSW5kZXg9cyxlLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ0YmJnQuc2V0Q29sb3JXcml0ZSghMSksZS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSxlLl9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgoZS5fdmlld01hdHJpeCxlLl9wcm9qZWN0aW9uTWF0cml4KSxlLl91c2VVQk8mJihlLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSxlLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBzLG87aWYoZS5fc2NlbmVVQk9zJiZlLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIoZS5fY3VycmVudFNjZW5lVUJPKSxlLl9zY2VuZS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxlLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ0YmJnQuc2V0Q29sb3JXcml0ZSghMCksIWUudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwJiYhZS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCl7KHM9dC5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwodCwxKTtyZXR1cm59dmFyIHU9ZS5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKTt1JiYoZS5fc2NlbmUucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihlLl9ibHVyUG9zdFByb2Nlc3Nlcyx1LnJlbmRlclRhcmdldCwhMCksdC51bkJpbmRGcmFtZWJ1ZmZlcih1LnJlbmRlclRhcmdldCwhMCksKG89dC5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwodCwxKSl9KTt2YXIgcj1uZXcgX2UoMCwwLDAsMCksbj1uZXcgX2UoMSwxLDEsMSk7dGhpcy5fc2hhZG93TWFwLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihzKXtlLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ0Y/cy5jbGVhcihuLCExLCEwLCExKTplLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHxlLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9zLmNsZWFyKHIsITAsITAsITEpOnMuY2xlYXIobiwhMCwhMCwhMSl9KSx0aGlzLl9zaGFkb3dNYXAub25SZXNpemVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihzKXtlLl9zdG9yZWRVbmlxdWVJZD1lLl9zaGFkb3dNYXAudW5pcXVlSWQsZS5fbWFwU2l6ZT1zLmdldFJlbmRlclNpemUoKSxlLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLGUucmVjcmVhdGVTaGFkb3dNYXAoKX0pO2Zvcih2YXIgYT1Bci5NSU5fUkVOREVSSU5HR1JPVVBTO2E8QXIuTUFYX1JFTkRFUklOR0dST1VQUzthKyspdGhpcy5fc2hhZG93TWFwLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChhLCExKX19LGkucHJvdG90eXBlLl9pbml0aWFsaXplQmx1clJUVEFuZFBvc3RQcm9jZXNzZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj10aGlzLl9tYXBTaXplL3RoaXMuYmx1clNjYWxlOyghdGhpcy51c2VLZXJuZWxCbHVyfHx0aGlzLmJsdXJTY2FsZSE9PTEpJiYodGhpcy5fc2hhZG93TWFwMj1uZXcgenQodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcDIiLHIsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdm9pZCAwLHZvaWQgMCwhMSksdGhpcy5fc2hhZG93TWFwMi53cmFwVT1RLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcDIud3JhcFY9US5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAyLnVwZGF0ZVNhbXBsaW5nTW9kZShRLkJJTElORUFSX1NBTVBMSU5HTU9ERSkpLHRoaXMudXNlS2VybmVsQmx1cj8odGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcz1uZXcgaGkodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clgiLG5ldyBiZSgxLDApLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsUS5CSUxJTkVBUl9TQU1QTElOR01PREUsdCwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy53aWR0aD1yLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuaGVpZ2h0PXIsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihuKXtuLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixlLl9zaGFkb3dNYXApfSksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1uZXcgaGkodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clkiLG5ldyBiZSgwLDEpLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsUS5CSUxJTkVBUl9TQU1QTElOR01PREUsdCwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fdGV4dHVyZVR5cGU9PT0wJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcyx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzXSk6KHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1uZXcgYXIodGhpcy5fbGlnaHQubmFtZSsiRGVwdGhCb3hCbHVyIiwiZGVwdGhCb3hCbHVyIixbInNjcmVlblNpemUiLCJib3hPZmZzZXQiXSxbXSwxLG51bGwsUS5CSUxJTkVBUl9TQU1QTElOR01PREUsdCwhMSwiI2RlZmluZSBPRkZTRVQgIit0aGlzLl9ibHVyQm94T2Zmc2V0LHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihuKXtuLnNldEZsb2F0Migic2NyZWVuU2l6ZSIscixyKSxuLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixlLl9zaGFkb3dNYXApfSksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzXSl9LGkucHJvdG90eXBlLl9yZW5kZXJGb3JTaGFkb3dNYXA9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE7aWYobi5sZW5ndGgpZm9yKGE9MDthPG4ubGVuZ3RoO2ErKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKG4uZGF0YVthXSk7Zm9yKGE9MDthPGUubGVuZ3RoO2ErKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUuZGF0YVthXSk7Zm9yKGE9MDthPHQubGVuZ3RoO2ErKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHQuZGF0YVthXSk7aWYodGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93KWZvcihhPTA7YTxyLmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChyLmRhdGFbYV0sITApO2Vsc2UgZm9yKGE9MDthPHIubGVuZ3RoO2ErKylyLmRhdGFbYV0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX0saS5wcm90b3R5cGUuX2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwPWZ1bmN0aW9uKGUsdCxyKXt0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpfSxpLnByb3RvdHlwZS5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcD1mdW5jdGlvbihlLHQpe3ZhciByLG47dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciBhPWUuZ2V0UmVuZGVyaW5nTWVzaCgpLHM9ZS5nZXRFZmZlY3RpdmVNZXNoKCksbz10aGlzLl9zY2VuZSx1PW8uZ2V0RW5naW5lKCksZj1lLmdldE1hdGVyaWFsKCk7aWYocy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsISghZnx8ZS52ZXJ0aWNlc0NvdW50PT09MHx8ZS5fcmVuZGVySWQ9PT1vLmdldFJlbmRlcklkKCkpKXt2YXIgbD1zLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk8MCxoPShyPWEub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbikhPT1udWxsJiZyIT09dm9pZCAwP3I6Zi5zaWRlT3JpZW50YXRpb247bCYmKGg9aD09PTA/MTowKTt2YXIgYz1oPT09MDt1LnNldFN0YXRlKGYuYmFja0ZhY2VDdWxsaW5nLHZvaWQgMCx2b2lkIDAsYyxmLmN1bGxCYWNrRmFjZXMpO3ZhciBkPWEuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZS5faWQsISFlLmdldFJlcGxhY2VtZW50TWVzaCgpKTtpZighZC5tdXN0UmV0dXJuKXt2YXIgcD11LmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJihkLnZpc2libGVJbnN0YW5jZXNbZS5faWRdIT09bnVsbCYmZC52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PXZvaWQgMHx8YS5oYXNUaGluSW5zdGFuY2VzKTtpZighKHRoaXMuY3VzdG9tQWxsb3dSZW5kZXJpbmcmJiF0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nKGUpKSlpZih0aGlzLmlzUmVhZHkoZSxwLHQpKXtlLl9yZW5kZXJJZD1vLmdldFJlbmRlcklkKCk7dmFyIF89Zi5zaGFkb3dEZXB0aFdyYXBwZXIsZz0obj1fPT1udWxsP3ZvaWQgMDpfLmdldEVmZmVjdChlLHRoaXMsdS5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZuIT09dm9pZCAwP246ZS5fZ2V0RHJhd1dyYXBwZXIoKSxtPVF0LkdldEVmZmVjdChnKTtpZih1LmVuYWJsZUVmZmVjdChnKSxwfHxhLl9iaW5kKGUsbSxmLmZpbGxNb2RlKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLG0uc2V0RmxvYXQzKCJiaWFzQW5kU2NhbGVTTSIsdGhpcy5iaWFzLHRoaXMubm9ybWFsQmlhcyx0aGlzLmRlcHRoU2NhbGUpLHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PUtlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/bS5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkRGlyZWN0aW9uKTptLnNldFZlY3RvcjMoImxpZ2h0RGF0YVNNIix0aGlzLl9jYWNoZWRQb3NpdGlvbiksby5hY3RpdmVDYW1lcmEmJm0uc2V0RmxvYXQyKCJkZXB0aFZhbHVlc1NNIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKG8uYWN0aXZlQ2FtZXJhKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKG8uYWN0aXZlQ2FtZXJhKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKG8uYWN0aXZlQ2FtZXJhKSksdCYmdGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJm0uc2V0RmxvYXQoInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIixzLnZpc2liaWxpdHkqZi5hbHBoYSksXyllLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShnKSxfLnN0YW5kYWxvbmU/Xy5iYXNlTWF0ZXJpYWwuYmluZEZvclN1Yk1lc2gocy5nZXRXb3JsZE1hdHJpeCgpLGEsZSk6Zi5iaW5kRm9yU3ViTWVzaChzLmdldFdvcmxkTWF0cml4KCksYSxlKSxlLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShudWxsKTtlbHNle2lmKGYmJmYubmVlZEFscGhhVGVzdGluZygpKXt2YXIgdj1mLmdldEFscGhhVGVzdFRleHR1cmUoKTt2JiYobS5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdiksbS5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLHYuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpfWlmKGEudXNlQm9uZXMmJmEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZhLnNrZWxldG9uKXt2YXIgUz1hLnNrZWxldG9uO2lmKFMuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7dmFyIE09Uy5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGEpO2lmKCFNKXJldHVybjttLnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixNKSxtLnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihTLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSBtLnNldE1hdHJpY2VzKCJtQm9uZXMiLFMuZ2V0VHJhbnNmb3JtTWF0cmljZXMoYSkpfUguQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhhLG0pLGEubW9ycGhUYXJnZXRNYW5hZ2VyJiZhLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmEubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKG0pLEguQmluZENsaXBQbGFuZShtLG8pfSF0aGlzLl91c2VVQk8mJiFfJiZ0aGlzLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLG0scyksSC5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKG0sdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLmJpbmRVbmlmb3JtQnVmZmVyKCk7dmFyIEE9cy5nZXRXb3JsZE1hdHJpeCgpO3AmJihzLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KG0sIk1lc2giKSxzLnRyYW5zZmVyVG9FZmZlY3QoQSkpLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZ1LnNldFN0YXRlKCEwLDAsITEsITAsZi5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhtKSxhLl9wcm9jZXNzUmVuZGVyaW5nKHMsZSxtLGYuZmlsbE1vZGUsZCxwLGZ1bmN0aW9uKFIseSl7cyE9PWEmJiFSPyhhLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KG0sIk1lc2giKSxhLnRyYW5zZmVyVG9FZmZlY3QoeSkpOihzLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KG0sIk1lc2giKSxzLnRyYW5zZmVyVG9FZmZlY3QoUj95OkEpKX0pLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZ1LnNldFN0YXRlKCEwLDAsITEsITEsZi5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhtKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9ZWxzZSB0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZXNldFJlZnJlc2hDb3VudGVyKCl9fX0saS5wcm90b3R5cGUuX2FwcGx5RmlsdGVyVmFsdWVzPWZ1bmN0aW9uKCl7IXRoaXMuX3NoYWRvd01hcHx8KHRoaXMuZmlsdGVyPT09aS5GSUxURVJfTk9ORXx8dGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9QQ1NTP3RoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoUS5ORUFSRVNUX1NBTVBMSU5HTU9ERSk6dGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZShRLkJJTElORUFSX1NBTVBMSU5HTU9ERSkpfSxpLnByb3RvdHlwZS5mb3JjZUNvbXBpbGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPWNlKHt1c2VJbnN0YW5jZXM6ITF9LHQpLGE9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighYSl7ZSYmZSh0aGlzKTtyZXR1cm59dmFyIHM9YS5yZW5kZXJMaXN0O2lmKCFzKXtlJiZlKHRoaXMpO3JldHVybn1mb3IodmFyIG89bmV3IEFycmF5LHU9MCxmPXM7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07by5wdXNoLmFwcGx5KG8sbC5zdWJNZXNoZXMpfWlmKG8ubGVuZ3RoPT09MCl7ZSYmZSh0aGlzKTtyZXR1cm59dmFyIGg9MCxjPWZ1bmN0aW9uKCl7dmFyIGQscDtpZighKCFyLl9zY2VuZXx8IXIuX3NjZW5lLmdldEVuZ2luZSgpKSl7Zm9yKDtyLmlzUmVhZHkob1toXSxuLnVzZUluc3RhbmNlcywocD0oZD1vW2hdLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8ZD09PXZvaWQgMD92b2lkIDA6ZC5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2gob1toXS5nZXRNZXNoKCkpKSE9PW51bGwmJnAhPT12b2lkIDA/cDohMSk7KWlmKGgrKyxoPj1vLmxlbmd0aCl7ZSYmZShyKTtyZXR1cm59c2V0VGltZW91dChjLDE2KX19O2MoKX0saS5wcm90b3R5cGUuZm9yY2VDb21waWxhdGlvbkFzeW5jPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIpe3QuZm9yY2VDb21waWxhdGlvbihmdW5jdGlvbigpe3IoKX0sZSl9KX0saS5wcm90b3R5cGUuX2lzUmVhZHlDdXN0b21EZWZpbmVzPWZ1bmN0aW9uKGUsdCxyKXt9LGkucHJvdG90eXBlLl9wcmVwYXJlU2hhZG93RGVmaW5lcz1mdW5jdGlvbihlLHQscixuKXtyLnB1c2goIiNkZWZpbmUgU01fRkxPQVQgIisodGhpcy5fdGV4dHVyZVR5cGUhPT0wPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fRVNNICIrKHRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fREVQVEhURVhUVVJFICIrKHRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZ3x8dGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PyIxIjoiMCIpKTt2YXIgYT1lLmdldE1lc2goKTtyZXR1cm4gci5wdXNoKCIjZGVmaW5lIFNNX05PUk1BTEJJQVMgIisodGhpcy5ub3JtYWxCaWFzJiZhLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk5vcm1hbEtpbmQpPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fRElSRUNUSU9OSU5MSUdIVERBVEEgIisodGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09S2UuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD8iMSI6IjAiKSksci5wdXNoKCIjZGVmaW5lIFNNX1VTRURJU1RBTkNFICIrKHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCk/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1cgIisodGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJm4/IjEiOiIwIikpLHRoaXMuX2lzUmVhZHlDdXN0b21EZWZpbmVzKHIsZSx0KSxyfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmdldE1hdGVyaWFsKCksYT1uPT1udWxsP3ZvaWQgMDpuLnNoYWRvd0RlcHRoV3JhcHBlcixzPVtdO2lmKHRoaXMuX3ByZXBhcmVTaGFkb3dEZWZpbmVzKGUsdCxzLHIpLGEpe2lmKCFhLmlzUmVhZHlGb3JTdWJNZXNoKGUscyx0aGlzLHQsdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3VycmVudFJlbmRlclBhc3NJZCkpcmV0dXJuITF9ZWxzZXt2YXIgbz1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApLHU9by5lZmZlY3QsZj1vLmRlZmluZXMsbD1bYi5Qb3NpdGlvbktpbmRdLGg9ZS5nZXRNZXNoKCk7aWYodGhpcy5ub3JtYWxCaWFzJiZoLmlzVmVydGljZXNEYXRhUHJlc2VudChiLk5vcm1hbEtpbmQpJiYobC5wdXNoKGIuTm9ybWFsS2luZCkscy5wdXNoKCIjZGVmaW5lIE5PUk1BTCIpLGgubm9uVW5pZm9ybVNjYWxpbmcmJnMucHVzaCgiI2RlZmluZSBOT05VTklGT1JNU0NBTElORyIpKSxuJiZuLm5lZWRBbHBoYVRlc3RpbmcoKSl7dmFyIGM9bi5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7aWYoYyl7aWYoIWMuaXNSZWFkeSgpKXJldHVybiExO3MucHVzaCgiI2RlZmluZSBBTFBIQVRFU1QiKSxoLmlzVmVydGljZXNEYXRhUHJlc2VudChiLlVWS2luZCkmJihsLnB1c2goYi5VVktpbmQpLHMucHVzaCgiI2RlZmluZSBVVjEiKSksaC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVjJLaW5kKSYmYy5jb29yZGluYXRlc0luZGV4PT09MSYmKGwucHVzaChiLlVWMktpbmQpLHMucHVzaCgiI2RlZmluZSBVVjIiKSl9fXZhciBkPW5ldyBjaTtpZihoLnVzZUJvbmVzJiZoLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmaC5za2VsZXRvbil7bC5wdXNoKGIuTWF0cmljZXNJbmRpY2VzS2luZCksbC5wdXNoKGIuTWF0cmljZXNXZWlnaHRzS2luZCksaC5udW1Cb25lSW5mbHVlbmNlcnM+NCYmKGwucHVzaChiLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksbC5wdXNoKGIuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSk7dmFyIHA9aC5za2VsZXRvbjtzLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgIitoLm51bUJvbmVJbmZsdWVuY2VycyksaC5udW1Cb25lSW5mbHVlbmNlcnM+MCYmZC5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsaCkscC5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzP3MucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpOnMucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisocC5ib25lcy5sZW5ndGgrMSkpfWVsc2Ugcy5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTt2YXIgXz1oLm1vcnBoVGFyZ2V0TWFuYWdlcixnPTA7XyYmXy5udW1JbmZsdWVuY2Vycz4wJiYocy5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUUyIpLGc9Xy5udW1JbmZsdWVuY2VycyxzLnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrZyksXy5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnMucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLEguUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhsLGgsZykpO3ZhciBtPXRoaXMuX3NjZW5lO2lmKG0uY2xpcFBsYW5lJiZzLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FIiksbS5jbGlwUGxhbmUyJiZzLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FMiIpLG0uY2xpcFBsYW5lMyYmcy5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTMiKSxtLmNsaXBQbGFuZTQmJnMucHVzaCgiI2RlZmluZSBDTElQUExBTkU0IiksbS5jbGlwUGxhbmU1JiZzLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNSIpLG0uY2xpcFBsYW5lNiYmcy5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTYiKSx0JiYocy5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLEguUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMobCksZS5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyYmcy5wdXNoKCIjZGVmaW5lIFRISU5fSU5TVEFOQ0VTIikpLHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucyYmdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmRlZmluZXMpZm9yKHZhciB2PTAsUz10aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuZGVmaW5lczt2PFMubGVuZ3RoO3YrKyl7dmFyIE09U1t2XTtzLmluZGV4T2YoTSk9PT0tMSYmcy5wdXNoKE0pfXZhciBBPXMuam9pbihgCmApO2lmKGYhPT1BKXtmPUE7dmFyIFI9InNoYWRvd01hcCIseT1bIndvcmxkIiwibUJvbmVzIiwidmlld1Byb2plY3Rpb24iLCJkaWZmdXNlTWF0cml4IiwibGlnaHREYXRhU00iLCJkZXB0aFZhbHVlc1NNIiwiYmlhc0FuZFNjYWxlU00iLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJib25lVGV4dHVyZVdpZHRoIiwidkNsaXBQbGFuZSIsInZDbGlwUGxhbmUyIiwidkNsaXBQbGFuZTMiLCJ2Q2xpcFBsYW5lNCIsInZDbGlwUGxhbmU1IiwidkNsaXBQbGFuZTYiLCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8iLCJtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzIl0sQz1bImRpZmZ1c2VTYW1wbGVyIiwiYm9uZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiXSx3PVsiU2NlbmUiLCJNZXNoIl07aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zKXtpZihSPXRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zaGFkZXJOYW1lLHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5hdHRyaWJ1dGVzKWZvcih2YXIgRj0wLEQ9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXM7RjxELmxlbmd0aDtGKyspe3ZhciBYPURbRl07bC5pbmRleE9mKFgpPT09LTEmJmwucHVzaChYKX1pZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXMpZm9yKHZhciBXPTAsTj10aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXM7VzxOLmxlbmd0aDtXKyspe3ZhciBqPU5bV107eS5pbmRleE9mKGopPT09LTEmJnkucHVzaChqKX1pZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2FtcGxlcnMpZm9yKHZhciBLPTAsYWU9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzO0s8YWUubGVuZ3RoO0srKyl7dmFyIHE9YWVbS107Qy5pbmRleE9mKHEpPT09LTEmJkMucHVzaChxKX19dmFyIFo9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dT1aLmNyZWF0ZUVmZmVjdChSLHthdHRyaWJ1dGVzOmwsdW5pZm9ybXNOYW1lczp5LHVuaWZvcm1CdWZmZXJzTmFtZXM6dyxzYW1wbGVyczpDLGRlZmluZXM6QSxmYWxsYmFja3M6ZCxvbkNvbXBpbGVkOm51bGwsb25FcnJvcjpudWxsLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOmd9fSxaKSxvLnNldEVmZmVjdCh1LGYpfWlmKCF1LmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4odGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoIXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzfHwhdGhpcy5fYmx1clBvc3RQcm9jZXNzZXMubGVuZ3RoKSYmdGhpcy5faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCksISh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYhdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmlzUmVhZHkoKSl9LGkucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fc2NlbmUsbj10aGlzLl9saWdodDshci5zaGFkb3dzRW5hYmxlZHx8IW4uc2hhZG93RW5hYmxlZHx8KGVbIlNIQURPVyIrdF09ITAsdGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PyhlWyJTSEFET1dQQ1NTIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09aS5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09aS5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPyhlWyJTSEFET1dQQ0YiK3RdPSEwLHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1pLlFVQUxJVFlfTE9XP2VbIlNIQURPV0xPV1FVQUxJVFkiK3RdPSEwOnRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9PT1pLlFVQUxJVFlfTUVESVVNJiYoZVsiU0hBRE9XTUVESVVNUVVBTElUWSIrdF09ITApKTp0aGlzLnVzZVBvaXNzb25TYW1wbGluZz9lWyJTSEFET1dQT0lTU09OIit0XT0hMDp0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9lWyJTSEFET1dFU00iK3RdPSEwOih0aGlzLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoZVsiU0hBRE9XQ0xPU0VFU00iK3RdPSEwKSxuLm5lZWRDdWJlKCkmJihlWyJTSEFET1dDVUJFIit0XT0hMCkpfSxpLnByb3RvdHlwZS5iaW5kU2hhZG93TGlnaHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9saWdodCxuPXRoaXMuX3NjZW5lO2lmKCEoIW4uc2hhZG93c0VuYWJsZWR8fCFyLnNoYWRvd0VuYWJsZWQpKXt2YXIgYT1uLmFjdGl2ZUNhbWVyYTtpZighIWEpe3ZhciBzPXRoaXMuZ2V0U2hhZG93TWFwKCk7IXN8fChyLm5lZWRDdWJlKCl8fHQuc2V0TWF0cml4KCJsaWdodE1hdHJpeCIrZSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKSx0aGlzLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ0Y/KHQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxyLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSxzLmdldFNpemUoKS53aWR0aCwxL3MuZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKTp0aGlzLl9maWx0ZXI9PT1pLkZJTFRFUl9QQ1NTPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksdC5zZXRUZXh0dXJlKCJkZXB0aFNhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksci5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS9zLmdldFNpemUoKS53aWR0aCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbypzLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6KHQuc2V0VGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxyLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSx0aGlzLmJsdXJTY2FsZS9zLmdldFNpemUoKS53aWR0aCx0aGlzLmRlcHRoU2NhbGUsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpLHIuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihhKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKGEpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFooYSksZSkpfX19LGkucHJvdG90eXBlLmdldFRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3NjZW5lO2lmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PWUuZ2V0UmVuZGVySWQoKSYmdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPT09dGhpcy5fY3VycmVudEZhY2VJbmRleClyZXR1cm4gdGhpcy5fdHJhbnNmb3JtTWF0cml4O3RoaXMuX2N1cnJlbnRSZW5kZXJJZD1lLmdldFJlbmRlcklkKCksdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPXRoaXMuX2N1cnJlbnRGYWNlSW5kZXg7dmFyIHQ9dGhpcy5fbGlnaHQucG9zaXRpb247aWYodGhpcy5fbGlnaHQuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKSYmKHQ9dGhpcy5fbGlnaHQudHJhbnNmb3JtZWRQb3NpdGlvbiksRS5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24odGhpcy5fY3VycmVudEZhY2VJbmRleCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKEUuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLEUuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2xpZ2h0Lm5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfHwhdGhpcy5fY2FjaGVkUG9zaXRpb258fCF0aGlzLl9jYWNoZWREaXJlY3Rpb258fCF0LmVxdWFscyh0aGlzLl9jYWNoZWRQb3NpdGlvbil8fCF0aGlzLl9saWdodERpcmVjdGlvbi5lcXVhbHModGhpcy5fY2FjaGVkRGlyZWN0aW9uKSl7dGhpcy5fY2FjaGVkUG9zaXRpb24uY29weUZyb20odCksdGhpcy5fY2FjaGVkRGlyZWN0aW9uLmNvcHlGcm9tKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxJLkxvb2tBdExIVG9SZWYodCx0LmFkZCh0aGlzLl9saWdodERpcmVjdGlvbiksRS5VcCgpLHRoaXMuX3ZpZXdNYXRyaXgpO3ZhciByPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYocil7dmFyIG49ci5yZW5kZXJMaXN0O24mJnRoaXMuX2xpZ2h0LnNldFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl92aWV3TWF0cml4LG4pfXRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCl9cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeH0saS5wcm90b3R5cGUucmVjcmVhdGVTaGFkb3dNYXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zaGFkb3dNYXA7aWYoISFlKXt2YXIgdD1lLnJlbmRlckxpc3Q7aWYodGhpcy5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKSx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5maWx0ZXI9dGhpcy5maWx0ZXIsdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0KXt0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdHx8KHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PVtdKTtmb3IodmFyIHI9MCxuPXQ7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChhKX19ZWxzZSB0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1udWxsfX0saS5wcm90b3R5cGUuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3Nlcz1mdW5jdGlvbigpe3RoaXMuX3NoYWRvd01hcDImJih0aGlzLl9zaGFkb3dNYXAyLmRpc3Bvc2UoKSx0aGlzLl9zaGFkb3dNYXAyPW51bGwpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2VzcyYmKHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzPW51bGwpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MmJih0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzPW51bGwpLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MmJih0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzPW51bGwpLHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzPVtdfSxpLnByb3RvdHlwZS5fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXM9ZnVuY3Rpb24oKXt0aGlzLl9zaGFkb3dNYXAmJih0aGlzLl9zaGFkb3dNYXAuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcD1udWxsKSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKX0saS5wcm90b3R5cGUuX2Rpc3Bvc2VTY2VuZVVCT3M9ZnVuY3Rpb24oKXtpZih0aGlzLl9zY2VuZVVCT3Mpe2Zvcih2YXIgZT0wLHQ9dGhpcy5fc2NlbmVVQk9zO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj10W2VdO3IuZGlzcG9zZSgpfXRoaXMuX3NjZW5lVUJPcz1bXX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3NlcygpLHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9saWdodCYmKHRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3I9bnVsbCx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXQpcmV0dXJuIGU7aWYoZS5jbGFzc05hbWU9dGhpcy5nZXRDbGFzc05hbWUoKSxlLmxpZ2h0SWQ9dGhpcy5fbGlnaHQuaWQsZS5pZD10aGlzLmlkLGUubWFwU2l6ZT10LmdldFJlbmRlclNpemUoKSxlLmZvcmNlQmFja0ZhY2VzT25seT10aGlzLmZvcmNlQmFja0ZhY2VzT25seSxlLmRhcmtuZXNzPXRoaXMuZ2V0RGFya25lc3MoKSxlLnRyYW5zcGFyZW5jeVNoYWRvdz10aGlzLl90cmFuc3BhcmVuY3lTaGFkb3csZS5mcnVzdHVtRWRnZUZhbGxvZmY9dGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZS5iaWFzPXRoaXMuYmlhcyxlLm5vcm1hbEJpYXM9dGhpcy5ub3JtYWxCaWFzLGUudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz10aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcsZS51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PXRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyxlLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPXRoaXMuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8sZS5maWx0ZXJpbmdRdWFsaXR5PXRoaXMuZmlsdGVyaW5nUXVhbGl0eSxlLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXAsZS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsZS51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLGUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsZS51c2VQb2lzc29uU2FtcGxpbmc9dGhpcy51c2VQb2lzc29uU2FtcGxpbmcsZS5kZXB0aFNjYWxlPXRoaXMuZGVwdGhTY2FsZSxlLmJsdXJCb3hPZmZzZXQ9dGhpcy5ibHVyQm94T2Zmc2V0LGUuYmx1cktlcm5lbD10aGlzLmJsdXJLZXJuZWwsZS5ibHVyU2NhbGU9dGhpcy5ibHVyU2NhbGUsZS51c2VLZXJuZWxCbHVyPXRoaXMudXNlS2VybmVsQmx1cixlLnJlbmRlckxpc3Q9W10sdC5yZW5kZXJMaXN0KWZvcih2YXIgcj0wO3I8dC5yZW5kZXJMaXN0Lmxlbmd0aDtyKyspe3ZhciBuPXQucmVuZGVyTGlzdFtyXTtlLnJlbmRlckxpc3QucHVzaChuLmlkKX1yZXR1cm4gZX0saS5QYXJzZT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXQuZ2V0TGlnaHRCeUlkKGUubGlnaHRJZCksYT1yP3IoZS5tYXBTaXplLG4pOm5ldyBpKGUubWFwU2l6ZSxuKSxzPWEuZ2V0U2hhZG93TWFwKCksbz0wO288ZS5yZW5kZXJMaXN0Lmxlbmd0aDtvKyspe3ZhciB1PXQuZ2V0TWVzaGVzQnlJZChlLnJlbmRlckxpc3Rbb10pO3UuZm9yRWFjaChmdW5jdGlvbihmKXshc3x8KHMucmVuZGVyTGlzdHx8KHMucmVuZGVyTGlzdD1bXSkscy5yZW5kZXJMaXN0LnB1c2goZikpfSl9cmV0dXJuIGUuaWQhPT12b2lkIDAmJihhLmlkPWUuaWQpLGEuZm9yY2VCYWNrRmFjZXNPbmx5PSEhZS5mb3JjZUJhY2tGYWNlc09ubHksZS5kYXJrbmVzcyE9PXZvaWQgMCYmYS5zZXREYXJrbmVzcyhlLmRhcmtuZXNzKSxlLnRyYW5zcGFyZW5jeVNoYWRvdyYmYS5zZXRUcmFuc3BhcmVuY3lTaGFkb3coITApLGUuZnJ1c3R1bUVkZ2VGYWxsb2ZmIT09dm9pZCAwJiYoYS5mcnVzdHVtRWRnZUZhbGxvZmY9ZS5mcnVzdHVtRWRnZUZhbGxvZmYpLGUuYmlhcyE9PXZvaWQgMCYmKGEuYmlhcz1lLmJpYXMpLGUubm9ybWFsQmlhcyE9PXZvaWQgMCYmKGEubm9ybWFsQmlhcz1lLm5vcm1hbEJpYXMpLGUudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz9hLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITA6ZS51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93P2EudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz0hMDplLnVzZVBvaXNzb25TYW1wbGluZz9hLnVzZVBvaXNzb25TYW1wbGluZz0hMDplLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwP2EudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwP2EudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwP2EudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VWYXJpYW5jZVNoYWRvd01hcD9hLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1clZhcmlhbmNlU2hhZG93TWFwJiYoYS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9ITApLGUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8hPT12b2lkIDAmJihhLmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPWUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8pLGUuZmlsdGVyaW5nUXVhbGl0eSE9PXZvaWQgMCYmKGEuZmlsdGVyaW5nUXVhbGl0eT1lLmZpbHRlcmluZ1F1YWxpdHkpLGUuZGVwdGhTY2FsZSYmKGEuZGVwdGhTY2FsZT1lLmRlcHRoU2NhbGUpLGUuYmx1clNjYWxlJiYoYS5ibHVyU2NhbGU9ZS5ibHVyU2NhbGUpLGUuYmx1ckJveE9mZnNldCYmKGEuYmx1ckJveE9mZnNldD1lLmJsdXJCb3hPZmZzZXQpLGUudXNlS2VybmVsQmx1ciYmKGEudXNlS2VybmVsQmx1cj1lLnVzZUtlcm5lbEJsdXIpLGUuYmx1cktlcm5lbCYmKGEuYmx1cktlcm5lbD1lLmJsdXJLZXJuZWwpLGF9LGkuQ0xBU1NOQU1FPSJTaGFkb3dHZW5lcmF0b3IiLGkuRklMVEVSX05PTkU9MCxpLkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUD0xLGkuRklMVEVSX1BPSVNTT05TQU1QTElORz0yLGkuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUD0zLGkuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVA9NCxpLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD01LGkuRklMVEVSX1BDRj02LGkuRklMVEVSX1BDU1M9NyxpLlFVQUxJVFlfSElHSD0wLGkuUVVBTElUWV9NRURJVU09MSxpLlFVQUxJVFlfTE9XPTIsaS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1mdW5jdGlvbihlKXt0aHJvdyBVKCJTaGFkb3dHZW5lcmF0b3JTY2VuZUNvbXBvbmVudCIpfSxpfSgpLGdvPSJkZXB0aFBpeGVsU2hhZGVyIix2bz1gI2lmZGVmIEFMUEhBVEVTVAp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlU2FtcGxlcjsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojaWZkZWYgUEFDS0VECiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaWZkZWYgQUxQSEFURVNUCmlmICh0ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdlVWKS5hPDAuNCkKZGlzY2FyZDsKI2VuZGlmCiNpZmRlZiBOT05MSU5FQVJERVBUSAojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKGdsX0ZyYWdDb29yZC56KTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQoZ2xfRnJhZ0Nvb3JkLnosMC4wLDAuMCwwLjApOwojZW5kaWYKI2Vsc2UKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayh2RGVwdGhNZXRyaWMpOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNCh2RGVwdGhNZXRyaWMsMC4wLDAuMCwxLjApOwojZW5kaWYKI2VuZGlmCn1gO0wuU2hhZGVyc1N0b3JlW2dvXT12bzt2YXIgbW89Imluc3RhbmNlc0RlY2xhcmF0aW9uIix5bz1gI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNpZmRlZiBJTlNUQU5DRVNDT0xPUgphdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9yOwojZW5kaWYKI2lmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpICYmICFkZWZpbmVkKFdPUkxEX1VCTykKdW5pZm9ybSBtYXQ0IHdvcmxkOwojZW5kaWYKI2lmIGRlZmluZWQoVkVMT0NJVFkpIHx8IGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQxOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMjsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDM7CiNpZmRlZiBUSElOX0lOU1RBTkNFUwp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVttb109eW87dmFyIGJvPSJkZXB0aFZlcnRleFNoYWRlciIsRW89YAphdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uPlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXM7CiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgfHwgZGVmaW5lZChORUVEX1VWKQp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpZmRlZiBVVjIKYXR0cmlidXRlIHZlYzIgdXYyOwojZW5kaWYKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmljPSgoLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2Vsc2UKdkRlcHRoTWV0cmljPSgoZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZW5kaWYKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKEJBU0lDX1JFTkRFUikKI2lmZGVmIFVWMQp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKI2VuZGlmCiNpZmRlZiBVVjIKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7CiNlbmRpZgojZW5kaWYKfQpgO0wuU2hhZGVyc1N0b3JlW2JvXT1Fbzt2YXIgVG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSl7dmFyIHM9dGhpczt0PT09dm9pZCAwJiYodD0xKSxyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj0hMSksYT09PXZvaWQgMCYmKGE9US5UUklMSU5FQVJfU0FNUExJTkdNT0RFKSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5mb3JjZURlcHRoV3JpdGVUcmFuc3BhcmVudE1lc2hlcz0hMSx0aGlzLnVzZU9ubHlJbkFjdGl2ZUNhbWVyYT0hMSx0aGlzLl9zY2VuZT1lLHRoaXMuX3N0b3JlTm9uTGluZWFyRGVwdGg9bix0aGlzLmlzUGFja2VkPXQ9PT0wLHRoaXMuaXNQYWNrZWQ/dGhpcy5fY2xlYXJDb2xvcj1uZXcgX2UoMSwxLDEsMSk6dGhpcy5fY2xlYXJDb2xvcj1uZXcgX2UoMSwwLDAsMSksaS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7dmFyIG89ZS5nZXRFbmdpbmUoKTt0aGlzLl9jYW1lcmE9cixhIT09US5ORUFSRVNUX1NBTVBMSU5HTU9ERSYmKHQ9PT0xJiYhby5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmcmJihhPVEuTkVBUkVTVF9TQU1QTElOR01PREUpLHQ9PT0yJiYhby5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nJiYoYT1RLk5FQVJFU1RfU0FNUExJTkdNT0RFKSk7dmFyIHU9dGhpcy5pc1BhY2tlZHx8IW8uX2ZlYXR1cmVzLnN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzPzU6Njt0aGlzLl9kZXB0aE1hcD1uZXcgenQoIkRlcHRoUmVuZGVyZXIiLHt3aWR0aDpvLmdldFJlbmRlcldpZHRoKCksaGVpZ2h0Om8uZ2V0UmVuZGVySGVpZ2h0KCl9LHRoaXMuX3NjZW5lLCExLCEwLHQsITEsYSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx1KSx0aGlzLl9kZXB0aE1hcC53cmFwVT1RLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLndyYXBWPVEuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAucmVmcmVzaFJhdGU9MSx0aGlzLl9kZXB0aE1hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fZGVwdGhNYXAucmVuZGVyTGlzdD1udWxsLHRoaXMuX2RlcHRoTWFwLmFjdGl2ZUNhbWVyYT10aGlzLl9jYW1lcmEsdGhpcy5fZGVwdGhNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fZGVwdGhNYXAudXNlQ2FtZXJhUG9zdFByb2Nlc3Nlcz0hMSx0aGlzLl9kZXB0aE1hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24obCl7bC5jbGVhcihzLl9jbGVhckNvbG9yLCEwLCEwLCEwKX0pLHRoaXMuX2RlcHRoTWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dmFyIGw7KGw9by5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8bD09PXZvaWQgMHx8bC5jYWxsKG8sImRlcHRoIHJlbmRlcmVyIiwxKX0pLHRoaXMuX2RlcHRoTWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBsOyhsPW8uX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8bD09PXZvaWQgMHx8bC5jYWxsKG8sMSl9KSx0aGlzLl9kZXB0aE1hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249ZnVuY3Rpb24obCxoKXtpZighbC5pc1JlYWR5KCExKSlyZXR1cm4hMTtpZihoPT09MCYmbC5zdWJNZXNoZXMpZm9yKHZhciBjPTA7YzxsLnN1Yk1lc2hlcy5sZW5ndGg7KytjKXt2YXIgZD1sLnN1Yk1lc2hlc1tjXSxwPWQuZ2V0UmVuZGVyaW5nTWVzaCgpLF89cC5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChkLl9pZCwhIWQuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpLGc9by5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoXy52aXNpYmxlSW5zdGFuY2VzW2QuX2lkXSE9PW51bGwmJl8udmlzaWJsZUluc3RhbmNlc1tkLl9pZF0hPT12b2lkIDB8fHAuaGFzVGhpbkluc3RhbmNlcyk7aWYoIXMuaXNSZWFkeShkLGcpKXJldHVybiExfXJldHVybiEwfTt2YXIgZj1mdW5jdGlvbihsKXt2YXIgaCxjLGQ9bC5nZXRSZW5kZXJpbmdNZXNoKCkscD1sLmdldEVmZmVjdGl2ZU1lc2goKSxfPXMuX3NjZW5lLGc9Xy5nZXRFbmdpbmUoKSxtPWwuZ2V0TWF0ZXJpYWwoKTtpZihwLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhKCFtfHxwLmluZmluaXRlRGlzdGFuY2V8fG0uZGlzYWJsZURlcHRoV3JpdGV8fGwudmVydGljZXNDb3VudD09PTB8fGwuX3JlbmRlcklkPT09Xy5nZXRSZW5kZXJJZCgpKSl7dmFyIHY9cC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDAsUz0oaD1kLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmaCE9PXZvaWQgMD9oOm0uc2lkZU9yaWVudGF0aW9uO3YmJihTPVM9PT0wPzE6MCk7dmFyIE09Uz09PTA7Zy5zZXRTdGF0ZShtLmJhY2tGYWNlQ3VsbGluZywwLCExLE0sbS5jdWxsQmFja0ZhY2VzKTt2YXIgQT1kLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGwuX2lkLCEhbC5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoIUEubXVzdFJldHVybil7dmFyIFI9Zy5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoQS52aXNpYmxlSW5zdGFuY2VzW2wuX2lkXSE9PW51bGwmJkEudmlzaWJsZUluc3RhbmNlc1tsLl9pZF0hPT12b2lkIDB8fGQuaGFzVGhpbkluc3RhbmNlcykseT1zLl9jYW1lcmF8fF8uYWN0aXZlQ2FtZXJhO2lmKHMuaXNSZWFkeShsLFIpJiZ5KXtsLl9yZW5kZXJJZD1fLmdldFJlbmRlcklkKCk7dmFyIEM9KGM9cC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOmNbZy5jdXJyZW50UmVuZGVyUGFzc0lkXSx3PWwuX2dldERyYXdXcmFwcGVyKCk7IXcmJkMmJih3PUMuX2dldERyYXdXcmFwcGVyKCkpO3ZhciBGPXkubW9kZT09PUNlLk9SVEhPR1JBUEhJQ19DQU1FUkE7aWYoIXcpcmV0dXJuO3ZhciBEPXcuZWZmZWN0O2cuZW5hYmxlRWZmZWN0KHcpLFJ8fGQuX2JpbmQobCxELG0uZmlsbE1vZGUpLEM/Qy5iaW5kRm9yU3ViTWVzaChwLmdldFdvcmxkTWF0cml4KCkscCxsKTooRC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIixfLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxELnNldE1hdHJpeCgid29ybGQiLHAuZ2V0V29ybGRNYXRyaXgoKSkpO3ZhciBYPXZvaWQgMCxXPXZvaWQgMDtpZihGPyhYPSFnLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmZy5pc05EQ0hhbGZaUmFuZ2U/MDoxLFc9Zy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJmcuaXNORENIYWxmWlJhbmdlPzA6MSk6KFg9Zy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJmcuaXNORENIYWxmWlJhbmdlP3kubWluWjpnLmlzTkRDSGFsZlpSYW5nZT8wOnkubWluWixXPWcudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZnLmlzTkRDSGFsZlpSYW5nZT8wOnkubWF4WiksRC5zZXRGbG9hdDIoImRlcHRoVmFsdWVzIixYLFgrVyksIUMpe2lmKG0mJm0ubmVlZEFscGhhVGVzdGluZygpKXt2YXIgTj1tLmdldEFscGhhVGVzdFRleHR1cmUoKTtOJiYoRC5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsTiksRC5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLE4uZ2V0VGV4dHVyZU1hdHJpeCgpKSl9aWYoZC51c2VCb25lcyYmZC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmQuc2tlbGV0b24pe3ZhciBqPWQuc2tlbGV0b247aWYoai5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXt2YXIgSz1qLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZCk7aWYoIUspcmV0dXJuO0Quc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLEspLEQuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKGouYm9uZXMubGVuZ3RoKzEpKX1lbHNlIEQuc2V0TWF0cmljZXMoIm1Cb25lcyIsai5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhkKSl9SC5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGQsRCksZC5tb3JwaFRhcmdldE1hbmFnZXImJmQubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmZC5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQoRCl9ZC5fcHJvY2Vzc1JlbmRlcmluZyhwLGwsRCxtLmZpbGxNb2RlLEEsUixmdW5jdGlvbihhZSxxKXtyZXR1cm4gRC5zZXRNYXRyaXgoIndvcmxkIixxKX0pfX19fTt0aGlzLl9kZXB0aE1hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj1mdW5jdGlvbihsLGgsYyxkKXt2YXIgcDtpZihkLmxlbmd0aClmb3IocD0wO3A8ZC5sZW5ndGg7cCsrKWYoZC5kYXRhW3BdKTtmb3IocD0wO3A8bC5sZW5ndGg7cCsrKWYobC5kYXRhW3BdKTtmb3IocD0wO3A8aC5sZW5ndGg7cCsrKWYoaC5kYXRhW3BdKTtpZihzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzKWZvcihwPTA7cDxjLmxlbmd0aDtwKyspZihjLmRhdGFbcF0pO2Vsc2UgZm9yKHA9MDtwPGMubGVuZ3RoO3ArKyljLmRhdGFbcF0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX19cmV0dXJuIGkucHJvdG90eXBlLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGVwdGhNYXAuc2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KX0saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksYT1lLmdldE1lc2goKSxzPShyPWEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW24uY3VycmVudFJlbmRlclBhc3NJZF07aWYocylyZXR1cm4gcy5pc1JlYWR5Rm9yU3ViTWVzaChhLGUsdCk7dmFyIG89ZS5nZXRNYXRlcmlhbCgpO2lmKCFvfHxvLmRpc2FibGVEZXB0aFdyaXRlKXJldHVybiExO3ZhciB1PVtdLGY9W2IuUG9zaXRpb25LaW5kXTtpZihvJiZvLm5lZWRBbHBoYVRlc3RpbmcoKSYmby5nZXRBbHBoYVRlc3RUZXh0dXJlKCkmJih1LnB1c2goIiNkZWZpbmUgQUxQSEFURVNUIiksYS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoYi5VVktpbmQpJiYoZi5wdXNoKGIuVVZLaW5kKSx1LnB1c2goIiNkZWZpbmUgVVYxIikpLGEuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGIuVVYyS2luZCkmJihmLnB1c2goYi5VVjJLaW5kKSx1LnB1c2goIiNkZWZpbmUgVVYyIikpKSxhLnVzZUJvbmVzJiZhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyl7Zi5wdXNoKGIuTWF0cmljZXNJbmRpY2VzS2luZCksZi5wdXNoKGIuTWF0cmljZXNXZWlnaHRzS2luZCksYS5udW1Cb25lSW5mbHVlbmNlcnM+NCYmKGYucHVzaChiLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksZi5wdXNoKGIuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSksdS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrYS5udW1Cb25lSW5mbHVlbmNlcnMpLHUucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisoYS5za2VsZXRvbj9hLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxOjApKTt2YXIgbD1lLmdldFJlbmRlcmluZ01lc2goKS5za2VsZXRvbjsobD09bnVsbD92b2lkIDA6bC5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKSYmdS5wdXNoKCIjZGVmaW5lIEJPTkVURVhUVVJFIil9ZWxzZSB1LnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpO3ZhciBoPWEubW9ycGhUYXJnZXRNYW5hZ2VyLGM9MDtoJiZoLm51bUluZmx1ZW5jZXJzPjAmJihjPWgubnVtSW5mbHVlbmNlcnMsdS5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUUyIpLHUucHVzaCgiI2RlZmluZSBOVU1fTU9SUEhfSU5GTFVFTkNFUlMgIitjKSxoLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmdS5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFIiksSC5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKGYsYSxjKSksdCYmKHUucHVzaCgiI2RlZmluZSBJTlNUQU5DRVMiKSxILlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGYpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJnUucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoJiZ1LnB1c2goIiNkZWZpbmUgTk9OTElORUFSREVQVEgiKSx0aGlzLmlzUGFja2VkJiZ1LnB1c2goIiNkZWZpbmUgUEFDS0VEIik7dmFyIGQ9ZS5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKSxwPWQuZGVmaW5lcyxfPXUuam9pbihgCmApO3JldHVybiBwIT09XyYmZC5zZXRFZmZlY3Qobi5jcmVhdGVFZmZlY3QoImRlcHRoIixmLFsid29ybGQiLCJtQm9uZXMiLCJib25lVGV4dHVyZVdpZHRoIiwidmlld1Byb2plY3Rpb24iLCJkaWZmdXNlTWF0cml4IiwiZGVwdGhWYWx1ZXMiLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdLFsiZGlmZnVzZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiLCJib25lU2FtcGxlciJdLF8sdm9pZCAwLHZvaWQgMCx2b2lkIDAse21heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpjfSksXyksZC5lZmZlY3QuaXNSZWFkeSgpfSxpLnByb3RvdHlwZS5nZXREZXB0aE1hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aE1hcH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlcil7dmFyIHI9dGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF07cj09PXRoaXMmJmUucHVzaCh0KX1pZihlLmxlbmd0aD4wKXt0aGlzLl9kZXB0aE1hcC5kaXNwb3NlKCk7Zm9yKHZhciBuPTAsYT1lO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO2RlbGV0ZSB0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlcltzXX19fSxpLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWZ1bmN0aW9uKGUpe3Rocm93IFUoIkRlcHRoUmVuZGVyZXJTY2VuZUNvbXBvbmVudCIpfSxpfSgpLFNvPSJtaW5tYXhSZWR1eFBpeGVsU2hhZGVyIixNbz1gdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CiNpZiBkZWZpbmVkKElOSVRJQUwpCnVuaWZvcm0gc2FtcGxlcjJEIHNvdXJjZVRleHR1cmU7CnVuaWZvcm0gdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqKHRleFNpemUtMS4wKSk7CmZsb2F0IGYxPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCwwKS5yOwpmbG9hdCBmMj10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMSwwKSwwKS5yOwpmbG9hdCBmMz10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMSwxKSwwKS5yOwpmbG9hdCBmND10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQraXZlYzIoMCwxKSwwKS5yOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLGYyKSxmMyksZjQpOwojaWZkZWYgREVQVEhfUkVEVVgKZmxvYXQgbWF4ej1tYXgobWF4KG1heChzaWduKDEuMC1mMSkqZjEsc2lnbigxLjAtZjIpKmYyKSxzaWduKDEuMC1mMykqZjMpLHNpZ24oMS4wLWY0KSpmNCk7CiNlbHNlCmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEsZjIpLGYzKSxmNCk7CiNlbmRpZgpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChNQUlOKQp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwp2ZWMyIGYxPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQsMCkucmc7CnZlYzIgZjI9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigxLDApLDApLnJnOwp2ZWMyIGYzPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwxKSwwKS5yZzsKdmVjMiBmND10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDAsMSksMCkucmc7CmZsb2F0IG1pbno9bWluKG1pbihtaW4oZjEueCxmMi54KSxmMy54KSxmNC54KTsKZmxvYXQgbWF4ej1tYXgobWF4KG1heChmMS55LGYyLnkpLGYzLnkpLGY0LnkpOwpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChPTkVCRUZPUkVMQVNUKQp1bmlmb3JtIGl2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVip2ZWMyKHRleFNpemUtMSkpOwp2ZWMyIGYxPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDEsMCkpICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDEpKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMCwxKSkgJSB0ZXhTaXplLDApLnJnOwpmbG9hdCBtaW56PW1pbihmMS54LGYyLngpOwpmbG9hdCBtYXh6PW1heChmMS55LGYyLnkpOwpnbEZyYWdDb2xvcj12ZWM0KG1pbnosbWF4eiwwLiwwLik7Cn0KI2VsaWYgZGVmaW5lZChMQVNUKQp2b2lkIG1haW4odm9pZCkKewpnbEZyYWdDb2xvcj12ZWM0KDAuKTsKaWYgKHRydWUpIHsKZGlzY2FyZDsKfQp9CiNlbmRpZgpgO0wuU2hhZGVyc1N0b3JlW1NvXT1Nbzt2YXIgQW89ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXM7dGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkPW5ldyBPLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuX2FjdGl2YXRlZD0hMSx0aGlzLl9jYW1lcmE9ZSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IE1yKGUuZ2V0U2NlbmUoKSksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1lLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt0Ll9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNvdXJjZVRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRTb3VyY2VUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXM7aWYocj09PXZvaWQgMCYmKHI9Miksbj09PXZvaWQgMCYmKG49ITApLGUhPT10aGlzLl9zb3VyY2VUZXh0dXJlKXt0aGlzLmRpc3Bvc2UoITEpLHRoaXMuX3NvdXJjZVRleHR1cmU9ZSx0aGlzLl9yZWR1Y3Rpb25TdGVwcz1bXSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1uO3ZhciBzPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLG89bmV3IGFyKCJJbml0aWFsIHJlZHVjdGlvbiBwaGFzZSIsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxbInNvdXJjZVRleHR1cmUiXSwxLG51bGwsMSxzLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lIElOSVRJQUwiKyh0P2AKI2RlZmluZSBERVBUSF9SRURVWGA6IiIpLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7by5hdXRvQ2xlYXI9ITEsby5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1uO3ZhciB1PXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVyV2lkdGgoKSxmPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVySGVpZ2h0KCk7by5vbkFwcGx5PWZ1bmN0aW9uKGQscCl7cmV0dXJuIGZ1bmN0aW9uKF8pe18uc2V0VGV4dHVyZSgic291cmNlVGV4dHVyZSIsYS5fc291cmNlVGV4dHVyZSksXy5zZXRGbG9hdDIoInRleFNpemUiLGQscCl9fSh1LGYpLHRoaXMuX3JlZHVjdGlvblN0ZXBzLnB1c2gobyk7Zm9yKHZhciBsPTE7dT4xfHxmPjE7KXt1PU1hdGgubWF4KE1hdGgucm91bmQodS8yKSwxKSxmPU1hdGgubWF4KE1hdGgucm91bmQoZi8yKSwxKTt2YXIgaD1uZXcgYXIoIlJlZHVjdGlvbiBwaGFzZSAiK2wsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxudWxsLHt3aWR0aDp1LGhlaWdodDpmfSxudWxsLDEscy5nZXRFbmdpbmUoKSwhMSwiI2RlZmluZSAiKyh1PT0xJiZmPT0xPyJMQVNUIjp1PT0xfHxmPT0xPyJPTkVCRUZPUkVMQVNUIjoiTUFJTiIpLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7aWYoaC5hdXRvQ2xlYXI9ITEsaC5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1uLGgub25BcHBseT1mdW5jdGlvbihkLHApe3JldHVybiBmdW5jdGlvbihfKXtkPT0xfHxwPT0xP18uc2V0SW50MigidGV4U2l6ZSIsZCxwKTpfLnNldEZsb2F0MigidGV4U2l6ZSIsZCxwKX19KHUsZiksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChoKSxsKyssdT09MSYmZj09MSl7dmFyIGM9ZnVuY3Rpb24oZCxwLF8pe3ZhciBnPW5ldyBGbG9hdDMyQXJyYXkoNCpkKnApLG09e21pbjowLG1heDowfTtyZXR1cm4gZnVuY3Rpb24oKXtzLmdldEVuZ2luZSgpLl9yZWFkVGV4dHVyZVBpeGVscyhfLmlucHV0VGV4dHVyZS50ZXh0dXJlLGQscCwtMSwwLGcsITEpLG0ubWluPWdbMF0sbS5tYXg9Z1sxXSxhLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQubm90aWZ5T2JzZXJ2ZXJzKG0pfX07aC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoYyh1LGYsaCkpfX19fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInJlZnJlc2hSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVRleHR1cmU/dGhpcy5fc291cmNlVGV4dHVyZS5yZWZyZXNoUmF0ZTotMX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NvdXJjZVRleHR1cmUmJih0aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlPWUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWN0aXZhdGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyfHwhdGhpcy5fc291cmNlVGV4dHVyZXx8KHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLl9zb3VyY2VUZXh0dXJlLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciB0LHIsbj1lLl9jYW1lcmEuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTsodD1uLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwobiwibWluIG1heCByZWR1Y3Rpb24iLDEpLGUuX3JlZHVjdGlvblN0ZXBzWzBdLmFjdGl2YXRlKGUuX2NhbWVyYSksZS5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihlLl9yZWR1Y3Rpb25TdGVwcyxlLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsZS5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpLG4udW5CaW5kRnJhbWVidWZmZXIoZS5fcmVkdWN0aW9uU3RlcHNbMF0uaW5wdXRUZXh0dXJlLCExKSwocj1uLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbChuLDEpfSksdGhpcy5fYWN0aXZhdGVkPSEwKX0saS5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbigpeyF0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fc291cmNlVGV4dHVyZS5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyKSx0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXI9bnVsbCx0aGlzLl9hY3RpdmF0ZWQ9ITEpfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPSEwKSxlJiYodGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLmNsZWFyKCksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuX2NhbWVyYS5nZXRFbmdpbmUoKS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9bnVsbCkpLHRoaXMuZGVhY3RpdmF0ZSgpLHRoaXMuX3JlZHVjdGlvblN0ZXBzKXtmb3IodmFyIHQ9MDt0PHRoaXMuX3JlZHVjdGlvblN0ZXBzLmxlbmd0aDsrK3QpdGhpcy5fcmVkdWN0aW9uU3RlcHNbdF0uZGlzcG9zZSgpO3RoaXMuX3JlZHVjdGlvblN0ZXBzPW51bGx9dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZlJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3NvdXJjZVRleHR1cmU9bnVsbH0saX0oKSxSbz1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGVwdGhSZW5kZXJlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aFJlbmRlcmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldERlcHRoUmVuZGVyZXI9ZnVuY3Rpb24odCxyLG4pe3Q9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPTIpLG49PT12b2lkIDAmJihuPSEwKTt2YXIgYT10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKTt0aGlzLl9kZXB0aFJlbmRlcmVyJiYoZGVsZXRlIGEuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGwpLHQ9PT1udWxsJiYoYS5fZGVwdGhSZW5kZXJlcnx8KGEuX2RlcHRoUmVuZGVyZXI9e30pLHQ9dGhpcy5fZGVwdGhSZW5kZXJlcj1uZXcgVG8oYSxyLHRoaXMuX2NhbWVyYSwhMSwxKSx0LmVuYWJsZWQ9ITEsdGhpcy5fZGVwdGhSZW5kZXJlcklkPSJtaW5tYXgiK3RoaXMuX2NhbWVyYS5pZCxhLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF09dCksaS5wcm90b3R5cGUuc2V0U291cmNlVGV4dHVyZS5jYWxsKHRoaXMsdC5nZXREZXB0aE1hcCgpLCEwLHIsbil9LGUucHJvdG90eXBlLnNldFNvdXJjZVRleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSl7bj09PXZvaWQgMCYmKG49MiksYT09PXZvaWQgMCYmKGE9ITApLGkucHJvdG90eXBlLnNldFNvdXJjZVRleHR1cmUuY2FsbCh0aGlzLHQscixuLGEpfSxlLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMuX2RlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlbmRlcmVyLmVuYWJsZWQ9ITApLGkucHJvdG90eXBlLmFjdGl2YXRlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5kZWFjdGl2YXRlLmNhbGwodGhpcyksdGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQpLHRoaXMuX2RlcHRoUmVuZGVyZXImJnQpe3ZhciByPXRoaXMuX2RlcHRoUmVuZGVyZXIuZ2V0RGVwdGhNYXAoKS5nZXRTY2VuZSgpO3ImJmRlbGV0ZSByLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF0sdGhpcy5fZGVwdGhSZW5kZXJlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZW5kZXJlcj1udWxsfX0sZX0oQW8pLGxuPUUuVXAoKSxQbz1FLlplcm8oKSxoZT1uZXcgRSxHdD1uZXcgRSxDcj1uZXcgSSxobj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9dGhpcztpZighZS5Jc1N1cHBvcnRlZCl7ei5FcnJvcigiQ2FzY2FkZWRTaGFkb3dNYXAgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBlbmdpbmUuIik7cmV0dXJufXJldHVybiBhPWkuY2FsbCh0aGlzLHQscixuKXx8dGhpcyxhLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITAsYX1yZXR1cm4gZS5wcm90b3R5cGUuX3ZhbGlkYXRlRmlsdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09VmUuRklMVEVSX05PTkV8fHQ9PT1WZS5GSUxURVJfUENGfHx0PT09VmUuRklMVEVSX1BDU1M/dDooY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgZmlsdGVyICInK3QrJyIhJyksVmUuRklMVEVSX05PTkUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm51bUNhc2NhZGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bUNhc2NhZGVzfSxzZXQ6ZnVuY3Rpb24odCl7dD1NYXRoLm1pbihNYXRoLm1heCh0LGUuTUlOX0NBU0NBREVTX0NPVU5UKSxlLk1BWF9DQVNDQURFU19DT1VOVCksdCE9PXRoaXMuX251bUNhc2NhZGVzJiYodGhpcy5fbnVtQ2FzY2FkZXM9dCx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCksdGhpcy5fcmVjcmVhdGVTY2VuZVVCT3MoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmdCYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPW51bGwpLCF0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmIXQmJih0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT10aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHRoaXMuX2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLmJpbmQodGhpcykpKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXQsdCYmdGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtpZih0aGlzLl9zY2JpTWluLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9zY2JpTWF4LmNvcHlGcm9tRmxvYXRzKE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFKSx0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0KXtmb3IodmFyIHQ9dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Qscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO2lmKCEhbil7dmFyIGE9bi5nZXRCb3VuZGluZ0luZm8oKSxzPWEuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uocy5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKHMubWF4aW11bVdvcmxkKX19Zm9yKHZhciBvPXRoaXMuX3NjZW5lLm1lc2hlcyxyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBuPW9bcl07aWYoISghbnx8IW4uaXNWaXNpYmxlfHwhbi5pc0VuYWJsZWR8fCFuLnJlY2VpdmVTaGFkb3dzKSl7dmFyIGE9bi5nZXRCb3VuZGluZ0luZm8oKSxzPWEuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uocy5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKHMubWF4aW11bVdvcmxkKX19fXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QodGhpcy5fc2NiaU1pbix0aGlzLl9zY2JpTWF4KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0TWluTWF4RGlzdGFuY2U9ZnVuY3Rpb24odCxyKXt0aGlzLl9taW5EaXN0YW5jZT09PXQmJnRoaXMuX21heERpc3RhbmNlPT09cnx8KHQ+ciYmKHQ9MCxyPTEpLHQ8MCYmKHQ9MCkscj4xJiYocj0xKSx0aGlzLl9taW5EaXN0YW5jZT10LHRoaXMuX21heERpc3RhbmNlPXIsdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1pbkRpc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbkRpc3RhbmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibWF4RGlzdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4RGlzdGFuY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGUuQ0xBU1NOQU1FfSxlLnByb3RvdHlwZS5nZXRDYXNjYWRlTWluRXh0ZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWluRXh0ZW50c1t0XTpudWxsfSxlLnByb3RvdHlwZS5nZXRDYXNjYWRlTWF4RXh0ZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XTpudWxsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd01heFoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE/MDp0aGlzLl9zaGFkb3dNYXhafSxzZXQ6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhKXt0aGlzLl9zaGFkb3dNYXhaPXQ7cmV0dXJufXRoaXMuX3NoYWRvd01heFo9PT10fHx0PHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5taW5afHx0PnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5tYXhafHwodGhpcy5fc2hhZG93TWF4Wj10LHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGVidWciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVidWd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZWJ1Zz10LHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZXB0aENsYW1wIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ2xhbXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZXB0aENsYW1wPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYXNjYWRlQmxlbmRQZXJjZW50YWdlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXQsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxhbWJkYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYW1iZGF9LHNldDpmdW5jdGlvbih0KXt2YXIgcj1NYXRoLm1pbihNYXRoLm1heCh0LDApLDEpO3RoaXMuX2xhbWJkYSE9ciYmKHRoaXMuX2xhbWJkYT1yLHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDYXNjYWRlVmlld01hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl92aWV3TWF0cmljZXNbdF06bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FzY2FkZVByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTAmJnQ8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3RdOm51bGx9LGUucHJvdG90eXBlLmdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTAmJnQ8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbdF06bnVsbH0sZS5wcm90b3R5cGUuc2V0RGVwdGhSZW5kZXJlcj1mdW5jdGlvbih0KXt0aGlzLl9kZXB0aFJlbmRlcmVyPXQsdGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhdXRvQ2FsY0RlcHRoQm91bmRzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHN9LHNldDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhbil7aWYodGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz10LCF0KXt0aGlzLl9kZXB0aFJlZHVjZXImJnRoaXMuX2RlcHRoUmVkdWNlci5kZWFjdGl2YXRlKCksdGhpcy5zZXRNaW5NYXhEaXN0YW5jZSgwLDEpO3JldHVybn10aGlzLl9kZXB0aFJlZHVjZXJ8fCh0aGlzLl9kZXB0aFJlZHVjZXI9bmV3IFJvKG4pLHRoaXMuX2RlcHRoUmVkdWNlci5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLmFkZChmdW5jdGlvbihhKXt2YXIgcz1hLm1pbixvPWEubWF4O3M+PW8mJihzPTAsbz0xKSwocyE9ci5fbWluRGlzdGFuY2V8fG8hPXIuX21heERpc3RhbmNlKSYmci5zZXRNaW5NYXhEaXN0YW5jZShzLG8pfSksdGhpcy5fZGVwdGhSZWR1Y2VyLnNldERlcHRoUmVuZGVyZXIodGhpcy5fZGVwdGhSZW5kZXJlcikpLHRoaXMuX2RlcHRoUmVkdWNlci5hY3RpdmF0ZSgpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImF1dG9DYWxjRGVwdGhCb3VuZHNSZWZyZXNoUmF0ZSIse2dldDpmdW5jdGlvbigpe3ZhciB0LHIsbjtyZXR1cm4obj0ocj0odD10aGlzLl9kZXB0aFJlZHVjZXIpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5kZXB0aFJlbmRlcmVyKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuZ2V0RGVwdGhNYXAoKS5yZWZyZXNoUmF0ZSkhPT1udWxsJiZuIT09dm9pZCAwP246LTF9LHNldDpmdW5jdGlvbih0KXt2YXIgcjsoKHI9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuZGVwdGhSZW5kZXJlcikmJih0aGlzLl9kZXB0aFJlZHVjZXIuZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNwbGl0RnJ1c3R1bT1mdW5jdGlvbigpe3RoaXMuX2JyZWFrc0FyZURpcnR5PSEwfSxlLnByb3RvdHlwZS5fc3BsaXRGcnVzdHVtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhdCl7Zm9yKHZhciByPXQubWluWixuPXQubWF4WixhPW4tcixzPXRoaXMuX21pbkRpc3RhbmNlLG89dGhpcy5fc2hhZG93TWF4WjxuJiZ0aGlzLl9zaGFkb3dNYXhaPj1yP01hdGgubWluKCh0aGlzLl9zaGFkb3dNYXhaLXIpLyhuLXIpLHRoaXMuX21heERpc3RhbmNlKTp0aGlzLl9tYXhEaXN0YW5jZSx1PXIrcyphLGY9citvKmEsbD1mLXUsaD1mL3UsYz0wO2M8dGhpcy5fY2FzY2FkZXMubGVuZ3RoOysrYyl7dmFyIGQ9KGMrMSkvdGhpcy5fbnVtQ2FzY2FkZXMscD11Kk1hdGgucG93KGgsZCksXz11K2wqZCxnPXRoaXMuX2xhbWJkYSoocC1fKStfO3RoaXMuX2Nhc2NhZGVzW2NdLnByZXZCcmVha0Rpc3RhbmNlPWM9PT0wP3M6dGhpcy5fY2FzY2FkZXNbYy0xXS5icmVha0Rpc3RhbmNlLHRoaXMuX2Nhc2NhZGVzW2NdLmJyZWFrRGlzdGFuY2U9KGctcikvYSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1pbY109Zyx0aGlzLl9mcnVzdHVtTGVuZ3Roc1tjXT0odGhpcy5fY2FzY2FkZXNbY10uYnJlYWtEaXN0YW5jZS10aGlzLl9jYXNjYWRlc1tjXS5wcmV2QnJlYWtEaXN0YW5jZSkqYX10aGlzLl9icmVha3NBcmVEaXJ0eT0hMX19LGUucHJvdG90eXBlLl9jb21wdXRlTWF0cmljZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zY2VuZSxyPXQuYWN0aXZlQ2FtZXJhO2lmKCEhcil7RS5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24oMCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKEUuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLEUuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbik7Zm9yKHZhciBuPXQuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyLGE9MDthPHRoaXMuX251bUNhc2NhZGVzOysrYSl7dGhpcy5fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UoYSksdGhpcy5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGEpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLnN1YnRyYWN0VG9SZWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0saGUpLHRoaXMuX2ZydXN0dW1DZW50ZXJbYV0uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24uc2NhbGUodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0ueiksdGhpcy5fc2hhZG93Q2FtZXJhUG9zW2FdKSxJLkxvb2tBdExIVG9SZWYodGhpcy5fc2hhZG93Q2FtZXJhUG9zW2FdLHRoaXMuX2ZydXN0dW1DZW50ZXJbYV0sbG4sdGhpcy5fdmlld01hdHJpY2VzW2FdKTt2YXIgcz0wLG89aGUueix1PXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm87dS51cGRhdGUodGhpcy5fdmlld01hdHJpY2VzW2FdKSxvPU1hdGgubWluKG8sdS5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQueiksIXRoaXMuX2RlcHRoQ2xhbXB8fHRoaXMuZmlsdGVyPT09VmUuRklMVEVSX1BDU1M/cz1NYXRoLm1pbihzLHUuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopOnM9TWF0aC5tYXgocyx1LmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC56KSxJLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1thXS54LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLngsdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0ueSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1thXS55LG4/bzpzLG4/czpvLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSx0LmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0uej1zLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLno9byx0aGlzLl92aWV3TWF0cmljZXNbYV0ubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbYV0pLEUuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihQbyx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXSxoZSksaGUuc2NhbGVJblBsYWNlKHRoaXMuX21hcFNpemUvMiksR3QuY29weUZyb21GbG9hdHMoTWF0aC5yb3VuZChoZS54KSxNYXRoLnJvdW5kKGhlLnkpLE1hdGgucm91bmQoaGUueikpLEd0LnN1YnRyYWN0SW5QbGFjZShoZSkuc2NhbGVJblBsYWNlKDIvdGhpcy5fbWFwU2l6ZSksSS5UcmFuc2xhdGlvblRvUmVmKEd0LngsR3QueSwwLENyKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0ubXVsdGlwbHlUb1JlZihDcix0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0pLHRoaXMuX3ZpZXdNYXRyaWNlc1thXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXSksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbYV0uY29weVRvQXJyYXkodGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5LGEqMTYpfX19LGUucHJvdG90eXBlLl9jb21wdXRlRnJ1c3R1bUluV29ybGRTcGFjZT1mdW5jdGlvbih0KXtpZighIXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSl7dmFyIHI9dGhpcy5fY2FzY2FkZXNbdF0ucHJldkJyZWFrRGlzdGFuY2Usbj10aGlzLl9jYXNjYWRlc1t0XS5icmVha0Rpc3RhbmNlLGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlO3RoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCk7Zm9yKHZhciBzPUkuSW52ZXJ0KHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpKSxvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj80OjAsdT0wO3U8ZS5mcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK3UpaGUuY29weUZyb20oZS5mcnVzdHVtQ29ybmVyc05EQ1NwYWNlWyh1K28pJWUuZnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGhdKSxhJiZoZS56PT09LTEmJihoZS56PTApLEUuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihoZSxzLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSk7Zm9yKHZhciB1PTA7dTxlLmZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoLzI7Kyt1KWhlLmNvcHlGcm9tKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1KzRdKS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdW3VdKSxHdC5jb3B5RnJvbShoZSkuc2NhbGVJblBsYWNlKHIpLGhlLnNjYWxlSW5QbGFjZShuKSxoZS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdW3UrNF0uY29weUZyb20oaGUpLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XS5hZGRJblBsYWNlKEd0KX19LGUucHJvdG90eXBlLl9jb21wdXRlQ2FzY2FkZUZydXN0dW09ZnVuY3Rpb24odCl7dGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF0uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3RdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFKSx0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLmNvcHlGcm9tRmxvYXRzKDAsMCwwKTt2YXIgcj10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7aWYoISFyKXtmb3IodmFyIG49MDtuPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XS5sZW5ndGg7KytuKXRoaXMuX2ZydXN0dW1DZW50ZXJbdF0uYWRkSW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bbl0pO2lmKHRoaXMuX2ZydXN0dW1DZW50ZXJbdF0uc2NhbGVJblBsYWNlKDEvdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdLmxlbmd0aCksdGhpcy5zdGFiaWxpemVDYXNjYWRlcyl7Zm9yKHZhciBhPTAsbj0wO248dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdLmxlbmd0aDsrK24pe3ZhciBzPXRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVtuXS5zdWJ0cmFjdFRvUmVmKHRoaXMuX2ZydXN0dW1DZW50ZXJbdF0saGUpLmxlbmd0aCgpO2E9TWF0aC5tYXgoYSxzKX1hPU1hdGguY2VpbChhKjE2KS8xNix0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XS5jb3B5RnJvbUZsb2F0cyhhLGEsYSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF0uY29weUZyb21GbG9hdHMoLWEsLWEsLWEpfWVsc2V7dmFyIG89dGhpcy5fZnJ1c3R1bUNlbnRlclt0XTt0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLGhlKSxJLkxvb2tBdExIVG9SZWYobyxoZSxsbixDcik7Zm9yKHZhciBuPTA7bjx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF0ubGVuZ3RoOysrbilFLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdW25dLENyLGhlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1t0XS5taW5pbWl6ZUluUGxhY2UoaGUpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3RdLm1heGltaXplSW5QbGFjZShoZSl9fX0sZS5wcm90b3R5cGUuX3JlY3JlYXRlU2NlbmVVQk9zPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGlzcG9zZVNjZW5lVUJPcygpLHRoaXMuX3NjZW5lVUJPcylmb3IodmFyIHQ9MDt0PHRoaXMuX251bUNhc2NhZGVzOysrdCl0aGlzLl9zY2VuZVVCT3MucHVzaCh0aGlzLl9zY2VuZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoJ1NjZW5lIGZvciBDU00gU2hhZG93IEdlbmVyYXRvciAobGlnaHQgIicuY29uY2F0KHRoaXMuX2xpZ2h0Lm5hbWUsJyIgY2FzY2FkZSAjJykuY29uY2F0KHQsIikiKSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiSXNTdXBwb3J0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1KLkxhc3RDcmVhdGVkRW5naW5lO3JldHVybiB0P3QuX2ZlYXR1cmVzLnN1cHBvcnRDU006ITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2luaXRpYWxpemVHZW5lcmF0b3I9ZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxfLGcsbSx2LFMsTSxBO3RoaXMucGVudW1icmFEYXJrbmVzcz0odD10aGlzLnBlbnVtYnJhRGFya25lc3MpIT09bnVsbCYmdCE9PXZvaWQgMD90OjEsdGhpcy5fbnVtQ2FzY2FkZXM9KHI9dGhpcy5fbnVtQ2FzY2FkZXMpIT09bnVsbCYmciE9PXZvaWQgMD9yOmUuREVGQVVMVF9DQVNDQURFU19DT1VOVCx0aGlzLnN0YWJpbGl6ZUNhc2NhZGVzPShuPXRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpIT09bnVsbCYmbiE9PXZvaWQgMD9uOiExLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPShhPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSE9PW51bGwmJmEhPT12b2lkIDA/YTpudWxsLHRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0ocz10aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT09bnVsbCYmcyE9PXZvaWQgMD9zOiExLHRoaXMuX3NjYmlNaW49KG89dGhpcy5fc2NiaU1pbikhPT1udWxsJiZvIT09dm9pZCAwP286bmV3IEUoMCwwLDApLHRoaXMuX3NjYmlNYXg9KHU9dGhpcy5fc2NiaU1heCkhPT1udWxsJiZ1IT09dm9pZCAwP3U6bmV3IEUoMCwwLDApLHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KGY9dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZmIT09dm9pZCAwP2Y6bmV3IHZ0KG5ldyBFKDAsMCwwKSxuZXcgRSgwLDAsMCkpLHRoaXMuX2JyZWFrc0FyZURpcnR5PShsPXRoaXMuX2JyZWFrc0FyZURpcnR5KSE9PW51bGwmJmwhPT12b2lkIDA/bDohMCx0aGlzLl9taW5EaXN0YW5jZT0oaD10aGlzLl9taW5EaXN0YW5jZSkhPT1udWxsJiZoIT09dm9pZCAwP2g6MCx0aGlzLl9tYXhEaXN0YW5jZT0oYz10aGlzLl9tYXhEaXN0YW5jZSkhPT1udWxsJiZjIT09dm9pZCAwP2M6MSx0aGlzLl9jdXJyZW50TGF5ZXI9KGQ9dGhpcy5fY3VycmVudExheWVyKSE9PW51bGwmJmQhPT12b2lkIDA/ZDowLHRoaXMuX3NoYWRvd01heFo9KGc9KHA9dGhpcy5fc2hhZG93TWF4WikhPT1udWxsJiZwIT09dm9pZCAwP3A6KF89dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhKT09PW51bGx8fF89PT12b2lkIDA/dm9pZCAwOl8ubWF4WikhPT1udWxsJiZnIT09dm9pZCAwP2c6MWU0LHRoaXMuX2RlYnVnPShtPXRoaXMuX2RlYnVnKSE9PW51bGwmJm0hPT12b2lkIDA/bTohMSx0aGlzLl9kZXB0aENsYW1wPSh2PXRoaXMuX2RlcHRoQ2xhbXApIT09bnVsbCYmdiE9PXZvaWQgMD92OiEwLHRoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9KFM9dGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZSkhPT1udWxsJiZTIT09dm9pZCAwP1M6LjEsdGhpcy5fbGFtYmRhPShNPXRoaXMuX2xhbWJkYSkhPT1udWxsJiZNIT09dm9pZCAwP006LjUsdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz0oQT10aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzKSE9PW51bGwmJkEhPT12b2lkIDA/QTohMSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpLGkucHJvdG90eXBlLl9pbml0aWFsaXplR2VuZXJhdG9yLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj17d2lkdGg6dGhpcy5fbWFwU2l6ZSxoZWlnaHQ6dGhpcy5fbWFwU2l6ZSxsYXllcnM6dGhpcy5udW1DYXNjYWRlc307dGhpcy5fc2hhZG93TWFwPW5ldyB6dCh0aGlzLl9saWdodC5uYW1lKyJfQ1NNU2hhZG93TWFwIixyLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLCExLHZvaWQgMCwhMSwhMSx2b2lkIDApLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHQudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApfSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZVNoYWRvd01hcD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoaS5wcm90b3R5cGUuX2luaXRpYWxpemVTaGFkb3dNYXAuY2FsbCh0aGlzKSx0aGlzLl9zaGFkb3dNYXAhPT1udWxsKXt0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXk9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9udW1DYXNjYWRlcyoxNiksdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fZnJ1c3R1bUxlbmd0aHM9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb249bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKjIpLHRoaXMuX2RlcHRoQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX3ZpZXdNYXRyaWNlcz1bXSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXM9W10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXM9W10sdGhpcy5fY2FzY2FkZU1pbkV4dGVudHM9W10sdGhpcy5fY2FzY2FkZU1heEV4dGVudHM9W10sdGhpcy5fZnJ1c3R1bUNlbnRlcj1bXSx0aGlzLl9zaGFkb3dDYW1lcmFQb3M9W10sdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlPVtdO2Zvcih2YXIgcj0wO3I8dGhpcy5fbnVtQ2FzY2FkZXM7KytyKXt0aGlzLl9jYXNjYWRlc1tyXT17cHJldkJyZWFrRGlzdGFuY2U6MCxicmVha0Rpc3RhbmNlOjB9LHRoaXMuX3ZpZXdNYXRyaWNlc1tyXT1JLlplcm8oKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbcl09SS5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbcl09SS5aZXJvKCksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbcl09bmV3IEUsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbcl09bmV3IEUsdGhpcy5fZnJ1c3R1bUNlbnRlcltyXT1uZXcgRSx0aGlzLl9zaGFkb3dDYW1lcmFQb3Nbcl09bmV3IEUsdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3JdPW5ldyBBcnJheShlLmZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoKTtmb3IodmFyIG49MDtuPGUuZnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGg7KytuKXRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtyXVtuXT1uZXcgRX12YXIgYT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihzKXt0Ll9zY2VuZVVCT3MmJnQuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0Ll9zY2VuZVVCT3Nbc10pLHQuX2N1cnJlbnRMYXllcj1zLHQuX2ZpbHRlcj09PVZlLkZJTFRFUl9QQ0YmJmEuc2V0Q29sb3JXcml0ZSghMSksdC5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KHQuZ2V0Q2FzY2FkZVZpZXdNYXRyaXgocyksdC5nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeChzKSksdC5fdXNlVUJPJiYodC5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksdC5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBzO3QuX2N1cnJlbnRTY2VuZVVCTz10Ll9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSwocz1hLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwoYSwiY2FzY2FkZWQgc2hhZG93IG1hcCBnZW5lcmF0aW9uIGZvciBwYXNzIGlkICIuY29uY2F0KGEuY3VycmVudFJlbmRlclBhc3NJZCksMSksdC5fYnJlYWtzQXJlRGlydHkmJnQuX3NwbGl0RnJ1c3R1bSgpLHQuX2NvbXB1dGVNYXRyaWNlcygpfSksdGhpcy5fc3BsaXRGcnVzdHVtKCl9fSxlLnByb3RvdHlwZS5fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXA9ZnVuY3Rpb24odCxyLG4pe3Iuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KHRoaXMuX2N1cnJlbnRMYXllcikpfSxlLnByb3RvdHlwZS5faXNSZWFkeUN1c3RvbURlZmluZXM9ZnVuY3Rpb24odCxyLG4pe3QucHVzaCgiI2RlZmluZSBTTV9ERVBUSENMQU1QICIrKHRoaXMuX2RlcHRoQ2xhbXAmJnRoaXMuX2ZpbHRlciE9PVZlLkZJTFRFUl9QQ1NTPyIxIjoiMCIpKX0sZS5wcm90b3R5cGUucHJlcGFyZURlZmluZXM9ZnVuY3Rpb24odCxyKXtpLnByb3RvdHlwZS5wcmVwYXJlRGVmaW5lcy5jYWxsKHRoaXMsdCxyKTt2YXIgbj10aGlzLl9zY2VuZSxhPXRoaXMuX2xpZ2h0O2lmKCEoIW4uc2hhZG93c0VuYWJsZWR8fCFhLnNoYWRvd0VuYWJsZWQpKXt0WyJTSEFET1dDU00iK3JdPSEwLHRbIlNIQURPV0NTTURFQlVHIityXT10aGlzLmRlYnVnLHRbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrcl09dGhpcy5udW1DYXNjYWRlcyx0WyJTSEFET1dDU01fUklHSFRIQU5ERUQiK3JdPW4udXNlUmlnaHRIYW5kZWRTeXN0ZW07dmFyIHM9bi5hY3RpdmVDYW1lcmE7cyYmdGhpcy5fc2hhZG93TWF4WjxzLm1heFomJih0WyJTSEFET1dDU01VU0VTSEFET1dNQVhaIityXT0hMCksdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPT09MCYmKHRbIlNIQURPV0NTTU5PQkxFTkQiK3JdPSEwKX19LGUucHJvdG90eXBlLmJpbmRTaGFkb3dMaWdodD1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuX2xpZ2h0LGE9dGhpcy5fc2NlbmU7aWYoISghYS5zaGFkb3dzRW5hYmxlZHx8IW4uc2hhZG93RW5hYmxlZCkpe3ZhciBzPWEuYWN0aXZlQ2FtZXJhO2lmKCEhcyl7dmFyIG89dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighIW8pe3ZhciB1PW8uZ2V0U2l6ZSgpLndpZHRoO2lmKHIuc2V0TWF0cmljZXMoImxpZ2h0TWF0cml4Iit0LHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzQXNBcnJheSksci5zZXRBcnJheSgidmlld0ZydXN0dW1aIit0LHRoaXMuX3ZpZXdTcGFjZUZydXN0dW1zWiksci5zZXRGbG9hdCgiY2FzY2FkZUJsZW5kRmFjdG9yIit0LHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTA/MWU0OjEvdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSxyLnNldEFycmF5KCJmcnVzdHVtTGVuZ3RocyIrdCx0aGlzLl9mcnVzdHVtTGVuZ3RocyksdGhpcy5fZmlsdGVyPT09VmUuRklMVEVSX1BDRilyLnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK3Qsbyksbi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdSwxL3UsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdCk7ZWxzZSBpZih0aGlzLl9maWx0ZXI9PT1WZS5GSUxURVJfUENTUyl7Zm9yKHZhciBmPTA7Zjx0aGlzLl9udW1DYXNjYWRlczsrK2YpdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uW2YqMiswXT1mPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS54LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLngpLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tmXS54LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2ZdLngpLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbltmKjIrMV09Zj09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0ueS10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS55KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZl0ueS10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tmXS55KSx0aGlzLl9kZXB0aENvcnJlY3Rpb25bZl09Zj09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZl0uei10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tmXS56KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0uei10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS56KTtyLnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK3Qsbyksci5zZXRUZXh0dXJlKCJkZXB0aFNhbXBsZXIiK3Qsbyksci5zZXRBcnJheTIoImxpZ2h0U2l6ZVVWQ29ycmVjdGlvbiIrdCx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb24pLHIuc2V0QXJyYXkoImRlcHRoQ29ycmVjdGlvbiIrdCx0aGlzLl9kZXB0aENvcnJlY3Rpb24pLHIuc2V0RmxvYXQoInBlbnVtYnJhRGFya25lc3MiK3QsdGhpcy5wZW51bWJyYURhcmtuZXNzKSxuLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSwxL3UsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8qdSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZix0KX1lbHNlIHIuc2V0VGV4dHVyZSgic2hhZG93U2FtcGxlciIrdCxvKSxuLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSx1LDEvdSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZix0KTtuLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0MigiZGVwdGhWYWx1ZXMiLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloocyksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihzKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKHMpLHQpfX19fSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KDApfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksdGhpcy5fZGVwdGhSZWR1Y2VyJiYodGhpcy5fZGVwdGhSZWR1Y2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlZHVjZXI9bnVsbCl9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PWkucHJvdG90eXBlLnNlcmlhbGl6ZS5jYWxsKHRoaXMpLHI9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighcilyZXR1cm4gdDtpZih0Lm51bUNhc2NhZGVzPXRoaXMuX251bUNhc2NhZGVzLHQuZGVidWc9dGhpcy5fZGVidWcsdC5zdGFiaWxpemVDYXNjYWRlcz10aGlzLnN0YWJpbGl6ZUNhc2NhZGVzLHQubGFtYmRhPXRoaXMuX2xhbWJkYSx0LmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9dGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlLHQuZGVwdGhDbGFtcD10aGlzLl9kZXB0aENsYW1wLHQuYXV0b0NhbGNEZXB0aEJvdW5kcz10aGlzLmF1dG9DYWxjRGVwdGhCb3VuZHMsdC5zaGFkb3dNYXhaPXRoaXMuX3NoYWRvd01heFosdC5wZW51bWJyYURhcmtuZXNzPXRoaXMucGVudW1icmFEYXJrbmVzcyx0LmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyx0Lm1pbkRpc3RhbmNlPXRoaXMubWluRGlzdGFuY2UsdC5tYXhEaXN0YW5jZT10aGlzLm1heERpc3RhbmNlLHQucmVuZGVyTGlzdD1bXSxyLnJlbmRlckxpc3QpZm9yKHZhciBuPTA7bjxyLnJlbmRlckxpc3QubGVuZ3RoO24rKyl7dmFyIGE9ci5yZW5kZXJMaXN0W25dO3QucmVuZGVyTGlzdC5wdXNoKGEuaWQpfXJldHVybiB0fSxlLlBhcnNlPWZ1bmN0aW9uKHQscil7dmFyIG49VmUuUGFyc2UodCxyLGZ1bmN0aW9uKGEscyl7cmV0dXJuIG5ldyBlKGEscyl9KTtyZXR1cm4gdC5udW1DYXNjYWRlcyE9PXZvaWQgMCYmKG4ubnVtQ2FzY2FkZXM9dC5udW1DYXNjYWRlcyksdC5kZWJ1ZyE9PXZvaWQgMCYmKG4uZGVidWc9dC5kZWJ1ZyksdC5zdGFiaWxpemVDYXNjYWRlcyE9PXZvaWQgMCYmKG4uc3RhYmlsaXplQ2FzY2FkZXM9dC5zdGFiaWxpemVDYXNjYWRlcyksdC5sYW1iZGEhPT12b2lkIDAmJihuLmxhbWJkYT10LmxhbWJkYSksdC5jYXNjYWRlQmxlbmRQZXJjZW50YWdlIT09dm9pZCAwJiYobi5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXQuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksdC5kZXB0aENsYW1wIT09dm9pZCAwJiYobi5kZXB0aENsYW1wPXQuZGVwdGhDbGFtcCksdC5hdXRvQ2FsY0RlcHRoQm91bmRzIT09dm9pZCAwJiYobi5hdXRvQ2FsY0RlcHRoQm91bmRzPXQuYXV0b0NhbGNEZXB0aEJvdW5kcyksdC5zaGFkb3dNYXhaIT09dm9pZCAwJiYobi5zaGFkb3dNYXhaPXQuc2hhZG93TWF4WiksdC5wZW51bWJyYURhcmtuZXNzIT09dm9pZCAwJiYobi5wZW51bWJyYURhcmtuZXNzPXQucGVudW1icmFEYXJrbmVzcyksdC5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvIT09dm9pZCAwJiYobi5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXQuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyksdC5taW5EaXN0YW5jZSE9PXZvaWQgMCYmdC5tYXhEaXN0YW5jZSE9PXZvaWQgMCYmbi5zZXRNaW5NYXhEaXN0YW5jZSh0Lm1pbkRpc3RhbmNlLHQubWF4RGlzdGFuY2UpLG59LGUuZnJ1c3R1bUNvcm5lcnNORENTcGFjZT1bbmV3IEUoLTEsMSwtMSksbmV3IEUoMSwxLC0xKSxuZXcgRSgxLC0xLC0xKSxuZXcgRSgtMSwtMSwtMSksbmV3IEUoLTEsMSwxKSxuZXcgRSgxLDEsMSksbmV3IEUoMSwtMSwxKSxuZXcgRSgtMSwtMSwxKV0sZS5DTEFTU05BTUU9IkNhc2NhZGVkU2hhZG93R2VuZXJhdG9yIixlLkRFRkFVTFRfQ0FTQ0FERVNfQ09VTlQ9NCxlLk1JTl9DQVNDQURFU19DT1VOVD0yLGUuTUFYX0NBU0NBREVTX0NPVU5UPTQsZS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1mdW5jdGlvbih0KXt0aHJvdyBVKCJTaGFkb3dHZW5lcmF0b3JTY2VuZUNvbXBvbmVudCIpfSxlfShWZSk7T2kuQWRkUGFyc2VyKGt0Lk5BTUVfU0hBRE9XR0VORVJBVE9SLGZ1bmN0aW9uKGksZSl7aWYoaS5zaGFkb3dHZW5lcmF0b3JzIT09dm9pZCAwJiZpLnNoYWRvd0dlbmVyYXRvcnMhPT1udWxsKWZvcih2YXIgdD0wLHI9aS5zaGFkb3dHZW5lcmF0b3JzLmxlbmd0aDt0PHI7dCsrKXt2YXIgbj1pLnNoYWRvd0dlbmVyYXRvcnNbdF07bi5jbGFzc05hbWU9PT1obi5DTEFTU05BTUU/aG4uUGFyc2UobixlKTpWZS5QYXJzZShuLGUpfX0pO3ZhciBDbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5uYW1lPWt0Lk5BTUVfU0hBRE9XR0VORVJBVE9SLHRoaXMuc2NlbmU9ZX1yZXR1cm4gaS5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24oKXt0aGlzLnNjZW5lLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UucmVnaXN0ZXJTdGVwKGt0LlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19TSEFET1dHRU5FUkFUT1IsdGhpcyx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzKX0saS5wcm90b3R5cGUucmVidWlsZD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKGUpe2Uuc2hhZG93R2VuZXJhdG9ycz1bXTtmb3IodmFyIHQ9dGhpcy5zY2VuZS5saWdodHMscj0wLG49dDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXSxzPWEuZ2V0U2hhZG93R2VuZXJhdG9yKCk7cyYmZS5zaGFkb3dHZW5lcmF0b3JzLnB1c2gocy5zZXJpYWxpemUoKSl9fSxpLnByb3RvdHlwZS5hZGRGcm9tQ29udGFpbmVyPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUucmVtb3ZlRnJvbUNvbnRhaW5lcj1mdW5jdGlvbihlLHQpe30saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuX2dhdGhlclJlbmRlclRhcmdldHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zY2VuZTtpZih0aGlzLnNjZW5lLnNoYWRvd3NFbmFibGVkKWZvcih2YXIgcj0wO3I8dC5saWdodHMubGVuZ3RoO3IrKyl7dmFyIG49dC5saWdodHNbcl0sYT1uLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKG4uaXNFbmFibGVkKCkmJm4uc2hhZG93RW5hYmxlZCYmYSl7dmFyIHM9YS5nZXRTaGFkb3dNYXAoKTt0LnRleHR1cmVzLmluZGV4T2YocykhPT0tMSYmZS5wdXNoKHMpfX19LGl9KCk7VmUuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249ZnVuY3Rpb24oaSl7dmFyIGU9aS5fZ2V0Q29tcG9uZW50KGt0Lk5BTUVfU0hBRE9XR0VORVJBVE9SKTtlfHwoZT1uZXcgQ28oaSksaS5fYWRkQ29tcG9uZW50KGUpKX07Y29uc3QgRG89e2VuYWJsZVNoYWRvd3M6ITB9O2Z1bmN0aW9uIGNuKGk9RG8pe2NvbnN0e2VuYWJsZVNoYWRvd3M6ZSxzY2VuZTp0fT1pLHI9bmV3IHNuKCJEaXJlY3Rpb25hbExpZ2h0IixuZXcgRSgtLjMsLTEsLjQpLHQpO3IucG9zaXRpb249bmV3IEUoLTUwLDY1LC01MCksci5pbnRlbnNpdHk9LjY1O2NvbnN0IG49bmV3IG9uKCJIZW1pc3BoZXJpY0xpZ2h0IixuZXcgRSgxLDEsMCksdCk7cmV0dXJuIG4uaW50ZW5zaXR5PS4yLGUmJihyLnNoYWRvd01pblo9MSxyLnNoYWRvd01heFo9NzAsci5zaGFkb3dHZW5lcmF0b3I9bmV3IFZlKDIwNDgsciksci5zaGFkb3dHZW5lcmF0b3IudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMCxyLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz0uOCkse2RpcmVjdGlvbmFsOnIsaGVtaXNwaGVyaWM6bn19ZnVuY3Rpb24gZG4oaSl7dmFyIGU9Nix0PVswLDEsMiwwLDIsMyw0LDUsNiw0LDYsNyw4LDksMTAsOCwxMCwxMSwxMiwxMywxNCwxMiwxNCwxNSwxNiwxNywxOCwxNiwxOCwxOSwyMCwyMSwyMiwyMCwyMiwyM10scj1bMCwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDBdLG49W10sYT1bXSxzPWkud2lkdGh8fGkuc2l6ZXx8MSxvPWkuaGVpZ2h0fHxpLnNpemV8fDEsdT1pLmRlcHRofHxpLnNpemV8fDEsZj1pLndyYXB8fCExLGw9aS50b3BCYXNlQXQ9PT12b2lkIDA/MTppLnRvcEJhc2VBdCxoPWkuYm90dG9tQmFzZUF0PT09dm9pZCAwPzA6aS5ib3R0b21CYXNlQXQ7bD0obCs0KSU0LGg9KGgrNCklNDt2YXIgYz1bMiwwLDMsMV0sZD1bMiwwLDEsM10scD1jW2xdLF89ZFtoXSxnPVsxLC0xLDEsLTEsLTEsMSwtMSwxLDEsMSwxLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsLTEsMSwtMSwtMSwxLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsLTEsMSwtMSwxLDEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMV07aWYoZil7dD1bMiwzLDAsMiwwLDEsNCw1LDYsNCw2LDcsOSwxMCwxMSw5LDExLDgsMTIsMTQsMTUsMTIsMTMsMTRdLGc9Wy0xLDEsMSwxLDEsMSwxLC0xLDEsLTEsLTEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwxLDEsMSwtMSwxLC0xLC0xLDEsLTEsMSwtMSwxLC0xLC0xLDEsMSwtMSwtMSwxLC0xLC0xLC0xXTtmb3IodmFyIG09W1sxLDEsMV0sWy0xLDEsMV0sWy0xLDEsLTFdLFsxLDEsLTFdXSx2PVtbLTEsLTEsMV0sWzEsLTEsMV0sWzEsLTEsLTFdLFstMSwtMSwtMV1dLFM9WzE3LDE4LDE5LDE2XSxNPVsyMiwyMywyMCwyMV07cD4wOyltLnVuc2hpZnQobS5wb3AoKSksUy51bnNoaWZ0KFMucG9wKCkpLHAtLTtmb3IoO18+MDspdi51bnNoaWZ0KHYucG9wKCkpLE0udW5zaGlmdChNLnBvcCgpKSxfLS07bT1tLmZsYXQoKSx2PXYuZmxhdCgpLGc9Zy5jb25jYXQobSkuY29uY2F0KHYpLHQucHVzaChTWzBdLFNbMl0sU1szXSxTWzBdLFNbMV0sU1syXSksdC5wdXNoKE1bMF0sTVsyXSxNWzNdLE1bMF0sTVsxXSxNWzJdKX12YXIgQT1bcy8yLG8vMix1LzJdO2E9Zy5yZWR1Y2UoZnVuY3Rpb24oaixLLGFlKXtyZXR1cm4gai5jb25jYXQoSypBW2FlJTNdKX0sW10pO2Zvcih2YXIgUj1pLnNpZGVPcmllbnRhdGlvbj09PTA/MDppLnNpZGVPcmllbnRhdGlvbnx8bGUuREVGQVVMVFNJREUseT1pLmZhY2VVVnx8bmV3IEFycmF5KDYpLEM9aS5mYWNlQ29sb3JzLHc9W10sRj0wO0Y8NjtGKyspeVtGXT09PXZvaWQgMCYmKHlbRl09bmV3IGR0KDAsMCwxLDEpKSxDJiZDW0ZdPT09dm9pZCAwJiYoQ1tGXT1uZXcgX2UoMSwxLDEsMSkpO2Zvcih2YXIgRD0wO0Q8ZTtEKyspaWYobi5wdXNoKHlbRF0ueixHZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEteVtEXS53OnlbRF0udyksbi5wdXNoKHlbRF0ueCxHZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEteVtEXS53OnlbRF0udyksbi5wdXNoKHlbRF0ueCxHZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEteVtEXS55OnlbRF0ueSksbi5wdXNoKHlbRF0ueixHZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEteVtEXS55OnlbRF0ueSksQylmb3IodmFyIFg9MDtYPDQ7WCsrKXcucHVzaChDW0RdLnIsQ1tEXS5nLENbRF0uYixDW0RdLmEpO2xlLl9Db21wdXRlU2lkZXMoUixhLHQscixuLGkuZnJvbnRVVnMsaS5iYWNrVVZzKTt2YXIgVz1uZXcgbGU7aWYoVy5pbmRpY2VzPXQsVy5wb3NpdGlvbnM9YSxXLm5vcm1hbHM9cixXLnV2cz1uLEMpe3ZhciBOPVI9PT1sZS5ET1VCTEVTSURFP3cuY29uY2F0KHcpOnc7Vy5jb2xvcnM9Tn1yZXR1cm4gV31mdW5jdGlvbiBYdChpLGUsdCl7ZT09PXZvaWQgMCYmKGU9e30pLHQ9PT12b2lkIDAmJih0PW51bGwpO3ZhciByPW5ldyBVZShpLHQpO2Uuc2lkZU9yaWVudGF0aW9uPVVlLl9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUuc2lkZU9yaWVudGF0aW9uKSxyLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ZS5zaWRlT3JpZW50YXRpb247dmFyIG49ZG4oZSk7cmV0dXJuIG4uYXBwbHlUb01lc2gocixlLnVwZGF0YWJsZSkscn1sZS5DcmVhdGVCb3g9ZG4sVWUuQ3JlYXRlQm94PWZ1bmN0aW9uKGksZSx0LHIsbil7dD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIGE9e3NpemU6ZSxzaWRlT3JpZW50YXRpb246bix1cGRhdGFibGU6cn07cmV0dXJuIFh0KGksYSx0KX07dmFyIGRpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzPXt9LHRoaXMucHJldmlvdXNCb25lcz17fX1yZXR1cm4gaS5BZGRVbmlmb3Jtcz1mdW5jdGlvbihlKXtlLnB1c2goInByZXZpb3VzV29ybGQiLCJwcmV2aW91c1ZpZXdQcm9qZWN0aW9uIiwibVByZXZpb3VzQm9uZXMiKX0saS5BZGRTYW1wbGVycz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodC5wcmVQYXNzUmVuZGVyZXImJnQucHJlUGFzc1JlbmRlcmVyLmVuYWJsZWQmJnQucHJlUGFzc1JlbmRlcmVyLmN1cnJlbnRSVGlzU2NlbmVSVCYmdC5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikhPT0tMSl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbci51bmlxdWVJZF18fCh0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tyLnVuaXF1ZUlkXT1uLmNsb25lKCkpLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbnx8KHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb249dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS5jbG9uZSgpKTt2YXIgcz10LmdldEVuZ2luZSgpO3RoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uLnVwZGF0ZUZsYWchPT10LmdldFRyYW5zZm9ybU1hdHJpeCgpLnVwZGF0ZUZsYWc/KHRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkPXMuZnJhbWVJZCx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24uY29weUZyb20odGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24pLHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHQuZ2V0VHJhbnNmb3JtTWF0cml4KCkpKTp0aGlzLl9sYXN0VXBkYXRlRnJhbWVJZCE9PXMuZnJhbWVJZCYmKHRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkPXMuZnJhbWVJZCx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24uY29weUZyb20odGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24pKSxlLnNldE1hdHJpeCgicHJldmlvdXNXb3JsZCIsdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbci51bmlxdWVJZF0pLGUuc2V0TWF0cml4KCJwcmV2aW91c1ZpZXdQcm9qZWN0aW9uIix0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24pLHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW3IudW5pcXVlSWRdPW4uY2xvbmUoKX19LGl9KCkscG49ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe249PT12b2lkIDAmJihuPSEwKTt2YXIgYT1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBhLl9ub3JtYWxNYXRyaXg9bmV3IEksYS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz1uLGF9cmV0dXJuIGUucHJvdG90eXBlLmdldEVmZmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP3RoaXMuX2FjdGl2ZUVmZmVjdDppLnByb3RvdHlwZS5nZXRFZmZlY3QuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0LHIpe3JldHVybiB0PyF0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzfHwhdC5zdWJNZXNoZXN8fHQuc3ViTWVzaGVzLmxlbmd0aD09PTA/ITA6dGhpcy5pc1JlYWR5Rm9yU3ViTWVzaCh0LHQuc3ViTWVzaGVzWzBdLHIpOiExfSxlLnByb3RvdHlwZS5faXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24odCl7dmFyIHI9dC5tYXRlcmlhbERlZmluZXM7cmV0dXJuISEoIXRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsJiZ0LmVmZmVjdCYmciYmci5fcmVuZGVySWQ9PT10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKSl9LGUucHJvdG90eXBlLmJpbmRPbmx5V29ybGRNYXRyaXg9ZnVuY3Rpb24odCl7dGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgid29ybGQiLHQpfSxlLnByb3RvdHlwZS5iaW5kT25seU5vcm1hbE1hdHJpeD1mdW5jdGlvbih0KXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJub3JtYWxNYXRyaXgiLHQpfSxlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQscil7IXJ8fHRoaXMuYmluZEZvclN1Yk1lc2godCxyLHIuc3ViTWVzaGVzWzBdKX0sZS5wcm90b3R5cGUuX2FmdGVyQmluZD1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPW51bGwpLGkucHJvdG90eXBlLl9hZnRlckJpbmQuY2FsbCh0aGlzLHQsciksdGhpcy5nZXRTY2VuZSgpLl9jYWNoZWRFZmZlY3Q9cn0sZS5wcm90b3R5cGUuX211c3RSZWJpbmQ9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBuPT09dm9pZCAwJiYobj0xKSx0LmlzQ2FjaGVkTWF0ZXJpYWxJbnZhbGlkKHRoaXMscixuKX0sZX0oRGUpLHVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkPWUsb2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJEZXRhaWxUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkPWUsb2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJBbWJpZW50VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZD1lLG9lLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiT3BhY2l0eVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPWUsb2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJFbWlzc2l2ZVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD1lLG9lLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQnVtcFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD1lLG9lLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkZyZXNuZWxFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0ZyZXNuZWxFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fRnJlc25lbEVuYWJsZWQhPT1lJiYodGhpcy5fRnJlc25lbEVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg0KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNsZWFyQ29hdFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPWUsb2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJDbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZD1lLG9lLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hlZW5UZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkPWUsb2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJBbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlRoaWNrbmVzc1RleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlRyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxvZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5fRGlmZnVzZVRleHR1cmVFbmFibGVkPSEwLGkuX0RldGFpbFRleHR1cmVFbmFibGVkPSEwLGkuX0FtYmllbnRUZXh0dXJlRW5hYmxlZD0hMCxpLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ITAsaS5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPSEwLGkuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ITAsaS5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD0hMCxpLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ITAsaS5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD0hMCxpLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ITAsaS5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ITAsaS5fRnJlc25lbEVuYWJsZWQ9ITAsaS5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQ9ITAsaS5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPSEwLGkuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZD0hMCxpLl9TaGVlblRleHR1cmVFbmFibGVkPSEwLGkuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ITAsaS5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQ9ITAsaS5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLGkuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLGl9KCkseG89ImRlZmF1bHRGcmFnbWVudERlY2xhcmF0aW9uIixJbz1gdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSB2ZWM0IHZEaWZmdXNlQ29sb3I7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZTcGVjdWxhckNvbG9yOwojZW5kaWYKdW5pZm9ybSB2ZWMzIHZFbWlzc2l2ZUNvbG9yOwp1bmlmb3JtIHZlYzMgdkFtYmllbnRDb2xvcjsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwoKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIHZlYzIgdkFtYmllbnRJbmZvczsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSB2ZWMyIHZUYW5nZW50U3BhY2VQYXJhbXM7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCnVuaWZvcm0gZmxvYXQgYWxwaGFDdXRPZmY7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGUkFDVElPTikKdW5pZm9ybSBtYXQ0IHZpZXc7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTgp1bmlmb3JtIHZlYzQgdlJlZnJhY3Rpb25JbmZvczsKI2lmbmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gbWF0NCByZWZyYWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZSQUNUSU9OTUFQXzNEKQp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZyYWN0aW9uU2l6ZTsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTAp1bmlmb3JtIHZlYzQgZGlmZnVzZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCnVuaWZvcm0gdmVjNCBvcGFjaXR5UGFydHM7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCnVuaWZvcm0gdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlUmlnaHRDb2xvcjsKI2VuZGlmCgojaWZkZWYgUkVGTEVDVElPTgp1bmlmb3JtIHZlYzIgdlJlZmxlY3Rpb25JbmZvczsKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9QTEFOQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9DVUJJQykgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TUEhFUklDQUwpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TS1lCT1gpCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmbmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKQp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZsZWN0aW9uU2l6ZTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CiNlbmRpZgojZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3hvXT1Jbzt2YXIgT289ImRlZmF1bHRVYm9EZWNsYXJhdGlvbiIsRm89YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1hdGVyaWFsCnsKdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwp2ZWM0IG9wYWNpdHlQYXJ0czsKdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CnZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwp2ZWMyIHZEaWZmdXNlSW5mb3M7CnZlYzIgdkFtYmllbnRJbmZvczsKdmVjMiB2T3BhY2l0eUluZm9zOwp2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CnZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmbGVjdGlvblNpemU7CnZlYzIgdkVtaXNzaXZlSW5mb3M7CnZlYzIgdkxpZ2h0bWFwSW5mb3M7CnZlYzIgdlNwZWN1bGFySW5mb3M7CnZlYzMgdkJ1bXBJbmZvczsKbWF0NCBkaWZmdXNlTWF0cml4OwptYXQ0IGFtYmllbnRNYXRyaXg7Cm1hdDQgb3BhY2l0eU1hdHJpeDsKbWF0NCByZWZsZWN0aW9uTWF0cml4OwptYXQ0IGVtaXNzaXZlTWF0cml4OwptYXQ0IGxpZ2h0bWFwTWF0cml4OwptYXQ0IHNwZWN1bGFyTWF0cml4OwptYXQ0IGJ1bXBNYXRyaXg7CnZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKZmxvYXQgcG9pbnRTaXplOwpmbG9hdCBhbHBoYUN1dE9mZjsKbWF0NCByZWZyYWN0aW9uTWF0cml4Owp2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CnZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmcmFjdGlvblNpemU7CnZlYzQgdlNwZWN1bGFyQ29sb3I7CnZlYzMgdkVtaXNzaXZlQ29sb3I7CnZlYzQgdkRpZmZ1c2VDb2xvcjsKdmVjMyB2QW1iaWVudENvbG9yOwojZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OCn07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW09vXT1Gbzt2YXIgd289InByZVBhc3NEZWNsYXJhdGlvbiIsTG89YCNpZmRlZiBQUkVQQVNTCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCBoaWdocCB2ZWM0IGdsRnJhZ0RhdGFbe1h9XTsKaGlnaHAgdmVjNCBnbF9GcmFnQ29sb3I7CiNpZmRlZiBQUkVQQVNTX0RFUFRICnZhcnlpbmcgaGlnaHAgdmVjMyB2Vmlld1BvczsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnZhcnlpbmcgaGlnaHAgdmVjNCB2Q3VycmVudFBvc2l0aW9uOwp2YXJ5aW5nIGhpZ2hwIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3dvXT1Mbzt2YXIgTm89Im9pdERlY2xhcmF0aW9uIixCbz1gI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQojZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlCmxheW91dChsb2NhdGlvbj0wKSBvdXQgdmVjMiBkZXB0aDsKbGF5b3V0KGxvY2F0aW9uPTEpIG91dCB2ZWM0IGZyb250Q29sb3I7CmxheW91dChsb2NhdGlvbj0yKSBvdXQgdmVjNCBiYWNrQ29sb3I7CiNkZWZpbmUgTUFYX0RFUFRIIDk5OTk5LjAKaGlnaHAgdmVjNCBnbF9GcmFnQ29sb3I7CnVuaWZvcm0gc2FtcGxlcjJEIG9pdERlcHRoU2FtcGxlcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RnJvbnRDb2xvclNhbXBsZXI7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTm9dPUJvO3ZhciBVbz0ibWFpblVWVmFyeWluZ0RlY2xhcmF0aW9uIixWbz1gI2lmZGVmIE1BSU5VVntYfQp2YXJ5aW5nIHZlYzIgdk1haW5VVntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtVb109Vm87dmFyIGtvPSJsaWdodEZyYWdtZW50RGVjbGFyYXRpb24iLFdvPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERhdGF7WH07CnVuaWZvcm0gdmVjNCB2TGlnaHREaWZmdXNle1h9OwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2TGlnaHRTcGVjdWxhcntYfTsKI2Vsc2UKdmVjNCB2TGlnaHRTcGVjdWxhcntYfT12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCB2aWV3RnJ1c3R1bVp7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBmcnVzdHVtTGVuZ3Roc3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGNhc2NhZGVCbGVuZEZhY3RvcntYfTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcntYfTsKdW5pZm9ybSB2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGRlcHRoQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHBlbnVtYnJhRGFya25lc3N7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpjb25zdCB2ZWMzIHZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVs4XT12ZWMzWzhdCigKdmVjMyAoIDEuNSwwLjAsMC4wICksCnZlYzMgKCAwLjAsMS41LDAuMCApLAp2ZWMzICggMC4wLDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwwLjAsNS41ICksCnZlYzMgKCAxLjUsMS41LDAuMCApLAp2ZWMzICggMS4wLDEuMCwxLjAgKSwKdmVjMyAoIDAuMCwxLjAsNS41ICksCnZlYzMgKCAwLjUsMy41LDAuNzUgKQopOwp2ZWMzIHNoYWRvd0RlYnVne1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaW50IGluZGV4e1h9PS0xOwojZWxzZQppbnQgaW5kZXh7WH09U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTE7CiNlbmRpZgpmbG9hdCBkaWZme1h9PTAuOwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnVuaWZvcm0gc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGRlcHRoU2FtcGxlcntYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQp1bmlmb3JtIG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH07CnVuaWZvcm0gc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH07CiNlbmRpZgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVba29dPVdvO3ZhciB6bz0ibGlnaHRVYm9EZWNsYXJhdGlvbiIsR289YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbem9dPUdvO3ZhciBYbz0ibGlnaHRzRnJhZ21lbnRGdW5jdGlvbnMiLEhvPWAKc3RydWN0IGxpZ2h0aW5nSW5mbwp7CnZlYzMgZGlmZnVzZTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIHNwZWN1bGFyOwojZW5kaWYKI2lmZGVmIE5ET1RMCmZsb2F0IG5kbDsKI2VuZGlmCn07CmxpZ2h0aW5nSW5mbyBjb21wdXRlTGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLGZsb2F0IHJhbmdlLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKdmVjMyBsaWdodFZlY3Rvclc7CmZsb2F0IGF0dGVudWF0aW9uPTEuMDsKaWYgKGxpZ2h0RGF0YS53ID09IDAuKQp7CnZlYzMgZGlyZWN0aW9uPWxpZ2h0RGF0YS54eXotdlBvc2l0aW9uVzsKYXR0ZW51YXRpb249bWF4KDAuLDEuMC1sZW5ndGgoZGlyZWN0aW9uKS9yYW5nZSk7CmxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoZGlyZWN0aW9uKTsKfQplbHNlCnsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZSgtbGlnaHREYXRhLnh5eik7Cn0KCmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVTcG90TGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjNCBsaWdodERpcmVjdGlvbix2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CnZlYzMgbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwpmbG9hdCBhdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKCmZsb2F0IGNvc0FuZ2xlPW1heCgwLixkb3QobGlnaHREaXJlY3Rpb24ueHl6LC1saWdodFZlY3RvclcpKTsKaWYgKGNvc0FuZ2xlPj1saWdodERpcmVjdGlvbi53KQp7CmNvc0FuZ2xlPW1heCgwLixwb3coY29zQW5nbGUsbGlnaHREYXRhLncpKTsKYXR0ZW51YXRpb24qPWNvc0FuZ2xlOwoKZmxvYXQgbmRsPW1heCgwLixkb3Qodk5vcm1hbCxsaWdodFZlY3RvclcpKTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bmRsKmRpZmZ1c2VDb2xvciphdHRlbnVhdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQoKdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpyZXN1bHQuZGlmZnVzZT12ZWMzKDAuKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZXN1bHQuc3BlY3VsYXI9dmVjMygwLik7CiNlbmRpZgojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD0wLjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcix2ZWMzIGdyb3VuZENvbG9yLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKCmZsb2F0IG5kbD1kb3Qodk5vcm1hbCxsaWdodERhdGEueHl6KSowLjUrMC41OwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1taXgoZ3JvdW5kQ29sb3IsZGlmZnVzZUNvbG9yLG5kbCk7CiNpZmRlZiBTUEVDVUxBUlRFUk0KCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodERhdGEueHl6KTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3I7CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CiNkZWZpbmUgaW5saW5lCnZlYzMgY29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXgpewp2ZWM0IHN0cnE9dGV4dHVyZVByb2plY3Rpb25NYXRyaXgqdmVjNCh2UG9zaXRpb25XLDEuMCk7CnN0cnEvPXN0cnEudzsKdmVjMyB0ZXh0dXJlQ29sb3I9dGV4dHVyZTJEKHByb2plY3Rpb25MaWdodFNhbXBsZXIsc3RycS54eSkucmdiOwpyZXR1cm4gdGV4dHVyZUNvbG9yOwp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1hvXT1Ibzt2YXIgam89InNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucyIsS289YCNpZmRlZiBTSEFET1dTCiNpZm5kZWYgU0hBRE9XRkxPQVQKCmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfQojZW5kaWYKZmxvYXQgY29tcHV0ZUZhbGxPZmYoZmxvYXQgdmFsdWUsdmVjMiBjbGlwU3BhY2UsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmZsb2F0IG1hc2s9c21vb3Roc3RlcCgxLjAtZnJ1c3R1bUVkZ2VGYWxsb2ZmLDEuMDAwMDAwMTIsY2xhbXAoZG90KGNsaXBTcGFjZSxjbGlwU3BhY2UpLDAuLDEuKSk7CnJldHVybiBtaXgodmFsdWUsMS4wLG1hc2spOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCnJldHVybiBkZXB0aD5zaGFkb3cgPyBkYXJrbmVzcyA6IDEuMDsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgbWFwU2l6ZSxmbG9hdCBkYXJrbmVzcyx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMzIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMzKC0xLjAsMS4wLC0xLjApOwpwb2lzc29uRGlza1sxXT12ZWMzKDEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1syXT12ZWMzKC0xLjAsLTEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbM109dmVjMygxLjAsLTEuMCwxLjApOwoKI2lmbmRlZiBTSEFET1dGTE9BVAppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1swXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1szXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbHNlCmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1sxXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2VuZGlmCnJldHVybiBtaW4oMS4wLHZpc2liaWxpdHkrZGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKZmxvYXQgZXNtPTEuMC1jbGFtcChleHAobWluKDg3LixkZXB0aFNjYWxlKnNoYWRvd1BpeGVsRGVwdGgpKSpzaGFkb3dNYXBTYW1wbGUsMC4sMS4tZGFya25lc3MpOwpyZXR1cm4gZXNtOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGVzbTsKfQojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93Q1NNKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CnZlYzMgdXZMYXllcj12ZWMzKHV2LngsdXYueSxsYXllcik7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpLng7CiNlbmRpZgpyZXR1cm4gc2hhZG93UGl4ZWxEZXB0aD5zaGFkb3cgPyBjb21wdXRlRmFsbE9mZihkYXJrbmVzcyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKSA6IDEuOwp9CiNlbmRpZgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KSk7CiNlbHNlCmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKZmxvYXQgdmlzaWJpbGl0eT0xLjsKdmVjMiBwb2lzc29uRGlza1s0XTsKcG9pc3NvbkRpc2tbMF09dmVjMigtMC45NDIwMTYyNCwtMC4zOTkwNjIxNik7CnBvaXNzb25EaXNrWzFdPXZlYzIoMC45NDU1ODYwOSwtMC43Njg5MDcyNSk7CnBvaXNzb25EaXNrWzJdPXZlYzIoLTAuMDk0MTg0MTAxLC0wLjkyOTM4ODcwKTsKcG9pc3NvbkRpc2tbM109dmVjMigwLjM0NDk1OTM4LDAuMjkzODc3NjApOwoKI2lmbmRlZiBTSEFET1dGTE9BVAppZiAodW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZWxzZQppZiAodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZW5kaWYKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKG1pbigxLjAsdmlzaWJpbGl0eStkYXJrbmVzcyksY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aEVTTSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikueDsKI2VuZGlmCmZsb2F0IGVzbT0xLjAtY2xhbXAoZXhwKG1pbig4Ny4sZGVwdGhTY2FsZSpzaGFkb3dQaXhlbERlcHRoKSkqc2hhZG93TWFwU2FtcGxlLDAuLDEuLWRhcmtuZXNzKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU00odmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNpZmRlZiBJU19ORENfSEFMRl9aUkFOR0UKI2RlZmluZSBaSU5DTElQIGNsaXBTcGFjZS56CiNlbHNlCiNkZWZpbmUgWklOQ0xJUCB1dkRlcHRoLnoKI2VuZGlmCiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpCiNkZWZpbmUgR1JFQVRFU1RfTEVTU19USEFOX09ORSAwLjk5OTk5OTk0CgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzQgdXZEZXB0aExheWVyPXZlYzQodXZEZXB0aC54LHV2RGVwdGgueSxsYXllcix1dkRlcHRoLnopOwpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9CgoKCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsKdXYrPTAuNTsKdmVjMiBzdD1mcmFjdCh1dik7CnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OwpiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwoKCgoKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KCgoKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54Owp1dis9MC41Owp2ZWMyIHN0PWZyYWN0KHV2KTsKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7CmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CgoKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGMSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KCgoKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsKdXYrPTAuNTsKdmVjMiBzdD1mcmFjdCh1dik7CnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OwpiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwoKCgoKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQoKCgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjUodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54Owp1dis9MC41Owp2ZWMyIHN0PWZyYWN0KHV2KTsKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7CmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CgoKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSx1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczMyWzY0XT12ZWMzWzY0XSgKdmVjMygwLjA2NDA3MDEzLDAuMDU0MDk5MjcsMC4pLAp2ZWMzKDAuNzM2NjU3NywwLjU3ODkzOTQsMC4pLAp2ZWMzKC0wLjYyNzA1NDIsLTAuNTMyMDI3OCwwLiksCnZlYzMoLTAuNDA5NjEwNywwLjg0MTEwOTUsMC4pLAp2ZWMzKDAuNjg0OTU2NCwtMC40OTkwODE4LDAuKSwKdmVjMygtMC44NzQxODEsLTAuMDQ1Nzk3MzUsMC4pLAp2ZWMzKDAuOTk4OTk5OCwwLjAwMDk4ODAwNjYsMC4pLAp2ZWMzKC0wLjAwNDkyMDU3OCwtMC45MTUxNjQ5LDAuKSwKdmVjMygwLjE4MDU3NjMsMC45NzQ3NDgzLDAuKSwKdmVjMygtMC4yMTM4NDUxLDAuMjYzNTgxOCwwLiksCnZlYzMoMC4xMDk4NDUsMC4zODg0Nzg1LDAuKSwKdmVjMygwLjA2ODc2NzU1LC0wLjM1ODEwNzQsMC4pLAp2ZWMzKDAuMzc0MDczLC0wLjc2NjEyNjYsMC4pLAp2ZWMzKDAuMzA3OTEzMiwtMC4xMjE2NzYzLDAuKSwKdmVjMygtMC4zNzk0MzM1LC0wLjgyNzE1ODMsMC4pLAp2ZWMzKC0wLjIwMzg3OCwtMC4wNzcxNTAzNCwwLiksCnZlYzMoMC41OTEyNjk3LDAuMTQ2OTc5OSwwLiksCnZlYzMoLTAuODgwNjksMC4zMDMxNzg0LDAuKSwKdmVjMygwLjUwNDAxMDgsMC44MjgzNzIyLDAuKSwKdmVjMygtMC41ODQ0MTI0LDAuNTQ5NDg3NywwLiksCnZlYzMoMC42MDE3Nzk5LC0wLjE3MjY2NTQsMC4pLAp2ZWMzKC0wLjU1NTQ5ODEsMC4xNTU5OTk3LDAuKSwKdmVjMygtMC4zMDE2MzY5LC0wLjM5MDA5MjgsMC4pLAp2ZWMzKC0wLjU1NTA2MzIsLTAuMTcyMzc2MiwwLiksCnZlYzMoMC45MjUwMjksMC4yOTk1MDQxLDAuKSwKdmVjMygtMC4yNDczMTM3LDAuNTUzODUwNSwwLiksCnZlYzMoMC45MTgzMDM3LC0wLjI4NjIzOTIsMC4pLAp2ZWMzKDAuMjQ2OTQyMSwwLjY3MTg3MTIsMC4pLAp2ZWMzKDAuMzkxNjM5NywtMC40MzI4MjA5LDAuKSwKdmVjMygtMC4wMzU3NjkyNywtMC42MjIwMDMyLDAuKSwKdmVjMygtMC4wNDY2MTI1NSwwLjc5OTUyMDEsMC4pLAp2ZWMzKDAuNDQwMjkyNCwwLjM2NDAzMTIsMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLikKKTsKY29uc3QgdmVjMyBQb2lzc29uU2FtcGxlcnM2NFs2NF09dmVjM1s2NF0oCnZlYzMoLTAuNjEzMzkyLDAuNjE3NDgxLDAuKSwKdmVjMygwLjE3MDAxOSwtMC4wNDAyNTQsMC4pLAp2ZWMzKC0wLjI5OTQxNywwLjc5MTkyNSwwLiksCnZlYzMoMC42NDU2ODAsMC40OTMyMTAsMC4pLAp2ZWMzKC0wLjY1MTc4NCwwLjcxNzg4NywwLiksCnZlYzMoMC40MjEwMDMsMC4wMjcwNzAsMC4pLAp2ZWMzKC0wLjgxNzE5NCwtMC4yNzEwOTYsMC4pLAp2ZWMzKC0wLjcwNTM3NCwtMC42NjgyMDMsMC4pLAp2ZWMzKDAuOTc3MDUwLC0wLjEwODYxNSwwLiksCnZlYzMoMC4wNjMzMjYsMC4xNDIzNjksMC4pLAp2ZWMzKDAuMjAzNTI4LDAuMjE0MzMxLDAuKSwKdmVjMygtMC42Njc1MzEsMC4zMjYwOTAsMC4pLAp2ZWMzKC0wLjA5ODQyMiwtMC4yOTU3NTUsMC4pLAp2ZWMzKC0wLjg4NTkyMiwwLjIxNTM2OSwwLiksCnZlYzMoMC41NjY2MzcsMC42MDUyMTMsMC4pLAp2ZWMzKDAuMDM5NzY2LC0wLjM5NjEwMCwwLiksCnZlYzMoMC43NTE5NDYsMC40NTMzNTIsMC4pLAp2ZWMzKDAuMDc4NzA3LC0wLjcxNTMyMywwLiksCnZlYzMoLTAuMDc1ODM4LC0wLjUyOTM0NCwwLiksCnZlYzMoMC43MjQ0NzksLTAuNTgwNzk4LDAuKSwKdmVjMygwLjIyMjk5OSwtMC4yMTUxMjUsMC4pLAp2ZWMzKC0wLjQ2NzU3NCwtMC40MDU0MzgsMC4pLAp2ZWMzKC0wLjI0ODI2OCwtMC44MTQ3NTMsMC4pLAp2ZWMzKDAuMzU0NDExLC0wLjg4NzU3MCwwLiksCnZlYzMoMC4xNzU4MTcsMC4zODIzNjYsMC4pLAp2ZWMzKDAuNDg3NDcyLC0wLjA2MzA4MiwwLiksCnZlYzMoLTAuMDg0MDc4LDAuODk4MzEyLDAuKSwKdmVjMygwLjQ4ODg3NiwtMC43ODM0NDEsMC4pLAp2ZWMzKDAuNDcwMDE2LDAuMjE3OTMzLDAuKSwKdmVjMygtMC42OTY4OTAsLTAuNTQ5NzkxLDAuKSwKdmVjMygtMC4xNDk2OTMsMC42MDU3NjIsMC4pLAp2ZWMzKDAuMDM0MjExLDAuOTc5OTgwLDAuKSwKdmVjMygwLjUwMzA5OCwtMC4zMDg4NzgsMC4pLAp2ZWMzKC0wLjAxNjIwNSwtMC44NzI5MjEsMC4pLAp2ZWMzKDAuMzg1Nzg0LC0wLjM5MzkwMiwwLiksCnZlYzMoLTAuMTQ2ODg2LC0wLjg1OTI0OSwwLiksCnZlYzMoMC42NDMzNjEsMC4xNjQwOTgsMC4pLAp2ZWMzKDAuNjM0Mzg4LC0wLjA0OTQ3MSwwLiksCnZlYzMoLTAuNjg4ODk0LDAuMDA3ODQzLDAuKSwKdmVjMygwLjQ2NDAzNCwtMC4xODg4MTgsMC4pLAp2ZWMzKC0wLjQ0MDg0MCwwLjEzNzQ4NiwwLiksCnZlYzMoMC4zNjQ0ODMsMC41MTE3MDQsMC4pLAp2ZWMzKDAuMDM0MDI4LDAuMzI1OTY4LDAuKSwKdmVjMygwLjA5OTA5NCwtMC4zMDgwMjMsMC4pLAp2ZWMzKDAuNjkzOTYwLC0wLjM2NjI1MywwLiksCnZlYzMoMC42Nzg4ODQsLTAuMjA0Njg4LDAuKSwKdmVjMygwLjAwMTgwMSwwLjc4MDMyOCwwLiksCnZlYzMoMC4xNDUxNzcsLTAuODk4OTg0LDAuKSwKdmVjMygwLjA2MjY1NSwtMC42MTE4NjYsMC4pLAp2ZWMzKDAuMzE1MjI2LC0wLjYwNDI5NywwLiksCnZlYzMoLTAuNzgwMTQ1LDAuNDg2MjUxLDAuKSwKdmVjMygtMC4zNzE4NjgsMC44ODIxMzgsMC4pLAp2ZWMzKDAuMjAwNDc2LDAuNDk0NDMwLDAuKSwKdmVjMygtMC40OTQ1NTIsLTAuNzExMDUxLDAuKSwKdmVjMygwLjYxMjQ3NiwwLjcwNTI1MiwwLiksCnZlYzMoLTAuNTc4ODQ1LC0wLjc2ODc5MiwwLiksCnZlYzMoLTAuNzcyNDU0LC0wLjA5MDk3NiwwLiksCnZlYzMoMC41MDQ0NDAsMC4zNzIyOTUsMC4pLAp2ZWMzKDAuMTU1NzM2LDAuMDY1MTU3LDAuKSwKdmVjMygwLjM5MTUyMiwwLjg0OTYwNSwwLiksCnZlYzMoLTAuNjIwMTA2LC0wLjMyODEwNCwwLiksCnZlYzMoMC43ODkyMzksLTAuNDE5OTY1LDAuKSwKdmVjMygtMC41NDUzOTYsMC41MzgxMzMsMC4pLAp2ZWMzKC0wLjE3ODU2NCwtMC41OTYwNTcsMC4pCik7CgoKCgoKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZixpbnQgc2VhcmNoVGFwQ291bnQsaW50IHBjZlRhcENvdW50LHZlYzNbNjRdIHBvaXNzb25TYW1wbGVycyx2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdmVjMyh1dkRlcHRoLnh5KyhsaWdodFNpemVVVipsaWdodFNpemVVVkNvcnJlY3Rpb24qc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpLGxheWVyKSkucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKCmZsb2F0IEFBT2Zmc2V0PXNoYWRvd01hcFNpemVJbnZlcnNlKjEwLjsKCgpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24rQUFPZmZzZXQpOwp2ZWM0IGZpbHRlclJhZGl1cz12ZWM0KHBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlLDAuLDAuKTsKZmxvYXQgcmFuZG9tPWdldFJhbmQodlBvc2l0aW9uRnJvbUxpZ2h0Lnh5KTsKZmxvYXQgcm90YXRpb25BbmdsZT1yYW5kb20qMy4xNDE1OTI2Owp2ZWMyIHJvdGF0aW9uVmVjdG9yPXZlYzIoY29zKHJvdGF0aW9uQW5nbGUpLHNpbihyb3RhdGlvbkFuZ2xlKSk7CmZsb2F0IHNoYWRvdz0wLjsKZm9yIChpbnQgaT0wOyBpPHBjZlRhcENvdW50OyBpKyspIHsKdmVjNCBvZmZzZXQ9dmVjNChwb2lzc29uU2FtcGxlcnNbaV0sMC4pOwoKb2Zmc2V0PXZlYzQob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLiwwLik7CnNoYWRvdys9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyK29mZnNldCpmaWx0ZXJSYWRpdXMpOwp9CnNoYWRvdy89ZmxvYXQocGNmVGFwQ291bnQpOwoKc2hhZG93PW1peChzaGFkb3csMS4sbWluKChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpKmRlcHRoQ29ycmVjdGlvbipwZW51bWJyYURhcmtuZXNzLDEuKSk7CgpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CgpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KCgoKCgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1ModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdXZEZXB0aC54eSsobGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpKS5yOwppZiAoYmxvY2tlckRlcHRoPGRlcHRoTWV0cmljKSB7CnN1bUJsb2NrZXJEZXB0aCs9YmxvY2tlckRlcHRoOwpudW1CbG9ja2VyKys7Cn0KfQppZiAobnVtQmxvY2tlcjwxLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgYXZnQmxvY2tlckRlcHRoPXN1bUJsb2NrZXJEZXB0aC9udW1CbG9ja2VyOwoKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwoKCmZsb2F0IHBlbnVtYnJhUmF0aW89KChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpK0FBT2Zmc2V0KTsKZmxvYXQgZmlsdGVyUmFkaXVzPXBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2U7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzMgb2Zmc2V0PXBvaXNzb25TYW1wbGVyc1tpXTsKCm9mZnNldD12ZWMzKG9mZnNldC54KnJvdGF0aW9uVmVjdG9yLngtb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueSxvZmZzZXQueSpyb3RhdGlvblZlY3Rvci54K29mZnNldC54KnJvdGF0aW9uVmVjdG9yLnksMC4pOwpzaGFkb3crPXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGgrb2Zmc2V0KmZpbHRlclJhZGl1cyk7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CgpzaGFkb3c9bWl4KHNoYWRvdywxLixkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpOwoKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwoKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MzMih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwzMiw2NCxQb2lzc29uU2FtcGxlcnM2NCk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwxNixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbam9dPUtvO3ZhciBZbz0ic2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24iLHFvPWAjaWZkZWYgX0RFRklORU5BTUVfCiNpZiBfREVGSU5FTkFNRV9ESVJFQ1RVViA9PSAxCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVViA9PSAyCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMgojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVViA9PSAzCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMwojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVViA9PSA0CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNAojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVViA9PSA1CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVViA9PSA2CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNgojZWxzZQp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCnVuaWZvcm0gc2FtcGxlcjJEIF9TQU1QTEVSTkFNRV9TYW1wbGVyOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lvXT1xbzt2YXIgWm89ImZyZXNuZWxGdW5jdGlvbiIsUW89YCNpZmRlZiBGUkVTTkVMCmZsb2F0IGNvbXB1dGVGcmVzbmVsVGVybSh2ZWMzIHZpZXdEaXJlY3Rpb24sdmVjMyB3b3JsZE5vcm1hbCxmbG9hdCBiaWFzLGZsb2F0IHBvd2VyKQp7CmZsb2F0IGZyZXNuZWxUZXJtPXBvdyhiaWFzK2Ficyhkb3Qodmlld0RpcmVjdGlvbix3b3JsZE5vcm1hbCkpLHBvd2VyKTsKcmV0dXJuIGNsYW1wKGZyZXNuZWxUZXJtLDAuLDEuKTsKfQojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWm9dPVFvO3ZhciAkbz0icmVmbGVjdGlvbkZ1bmN0aW9uIixKbz1gdmVjMyBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZGlyZWN0aW9uKQp7CmZsb2F0IGxvbj1hdGFuKGRpcmVjdGlvbi56LGRpcmVjdGlvbi54KTsKZmxvYXQgbGF0PWFjb3MoZGlyZWN0aW9uLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMyhzLHQsMCk7Cn0KdmVjMyBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBkaXJlY3Rpb24pCnsKZmxvYXQgbG9uPWF0YW4oZGlyZWN0aW9uLnosZGlyZWN0aW9uLngpOwpmbG9hdCBsYXQ9YWNvcyhkaXJlY3Rpb24ueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKDEuMC1zLHQsMCk7Cn0KdmVjMyBjb21wdXRlRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIGNhbWVyYVRvVmVydGV4PW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIHI9bm9ybWFsaXplKHJlZmxlY3QoY2FtZXJhVG9WZXJ0ZXgsd29ybGROb3JtYWwpKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKZmxvYXQgbG9uPWF0YW4oci56LHIueCk7CmZsb2F0IGxhdD1hY29zKHIueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKHMsdCwwKTsKfQp2ZWMzIGNvbXB1dGVTcGhlcmljYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqd29ybGRQb3MpKTsKdmVjMyB2aWV3Tm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqdmVjNCh3b3JsZE5vcm1hbCwwLjApKSk7CnZlYzMgcj1yZWZsZWN0KHZpZXdEaXIsdmlld05vcm1hbCk7CnI9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQociwwKSk7CnIuej1yLnotMS4wOwpmbG9hdCBtPTIuMCpsZW5ndGgocik7CnJldHVybiB2ZWMzKHIueC9tKzAuNSwxLjAtci55L20tMC41LDApOwp9CnZlYzMgY29tcHV0ZVBsYW5hckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPXdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbjsKdmVjMyBjb29yZHM9bm9ybWFsaXplKHJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCkpOwpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDEpKTsKfQp2ZWMzIGNvbXB1dGVDdWJpY0Nvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwoKdmVjMyBjb29yZHM9cmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlQ3ViaWNMb2NhbENvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgsdmVjMyByZWZsZWN0aW9uU2l6ZSx2ZWMzIHJlZmxlY3Rpb25Qb3NpdGlvbikKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7Cgp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHdvcmxkUG9zLnh5eixjb29yZHMscmVmbGVjdGlvblNpemUscmVmbGVjdGlvblBvc2l0aW9uKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh2ZWM0IHdvcmxkUG9zLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCoodmlldyp3b3JsZFBvcykpOwp9CnZlYzMgY29tcHV0ZVNreUJveENvb3Jkcyh2ZWMzIHBvc2l0aW9uVyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHBvc2l0aW9uVywxLikpOwp9CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgY29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsKQp7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCxkaXJlY3Rpb24pOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVECnZlYzMgZGlyZWN0aW9uPW5vcm1hbGl6ZSh2RGlyZWN0aW9uVyk7CnJldHVybiBjb21wdXRlRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUgpyZXR1cm4gY29tcHV0ZUVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMCnJldHVybiBjb21wdXRlU3BoZXJpY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QTEFOQVIKcmV0dXJuIGNvbXB1dGVQbGFuYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0NVQklDCiNpZmRlZiBVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQwpyZXR1cm4gY29tcHV0ZUN1YmljTG9jYWxDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4LHZSZWZsZWN0aW9uU2l6ZSx2UmVmbGVjdGlvblBvc2l0aW9uKTsKI2Vsc2UKcmV0dXJuIGNvbXB1dGVDdWJpY0Nvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KcmV0dXJuIGNvbXB1dGVQcm9qZWN0aW9uQ29vcmRzKHdvcmxkUG9zLHZpZXcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKcmV0dXJuIGNvbXB1dGVTa3lCb3hDb29yZHModlBvc2l0aW9uVVZXLHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVhQTElDSVQKcmV0dXJuIHZlYzMoMCwwLDApOwojZW5kaWYKfQojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJG9dPUpvO3ZhciBldT0iaW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24iLHR1PWAjaWZkZWYgRVhQT1NVUkUKdW5pZm9ybSBmbG9hdCBleHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBDT05UUkFTVAp1bmlmb3JtIGZsb2F0IGNvbnRyYXN0OwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnVuaWZvcm0gdmVjMiB2SW52ZXJzZVNjcmVlblNpemU7CnVuaWZvcm0gdmVjNCB2aWduZXR0ZVNldHRpbmdzMTsKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MyOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsOwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZTsKI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKI2lmZGVmIENPTE9SR1JBRElORzNECnVuaWZvcm0gaGlnaHAgc2FtcGxlcjNEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHR4Q29sb3JUcmFuc2Zvcm07CiNlbmRpZgp1bmlmb3JtIHZlYzQgY29sb3JUcmFuc2Zvcm1TZXR0aW5nczsKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2V1XT10dTt2YXIgcnU9ImltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucyIsaXU9YCNpZiBkZWZpbmVkKENPTE9SR1JBRElORykgJiYgIWRlZmluZWQoQ09MT1JHUkFESU5HM0QpCgojZGVmaW5lIGlubGluZQp2ZWMzIHNhbXBsZVRleHR1cmUzRChzYW1wbGVyMkQgY29sb3JUcmFuc2Zvcm0sdmVjMyBjb2xvcix2ZWMyIHNhbXBsZXIzZFNldHRpbmcpCnsKZmxvYXQgc2xpY2VTaXplPTIuMCpzYW1wbGVyM2RTZXR0aW5nLng7CiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuZy1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2Vsc2UKZmxvYXQgc2xpY2VDb250aW51b3VzPShjb2xvci5iLXNhbXBsZXIzZFNldHRpbmcueCkqc2FtcGxlcjNkU2V0dGluZy55OwojZW5kaWYKZmxvYXQgc2xpY2VJbnRlZ2VyPWZsb29yKHNsaWNlQ29udGludW91cyk7CgoKZmxvYXQgc2xpY2VGcmFjdGlvbj1zbGljZUNvbnRpbnVvdXMtc2xpY2VJbnRlZ2VyOwojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSAp2ZWMyIHNsaWNlVVY9Y29sb3IucmI7CiNlbHNlCnZlYzIgc2xpY2VVVj1jb2xvci5yZzsKI2VuZGlmCnNsaWNlVVYueCo9c2xpY2VTaXplOwpzbGljZVVWLngrPXNsaWNlSW50ZWdlcipzbGljZVNpemU7CnNsaWNlVVY9c2F0dXJhdGUoc2xpY2VVVik7CnZlYzQgc2xpY2UwQ29sb3I9dGV4dHVyZTJEKGNvbG9yVHJhbnNmb3JtLHNsaWNlVVYpOwpzbGljZVVWLngrPXNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTFDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnZlYzMgcmVzdWx0PW1peChzbGljZTBDb2xvci5yZ2Isc2xpY2UxQ29sb3IucmdiLHNsaWNlRnJhY3Rpb24pOwojaWZkZWYgU0FNUExFUjNEQkdSTUFQCmNvbG9yLnJnYj1yZXN1bHQucmdiOwojZWxzZQpjb2xvci5yZ2I9cmVzdWx0LmJncjsKI2VuZGlmCnJldHVybiBjb2xvcjsKfQojZW5kaWYKI2lmZGVmIFRPTkVNQVBQSU5HX0FDRVMKCgoKCgpjb25zdCBtYXQzIEFDRVNJbnB1dE1hdD1tYXQzKAp2ZWMzKDAuNTk3MTksMC4wNzYwMCwwLjAyODQwKSwKdmVjMygwLjM1NDU4LDAuOTA4MzQsMC4xMzM4MyksCnZlYzMoMC4wNDgyMywwLjAxNTY2LDAuODM3NzcpCik7Cgpjb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQ9bWF0MygKdmVjMyggMS42MDQ3NSwtMC4xMDIwOCwtMC4wMDMyNyksCnZlYzMoLTAuNTMxMDgsMS4xMDgxMywtMC4wNzI3NiksCnZlYzMoLTAuMDczNjcsLTAuMDA2MDUsMS4wNzYwMikKKTsKdmVjMyBSUlRBbmRPRFRGaXQodmVjMyB2KQp7CnZlYzMgYT12Kih2KzAuMDI0NTc4NiktMC4wMDAwOTA1Mzc7CnZlYzMgYj12KigwLjk4MzcyOSp2KzAuNDMyOTUxMCkrMC4yMzgwODE7CnJldHVybiBhL2I7Cn0KdmVjMyBBQ0VTRml0dGVkKHZlYzMgY29sb3IpCnsKY29sb3I9QUNFU0lucHV0TWF0KmNvbG9yOwoKY29sb3I9UlJUQW5kT0RURml0KGNvbG9yKTsKY29sb3I9QUNFU091dHB1dE1hdCpjb2xvcjsKCmNvbG9yPXNhdHVyYXRlKGNvbG9yKTsKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgp2ZWM0IGFwcGx5SW1hZ2VQcm9jZXNzaW5nKHZlYzQgcmVzdWx0KSB7CiNpZmRlZiBFWFBPU1VSRQpyZXN1bHQucmdiKj1leHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURQoKdmVjMiB2aWV3cG9ydFhZPWdsX0ZyYWdDb29yZC54eSp2SW52ZXJzZVNjcmVlblNpemU7CnZpZXdwb3J0WFk9dmlld3BvcnRYWSoyLjAtMS4wOwp2ZWMzIHZpZ25ldHRlWFkxPXZlYzModmlld3BvcnRYWSp2aWduZXR0ZVNldHRpbmdzMS54eSt2aWduZXR0ZVNldHRpbmdzMS56dywxLjApOwpmbG9hdCB2aWduZXR0ZVRlcm09ZG90KHZpZ25ldHRlWFkxLHZpZ25ldHRlWFkxKTsKZmxvYXQgdmlnbmV0dGU9cG93KHZpZ25ldHRlVGVybSx2aWduZXR0ZVNldHRpbmdzMi53KTsKCnZlYzMgdmlnbmV0dGVDb2xvcj12aWduZXR0ZVNldHRpbmdzMi5yZ2I7CiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU1VTFRJUExZCnZlYzMgdmlnbmV0dGVDb2xvck11bHRpcGxpZXI9bWl4KHZpZ25ldHRlQ29sb3IsdmVjMygxLDEsMSksdmlnbmV0dGUpOwpyZXN1bHQucmdiKj12aWduZXR0ZUNvbG9yTXVsdGlwbGllcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU9QQVFVRQpyZXN1bHQucmdiPW1peCh2aWduZXR0ZUNvbG9yLHJlc3VsdC5yZ2IsdmlnbmV0dGUpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBUT05FTUFQUElORwojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpyZXN1bHQucmdiPUFDRVNGaXR0ZWQocmVzdWx0LnJnYik7CiNlbHNlCmNvbnN0IGZsb2F0IHRvbmVtYXBwaW5nQ2FsaWJyYXRpb249MS41OTA1Nzk7CnJlc3VsdC5yZ2I9MS4wLWV4cDIoLXRvbmVtYXBwaW5nQ2FsaWJyYXRpb24qcmVzdWx0LnJnYik7CiNlbmRpZgojZW5kaWYKCnJlc3VsdC5yZ2I9dG9HYW1tYVNwYWNlKHJlc3VsdC5yZ2IpOwpyZXN1bHQucmdiPXNhdHVyYXRlKHJlc3VsdC5yZ2IpOwojaWZkZWYgQ09OVFJBU1QKCnZlYzMgcmVzdWx0SGlnaENvbnRyYXN0PXJlc3VsdC5yZ2IqcmVzdWx0LnJnYiooMy4wLTIuMCpyZXN1bHQucmdiKTsKaWYgKGNvbnRyYXN0PDEuMCkgewoKcmVzdWx0LnJnYj1taXgodmVjMygwLjUsMC41LDAuNSkscmVzdWx0LnJnYixjb250cmFzdCk7Cn0gZWxzZSB7CgpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLHJlc3VsdEhpZ2hDb250cmFzdCxjb250cmFzdC0xLjApOwp9CiNlbmRpZgoKI2lmZGVmIENPTE9SR1JBRElORwp2ZWMzIGNvbG9yVHJhbnNmb3JtSW5wdXQ9cmVzdWx0LnJnYipjb2xvclRyYW5zZm9ybVNldHRpbmdzLnh4eCtjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl5eTsKI2lmZGVmIENPTE9SR1JBRElORzNECnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9dGV4dHVyZSh0eENvbG9yVHJhbnNmb3JtLGNvbG9yVHJhbnNmb3JtSW5wdXQpLnJnYjsKI2Vsc2UKdmVjMyBjb2xvclRyYW5zZm9ybU91dHB1dD1zYW1wbGVUZXh0dXJlM0QodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3MueXopLnJnYjsKI2VuZGlmCnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IsY29sb3JUcmFuc2Zvcm1PdXRwdXQsY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy53d3cpOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCgpmbG9hdCBsdW1hPWdldEx1bWluYW5jZShyZXN1bHQucmdiKTsKdmVjMiBjdXJ2ZU1peD1jbGFtcCh2ZWMyKGx1bWEqMy4wLTEuNSxsdW1hKi0zLjArMS41KSx2ZWMyKDAuMCksdmVjMigxLjApKTsKdmVjNCBjb2xvckN1cnZlPXZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCtjdXJ2ZU1peC54KnZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUtY3VydmVNaXgueSp2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwpyZXN1bHQucmdiKj1jb2xvckN1cnZlLnJnYjsKcmVzdWx0LnJnYj1taXgodmVjMyhsdW1hKSxyZXN1bHQucmdiLGNvbG9yQ3VydmUuYSk7CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3J1XT1pdTt2YXIgbnU9ImJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnMiLGF1PWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUAp1bmlmb3JtIG1hdDQgbm9ybWFsTWF0cml4OwojZW5kaWYKdmVjMyBwZXJ0dXJiTm9ybWFsQmFzZShtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgbm9ybWFsLGZsb2F0IHNjYWxlKQp7CiNpZmRlZiBOT1JNQUxYWVNDQUxFCm5vcm1hbD1ub3JtYWxpemUobm9ybWFsKnZlYzMoc2NhbGUsc2NhbGUsMS4wKSk7CiNlbmRpZgpyZXR1cm4gbm9ybWFsaXplKGNvdGFuZ2VudEZyYW1lKm5vcm1hbCk7Cn0KdmVjMyBwZXJ0dXJiTm9ybWFsKG1hdDMgY290YW5nZW50RnJhbWUsdmVjMyB0ZXh0dXJlU2FtcGxlLGZsb2F0IHNjYWxlKQp7CnJldHVybiBwZXJ0dXJiTm9ybWFsQmFzZShjb3RhbmdlbnRGcmFtZSx0ZXh0dXJlU2FtcGxlKjIuMC0xLjAsc2NhbGUpOwp9CgptYXQzIGNvdGFuZ2VudF9mcmFtZSh2ZWMzIG5vcm1hbCx2ZWMzIHAsdmVjMiB1dix2ZWMyIHRhbmdlbnRTcGFjZVBhcmFtcykKewoKdmVjMyBkcDE9ZEZkeChwKTsKdmVjMyBkcDI9ZEZkeShwKTsKdmVjMiBkdXYxPWRGZHgodXYpOwp2ZWMyIGR1djI9ZEZkeSh1dik7Cgp2ZWMzIGRwMnBlcnA9Y3Jvc3MoZHAyLG5vcm1hbCk7CnZlYzMgZHAxcGVycD1jcm9zcyhub3JtYWwsZHAxKTsKdmVjMyB0YW5nZW50PWRwMnBlcnAqZHV2MS54K2RwMXBlcnAqZHV2Mi54Owp2ZWMzIGJpdGFuZ2VudD1kcDJwZXJwKmR1djEueStkcDFwZXJwKmR1djIueTsKCnRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy54OwpiaXRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy55OwoKZmxvYXQgaW52bWF4PWludmVyc2VzcXJ0KG1heChkb3QodGFuZ2VudCx0YW5nZW50KSxkb3QoYml0YW5nZW50LGJpdGFuZ2VudCkpKTsKcmV0dXJuIG1hdDModGFuZ2VudCppbnZtYXgsYml0YW5nZW50Kmludm1heCxub3JtYWwpOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbnVdPWF1O3ZhciBzdT0iYnVtcEZyYWdtZW50RnVuY3Rpb25zIixvdT1gI2lmIGRlZmluZWQoQlVNUCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfU0FNUExFUk5BTUVfLGJ1bXApCiNlbmRpZgojaWYgZGVmaW5lZChERVRBSUwpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9TQU1QTEVSTkFNRV8sZGV0YWlsKQojZW5kaWYKI2lmIGRlZmluZWQoQlVNUCkgJiYgZGVmaW5lZChQQVJBTExBWCkKY29uc3QgZmxvYXQgbWluU2FtcGxlcz00LjsKY29uc3QgZmxvYXQgbWF4U2FtcGxlcz0xNS47CmNvbnN0IGludCBpTWF4U2FtcGxlcz0xNTsKCnZlYzIgcGFyYWxsYXhPY2NsdXNpb24odmVjMyB2Vmlld0RpckNvVCx2ZWMzIHZOb3JtYWxDb1QsdmVjMiB0ZXhDb29yZCxmbG9hdCBwYXJhbGxheFNjYWxlKSB7CmZsb2F0IHBhcmFsbGF4TGltaXQ9bGVuZ3RoKHZWaWV3RGlyQ29ULnh5KS92Vmlld0RpckNvVC56OwpwYXJhbGxheExpbWl0Kj1wYXJhbGxheFNjYWxlOwp2ZWMyIHZPZmZzZXREaXI9bm9ybWFsaXplKHZWaWV3RGlyQ29ULnh5KTsKdmVjMiB2TWF4T2Zmc2V0PXZPZmZzZXREaXIqcGFyYWxsYXhMaW1pdDsKZmxvYXQgbnVtU2FtcGxlcz1tYXhTYW1wbGVzKyhkb3QodlZpZXdEaXJDb1Qsdk5vcm1hbENvVCkqKG1pblNhbXBsZXMtbWF4U2FtcGxlcykpOwpmbG9hdCBzdGVwU2l6ZT0xLjAvbnVtU2FtcGxlczsKCmZsb2F0IGN1cnJSYXlIZWlnaHQ9MS4wOwp2ZWMyIHZDdXJyT2Zmc2V0PXZlYzIoMCwwKTsKdmVjMiB2TGFzdE9mZnNldD12ZWMyKDAsMCk7CmZsb2F0IGxhc3RTYW1wbGVkSGVpZ2h0PTEuMDsKZmxvYXQgY3VyclNhbXBsZWRIZWlnaHQ9MS4wOwpmb3IgKGludCBpPTA7IGk8aU1heFNhbXBsZXM7IGkrKykKewpjdXJyU2FtcGxlZEhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdGV4Q29vcmQrdkN1cnJPZmZzZXQpLnc7CgppZiAoY3VyclNhbXBsZWRIZWlnaHQ+Y3VyclJheUhlaWdodCkKewpmbG9hdCBkZWx0YTE9Y3VyclNhbXBsZWRIZWlnaHQtY3VyclJheUhlaWdodDsKZmxvYXQgZGVsdGEyPShjdXJyUmF5SGVpZ2h0K3N0ZXBTaXplKS1sYXN0U2FtcGxlZEhlaWdodDsKZmxvYXQgcmF0aW89ZGVsdGExLyhkZWx0YTErZGVsdGEyKTsKdkN1cnJPZmZzZXQ9KHJhdGlvKSogdkxhc3RPZmZzZXQrKDEuMC1yYXRpbykqdkN1cnJPZmZzZXQ7CgpicmVhazsKfQplbHNlCnsKY3VyclJheUhlaWdodC09c3RlcFNpemU7CnZMYXN0T2Zmc2V0PXZDdXJyT2Zmc2V0Owp2Q3Vyck9mZnNldCs9c3RlcFNpemUqdk1heE9mZnNldDsKbGFzdFNhbXBsZWRIZWlnaHQ9Y3VyclNhbXBsZWRIZWlnaHQ7Cn0KfQpyZXR1cm4gdkN1cnJPZmZzZXQ7Cn0KdmVjMiBwYXJhbGxheE9mZnNldCh2ZWMzIHZpZXdEaXIsZmxvYXQgaGVpZ2h0U2NhbGUpCnsKCmZsb2F0IGhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikudzsKdmVjMiB0ZXhDb29yZE9mZnNldD1oZWlnaHRTY2FsZSp2aWV3RGlyLnh5KmhlaWdodDsKcmV0dXJuIC10ZXhDb29yZE9mZnNldDsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3N1XT1vdTt2YXIgdXU9ImxvZ0RlcHRoRGVjbGFyYXRpb24iLGZ1PWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp1bmlmb3JtIGZsb2F0IGxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKdmFyeWluZyBmbG9hdCB2RnJhZ21lbnREZXB0aDsKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3V1XT1mdTt2YXIgbHU9ImZvZ0ZyYWdtZW50RGVjbGFyYXRpb24iLGh1PWAjaWZkZWYgRk9HCiNkZWZpbmUgRk9HTU9ERV9OT05FIDAuCiNkZWZpbmUgRk9HTU9ERV9FWFAgMS4KI2RlZmluZSBGT0dNT0RFX0VYUDIgMi4KI2RlZmluZSBGT0dNT0RFX0xJTkVBUiAzLgojZGVmaW5lIEUgMi43MTgyOAp1bmlmb3JtIHZlYzQgdkZvZ0luZm9zOwp1bmlmb3JtIHZlYzMgdkZvZ0NvbG9yOwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwpmbG9hdCBDYWxjRm9nRmFjdG9yKCkKewpmbG9hdCBmb2dDb2VmZj0xLjA7CmZsb2F0IGZvZ1N0YXJ0PXZGb2dJbmZvcy55OwpmbG9hdCBmb2dFbmQ9dkZvZ0luZm9zLno7CmZsb2F0IGZvZ0RlbnNpdHk9dkZvZ0luZm9zLnc7CmZsb2F0IGZvZ0Rpc3RhbmNlPWxlbmd0aCh2Rm9nRGlzdGFuY2UpOwppZiAoRk9HTU9ERV9MSU5FQVIgPT0gdkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9KGZvZ0VuZC1mb2dEaXN0YW5jZSkvKGZvZ0VuZC1mb2dTdGFydCk7Cn0KZWxzZSBpZiAoRk9HTU9ERV9FWFAgPT0gdkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQMiA9PSB2Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0xLjAvcG93KEUsZm9nRGlzdGFuY2UqZm9nRGlzdGFuY2UqZm9nRGVuc2l0eSpmb2dEZW5zaXR5KTsKfQpyZXR1cm4gY2xhbXAoZm9nQ29lZmYsMC4wLDEuMCk7Cn0KI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2x1XT1odTt2YXIgY3U9Im9pdEZyYWdtZW50IixkdT1gI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQoKCgpmbG9hdCBmcmFnRGVwdGg9Z2xfRnJhZ0Nvb3JkLno7CiNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTCnVpbnQgaGFsZkZsb2F0PXBhY2tIYWxmMngxNih2ZWMyKGZyYWdEZXB0aCkpOwp2ZWMyIGZ1bGw9dW5wYWNrSGFsZjJ4MTYoaGFsZkZsb2F0KTsKZnJhZ0RlcHRoPWZ1bGwueDsKI2VuZGlmCml2ZWMyIGZyYWdDb29yZD1pdmVjMihnbF9GcmFnQ29vcmQueHkpOwp2ZWMyIGxhc3REZXB0aD10ZXhlbEZldGNoKG9pdERlcHRoU2FtcGxlcixmcmFnQ29vcmQsMCkucmc7CnZlYzQgbGFzdEZyb250Q29sb3I9dGV4ZWxGZXRjaChvaXRGcm9udENvbG9yU2FtcGxlcixmcmFnQ29vcmQsMCk7CgoKZGVwdGgucmc9dmVjMigtTUFYX0RFUFRIKTsKCgpmcm9udENvbG9yPWxhc3RGcm9udENvbG9yOwoKYmFja0NvbG9yPXZlYzQoMC4wKTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmZsb2F0IGZ1cnRoZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBuZWFyZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbHNlCmZsb2F0IG5lYXJlc3REZXB0aD0tbGFzdERlcHRoLng7CmZsb2F0IGZ1cnRoZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbmRpZgoKCmZsb2F0IGFscGhhTXVsdGlwbGllcj0xLjAtbGFzdEZyb250Q29sb3IuYTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmlmIChmcmFnRGVwdGg+bmVhcmVzdERlcHRoIHx8IGZyYWdEZXB0aDxmdXJ0aGVzdERlcHRoKSB7CiNlbHNlCmlmIChmcmFnRGVwdGg8bmVhcmVzdERlcHRoIHx8IGZyYWdEZXB0aD5mdXJ0aGVzdERlcHRoKSB7CiNlbmRpZgoKcmV0dXJuOwp9CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZW5kaWYKCgoKZGVwdGgucmc9dmVjMigtZnJhZ0RlcHRoLGZyYWdEZXB0aCk7CnJldHVybjsKfQoKCgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbY3VdPWR1O3ZhciBwdT0iYnVtcEZyYWdtZW50IixfdT1gdmVjMiB1dk9mZnNldD12ZWMyKDAuMCwwLjApOwojaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmZGVmIE5PUk1BTFhZU0NBTEUKZmxvYXQgbm9ybWFsU2NhbGU9MS4wOwojZWxpZiBkZWZpbmVkKEJVTVApCmZsb2F0IG5vcm1hbFNjYWxlPXZCdW1wSW5mb3MueTsKI2Vsc2UKZmxvYXQgbm9ybWFsU2NhbGU9MS4wOwojZW5kaWYKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCm1hdDMgVEJOPXZUQk47CiNlbGlmIGRlZmluZWQoQlVNUCkKCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2QnVtcFVWIDogLXZCdW1wVVY7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXKm5vcm1hbFNjYWxlLHZQb3NpdGlvblcsVEJOVVYsdlRhbmdlbnRTcGFjZVBhcmFtcyk7CiNlbHNlCgp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkRldGFpbFVWIDogLXZEZXRhaWxVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2Vsc2UKCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2TWFpblVWMSA6IC12TWFpblVWMTsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFBBUkFMTEFYCm1hdDMgaW52VEJOPXRyYW5zcG9zZU1hdDMoVEJOKTsKI2lmZGVmIFBBUkFMTEFYT0NDTFVTSU9OCnV2T2Zmc2V0PXBhcmFsbGF4T2NjbHVzaW9uKGludlRCTiotdmlld0RpcmVjdGlvblcsaW52VEJOKm5vcm1hbFcsdkJ1bXBVVix2QnVtcEluZm9zLnopOwojZWxzZQp1dk9mZnNldD1wYXJhbGxheE9mZnNldChpbnZUQk4qdmlld0RpcmVjdGlvblcsdkJ1bXBJbmZvcy56KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnZlYzQgZGV0YWlsQ29sb3I9dGV4dHVyZTJEKGRldGFpbFNhbXBsZXIsdkRldGFpbFVWK3V2T2Zmc2V0KTsKdmVjMiBkZXRhaWxOb3JtYWxSRz1kZXRhaWxDb2xvci53eSoyLjAtMS4wOwpmbG9hdCBkZXRhaWxOb3JtYWxCPXNxcnQoMS4tc2F0dXJhdGUoZG90KGRldGFpbE5vcm1hbFJHLGRldGFpbE5vcm1hbFJHKSkpOwp2ZWMzIGRldGFpbE5vcm1hbD12ZWMzKGRldGFpbE5vcm1hbFJHLGRldGFpbE5vcm1hbEIpOwojZW5kaWYKI2lmZGVmIEJVTVAKI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUApub3JtYWxXPW5vcm1hbGl6ZSh0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikueHl6KjIuMC0xLjApOwpub3JtYWxXPW5vcm1hbGl6ZShtYXQzKG5vcm1hbE1hdHJpeCkqbm9ybWFsVyk7CiNlbGlmICFkZWZpbmVkKERFVEFJTCkKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsKFRCTix0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6LHZCdW1wSW5mb3MueSk7CiNlbHNlCnZlYzMgYnVtcE5vcm1hbD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6KjIuMC0xLjA7CgojaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EID09IDAKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKdmVjMyBibGVuZGVkTm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKGJ1bXBOb3JtYWwueHkrZGV0YWlsTm9ybWFsLnh5LGJ1bXBOb3JtYWwueipkZXRhaWxOb3JtYWwueikpOwojZWxpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0QgPT0gMQpkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56OwpidW1wTm9ybWFsKz12ZWMzKDAuMCwwLjAsMS4wKTsKZGV0YWlsTm9ybWFsKj12ZWMzKC0xLjAsLTEuMCwxLjApOwp2ZWMzIGJsZW5kZWROb3JtYWw9YnVtcE5vcm1hbCpkb3QoYnVtcE5vcm1hbCxkZXRhaWxOb3JtYWwpL2J1bXBOb3JtYWwuei1kZXRhaWxOb3JtYWw7CiNlbmRpZgpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixibGVuZGVkTm9ybWFsLHZCdW1wSW5mb3MueSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKERFVEFJTCkKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sZGV0YWlsTm9ybWFsLHZEZXRhaWxJbmZvcy56KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtwdV09X3U7dmFyIGd1PSJkZXB0aFByZVBhc3MiLHZ1PWAjaWZkZWYgREVQVEhQUkVQQVNTCmdsX0ZyYWdDb2xvcj12ZWM0KDAuLDAuLDAuLDEuMCk7CnJldHVybjsKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2d1XT12dTt2YXIgbXU9ImxpZ2h0RnJhZ21lbnQiLHl1PWAjaWZkZWYgTElHSFR7WH0KI2lmIGRlZmluZWQoU0hBRE9XT05MWSkgfHwgZGVmaW5lZChMSUdIVE1BUCkgJiYgZGVmaW5lZChMSUdIVE1BUEVYQ0xVREVEe1h9KSAmJiBkZWZpbmVkKExJR0hUTUFQTk9TUEVDVUxBUntYfSkKCiNlbHNlCiNpZmRlZiBQQlIKCiNpZmRlZiBTUE9UTElHSFR7WH0KcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVIZW1pc3BoZXJpY1ByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKERJUkxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVEaXJlY3Rpb25hbFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZW5kaWYKcHJlSW5mby5OZG90Vj1OZG90VjsKCiNpZmRlZiBTUE9UTElHSFR7WH0KI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX0dMVEYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi56LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYudyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9QSFlTSUNBTHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfUGh5c2ljYWwocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9QaHlzaWNhbChsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9TVEFOREFSRHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfU3RhbmRhcmQocHJlSW5mby5saWdodE9mZnNldCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfU3RhbmRhcmQobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQojaWZkZWYgTElHSFRfRkFMTE9GRl9HTFRGe1h9CnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX0dMVEYocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZW5kaWYKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj0xLjA7CiNlbmRpZgoKCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9cm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgoKI2lmZGVmIEhFTUlMSUdIVHtYfQppbmZvLmRpZmZ1c2U9Y29tcHV0ZUhlbWlzcGhlcmljRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kKTsKI2VsaWYgZGVmaW5lZChTU19UUkFOU0xVQ0VOQ1kpCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUFuZFRyYW5zbWl0dGVkTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixzdWJTdXJmYWNlT3V0LnRyYW5zbWl0dGFuY2UpOwojZWxzZQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCgojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBBTklTT1RST1BJQwppbmZvLnNwZWN1bGFyPWNvbXB1dGVBbmlzb3Ryb3BpY1NwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyx2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljVGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3BpY0JpdGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3B5LGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbHNlCmluZm8uc3BlY3VsYXI9Y29tcHV0ZVNwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyxub3JtYWxXLGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojZW5kaWYKCiNpZmRlZiBTSEVFTgojaWZkZWYgU0hFRU5fTElOS1dJVEhBTEJFRE8KCnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuSW50ZW5zaXR5OwojZWxzZQojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuUm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHNoZWVuT3V0LnNoZWVuUm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNlbmRpZgppbmZvLnNoZWVuPWNvbXB1dGVTaGVlbkxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxzaGVlbk91dC5zaGVlbkNvbG9yLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKCiNpZmRlZiBDTEVBUkNPQVQKCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9Y2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Um91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCmluZm8uY2xlYXJDb2F0PWNvbXB1dGVDbGVhckNvYXRMaWdodGluZyhwcmVJbmZvLGNsZWFyY29hdE91dC5jbGVhckNvYXROb3JtYWxXLGNsZWFyY29hdE91dC5jbGVhckNvYXRBQVJvdWdobmVzc0ZhY3RvcnMueCxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0SW50ZW5zaXR5LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2lmZGVmIENMRUFSQ09BVF9USU5UCgphYnNvcnB0aW9uPWNvbXB1dGVDbGVhckNvYXRMaWdodGluZ0Fic29ycHRpb24oY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5kb3RWUmVmcmFjdCxwcmVJbmZvLkwsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdENvbG9yLGNsZWFyY29hdE91dC5jbGVhckNvYXRUaGlja25lc3MsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSk7CmluZm8uZGlmZnVzZSo9YWJzb3JwdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1hYnNvcnB0aW9uOwojZW5kaWYKI2VuZGlmCgppbmZvLmRpZmZ1c2UqPWluZm8uY2xlYXJDb2F0Lnc7CiNpZmRlZiBTUEVDVUxBUlRFUk0KaW5mby5zcGVjdWxhcio9aW5mby5jbGVhckNvYXQudzsKI2VuZGlmCiNpZmRlZiBTSEVFTgppbmZvLnNoZWVuKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZmRlZiBTUE9UTElHSFR7WH0KaW5mbz1jb21wdXRlU3BvdExpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCmluZm89Y29tcHV0ZUhlbWlzcGhlcmljTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHRHcm91bmQsZ2xvc3NpbmVzcyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkgfHwgZGVmaW5lZChESVJMSUdIVHtYfSkKaW5mbz1jb21wdXRlTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHREaWZmdXNlLmEsZ2xvc3NpbmVzcyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQppbmZvLmRpZmZ1c2UqPWNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9LHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKQp7CiNpZmRlZiBTSEFET1dDU01fUklHSFRIQU5ERUR7WH0KZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0rdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZWxzZQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXS12UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbmRpZgppZiAoZGlmZntYfT49MC4pIHsKaW5kZXh7WH09aTsKYnJlYWs7Cn0KfQojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppZiAoaW5kZXh7WH0+PTApCiNlbmRpZgp7CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT12ZWMzKHNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XTsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XQ1NNTk9CTEVORHtYfQpmbG9hdCBmcnVzdHVtTGVuZ3RoPWZydXN0dW1MZW5ndGhze1h9W2luZGV4e1h9XTsKZmxvYXQgZGlmZlJhdGlvPWNsYW1wKGRpZmZ7WH0vZnJ1c3R1bUxlbmd0aCwwLiwxLikqY2FzY2FkZUJsZW5kRmFjdG9ye1h9OwppZiAoaW5kZXh7WH08KFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xKSAmJiBkaWZmUmF0aW88MS4pCnsKaW5kZXh7WH0rPTE7CmZsb2F0IG5leHRTaGFkb3c9MC47CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgpzaGFkb3c9bWl4KG5leHRTaGFkb3csc2hhZG93LGRpZmZSYXRpbyk7CiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT1taXgodmVjMyhuZXh0U2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dLHNoYWRvd0RlYnVne1h9LGRpZmZSYXRpbyk7CiNlbmRpZgp9CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9XQ0xPU0VFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV0VTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQT0lTU09Oe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmdDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0Y1KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMzIodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxzZQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3codlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV09OTFkKI2lmbmRlZiBTSEFET1dJTlVTRQojZGVmaW5lIFNIQURPV0lOVVNFCiNlbmRpZgpnbG9iYWxTaGFkb3crPXNoYWRvdzsKc2hhZG93TGlnaHRDb3VudCs9MS4wOwojZW5kaWYKI2Vsc2UKc2hhZG93PTEuOwojZW5kaWYKI2lmbmRlZiBTSEFET1dPTkxZCiNpZmRlZiBDVVNUT01VU0VSTElHSFRJTkcKZGlmZnVzZUJhc2UrPWNvbXB1dGVDdXN0b21EaWZmdXNlTGlnaHRpbmcoaW5mbyxkaWZmdXNlQmFzZSxzaGFkb3cpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9Y29tcHV0ZUN1c3RvbVNwZWN1bGFyTGlnaHRpbmcoaW5mbyxzcGVjdWxhckJhc2Usc2hhZG93KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkKZGlmZnVzZUJhc2UrPWxpZ2h0bWFwQ29sb3IucmdiKnNoYWRvdzsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0KY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93RGVidWd7WH07CiNlbHNlCmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93OwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVApjbGVhckNvYXRCYXNlKz1pbmZvLmNsZWFyQ29hdC5yZ2Iqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNIRUVOCnNoZWVuQmFzZSs9aW5mby5zaGVlbi5yZ2Iqc2hhZG93OwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbXVdPXl1O3ZhciBidT0ibG9nRGVwdGhGcmFnbWVudCIsRXU9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICmdsX0ZyYWdEZXB0aEVYVD1sb2cyKHZGcmFnbWVudERlcHRoKSpsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQqMC41OwojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYnVdPUV1O3ZhciBUdT0iZm9nRnJhZ21lbnQiLFN1PWAjaWZkZWYgRk9HCmZsb2F0IGZvZz1DYWxjRm9nRmFjdG9yKCk7CiNpZmRlZiBQQlIKZm9nPXRvTGluZWFyU3BhY2UoZm9nKTsKI2VuZGlmCmNvbG9yLnJnYj1taXgodkZvZ0NvbG9yLGNvbG9yLnJnYixmb2cpOwojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbVHVdPVN1O3ZhciBNdT0iZGVmYXVsdFBpeGVsU2hhZGVyIixBdT1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0RnJhZ21lbnQ+CiNpZiBkZWZpbmVkKEJVTVApIHx8ICFkZWZpbmVkKE5PUk1BTCkKI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUKI2VuZGlmCiNpbmNsdWRlPHByZVBhc3NEZWNsYXJhdGlvbj5bU0NFTkVfTVJUX0NPVU5UXQojaW5jbHVkZTxvaXREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4KI2lmZGVmIExPR0FSSVRITUlDREVQVEgKI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZQojZW5kaWYKCiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NAoKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24+WzEuLjddCgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX1NBTVBMRVJOQU1FXyxkaWZmdXNlKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50LF9TQU1QTEVSTkFNRV8sYW1iaWVudCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfU0FNUExFUk5BTUVfLG9wYWNpdHkpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSxfU0FNUExFUk5BTUVfLGVtaXNzaXZlKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXAsX1NBTVBMRVJOQU1FXyxsaWdodG1hcCkKI2lmZGVmIFJFRlJBQ1RJT04KI2lmZGVmIFJFRlJBQ1RJT05NQVBfM0QKdW5pZm9ybSBzYW1wbGVyQ3ViZSByZWZyYWN0aW9uQ3ViZVNhbXBsZXI7CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHJlZnJhY3Rpb24yRFNhbXBsZXI7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIsX1NBTVBMRVJOQU1FXyxzcGVjdWxhcikKI2VuZGlmCgojaW5jbHVkZTxmcmVzbmVsRnVuY3Rpb24+CgojaWZkZWYgUkVGTEVDVElPTgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZmxlY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmbGVjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZWxzZQojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8cmVmbGVjdGlvbkZ1bmN0aW9uPgojZW5kaWYKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24+CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPG9pdEZyYWdtZW50PgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKCnZlYzQgYmFzZUNvbG9yPXZlYzQoMS4sMS4sMS4sMS4pOwp2ZWMzIGRpZmZ1c2VDb2xvcj12RGlmZnVzZUNvbG9yLnJnYjsKCmZsb2F0IGFscGhhPXZEaWZmdXNlQ29sb3IuYTsKCiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUoLWNyb3NzKGRGZHgodlBvc2l0aW9uVyksZEZkeSh2UG9zaXRpb25XKSkpOwojZW5kaWYKI2luY2x1ZGU8YnVtcEZyYWdtZW50PgojaWZkZWYgVFdPU0lERURMSUdIVElORwpub3JtYWxXPWdsX0Zyb250RmFjaW5nID8gbm9ybWFsVyA6IC1ub3JtYWxXOwojZW5kaWYKI2lmZGVmIERJRkZVU0UKYmFzZUNvbG9yPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2RGlmZnVzZVVWK3V2T2Zmc2V0KTsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSAmJiAhZGVmaW5lZChBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUykKaWYgKGJhc2VDb2xvci5hPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmZGVmIEFMUEhBRlJPTURJRkZVU0UKYWxwaGEqPWJhc2VDb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBCmJhc2VDb2xvci5yZ2IqPXZEaWZmdXNlSW5mb3MueTsKI2VuZGlmCiNpbmNsdWRlPGRlcHRoUHJlUGFzcz4KI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCmJhc2VDb2xvci5yZ2IqPXZDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgREVUQUlMCmJhc2VDb2xvci5yZ2I9YmFzZUNvbG9yLnJnYioyLjAqbWl4KDAuNSxkZXRhaWxDb2xvci5yLHZEZXRhaWxJbmZvcy55KTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFCgp2ZWMzIGJhc2VBbWJpZW50Q29sb3I9dmVjMygxLiwxLiwxLik7CiNpZmRlZiBBTUJJRU5UCmJhc2VBbWJpZW50Q29sb3I9dGV4dHVyZTJEKGFtYmllbnRTYW1wbGVyLHZBbWJpZW50VVYrdXZPZmZzZXQpLnJnYip2QW1iaWVudEluZm9zLnk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTCgojaWZkZWYgU1BFQ1VMQVJURVJNCmZsb2F0IGdsb3NzaW5lc3M9dlNwZWN1bGFyQ29sb3IuYTsKdmVjMyBzcGVjdWxhckNvbG9yPXZTcGVjdWxhckNvbG9yLnJnYjsKI2lmZGVmIFNQRUNVTEFSCnZlYzQgc3BlY3VsYXJNYXBDb2xvcj10ZXh0dXJlMkQoc3BlY3VsYXJTYW1wbGVyLHZTcGVjdWxhclVWK3V2T2Zmc2V0KTsKc3BlY3VsYXJDb2xvcj1zcGVjdWxhck1hcENvbG9yLnJnYjsKI2lmZGVmIEdMT1NTSU5FU1MKZ2xvc3NpbmVzcz1nbG9zc2luZXNzKnNwZWN1bGFyTWFwQ29sb3IuYTsKI2VuZGlmCiNlbmRpZgojZWxzZQpmbG9hdCBnbG9zc2luZXNzPTAuOwojZW5kaWYKCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgc3BlY3VsYXJCYXNlPXZlYzMoMC4sMC4sMC4pOwojZW5kaWYKZmxvYXQgc2hhZG93PTEuOwojaWZkZWYgTElHSFRNQVAKdmVjNCBsaWdodG1hcENvbG9yPXRleHR1cmUyRChsaWdodG1hcFNhbXBsZXIsdkxpZ2h0bWFwVVYrdXZPZmZzZXQpOwojaWZkZWYgUkdCRExJR0hUTUFQCmxpZ2h0bWFwQ29sb3IucmdiPWZyb21SR0JEKGxpZ2h0bWFwQ29sb3IpOwojZW5kaWYKbGlnaHRtYXBDb2xvci5yZ2IqPXZMaWdodG1hcEluZm9zLnk7CiNlbmRpZgojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCgp2ZWM0IHJlZnJhY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRlJBQ1RJT04KdmVjMyByZWZyYWN0aW9uVmVjdG9yPW5vcm1hbGl6ZShyZWZyYWN0KC12aWV3RGlyZWN0aW9uVyxub3JtYWxXLHZSZWZyYWN0aW9uSW5mb3MueSkpOwojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAojaWZkZWYgVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUMKcmVmcmFjdGlvblZlY3Rvcj1wYXJhbGxheENvcnJlY3ROb3JtYWwodlBvc2l0aW9uVyxyZWZyYWN0aW9uVmVjdG9yLHZSZWZyYWN0aW9uU2l6ZSx2UmVmcmFjdGlvblBvc2l0aW9uKTsKI2VuZGlmCnJlZnJhY3Rpb25WZWN0b3IueT1yZWZyYWN0aW9uVmVjdG9yLnkqdlJlZnJhY3Rpb25JbmZvcy53OwppZiAoZG90KHJlZnJhY3Rpb25WZWN0b3Isdmlld0RpcmVjdGlvblcpPDEuMCkgewpyZWZyYWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmcmFjdGlvbkN1YmVTYW1wbGVyLHJlZnJhY3Rpb25WZWN0b3IpOwp9CiNlbHNlCnZlYzMgdlJlZnJhY3Rpb25VVlc9dmVjMyhyZWZyYWN0aW9uTWF0cml4Kih2aWV3KnZlYzQodlBvc2l0aW9uVytyZWZyYWN0aW9uVmVjdG9yKnZSZWZyYWN0aW9uSW5mb3MueiwxLjApKSk7CnZlYzIgcmVmcmFjdGlvbkNvb3Jkcz12UmVmcmFjdGlvblVWVy54eS92UmVmcmFjdGlvblVWVy56OwpyZWZyYWN0aW9uQ29vcmRzLnk9MS4wLXJlZnJhY3Rpb25Db29yZHMueTsKcmVmcmFjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZyYWN0aW9uMkRTYW1wbGVyLHJlZnJhY3Rpb25Db29yZHMpOwojZW5kaWYKI2lmZGVmIFJHQkRSRUZSQUNUSU9OCnJlZnJhY3Rpb25Db2xvci5yZ2I9ZnJvbVJHQkQocmVmcmFjdGlvbkNvbG9yKTsKI2VuZGlmCiNpZmRlZiBJU19SRUZSQUNUSU9OX0xJTkVBUgpyZWZyYWN0aW9uQ29sb3IucmdiPXRvR2FtbWFTcGFjZShyZWZyYWN0aW9uQ29sb3IucmdiKTsKI2VuZGlmCnJlZnJhY3Rpb25Db2xvci5yZ2IqPXZSZWZyYWN0aW9uSW5mb3MueDsKI2VuZGlmCgp2ZWM0IHJlZmxlY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRkxFQ1RJT04KdmVjMyB2UmVmbGVjdGlvblVWVz1jb21wdXRlUmVmbGVjdGlvbkNvb3Jkcyh2ZWM0KHZQb3NpdGlvblcsMS4wKSxub3JtYWxXKTsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaCnZSZWZsZWN0aW9uVVZXLnoqPS0xLjA7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAojaWZkZWYgUk9VR0hORVNTCmZsb2F0IGJpYXM9dlJlZmxlY3Rpb25JbmZvcy55OwojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBTUEVDVUxBUgojaWZkZWYgR0xPU1NJTkVTUwpiaWFzKj0oMS4wLXNwZWN1bGFyTWFwQ29sb3IuYSk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcsYmlhcyk7CiNlbHNlCnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZsZWN0aW9uQ3ViZVNhbXBsZXIsdlJlZmxlY3Rpb25VVlcpOwojZW5kaWYKI2Vsc2UKdmVjMiBjb29yZHM9dlJlZmxlY3Rpb25VVlcueHk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04KY29vcmRzLz12UmVmbGVjdGlvblVWVy56OwojZW5kaWYKY29vcmRzLnk9MS4wLWNvb3Jkcy55OwpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZmxlY3Rpb24yRFNhbXBsZXIsY29vcmRzKTsKI2VuZGlmCiNpZmRlZiBSR0JEUkVGTEVDVElPTgpyZWZsZWN0aW9uQ29sb3IucmdiPWZyb21SR0JEKHJlZmxlY3Rpb25Db2xvcik7CiNlbmRpZgojaWZkZWYgSVNfUkVGTEVDVElPTl9MSU5FQVIKcmVmbGVjdGlvbkNvbG9yLnJnYj10b0dhbW1hU3BhY2UocmVmbGVjdGlvbkNvbG9yLnJnYik7CiNlbmRpZgpyZWZsZWN0aW9uQ29sb3IucmdiKj12UmVmbGVjdGlvbkluZm9zLng7CiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTApmbG9hdCByZWZsZWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmbGVjdGlvblJpZ2h0Q29sb3IuYSxyZWZsZWN0aW9uTGVmdENvbG9yLmEpOwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVIKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZWZsZWN0aW9uQ29sb3IucmdiKj1zcGVjdWxhckNvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZWxzZQpyZWZsZWN0aW9uQ29sb3IucmdiKj1yZWZsZWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCmZsb2F0IHJlZnJhY3Rpb25GcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxyZWZyYWN0aW9uUmlnaHRDb2xvci5hLHJlZnJhY3Rpb25MZWZ0Q29sb3IuYSk7CnJlZnJhY3Rpb25Db2xvci5yZ2IqPXJlZnJhY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmcmFjdGlvbkZyZXNuZWxUZXJtKStyZWZyYWN0aW9uRnJlc25lbFRlcm0qcmVmcmFjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdmVjNCBvcGFjaXR5TWFwPXRleHR1cmUyRChvcGFjaXR5U2FtcGxlcix2T3BhY2l0eVVWK3V2T2Zmc2V0KTsKI2lmZGVmIE9QQUNJVFlSR0IKb3BhY2l0eU1hcC5yZ2I9b3BhY2l0eU1hcC5yZ2IqdmVjMygwLjMsMC41OSwwLjExKTsKYWxwaGEqPShvcGFjaXR5TWFwLngrb3BhY2l0eU1hcC55K29wYWNpdHlNYXAueikqIHZPcGFjaXR5SW5mb3MueTsKI2Vsc2UKYWxwaGEqPW9wYWNpdHlNYXAuYSp2T3BhY2l0eUluZm9zLnk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFZFUlRFWEFMUEhBCmFscGhhKj12Q29sb3IuYTsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZRlJFU05FTApmbG9hdCBvcGFjaXR5RnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsb3BhY2l0eVBhcnRzLnosb3BhY2l0eVBhcnRzLncpOwphbHBoYSs9b3BhY2l0eVBhcnRzLngqKDEuMC1vcGFjaXR5RnJlc25lbFRlcm0pK29wYWNpdHlGcmVzbmVsVGVybSpvcGFjaXR5UGFydHMueTsKI2VuZGlmCiNpZmRlZiBBTFBIQVRFU1QKI2lmZGVmIEFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TCmlmIChhbHBoYTxhbHBoYUN1dE9mZikKZGlzY2FyZDsKI2VuZGlmCiNpZm5kZWYgQUxQSEFCTEVORAoKYWxwaGE9MS4wOwojZW5kaWYKI2VuZGlmCgp2ZWMzIGVtaXNzaXZlQ29sb3I9dkVtaXNzaXZlQ29sb3I7CiNpZmRlZiBFTUlTU0lWRQplbWlzc2l2ZUNvbG9yKz10ZXh0dXJlMkQoZW1pc3NpdmVTYW1wbGVyLHZFbWlzc2l2ZVVWK3V2T2Zmc2V0KS5yZ2IqdkVtaXNzaXZlSW5mb3MueTsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUZSRVNORUwKZmxvYXQgZW1pc3NpdmVGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxlbWlzc2l2ZVJpZ2h0Q29sb3IuYSxlbWlzc2l2ZUxlZnRDb2xvci5hKTsKZW1pc3NpdmVDb2xvcio9ZW1pc3NpdmVMZWZ0Q29sb3IucmdiKigxLjAtZW1pc3NpdmVGcmVzbmVsVGVybSkrZW1pc3NpdmVGcmVzbmVsVGVybSplbWlzc2l2ZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKCiNpZmRlZiBESUZGVVNFRlJFU05FTApmbG9hdCBkaWZmdXNlRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsZGlmZnVzZVJpZ2h0Q29sb3IuYSxkaWZmdXNlTGVmdENvbG9yLmEpOwpkaWZmdXNlQmFzZSo9ZGlmZnVzZUxlZnRDb2xvci5yZ2IqKDEuMC1kaWZmdXNlRnJlc25lbFRlcm0pK2RpZmZ1c2VGcmVzbmVsVGVybSpkaWZmdXNlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgoKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKI2lmZGVmIExJTktFTUlTU0lWRVdJVEhESUZGVVNFCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKChkaWZmdXNlQmFzZStlbWlzc2l2ZUNvbG9yKSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrZW1pc3NpdmVDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGZpbmFsU3BlY3VsYXI9c3BlY3VsYXJCYXNlKnNwZWN1bGFyQ29sb3I7CiNpZmRlZiBTUEVDVUxBUk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QoZmluYWxTcGVjdWxhcix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojZWxzZQp2ZWMzIGZpbmFsU3BlY3VsYXI9dmVjMygwLjApOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05PVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KHJlZmxlY3Rpb25Db2xvci5yZ2IsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKCiNpZmRlZiBFTUlTU0lWRUFTSUxMVU1JTkFUSU9OCnZlYzQgY29sb3I9dmVjNChjbGFtcChmaW5hbERpZmZ1c2UqYmFzZUFtYmllbnRDb2xvcitmaW5hbFNwZWN1bGFyK3JlZmxlY3Rpb25Db2xvci5yZ2IrZW1pc3NpdmVDb2xvcityZWZyYWN0aW9uQ29sb3IucmdiLDAuMCwxLjApLGFscGhhKTsKI2Vsc2UKdmVjNCBjb2xvcj12ZWM0KGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYityZWZyYWN0aW9uQ29sb3IucmdiLGFscGhhKTsKI2VuZGlmCgojaWZkZWYgTElHSFRNQVAKI2lmbmRlZiBMSUdIVE1BUEVYQ0xVREVECiNpZmRlZiBVU0VMSUdIVE1BUEFTU0hBRE9XTUFQCmNvbG9yLnJnYio9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbHNlCmNvbG9yLnJnYis9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GT0cKY29sb3IucmdiPW1heChjb2xvci5yZ2IsMC4pOwojaW5jbHVkZTxsb2dEZXB0aEZyYWdtZW50PgojaW5jbHVkZTxmb2dGcmFnbWVudD4KCgojaWZkZWYgSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1MKY29sb3IucmdiPXRvTGluZWFyU3BhY2UoY29sb3IucmdiKTsKI2Vsc2UKI2lmZGVmIElNQUdFUFJPQ0VTU0lORwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwpjb2xvcj1hcHBseUltYWdlUHJvY2Vzc2luZyhjb2xvcik7CiNlbmRpZgojZW5kaWYKY29sb3IuYSo9dmlzaWJpbGl0eTsKI2lmZGVmIFBSRU1VTFRJUExZQUxQSEEKCmNvbG9yLnJnYio9Y29sb3IuYTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GUkFHQ09MT1IKI2lmZGVmIFBSRVBBU1MKZmxvYXQgd3JpdGVHZW9tZXRyeUluZm89Y29sb3IuYT4wLjQgPyAxLjAgOiAwLjA7CmdsX0ZyYWdEYXRhWzBdPWNvbG9yOwojaWZkZWYgUFJFUEFTU19QT1NJVElPTgpnbF9GcmFnRGF0YVtQUkVQQVNTX1BPU0lUSU9OX0lOREVYXT12ZWM0KHZQb3NpdGlvblcsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmVjMiBhPSh2Q3VycmVudFBvc2l0aW9uLnh5L3ZDdXJyZW50UG9zaXRpb24udykqMC41KzAuNTsKdmVjMiBiPSh2UHJldmlvdXNQb3NpdGlvbi54eS92UHJldmlvdXNQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIHZlbG9jaXR5PWFicyhhLWIpOwp2ZWxvY2l0eT12ZWMyKHBvdyh2ZWxvY2l0eS54LDEuMC8zLjApLHBvdyh2ZWxvY2l0eS55LDEuMC8zLjApKSpzaWduKGEtYikqMC41KzAuNTsKZ2xfRnJhZ0RhdGFbUFJFUEFTU19WRUxPQ0lUWV9JTkRFWF09dmVjNCh2ZWxvY2l0eSwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfSVJSQURJQU5DRQpnbF9GcmFnRGF0YVtQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfREVQVEgKZ2xfRnJhZ0RhdGFbUFJFUEFTU19ERVBUSF9JTkRFWF09dmVjNCh2Vmlld1Bvcy56LDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfTk9STUFMCmdsX0ZyYWdEYXRhW1BSRVBBU1NfTk9STUFMX0lOREVYXT12ZWM0KCh2aWV3KnZlYzQobm9ybWFsVywwLjApKS5yZ2Isd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfQUxCRURPX1NRUlQKZ2xfRnJhZ0RhdGFbUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19SRUZMRUNUSVZJVFkKI2lmIGRlZmluZWQoU1BFQ1VMQVIpCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KHNwZWN1bGFyTWFwQ29sb3IucmdiLHNwZWN1bGFyTWFwQ29sb3IuYSp3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbHNlCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmICFkZWZpbmVkKFBSRVBBU1MpIHx8IGRlZmluZWQoV0VCR0wyKQpnbF9GcmFnQ29sb3I9Y29sb3I7CiNlbmRpZgojaWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCmlmIChmcmFnRGVwdGggPT0gbmVhcmVzdERlcHRoKSB7CmZyb250Q29sb3IucmdiKz1jb2xvci5yZ2IqY29sb3IuYSphbHBoYU11bHRpcGxpZXI7CmZyb250Q29sb3IuYT0xLjAtYWxwaGFNdWx0aXBsaWVyKigxLjAtY29sb3IuYSk7Cn0gZWxzZSB7CmJhY2tDb2xvcis9Y29sb3I7Cn0KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVtNdV09QXU7dmFyIFJ1PSJkZWZhdWx0VmVydGV4RGVjbGFyYXRpb24iLFB1PWAKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIG1hdDQgdmlldzsKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CnVuaWZvcm0gdmVjMiB2RGlmZnVzZUluZm9zOwojZW5kaWYKI2lmZGVmIEFNQklFTlQKdW5pZm9ybSBtYXQ0IGFtYmllbnRNYXRyaXg7CnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdW5pZm9ybSBtYXQ0IG9wYWNpdHlNYXRyaXg7CnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKdW5pZm9ybSBtYXQ0IGVtaXNzaXZlTWF0cml4OwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCnVuaWZvcm0gdmVjMiB2TGlnaHRtYXBJbmZvczsKdW5pZm9ybSBtYXQ0IGxpZ2h0bWFwTWF0cml4OwojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVIpICYmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQp1bmlmb3JtIHZlYzIgdlNwZWN1bGFySW5mb3M7CnVuaWZvcm0gbWF0NCBzcGVjdWxhck1hdHJpeDsKI2VuZGlmCiNpZmRlZiBCVU1QCnVuaWZvcm0gdmVjMyB2QnVtcEluZm9zOwp1bmlmb3JtIG1hdDQgYnVtcE1hdHJpeDsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCiNpZmRlZiBERVRBSUwKdW5pZm9ybSB2ZWM0IHZEZXRhaWxJbmZvczsKdW5pZm9ybSBtYXQ0IGRldGFpbE1hdHJpeDsKI2VuZGlmCiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1J1XT1QdTt2YXIgQ3U9InV2QXR0cmlidXRlRGVjbGFyYXRpb24iLER1PWAjaWZkZWYgVVZ7WH0KYXR0cmlidXRlIHZlYzIgdXZ7WH07CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQ3VdPUR1O3ZhciB4dT0icHJlUGFzc1ZlcnRleERlY2xhcmF0aW9uIixJdT1gI2lmZGVmIFBSRVBBU1MKI2lmZGVmIFBSRVBBU1NfREVQVEgKdmFyeWluZyB2ZWMzIHZWaWV3UG9zOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdW5pZm9ybSBtYXQ0IHByZXZpb3VzVmlld1Byb2plY3Rpb247CnZhcnlpbmcgdmVjNCB2Q3VycmVudFBvc2l0aW9uOwp2YXJ5aW5nIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeHVdPUl1O3ZhciBPdT0ic2FtcGxlclZlcnRleERlY2xhcmF0aW9uIixGdT1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVViA9PSAwCnZhcnlpbmcgdmVjMiB2X1ZBUllJTkdOQU1FX1VWOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW091XT1GdTt2YXIgd3U9ImJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbiIsTHU9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbd3VdPUx1O3ZhciBOdT0iZm9nVmVydGV4RGVjbGFyYXRpb24iLEJ1PWAjaWZkZWYgRk9HCnZhcnlpbmcgdmVjMyB2Rm9nRGlzdGFuY2U7CiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtOdV09QnU7dmFyIFV1PSJsaWdodFZ4RnJhZ21lbnREZWNsYXJhdGlvbiIsVnU9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9Owp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1V1XT1WdTt2YXIga3U9ImxpZ2h0VnhVYm9EZWNsYXJhdGlvbiIsV3U9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtrdV09V3U7dmFyIHp1PSJwcmVQYXNzVmVydGV4IixHdT1gI2lmZGVmIFBSRVBBU1NfREVQVEgKdlZpZXdQb3M9KHZpZXcqd29ybGRQb3MpLnJnYjsKI2VuZGlmCiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmIGRlZmluZWQoQk9ORVNfVkVMT0NJVFlfRU5BQkxFRCkKdkN1cnJlbnRQb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKbWF0NCBwcmV2aW91c0luZmx1ZW5jZTsKcHJldmlvdXNJbmZsdWVuY2U9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1swXSldKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMV0pXSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzNdKV0qbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsyXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqcHJldmlvdXNJbmZsdWVuY2UqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2Vsc2UKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbenVdPUd1O3ZhciBYdT0idXZWYXJpYWJsZURlY2xhcmF0aW9uIixIdT1gI2lmICFkZWZpbmVkKFVWe1h9KSAmJiBkZWZpbmVkKE1BSU5VVntYfSkKdmVjMiB1dntYfT12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVZ7WH0Kdk1haW5VVntYfT11dntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtYdV09SHU7dmFyIGp1PSJzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24iLEt1PWAjaWYgZGVmaW5lZChfREVGSU5FTkFNRV8pICYmIF9ERUZJTkVOQU1FX0RJUkVDVFVWID09IDAKaWYgKHZfSU5GT05BTUVfID09IDAuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwp9CiNpZmRlZiBVVjIKZWxzZSBpZiAodl9JTkZPTkFNRV8gPT0gMS4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjMKZWxzZSBpZiAodl9JTkZPTkFNRV8gPT0gMi4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2MywxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjQKZWxzZSBpZiAodl9JTkZPTkFNRV8gPT0gMy4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NCwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjUKZWxzZSBpZiAodl9JTkZPTkFNRV8gPT0gNC4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NSwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjYKZWxzZSBpZiAodl9JTkZPTkFNRV8gPT0gNS4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NiwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbanVdPUt1O3ZhciBZdT0iYnVtcFZlcnRleCIscXU9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQp2ZWMzIHRibk5vcm1hbD1ub3JtYWxpemUobm9ybWFsVXBkYXRlZCk7CnZlYzMgdGJuVGFuZ2VudD1ub3JtYWxpemUodGFuZ2VudFVwZGF0ZWQueHl6KTsKdmVjMyB0Ym5CaXRhbmdlbnQ9Y3Jvc3ModGJuTm9ybWFsLHRiblRhbmdlbnQpKnRhbmdlbnRVcGRhdGVkLnc7CnZUQk49bWF0MyhmaW5hbFdvcmxkKSptYXQzKHRiblRhbmdlbnQsdGJuQml0YW5nZW50LHRibk5vcm1hbCk7CiNlbmRpZgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWXVdPXF1O3ZhciBadT0iZm9nVmVydGV4IixRdT1gI2lmZGVmIEZPRwp2Rm9nRGlzdGFuY2U9KHZpZXcqd29ybGRQb3MpLnh5ejsKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1p1XT1RdTt2YXIgJHU9InNoYWRvd3NWZXJ0ZXgiLEp1PWAjaWZkZWYgU0hBRE9XUwojaWYgZGVmaW5lZChTSEFET1dDU017WH0pCnZQb3NpdGlvbkZyb21DYW1lcmF7WH09dmlldyp3b3JsZFBvczsKZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKSB7CnZQb3NpdGlvbkZyb21MaWdodHtYfVtpXT1saWdodE1hdHJpeHtYfVtpXSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfVtpXT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfVtpXT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldLnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCn0KI2VsaWYgZGVmaW5lZChTSEFET1d7WH0pICYmICFkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnZQb3NpdGlvbkZyb21MaWdodHtYfT1saWdodE1hdHJpeHtYfSp3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY3tYfT0oLXZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbHNlCnZEZXB0aE1ldHJpY3tYfT0odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2VuZGlmCiNlbmRpZgojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJHVdPUp1O3ZhciBlZj0icG9pbnRDbG91ZFZlcnRleCIsdGY9YCNpZiBkZWZpbmVkKFBPSU5UU0laRSkgJiYgIWRlZmluZWQoV0VCR1BVKQpnbF9Qb2ludFNpemU9cG9pbnRTaXplOwojZW5kaWZgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZWZdPXRmO3ZhciByZj0ibG9nRGVwdGhWZXJ0ZXgiLG5mPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp2RnJhZ21lbnREZXB0aD0xLjArZ2xfUG9zaXRpb24udzsKZ2xfUG9zaXRpb24uej1sb2cyKG1heCgwLjAwMDAwMSx2RnJhZ21lbnREZXB0aCkpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3JmXT1uZjt2YXIgYWY9ImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLHNmPWAjaW5jbHVkZTxfX2RlY2xfX2RlZmF1bHRWZXJ0ZXg+CgojZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4KYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2lmZGVmIFRBTkdFTlQKYXR0cmlidXRlIHZlYzQgdGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaW5jbHVkZTx1dkF0dHJpYnV0ZURlY2xhcmF0aW9uPlsyLi43XQojaWZkZWYgVkVSVEVYQ09MT1IKYXR0cmlidXRlIHZlYzQgY29sb3I7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8cHJlUGFzc1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24+WzEuLjddCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyKQojZW5kaWYKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXApCgp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0VnhGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpZmRlZiBUQU5HRU5UCnZlYzQgdGFuZ2VudFVwZGF0ZWQ9dGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdlBvc2l0aW9uVVZXPXBvc2l0aW9uVXBkYXRlZDsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04KI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwKI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaWYgZGVmaW5lZChQUkVQQVNTKSAmJiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmICFkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCgp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKmZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpZmRlZiBOT1JNQUwKbWF0MyBub3JtYWxXb3JsZD1tYXQzKGZpbmFsV29ybGQpOwojaWYgZGVmaW5lZChJTlNUQU5DRVMpICYmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpCnZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybWFsV29ybGRbMF0sbm9ybWFsV29ybGRbMF0pLGRvdChub3JtYWxXb3JsZFsxXSxub3JtYWxXb3JsZFsxXSksZG90KG5vcm1hbFdvcmxkWzJdLG5vcm1hbFdvcmxkWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtYWxXb3JsZD10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1hbFdvcmxkKSk7CiNlbmRpZgp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybWFsV29ybGQqbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUwojaWZkZWYgTVVMVElWSUVXCmlmIChnbF9WaWV3SURfT1ZSID09IDB1KSB7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp9IGVsc2UgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvblIqd29ybGRQb3M7Cn0KI2Vsc2UKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNlbmRpZgp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaW5jbHVkZTxwcmVQYXNzVmVydGV4PgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2RGlyZWN0aW9uVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDAuMCkpKTsKI2VuZGlmCgojaWZuZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVYxCnZNYWluVVYxPXV2VXBkYXRlZDsKI2VuZGlmCiNpbmNsdWRlPHV2VmFyaWFibGVEZWNsYXJhdGlvbj5bMi4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX01BVFJJWE5BTUVfLGRpZmZ1c2UsX0lORk9OQU1FXyxEaWZmdXNlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9NQVRSSVhOQU1FXyxkZXRhaWwsX0lORk9OQU1FXyxEZXRhaWxJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfTUFUUklYTkFNRV8sYW1iaWVudCxfSU5GT05BTUVfLEFtYmllbnRJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfTUFUUklYTkFNRV8sb3BhY2l0eSxfSU5GT05BTUVfLE9wYWNpdHlJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9NQVRSSVhOQU1FXyxlbWlzc2l2ZSxfSU5GT05BTUVfLEVtaXNzaXZlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfTUFUUklYTkFNRV8sbGlnaHRtYXAsX0lORk9OQU1FXyxMaWdodG1hcEluZm9zLngpCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfTUFUUklYTkFNRV8sc3BlY3VsYXIsX0lORk9OQU1FXyxTcGVjdWxhckluZm9zLngpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfTUFUUklYTkFNRV8sYnVtcCxfSU5GT05BTUVfLEJ1bXBJbmZvcy54KQojaW5jbHVkZTxidW1wVmVydGV4PgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaWZkZWYgVkVSVEVYQ09MT1IKdkNvbG9yPWNvbG9yOwojZWxpZiBJTlNUQU5DRVNDT0xPUgp2Q29sb3I9aW5zdGFuY2VDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPHBvaW50Q2xvdWRWZXJ0ZXg+CiNpbmNsdWRlPGxvZ0RlcHRoVmVydGV4PgojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfQpgO0wuU2hhZGVyc1N0b3JlW2FmXT1zZjt2YXIgb2Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3BsdWdpbnM9W10sdGhpcy5fYWN0aXZlUGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHM9W10sdGhpcy5fbWF0ZXJpYWw9ZSx0aGlzLl9zY2VuZT1lLmdldFNjZW5lKCksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfXJldHVybiBpLnByb3RvdHlwZS5fYWRkUGx1Z2luPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcGx1Z2lucy5sZW5ndGg7Kyt0KWlmKHRoaXMuX3BsdWdpbnNbdF0ubmFtZT09PWUubmFtZSl0aHJvdydQbHVnaW4gIicuY29uY2F0KGUubmFtZSwnIiBhbHJlYWR5IGFkZGVkIHRvIHRoZSBtYXRlcmlhbCAiJykuY29uY2F0KHRoaXMuX21hdGVyaWFsLm5hbWUsJyIhJyk7aWYodGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdCl0aHJvdydUaGUgcGx1Z2luICInLmNvbmNhdChlLm5hbWUsYCIgY2FuJ3QgYmUgYWRkZWQgdG8gdGhlIG1hdGVyaWFsICJgKS5jb25jYXQodGhpcy5fbWF0ZXJpYWwubmFtZSwnIiBiZWNhdXNlIHRoaXMgbWF0ZXJpYWwgaGFzIGFscmVhZHkgYmVlbiB1c2VkIGZvciByZW5kZXJpbmchIFBsZWFzZSBhZGQgcGx1Z2lucyB0byBtYXRlcmlhbHMgYmVmb3JlIGFueSByZW5kZXJpbmcgd2l0aCB0aGlzIG1hdGVyaWFsIG9jY3Vycy4nKTt0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnQuYmluZCh0aGlzKSx0aGlzLl9wbHVnaW5zLnB1c2goZSksdGhpcy5fcGx1Z2lucy5zb3J0KGZ1bmN0aW9uKG8sdSl7cmV0dXJuIG8ucHJpb3JpdHktdS5wcmlvcml0eX0pLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHM9e307Zm9yKHZhciByPXt9LG49MCxhPXRoaXMuX3BsdWdpbnM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5jb2xsZWN0RGVmaW5lcyhyKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygidmVydGV4IixzLmdldEN1c3RvbUNvZGUoInZlcnRleCIpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygiZnJhZ21lbnQiLHMuZ2V0Q3VzdG9tQ29kZSgiZnJhZ21lbnQiKSl9T2JqZWN0LmtleXMocikubGVuZ3RoPjA/dGhpcy5fZGVmaW5lTmFtZXNGcm9tUGx1Z2lucz1yOmRlbGV0ZSB0aGlzLl9kZWZpbmVOYW1lc0Zyb21QbHVnaW5zfSxpLnByb3RvdHlwZS5fYWN0aXZhdGVQbHVnaW49ZnVuY3Rpb24oZSl7dGhpcy5fYWN0aXZlUGx1Z2lucy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVQbHVnaW5zLnB1c2goZSksdGhpcy5fYWN0aXZlUGx1Z2lucy5zb3J0KGZ1bmN0aW9uKHQscil7cmV0dXJuIHQucHJpb3JpdHktci5wcmlvcml0eX0pLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaC5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaC5iaW5kKHRoaXMpLGUucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cyYmKHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cy5zb3J0KGZ1bmN0aW9uKHQscil7cmV0dXJuIHQucHJpb3JpdHktci5wcmlvcml0eX0pLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSkpfSxpLnByb3RvdHlwZS5nZXRQbHVnaW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3QpaWYodGhpcy5fcGx1Z2luc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5fcGx1Z2luc1t0XTtyZXR1cm4gbnVsbH0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSEwLHI9MCxuPXRoaXMuX2FjdGl2ZVBsdWdpbnM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07dD10JiZhLmlzUmVhZHlGb3JTdWJNZXNoKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX1lLmlzUmVhZHlGb3JTdWJNZXNoPXR9LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLnByZXBhcmVEZWZpbmVzKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSxlLm1lc2gpfX0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uaGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfX0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj10aGlzLl9hY3RpdmVQbHVnaW5zO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uYmluZEZvclN1Yk1lc2godGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXIsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ITEscj0wLG49dGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKHQ9YS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpLHQpYnJlYWt9ZS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj10aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZS5yZW5kZXJUYXJnZXRzKX19LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudD1mdW5jdGlvbihlLHQpe3ZhciByLG4sYTtzd2l0Y2goZSl7Y2FzZSBSZS5HZXRBY3RpdmVUZXh0dXJlczp7Zm9yKHZhciBzPXQsbz0wLHU9dGhpcy5fYWN0aXZlUGx1Z2lucztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmdldEFjdGl2ZVRleHR1cmVzKHMuYWN0aXZlVGV4dHVyZXMpfWJyZWFrfWNhc2UgUmUuR2V0QW5pbWF0YWJsZXM6e2Zvcih2YXIgcz10LGw9MCxoPXRoaXMuX2FjdGl2ZVBsdWdpbnM7bDxoLmxlbmd0aDtsKyspe3ZhciBmPWhbbF07Zi5nZXRBbmltYXRhYmxlcyhzLmFuaW1hdGFibGVzKX1icmVha31jYXNlIFJlLkhhc1RleHR1cmU6e2Zvcih2YXIgcz10LGM9ITEsZD0wLHA9dGhpcy5fYWN0aXZlUGx1Z2lucztkPHAubGVuZ3RoO2QrKyl7dmFyIGY9cFtkXTtpZihjPWYuaGFzVGV4dHVyZShzLnRleHR1cmUpLGMpYnJlYWt9cy5oYXNUZXh0dXJlPWM7YnJlYWt9Y2FzZSBSZS5EaXNwb3NlZDp7Zm9yKHZhciBzPXQsXz0wLGc9dGhpcy5fcGx1Z2lucztfPGcubGVuZ3RoO18rKyl7dmFyIGY9Z1tfXTtmLmRpc3Bvc2Uocy5mb3JjZURpc3Bvc2VUZXh0dXJlcyl9YnJlYWt9Y2FzZSBSZS5HZXREZWZpbmVOYW1lczp7dmFyIHM9dDtzLmRlZmluZU5hbWVzPXRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM7YnJlYWt9Y2FzZSBSZS5QcmVwYXJlRWZmZWN0Ontmb3IodmFyIHM9dCxtPTAsdj10aGlzLl9hY3RpdmVQbHVnaW5zO208di5sZW5ndGg7bSsrKXt2YXIgZj12W21dO3MuZmFsbGJhY2tSYW5rPWYuYWRkRmFsbGJhY2tzKHMuZGVmaW5lcyxzLmZhbGxiYWNrcyxzLmZhbGxiYWNrUmFuayl9dGhpcy5fdW5pZm9ybUxpc3QubGVuZ3RoPjAmJihyPXMudW5pZm9ybXMpLnB1c2guYXBwbHkocix0aGlzLl91bmlmb3JtTGlzdCksdGhpcy5fc2FtcGxlckxpc3QubGVuZ3RoPjAmJihuPXMuc2FtcGxlcnMpLnB1c2guYXBwbHkobix0aGlzLl9zYW1wbGVyTGlzdCksdGhpcy5fdWJvTGlzdC5sZW5ndGg+MCYmKGE9cy51bmlmb3JtQnVmZmVyc05hbWVzKS5wdXNoLmFwcGx5KGEsdGhpcy5fdWJvTGlzdCkscy5jdXN0b21Db2RlPXRoaXMuX2luamVjdEN1c3RvbUNvZGUocy5jdXN0b21Db2RlKTticmVha31jYXNlIFJlLlByZXBhcmVVbmlmb3JtQnVmZmVyOnt2YXIgcz10O3RoaXMuX3Vib0RlY2xhcmF0aW9uPSIiLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uPSIiLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb249IiIsdGhpcy5fdW5pZm9ybUxpc3Q9W10sdGhpcy5fc2FtcGxlckxpc3Q9W10sdGhpcy5fdWJvTGlzdD1bXTtmb3IodmFyIFM9MCxNPXRoaXMuX3BsdWdpbnM7UzxNLmxlbmd0aDtTKyspe3ZhciBmPU1bU10sQT1mLmdldFVuaWZvcm1zKCk7aWYoQSl7aWYoQS51Ym8pZm9yKHZhciBSPTAseT1BLnVibztSPHkubGVuZ3RoO1IrKyl7dmFyIEM9eVtSXTtzLnViby5hZGRVbmlmb3JtKEMubmFtZSxDLnNpemUpLHRoaXMuX3Vib0RlY2xhcmF0aW9uKz0iIi5jb25jYXQoQy50eXBlLCIgIikuY29uY2F0KEMubmFtZSxgO1xyCmApLHRoaXMuX3VuaWZvcm1MaXN0LnB1c2goQy5uYW1lKX1BLnZlcnRleCYmKHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uKz1BLnZlcnRleCtgXHIKYCksQS5mcmFnbWVudCYmKHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24rPUEuZnJhZ21lbnQrYFxyCmApfWYuZ2V0U2FtcGxlcnModGhpcy5fc2FtcGxlckxpc3QpLGYuZ2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcyh0aGlzLl91Ym9MaXN0KX1icmVha319fSxpLnByb3RvdHlwZS5fY29sbGVjdFBvaW50TmFtZXM9ZnVuY3Rpb24oZSx0KXtpZighIXQpZm9yKHZhciByIGluIHQpdGhpcy5fY29kZUluamVjdGlvblBvaW50c1tlXXx8KHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV09e30pLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV1bcl09ITB9LGkucHJvdG90eXBlLl9pbmplY3RDdXN0b21Db2RlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIsbil7dmFyIGE7ZSYmKG49ZShyLG4pKSx0Ll91Ym9EZWNsYXJhdGlvbiYmKG49bi5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OIix0Ll91Ym9EZWNsYXJhdGlvbikpLHQuX3ZlcnRleERlY2xhcmF0aW9uJiYobj1uLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04iLHQuX3ZlcnRleERlY2xhcmF0aW9uKSksdC5fZnJhZ21lbnREZWNsYXJhdGlvbiYmKG49bi5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04iLHQuX2ZyYWdtZW50RGVjbGFyYXRpb24pKTt2YXIgcz0oYT10Ll9jb2RlSW5qZWN0aW9uUG9pbnRzKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmFbcl07aWYoIXMpcmV0dXJuIG47Zm9yKHZhciBvIGluIHMpe2Zvcih2YXIgdT0iIixmPTAsbD10Ll9hY3RpdmVQbHVnaW5zO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdLGM9aC5nZXRDdXN0b21Db2RlKHIpOyhjPT1udWxsP3ZvaWQgMDpjW29dKSYmKHUrPWNbb10rYFxyCmApfWlmKHUubGVuZ3RoPjApaWYoby5jaGFyQXQoMCk9PT0iISIpZm9yKHZhciBkPW5ldyBSZWdFeHAoby5zdWJzdHJpbmcoMSksImciKSxwPWQuZXhlYyhuKTtwIT09bnVsbDspbj1uLnJlcGxhY2UocFswXSx1KSxwPWQuZXhlYyhuKTtlbHNle3ZhciBfPSIjZGVmaW5lICIrbztuPW4ucmVwbGFjZShfLGBccgpgK3UrYFxyCmArXyl9fXJldHVybiBufX0saX0oKSx1Zj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPSEwKSxzPT09dm9pZCAwJiYocz0hMSksdGhpcy5wcmlvcml0eT01MDAsdGhpcy5yZWdpc3RlckZvckV4dHJhRXZlbnRzPSExLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5uYW1lPXQsdGhpcy5wcmlvcml0eT1yLGUucGx1Z2luTWFuYWdlcnx8KGUucGx1Z2luTWFuYWdlcj1uZXcgb2YoZSkpLHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzPW4sdGhpcy5fcGx1Z2luTWFuYWdlcj1lLnBsdWdpbk1hbmFnZXIsYSYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWRkUGx1Z2luKHRoaXMpLHMmJnRoaXMuX2VuYWJsZSghMCksdGhpcy5tYXJrQWxsRGVmaW5lc0FzRGlydHk9ZS5fZGlydHlDYWxsYmFja3NbNjNdfXJldHVybiBpLnByb3RvdHlwZS5fZW5hYmxlPWZ1bmN0aW9uKGUpe2UmJnRoaXMuX3BsdWdpbk1hbmFnZXIuX2FjdGl2YXRlUGx1Z2luKHRoaXMpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTWF0ZXJpYWxQbHVnaW5CYXNlIn0saS5wcm90b3R5cGUuaXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuITB9LGkucHJvdG90eXBlLmhhcmRCaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlLHQscixuKXt9LGkucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKGUsdCxyLG4pe30saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmdldEN1c3RvbUNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLmNvbGxlY3REZWZpbmVzPWZ1bmN0aW9uKGUpe2lmKCEhdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXMpZm9yKHZhciB0PTAscj1PYmplY3Qua2V5cyh0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcyk7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07aWYoblswXSE9PSJfIil7dmFyIGE9dHlwZW9mIHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzW25dO2Vbbl09e3R5cGU6YT09PSJudW1iZXIiPyJudW1iZXIiOmE9PT0ic3RyaW5nIj8ic3RyaW5nIjphPT09ImJvb2xlYW4iPyJib29sZWFuIjoib2JqZWN0IixkZWZhdWx0OnRoaXMuX3BsdWdpbkRlZmluZU5hbWVzW25dfX19fSxpLnByb3RvdHlwZS5wcmVwYXJlRGVmaW5lcz1mdW5jdGlvbihlLHQscil7fSxpLnByb3RvdHlwZS5oYXNUZXh0dXJlPWZ1bmN0aW9uKGUpe3JldHVybiExfSxpLnByb3RvdHlwZS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiExfSxpLnByb3RvdHlwZS5maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmdldEFuaW1hdGFibGVzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuYWRkRmFsbGJhY2tzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcn0saS5wcm90b3R5cGUuZ2V0U2FtcGxlcnM9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRVbmlmb3JtQnVmZmVyc05hbWVzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm57fX0saS5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKGUpe1kuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gZX0sdGhpcyl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBZLlNlcmlhbGl6ZSh0aGlzKX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7WS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBufSxlLHQscil9LFQoW1AoKV0saS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwicHJpb3JpdHkiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwicmVnaXN0ZXJGb3JFeHRyYUV2ZW50cyIsdm9pZCAwKSxpfSgpLGZmPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKCl7dmFyIHQ9aSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LkRFVEFJTD0hMSx0LkRFVEFJTERJUkVDVFVWPTAsdC5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9MCx0fXJldHVybiBlfShiciksbGY9ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyKXtyPT09dm9pZCAwJiYocj0hMCk7dmFyIG49aS5jYWxsKHRoaXMsdCwiRGV0YWlsTWFwIiwxNDAsbmV3IGZmLHIpfHx0aGlzO3JldHVybiBuLl90ZXh0dXJlPW51bGwsbi5kaWZmdXNlQmxlbmRMZXZlbD0xLG4ucm91Z2huZXNzQmxlbmRMZXZlbD0xLG4uYnVtcExldmVsPTEsbi5fbm9ybWFsQmxlbmRNZXRob2Q9RGUuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQsbi5faXNFbmFibGVkPSExLG4uaXNFbmFibGVkPSExLG4uX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT10Ll9kaXJ0eUNhbGxiYWNrc1sxXSxufXJldHVybiBlLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZSh0aGlzLl9pc0VuYWJsZWQpLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfSxlLnByb3RvdHlwZS5pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZD8hKHQuX2FyZVRleHR1cmVzRGlydHkmJnIudGV4dHVyZXNFbmFibGVkJiZuLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmIXRoaXMuX3RleHR1cmUuaXNSZWFkeSgpKTohMH0sZS5wcm90b3R5cGUucHJlcGFyZURlZmluZXM9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMuX2lzRW5hYmxlZCl7dC5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2Q7dmFyIGE9ci5nZXRFbmdpbmUoKTt0Ll9hcmVUZXh0dXJlc0RpcnR5JiYoYS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fdGV4dHVyZSYmdWUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJnRoaXMuX2lzRW5hYmxlZD8oSC5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3RleHR1cmUsdCwiREVUQUlMIiksdC5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2QpOnQuREVUQUlMPSExKX1lbHNlIHQuREVUQUlMPSExfSxlLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbixhKXtpZighIXRoaXMuX2lzRW5hYmxlZCl7dmFyIHM9dGhpcy5fbWF0ZXJpYWwuaXNGcm96ZW47KCF0LnVzZVVib3x8IXN8fCF0LmlzU3luYykmJnRoaXMuX3RleHR1cmUmJnVlLkRldGFpbFRleHR1cmVFbmFibGVkJiYodC51cGRhdGVGbG9hdDQoInZEZXRhaWxJbmZvcyIsdGhpcy5fdGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWwsdGhpcy5idW1wTGV2ZWwsdGhpcy5yb3VnaG5lc3NCbGVuZExldmVsKSxILkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3RleHR1cmUsdCwiZGV0YWlsIikpLHIudGV4dHVyZXNFbmFibGVkJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmdC5zZXRUZXh0dXJlKCJkZXRhaWxTYW1wbGVyIix0aGlzLl90ZXh0dXJlKX19LGUucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RleHR1cmU9PT10fSxlLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiZ0LnB1c2godGhpcy5fdGV4dHVyZSl9LGUucHJvdG90eXBlLmdldEFuaW1hdGFibGVzPWZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fdGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fdGV4dHVyZSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7dmFyIHI7dCYmKChyPXRoaXMuX3RleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCkpfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iRGV0YWlsTWFwQ29uZmlndXJhdGlvbiJ9LGUucHJvdG90eXBlLmdldFNhbXBsZXJzPWZ1bmN0aW9uKHQpe3QucHVzaCgiZGV0YWlsU2FtcGxlciIpfSxlLnByb3RvdHlwZS5nZXRVbmlmb3Jtcz1mdW5jdGlvbigpe3JldHVybnt1Ym86W3tuYW1lOiJ2RGV0YWlsSW5mb3MiLHNpemU6NCx0eXBlOiJ2ZWM0In0se25hbWU6ImRldGFpbE1hdHJpeCIsc2l6ZToxNix0eXBlOiJtYXQ0In1dfX0sVChbemUoImRldGFpbFRleHR1cmUiKSx0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInRleHR1cmUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiZGlmZnVzZUJsZW5kTGV2ZWwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicm91Z2huZXNzQmxlbmRMZXZlbCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJidW1wTGV2ZWwiLHZvaWQgMCksVChbUCgpLHRlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwibm9ybWFsQmxlbmRNZXRob2QiLHZvaWQgMCksVChbUCgpLHRlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiaXNFbmFibGVkIix2b2lkIDApLGV9KHVmKSxwaT17ZWZmZWN0Om51bGwsc3ViTWVzaDpudWxsfSxoZj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0KXt2YXIgcj1pLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5NQUlOVVYxPSExLHIuTUFJTlVWMj0hMSxyLk1BSU5VVjM9ITEsci5NQUlOVVY0PSExLHIuTUFJTlVWNT0hMSxyLk1BSU5VVjY9ITEsci5ESUZGVVNFPSExLHIuRElGRlVTRURJUkVDVFVWPTAsci5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ITEsci5BTUJJRU5UPSExLHIuQU1CSUVOVERJUkVDVFVWPTAsci5PUEFDSVRZPSExLHIuT1BBQ0lUWURJUkVDVFVWPTAsci5PUEFDSVRZUkdCPSExLHIuUkVGTEVDVElPTj0hMSxyLkVNSVNTSVZFPSExLHIuRU1JU1NJVkVESVJFQ1RVVj0wLHIuU1BFQ1VMQVI9ITEsci5TUEVDVUxBUkRJUkVDVFVWPTAsci5CVU1QPSExLHIuQlVNUERJUkVDVFVWPTAsci5QQVJBTExBWD0hMSxyLlBBUkFMTEFYT0NDTFVTSU9OPSExLHIuU1BFQ1VMQVJPVkVSQUxQSEE9ITEsci5DTElQUExBTkU9ITEsci5DTElQUExBTkUyPSExLHIuQ0xJUFBMQU5FMz0hMSxyLkNMSVBQTEFORTQ9ITEsci5DTElQUExBTkU1PSExLHIuQ0xJUFBMQU5FNj0hMSxyLkFMUEhBVEVTVD0hMSxyLkRFUFRIUFJFUEFTUz0hMSxyLkFMUEhBRlJPTURJRkZVU0U9ITEsci5QT0lOVFNJWkU9ITEsci5GT0c9ITEsci5TUEVDVUxBUlRFUk09ITEsci5ESUZGVVNFRlJFU05FTD0hMSxyLk9QQUNJVFlGUkVTTkVMPSExLHIuUkVGTEVDVElPTkZSRVNORUw9ITEsci5SRUZSQUNUSU9ORlJFU05FTD0hMSxyLkVNSVNTSVZFRlJFU05FTD0hMSxyLkZSRVNORUw9ITEsci5OT1JNQUw9ITEsci5UQU5HRU5UPSExLHIuVVYxPSExLHIuVVYyPSExLHIuVVYzPSExLHIuVVY0PSExLHIuVVY1PSExLHIuVVY2PSExLHIuVkVSVEVYQ09MT1I9ITEsci5WRVJURVhBTFBIQT0hMSxyLk5VTV9CT05FX0lORkxVRU5DRVJTPTAsci5Cb25lc1Blck1lc2g9MCxyLkJPTkVURVhUVVJFPSExLHIuQk9ORVNfVkVMT0NJVFlfRU5BQkxFRD0hMSxyLklOU1RBTkNFUz0hMSxyLlRISU5fSU5TVEFOQ0VTPSExLHIuSU5TVEFOQ0VTQ09MT1I9ITEsci5HTE9TU0lORVNTPSExLHIuUk9VR0hORVNTPSExLHIuRU1JU1NJVkVBU0lMTFVNSU5BVElPTj0hMSxyLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPSExLHIuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9ITEsci5MSUdIVE1BUD0hMSxyLkxJR0hUTUFQRElSRUNUVVY9MCxyLk9CSkVDVFNQQUNFX05PUk1BTE1BUD0hMSxyLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9ITEsci5SRUZMRUNUSU9OTUFQXzNEPSExLHIuUkVGTEVDVElPTk1BUF9TUEhFUklDQUw9ITEsci5SRUZMRUNUSU9OTUFQX1BMQU5BUj0hMSxyLlJFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsci5VU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQz0hMSxyLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSExLHIuUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OPSExLHIuUkVGTEVDVElPTk1BUF9TS1lCT1g9ITEsci5SRUZMRUNUSU9OTUFQX0VYUExJQ0lUPSExLHIuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVI9ITEsci5SRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRD0hMSxyLlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsci5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj0hMSxyLklOVkVSVENVQklDTUFQPSExLHIuTE9HQVJJVEhNSUNERVBUSD0hMSxyLlJFRlJBQ1RJT049ITEsci5SRUZSQUNUSU9OTUFQXzNEPSExLHIuUkVGTEVDVElPTk9WRVJBTFBIQT0hMSxyLlRXT1NJREVETElHSFRJTkc9ITEsci5TSEFET1dGTE9BVD0hMSxyLk1PUlBIVEFSR0VUUz0hMSxyLk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsci5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSxyLk1PUlBIVEFSR0VUU19VVj0hMSxyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wLHIuTU9SUEhUQVJHRVRTX1RFWFRVUkU9ITEsci5OT05VTklGT1JNU0NBTElORz0hMSxyLlBSRU1VTFRJUExZQUxQSEE9ITEsci5BTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUz0hMSxyLkFMUEhBQkxFTkQ9ITAsci5QUkVQQVNTPSExLHIuUFJFUEFTU19JUlJBRElBTkNFPSExLHIuUFJFUEFTU19JUlJBRElBTkNFX0lOREVYPS0xLHIuUFJFUEFTU19BTEJFRE9fU1FSVD0hMSxyLlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVg9LTEsci5QUkVQQVNTX0RFUFRIPSExLHIuUFJFUEFTU19ERVBUSF9JTkRFWD0tMSxyLlBSRVBBU1NfTk9STUFMPSExLHIuUFJFUEFTU19OT1JNQUxfSU5ERVg9LTEsci5QUkVQQVNTX1BPU0lUSU9OPSExLHIuUFJFUEFTU19QT1NJVElPTl9JTkRFWD0tMSxyLlBSRVBBU1NfVkVMT0NJVFk9ITEsci5QUkVQQVNTX1ZFTE9DSVRZX0lOREVYPS0xLHIuUFJFUEFTU19SRUZMRUNUSVZJVFk9ITEsci5QUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWD0tMSxyLlNDRU5FX01SVF9DT1VOVD0wLHIuUkdCRExJR0hUTUFQPSExLHIuUkdCRFJFRkxFQ1RJT049ITEsci5SR0JEUkVGUkFDVElPTj0hMSxyLklNQUdFUFJPQ0VTU0lORz0hMSxyLlZJR05FVFRFPSExLHIuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT0hMSxyLlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSExLHIuVE9ORU1BUFBJTkc9ITEsci5UT05FTUFQUElOR19BQ0VTPSExLHIuQ09OVFJBU1Q9ITEsci5DT0xPUkNVUlZFUz0hMSxyLkNPTE9SR1JBRElORz0hMSxyLkNPTE9SR1JBRElORzNEPSExLHIuU0FNUExFUjNER1JFRU5ERVBUSD0hMSxyLlNBTVBMRVIzREJHUk1BUD0hMSxyLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHIuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSxyLk1VTFRJVklFVz0hMSxyLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWT0hMSxyLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9ITEsci5JU19SRUZMRUNUSU9OX0xJTkVBUj0hMSxyLklTX1JFRlJBQ1RJT05fTElORUFSPSExLHIuRVhQT1NVUkU9ITEsci5yZWJ1aWxkKCkscn1yZXR1cm4gZS5wcm90b3R5cGUuc2V0UmVmbGVjdGlvbk1vZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPVsiUkVGTEVDVElPTk1BUF9DVUJJQyIsIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiLCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfU0tZQk9YIiwiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIiwiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCJdLG49MCxhPXI7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07dGhpc1tzXT1zPT09dH19LGV9KGJyKSxIdD1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIG4uX2RpZmZ1c2VUZXh0dXJlPW51bGwsbi5fYW1iaWVudFRleHR1cmU9bnVsbCxuLl9vcGFjaXR5VGV4dHVyZT1udWxsLG4uX3JlZmxlY3Rpb25UZXh0dXJlPW51bGwsbi5fZW1pc3NpdmVUZXh0dXJlPW51bGwsbi5fc3BlY3VsYXJUZXh0dXJlPW51bGwsbi5fYnVtcFRleHR1cmU9bnVsbCxuLl9saWdodG1hcFRleHR1cmU9bnVsbCxuLl9yZWZyYWN0aW9uVGV4dHVyZT1udWxsLG4uYW1iaWVudENvbG9yPW5ldyBwZSgwLDAsMCksbi5kaWZmdXNlQ29sb3I9bmV3IHBlKDEsMSwxKSxuLnNwZWN1bGFyQ29sb3I9bmV3IHBlKDEsMSwxKSxuLmVtaXNzaXZlQ29sb3I9bmV3IHBlKDAsMCwwKSxuLnNwZWN1bGFyUG93ZXI9NjQsbi5fdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmU9ITEsbi5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbj0hMSxuLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZT0hMSxuLl91c2VTcGVjdWxhck92ZXJBbHBoYT0hMSxuLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhPSExLG4uX2Rpc2FibGVMaWdodGluZz0hMSxuLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcD0hMSxuLl91c2VQYXJhbGxheD0hMSxuLl91c2VQYXJhbGxheE9jY2x1c2lvbj0hMSxuLnBhcmFsbGF4U2NhbGVCaWFzPS4wNSxuLl9yb3VnaG5lc3M9MCxuLmluZGV4T2ZSZWZyYWN0aW9uPS45OCxuLmludmVydFJlZnJhY3Rpb25ZPSEwLG4uYWxwaGFDdXRPZmY9LjQsbi5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcD0hMSxuLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcj0hMSxuLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE9ITEsbi5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzPTQsbi5faW52ZXJ0Tm9ybWFsTWFwWD0hMSxuLl9pbnZlcnROb3JtYWxNYXBZPSExLG4uX3R3b1NpZGVkTGlnaHRpbmc9ITEsbi5fcmVuZGVyVGFyZ2V0cz1uZXcgQmUoMTYpLG4uX3dvcmxkVmlld1Byb2plY3Rpb25NYXRyaXg9SS5aZXJvKCksbi5fZ2xvYmFsQW1iaWVudENvbG9yPW5ldyBwZSgwLDAsMCksbi5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSxuLmRldGFpbE1hcD1uZXcgbGYobiksbi5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihudWxsKSxuLnByZVBhc3NDb25maWd1cmF0aW9uPW5ldyBkaSxuLmdldFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIG4uX3JlbmRlclRhcmdldHMucmVzZXQoKSxlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmbi5fcmVmbGVjdGlvblRleHR1cmUmJm4uX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZuLl9yZW5kZXJUYXJnZXRzLnB1c2gobi5fcmVmbGVjdGlvblRleHR1cmUpLGUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZuLl9yZWZyYWN0aW9uVGV4dHVyZSYmbi5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJm4uX3JlbmRlclRhcmdldHMucHVzaChuLl9yZWZyYWN0aW9uVGV4dHVyZSksbi5fZXZlbnRJbmZvLnJlbmRlclRhcmdldHM9bi5fcmVuZGVyVGFyZ2V0cyxuLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzKG4uX2V2ZW50SW5mbyksbi5fcmVuZGVyVGFyZ2V0c30sbn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKHQpLHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3QhPT10aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksdD90aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPXQ6dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj10aGlzLmdldFNjZW5lKCkuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbix0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXI9dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMuYWRkKGZ1bmN0aW9uKCl7ci5fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKX0pKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNQcmVQYXNzQ2FwYWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmRpc2FibGVEZXB0aFdyaXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29sb3JDdXJ2ZXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFDb2xvckdyYWRpbmdFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYVRvbmVNYXBwaW5nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24udG9uZU1hcHBpbmdFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmV4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29udHJhc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb250cmFzdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3Q9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYUNvbG9yR3JhZGluZ1RleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFDb2xvckN1cnZlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FuUmVuZGVyVG9NUlQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc1JlbmRlclRhcmdldFRleHR1cmVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXR8fGUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQ/ITA6dGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iU3RhbmRhcmRNYXRlcmlhbCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXNlTG9nYXJpdGhtaWNEZXB0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aD10JiZ0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmZyYWdtZW50RGVwdGhTdXBwb3J0ZWQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubmVlZEFscGhhQmxlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfHx0aGlzLl9vcGFjaXR5VGV4dHVyZSE9bnVsbHx8dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKXx8dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkfSxlLnByb3RvdHlwZS5uZWVkQWxwaGFUZXN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvcmNlQWxwaGFUZXN0PyEwOnRoaXMuX2hhc0FscGhhQ2hhbm5lbCgpJiYodGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09bnVsbHx8dGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PURlLk1BVEVSSUFMX0FMUEhBVEVTVCl9LGUucHJvdG90eXBlLl9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGEmJnRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlJiZ0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09RGUuTUFURVJJQUxfT1BBUVVFfSxlLnByb3RvdHlwZS5faGFzQWxwaGFDaGFubmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlIT1udWxsJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYXx8dGhpcy5fb3BhY2l0eVRleHR1cmUhPW51bGx9LGUucHJvdG90eXBlLmdldEFscGhhVGVzdFRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmV9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtpZihuPT09dm9pZCAwJiYobj0hMSksdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0fHx0aGlzLmJ1aWxkVW5pZm9ybUxheW91dCgpLHIuZWZmZWN0JiZ0aGlzLmlzRnJvemVuJiZyLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5KXJldHVybiEwO3IubWF0ZXJpYWxEZWZpbmVzfHwodGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoUmUuR2V0RGVmaW5lTmFtZXMsdGhpcy5fZXZlbnRJbmZvKSxyLm1hdGVyaWFsRGVmaW5lcz1uZXcgaGYodGhpcy5fZXZlbnRJbmZvLmRlZmluZU5hbWVzKSk7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLHM9ci5tYXRlcmlhbERlZmluZXM7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2gocikpcmV0dXJuITA7dmFyIG89YS5nZXRFbmdpbmUoKTtzLl9uZWVkTm9ybWFscz1ILlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKGEsdCxzLCEwLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyx0aGlzLl9kaXNhYmxlTGlnaHRpbmcpLEguUHJlcGFyZURlZmluZXNGb3JNdWx0aXZpZXcoYSxzKTt2YXIgdT10aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KSYmdGhpcy5nZXRTY2VuZSgpLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3k7aWYoSC5QcmVwYXJlRGVmaW5lc0ZvclByZVBhc3MoYSxzLHRoaXMuY2FuUmVuZGVyVG9NUlQmJiF1KSxILlByZXBhcmVEZWZpbmVzRm9yT0lUKGEscyx1KSxzLl9hcmVUZXh0dXJlc0RpcnR5KXt0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMscy5fbmVlZFVWcz0hMTtmb3IodmFyIGY9MTtmPD02OysrZilzWyJNQUlOVVYiK2ZdPSExO2lmKGEudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fZGlmZnVzZVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlILlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZGlmZnVzZVRleHR1cmUscywiRElGRlVTRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSBzLkRJRkZVU0U9ITE7aWYodGhpcy5fYW1iaWVudFRleHR1cmUmJmUuQW1iaWVudFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2FtYmllbnRUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpSC5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2FtYmllbnRUZXh0dXJlLHMsIkFNQklFTlQiKTtlbHNlIHJldHVybiExO2Vsc2Ugcy5BTUJJRU5UPSExO2lmKHRoaXMuX29wYWNpdHlUZXh0dXJlJiZlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9vcGFjaXR5VGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKUguUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9vcGFjaXR5VGV4dHVyZSxzLCJPUEFDSVRZIikscy5PUEFDSVRZUkdCPXRoaXMuX29wYWNpdHlUZXh0dXJlLmdldEFscGhhRnJvbVJHQjtlbHNlIHJldHVybiExO2Vsc2Ugcy5PUEFDSVRZPSExO2lmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZClpZih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXtzd2l0Y2gocy5fbmVlZE5vcm1hbHM9ITAscy5SRUZMRUNUSU9OPSEwLHMuUk9VR0hORVNTPXRoaXMuX3JvdWdobmVzcz4wLHMuUkVGTEVDVElPTk9WRVJBTFBIQT10aGlzLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhLHMuSU5WRVJUQ1VCSUNNQVA9dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlPT09US5JTlZDVUJJQ19NT0RFLHMuUkVGTEVDVElPTk1BUF8zRD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc0N1YmUscy5SR0JEUkVGTEVDVElPTj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JHQkQscy5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj10aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/IXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFo6dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaW52ZXJ0Wix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGUpe2Nhc2UgUS5FWFBMSUNJVF9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiKTticmVhaztjYXNlIFEuUExBTkFSX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9QTEFOQVIiKTticmVhaztjYXNlIFEuUFJPSkVDVElPTl9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIpO2JyZWFrO2Nhc2UgUS5TS1lCT1hfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NLWUJPWCIpO2JyZWFrO2Nhc2UgUS5TUEhFUklDQUxfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCIpO2JyZWFrO2Nhc2UgUS5FUVVJUkVDVEFOR1VMQVJfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIpO2JyZWFrO2Nhc2UgUS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCIpO2JyZWFrO2Nhc2UgUS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSBRLkNVQklDX01PREU6Y2FzZSBRLklOVkNVQklDX01PREU6ZGVmYXVsdDpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0NVQklDIik7YnJlYWt9cy5VU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQz0hIXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZX1lbHNlIHJldHVybiExO2Vsc2Ugcy5SRUZMRUNUSU9OPSExLHMuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITE7aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpSC5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSxzLCJFTUlTU0lWRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSBzLkVNSVNTSVZFPSExO2lmKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmZS5MaWdodG1hcFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKUguUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9saWdodG1hcFRleHR1cmUscywiTElHSFRNQVAiKSxzLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9dGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcCxzLlJHQkRMSUdIVE1BUD10aGlzLl9saWdodG1hcFRleHR1cmUuaXNSR0JEO2Vsc2UgcmV0dXJuITE7ZWxzZSBzLkxJR0hUTUFQPSExO2lmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmZS5TcGVjdWxhclRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKUguUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9zcGVjdWxhclRleHR1cmUscywiU1BFQ1VMQVIiKSxzLkdMT1NTSU5FU1M9dGhpcy5fdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhO2Vsc2UgcmV0dXJuITE7ZWxzZSBzLlNQRUNVTEFSPSExO2lmKGEuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX2J1bXBUZXh0dXJlJiZlLkJ1bXBUZXh0dXJlRW5hYmxlZCl7aWYodGhpcy5fYnVtcFRleHR1cmUuaXNSZWFkeSgpKUguUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9idW1wVGV4dHVyZSxzLCJCVU1QIikscy5QQVJBTExBWD10aGlzLl91c2VQYXJhbGxheCxzLlBBUkFMTEFYT0NDTFVTSU9OPXRoaXMuX3VzZVBhcmFsbGF4T2NjbHVzaW9uO2Vsc2UgcmV0dXJuITE7cy5PQkpFQ1RTUEFDRV9OT1JNQUxNQVA9dGhpcy5fdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXB9ZWxzZSBzLkJVTVA9ITE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJmUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpcy5fbmVlZFVWcz0hMCxzLlJFRlJBQ1RJT049ITAscy5SRUZSQUNUSU9OTUFQXzNEPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZSxzLlJHQkRSRUZSQUNUSU9OPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUkdCRCxzLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplO2Vsc2UgcmV0dXJuITE7ZWxzZSBzLlJFRlJBQ1RJT049ITE7cy5UV09TSURFRExJR0hUSU5HPSF0aGlzLl9iYWNrRmFjZUN1bGxpbmcmJnRoaXMuX3R3b1NpZGVkTGlnaHRpbmd9ZWxzZSBzLkRJRkZVU0U9ITEscy5BTUJJRU5UPSExLHMuT1BBQ0lUWT0hMSxzLlJFRkxFQ1RJT049ITEscy5FTUlTU0lWRT0hMSxzLkxJR0hUTUFQPSExLHMuQlVNUD0hMSxzLlJFRlJBQ1RJT049ITE7cy5BTFBIQUZST01ESUZGVVNFPXRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCkscy5FTUlTU0lWRUFTSUxMVU1JTkFUSU9OPXRoaXMuX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24scy5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT10aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSxzLlNQRUNVTEFST1ZFUkFMUEhBPXRoaXMuX3VzZVNwZWN1bGFyT3ZlckFscGhhLHMuUFJFTVVMVElQTFlBTFBIQT10aGlzLmFscGhhTW9kZT09PTd8fHRoaXMuYWxwaGFNb2RlPT09OCxzLkFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TPXRoaXMudHJhbnNwYXJlbmN5TW9kZSE9PW51bGwscy5BTFBIQUJMRU5EPXRoaXMudHJhbnNwYXJlbmN5TW9kZT09PW51bGx8fHRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQpfWlmKHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaD0hMCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1zLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLCF0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpcmV0dXJuITE7aWYocy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHkmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24pe2lmKCF0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmlzUmVhZHkoKSlyZXR1cm4hMTt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnByZXBhcmVEZWZpbmVzKHMpLHMuSVNfUkVGTEVDVElPTl9MSU5FQVI9dGhpcy5yZWZsZWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmbGVjdGlvblRleHR1cmUuZ2FtbWFTcGFjZSxzLklTX1JFRlJBQ1RJT05fTElORUFSPXRoaXMucmVmcmFjdGlvblRleHR1cmUhPW51bGwmJiF0aGlzLnJlZnJhY3Rpb25UZXh0dXJlLmdhbW1hU3BhY2V9aWYocy5fYXJlRnJlc25lbERpcnR5JiYoZS5GcmVzbmVsRW5hYmxlZD8odGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzKSYmKHMuRElGRlVTRUZSRVNORUw9dGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHMuT1BBQ0lUWUZSRVNORUw9dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHMuUkVGTEVDVElPTkZSRVNORUw9dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHMuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9dGhpcy5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIscy5SRUZSQUNUSU9ORlJFU05FTD10aGlzLl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5FTUlTU0lWRUZSRVNORUw9dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5fbmVlZE5vcm1hbHM9ITAscy5GUkVTTkVMPSEwKTpzLkZSRVNORUw9ITEpLEguUHJlcGFyZURlZmluZXNGb3JNaXNjKHQsYSx0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRoLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbih0KXx8dGhpcy5fZm9yY2VBbHBoYVRlc3QscyksSC5QcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXModCxzLCEwLCEwLCEwKSxILlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhhLG8scyxuLG51bGwsci5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyksdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cyx0aGlzLl9ldmVudEluZm8ubWVzaD10LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcyh0aGlzLl9ldmVudEluZm8pLHMuaXNEaXJ0eSl7dmFyIGw9cy5fYXJlTGlnaHRzRGlzcG9zZWQ7cy5tYXJrQXNQcm9jZXNzZWQoKTt2YXIgaD1uZXcgY2k7cy5SRUZMRUNUSU9OJiZoLmFkZEZhbGxiYWNrKDAsIlJFRkxFQ1RJT04iKSxzLlNQRUNVTEFSJiZoLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSIikscy5CVU1QJiZoLmFkZEZhbGxiYWNrKDAsIkJVTVAiKSxzLlBBUkFMTEFYJiZoLmFkZEZhbGxiYWNrKDEsIlBBUkFMTEFYIikscy5QQVJBTExBWE9DQ0xVU0lPTiYmaC5hZGRGYWxsYmFjaygwLCJQQVJBTExBWE9DQ0xVU0lPTiIpLHMuU1BFQ1VMQVJPVkVSQUxQSEEmJmguYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJPVkVSQUxQSEEiKSxzLkZPRyYmaC5hZGRGYWxsYmFjaygxLCJGT0ciKSxzLlBPSU5UU0laRSYmaC5hZGRGYWxsYmFjaygwLCJQT0lOVFNJWkUiKSxzLkxPR0FSSVRITUlDREVQVEgmJmguYWRkRmFsbGJhY2soMCwiTE9HQVJJVEhNSUNERVBUSCIpLEguSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cyhzLGgsdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzKSxzLlNQRUNVTEFSVEVSTSYmaC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUlRFUk0iKSxzLkRJRkZVU0VGUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDEsIkRJRkZVU0VGUkVTTkVMIikscy5PUEFDSVRZRlJFU05FTCYmaC5hZGRGYWxsYmFjaygyLCJPUEFDSVRZRlJFU05FTCIpLHMuUkVGTEVDVElPTkZSRVNORUwmJmguYWRkRmFsbGJhY2soMywiUkVGTEVDVElPTkZSRVNORUwiKSxzLkVNSVNTSVZFRlJFU05FTCYmaC5hZGRGYWxsYmFjayg0LCJFTUlTU0lWRUZSRVNORUwiKSxzLkZSRVNORUwmJmguYWRkRmFsbGJhY2soNCwiRlJFU05FTCIpLHMuTVVMVElWSUVXJiZoLmFkZEZhbGxiYWNrKDAsIk1VTFRJVklFVyIpO3ZhciBjPVtiLlBvc2l0aW9uS2luZF07cy5OT1JNQUwmJmMucHVzaChiLk5vcm1hbEtpbmQpLHMuVEFOR0VOVCYmYy5wdXNoKGIuVGFuZ2VudEtpbmQpO2Zvcih2YXIgZj0xO2Y8PTY7KytmKXNbIlVWIitmXSYmYy5wdXNoKCJ1diIuY29uY2F0KGY9PT0xPyIiOmYpKTtzLlZFUlRFWENPTE9SJiZjLnB1c2goYi5Db2xvcktpbmQpLHMuSU5TVEFOQ0VTQ09MT1ImJmMucHVzaChiLkNvbG9ySW5zdGFuY2VLaW5kKSxILlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMoYyx0LHMsaCksSC5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhjLHMpLEguUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoYyx0LHMpLEguUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihjLHQscyk7dmFyIGQ9ImRlZmF1bHQiLHA9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkFtYmllbnRDb2xvciIsInZEaWZmdXNlQ29sb3IiLCJ2U3BlY3VsYXJDb2xvciIsInZFbWlzc2l2ZUNvbG9yIiwidmlzaWJpbGl0eSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsInZEaWZmdXNlSW5mb3MiLCJ2QW1iaWVudEluZm9zIiwidk9wYWNpdHlJbmZvcyIsInZSZWZsZWN0aW9uSW5mb3MiLCJ2RW1pc3NpdmVJbmZvcyIsInZTcGVjdWxhckluZm9zIiwidkJ1bXBJbmZvcyIsInZMaWdodG1hcEluZm9zIiwidlJlZnJhY3Rpb25JbmZvcyIsIm1Cb25lcyIsInZDbGlwUGxhbmUiLCJ2Q2xpcFBsYW5lMiIsInZDbGlwUGxhbmUzIiwidkNsaXBQbGFuZTQiLCJ2Q2xpcFBsYW5lNSIsInZDbGlwUGxhbmU2IiwiZGlmZnVzZU1hdHJpeCIsImFtYmllbnRNYXRyaXgiLCJvcGFjaXR5TWF0cml4IiwicmVmbGVjdGlvbk1hdHJpeCIsImVtaXNzaXZlTWF0cml4Iiwic3BlY3VsYXJNYXRyaXgiLCJidW1wTWF0cml4Iiwibm9ybWFsTWF0cml4IiwibGlnaHRtYXBNYXRyaXgiLCJyZWZyYWN0aW9uTWF0cml4IiwiZGlmZnVzZUxlZnRDb2xvciIsImRpZmZ1c2VSaWdodENvbG9yIiwib3BhY2l0eVBhcnRzIiwicmVmbGVjdGlvbkxlZnRDb2xvciIsInJlZmxlY3Rpb25SaWdodENvbG9yIiwiZW1pc3NpdmVMZWZ0Q29sb3IiLCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLCJyZWZyYWN0aW9uTGVmdENvbG9yIiwicmVmcmFjdGlvblJpZ2h0Q29sb3IiLCJ2UmVmbGVjdGlvblBvc2l0aW9uIiwidlJlZmxlY3Rpb25TaXplIiwidlJlZnJhY3Rpb25Qb3NpdGlvbiIsInZSZWZyYWN0aW9uU2l6ZSIsImxvZ2FyaXRobWljRGVwdGhDb25zdGFudCIsInZUYW5nZW50U3BhY2VQYXJhbXMiLCJhbHBoYUN1dE9mZiIsImJvbmVUZXh0dXJlV2lkdGgiLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdLF89WyJkaWZmdXNlU2FtcGxlciIsImFtYmllbnRTYW1wbGVyIiwib3BhY2l0eVNhbXBsZXIiLCJyZWZsZWN0aW9uQ3ViZVNhbXBsZXIiLCJyZWZsZWN0aW9uMkRTYW1wbGVyIiwiZW1pc3NpdmVTYW1wbGVyIiwic3BlY3VsYXJTYW1wbGVyIiwiYnVtcFNhbXBsZXIiLCJsaWdodG1hcFNhbXBsZXIiLCJyZWZyYWN0aW9uQ3ViZVNhbXBsZXIiLCJyZWZyYWN0aW9uMkRTYW1wbGVyIiwiYm9uZVNhbXBsZXIiLCJtb3JwaFRhcmdldHMiLCJvaXREZXB0aFNhbXBsZXIiLCJvaXRGcm9udENvbG9yU2FtcGxlciJdLGc9WyJNYXRlcmlhbCIsIlNjZW5lIiwiTWVzaCJdO3RoaXMuX2V2ZW50SW5mby5mYWxsYmFja3M9aCx0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tSYW5rPTAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cyx0aGlzLl9ldmVudEluZm8udW5pZm9ybXM9cCx0aGlzLl9ldmVudEluZm8uc2FtcGxlcnM9Xyx0aGlzLl9ldmVudEluZm8udW5pZm9ybUJ1ZmZlcnNOYW1lcz1nLHRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlPXZvaWQgMCx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhSZS5QcmVwYXJlRWZmZWN0LHRoaXMuX2V2ZW50SW5mbyksZGkuQWRkVW5pZm9ybXMocCksZGkuQWRkU2FtcGxlcnMoXyksVnQmJihWdC5QcmVwYXJlVW5pZm9ybXMocCxzKSxWdC5QcmVwYXJlU2FtcGxlcnMoXyxzKSksSC5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6cCx1bmlmb3JtQnVmZmVyc05hbWVzOmcsc2FtcGxlcnM6XyxkZWZpbmVzOnMsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0c30pO3ZhciBtPXt9O3RoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUmJihkPXRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUoZCxwLGcsXyxzLGMsbSkpO3ZhciB2PXMudG9TdHJpbmcoKSxTPXIuZWZmZWN0LE09YS5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QoZCx7YXR0cmlidXRlczpjLHVuaWZvcm1zTmFtZXM6cCx1bmlmb3JtQnVmZmVyc05hbWVzOmcsc2FtcGxlcnM6XyxkZWZpbmVzOnYsZmFsbGJhY2tzOmgsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6dGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzLG1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpzLk5VTV9NT1JQSF9JTkZMVUVOQ0VSU30scHJvY2Vzc0ZpbmFsQ29kZTptLnByb2Nlc3NGaW5hbENvZGUscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlLG11bHRpVGFyZ2V0OnMuUFJFUEFTU30sbyk7aWYoTSlpZih0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiYocGkuZWZmZWN0PU0scGkuc3ViTWVzaD1yLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHBpKSksdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nJiZTJiYhTS5pc1JlYWR5KCkpe2lmKE09UyxzLm1hcmtBc1VucHJvY2Vzc2VkKCksbClyZXR1cm4gcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITAsITF9ZWxzZSBhLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxyLnNldEVmZmVjdChNLHMsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hci5lZmZlY3R8fCFyLmVmZmVjdC5pc1JlYWR5KCk/ITE6KHMuX3JlbmRlcklkPWEuZ2V0UmVuZGVySWQoKSxyLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLCEwKX0sZS5wcm90b3R5cGUuYnVpbGRVbmlmb3JtTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0LmFkZFVuaWZvcm0oImRpZmZ1c2VMZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgiZGlmZnVzZVJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgib3BhY2l0eVBhcnRzIiw0KSx0LmFkZFVuaWZvcm0oInJlZmxlY3Rpb25MZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgicmVmcmFjdGlvbkxlZnRDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJlbWlzc2l2ZUxlZnRDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgidkRpZmZ1c2VJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2QW1iaWVudEluZm9zIiwyKSx0LmFkZFVuaWZvcm0oInZPcGFjaXR5SW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25JbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblBvc2l0aW9uIiwzKSx0LmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uU2l6ZSIsMyksdC5hZGRVbmlmb3JtKCJ2RW1pc3NpdmVJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2TGlnaHRtYXBJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2U3BlY3VsYXJJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2QnVtcEluZm9zIiwzKSx0LmFkZFVuaWZvcm0oImRpZmZ1c2VNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oImFtYmllbnRNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oIm9wYWNpdHlNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInJlZmxlY3Rpb25NYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oImVtaXNzaXZlTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJsaWdodG1hcE1hdHJpeCIsMTYpLHQuYWRkVW5pZm9ybSgic3BlY3VsYXJNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oImJ1bXBNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInZUYW5nZW50U3BhY2VQYXJhbXMiLDIpLHQuYWRkVW5pZm9ybSgicG9pbnRTaXplIiwxKSx0LmFkZFVuaWZvcm0oImFscGhhQ3V0T2ZmIiwxKSx0LmFkZFVuaWZvcm0oInJlZnJhY3Rpb25NYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uSW5mb3MiLDQpLHQuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25Qb3NpdGlvbiIsMyksdC5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvblNpemUiLDMpLHQuYWRkVW5pZm9ybSgidlNwZWN1bGFyQ29sb3IiLDQpLHQuYWRkVW5pZm9ybSgidkVtaXNzaXZlQ29sb3IiLDMpLHQuYWRkVW5pZm9ybSgidkRpZmZ1c2VDb2xvciIsNCksdC5hZGRVbmlmb3JtKCJ2QW1iaWVudENvbG9yIiwzKSxpLnByb3RvdHlwZS5idWlsZFVuaWZvcm1MYXlvdXQuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHM9dGhpcy5nZXRTY2VuZSgpLG89bi5tYXRlcmlhbERlZmluZXM7aWYoISFvKXt2YXIgdT1uLmVmZmVjdDtpZighIXUpe3RoaXMuX2FjdGl2ZUVmZmVjdD11LHIuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QodSwiTWVzaCIpLHIudHJhbnNmZXJUb0VmZmVjdCh0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRUb0VmZmVjdCh1LCJNYXRlcmlhbCIpLHRoaXMucHJlUGFzc0NvbmZpZ3VyYXRpb24uYmluZEZvclN1Yk1lc2godGhpcy5fYWN0aXZlRWZmZWN0LHMscix0LHRoaXMuaXNGcm96ZW4pLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPW4sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLG8uT0JKRUNUU1BBQ0VfTk9STUFMTUFQJiYodC50b05vcm1hbE1hdHJpeCh0aGlzLl9ub3JtYWxNYXRyaXgpLHRoaXMuYmluZE9ubHlOb3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSk7dmFyIGY9dGhpcy5fbXVzdFJlYmluZChzLHUsci52aXNpYmlsaXR5KTtILkJpbmRCb25lc1BhcmFtZXRlcnMocix1KTt2YXIgbD10aGlzLl91bmlmb3JtQnVmZmVyO2lmKGYpe2lmKHRoaXMuYmluZFZpZXdQcm9qZWN0aW9uKHUpLCFsLnVzZVVib3x8IXRoaXMuaXNGcm96ZW58fCFsLmlzU3luYyl7aWYoZS5GcmVzbmVsRW5hYmxlZCYmby5GUkVTTkVMJiYodGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGwudXBkYXRlQ29sb3I0KCJkaWZmdXNlTGVmdENvbG9yIix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGwudXBkYXRlQ29sb3I0KCJkaWZmdXNlUmlnaHRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmbC51cGRhdGVDb2xvcjQoIm9wYWNpdHlQYXJ0cyIsbmV3IHBlKHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvci50b0x1bWluYW5jZSgpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGwudXBkYXRlQ29sb3I0KCJyZWZsZWN0aW9uTGVmdENvbG9yIix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGwudXBkYXRlQ29sb3I0KCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGwudXBkYXRlQ29sb3I0KCJyZWZyYWN0aW9uTGVmdENvbG9yIix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGwudXBkYXRlQ29sb3I0KCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYobC51cGRhdGVDb2xvcjQoImVtaXNzaXZlTGVmdENvbG9yIix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksbC51cGRhdGVDb2xvcjQoImVtaXNzaXZlUmlnaHRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSkscy50ZXh0dXJlc0VuYWJsZWQpe2lmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2RGlmZnVzZUluZm9zIix0aGlzLl9kaWZmdXNlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmxldmVsKSxILkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2RpZmZ1c2VUZXh0dXJlLGwsImRpZmZ1c2UiKSksdGhpcy5fYW1iaWVudFRleHR1cmUmJmUuQW1iaWVudFRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZBbWJpZW50SW5mb3MiLHRoaXMuX2FtYmllbnRUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fYW1iaWVudFRleHR1cmUubGV2ZWwpLEguQmluZFRleHR1cmVNYXRyaXgodGhpcy5fYW1iaWVudFRleHR1cmUsbCwiYW1iaWVudCIpKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0Migidk9wYWNpdHlJbmZvcyIsdGhpcy5fb3BhY2l0eVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9vcGFjaXR5VGV4dHVyZS5sZXZlbCksSC5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9vcGFjaXR5VGV4dHVyZSxsLCJvcGFjaXR5IikpLHRoaXMuX2hhc0FscGhhQ2hhbm5lbCgpJiZsLnVwZGF0ZUZsb2F0KCJhbHBoYUN1dE9mZiIsdGhpcy5hbHBoYUN1dE9mZiksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJmUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZSZWZsZWN0aW9uSW5mb3MiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmxldmVsLHRoaXMucm91Z2huZXNzKSxsLnVwZGF0ZU1hdHJpeCgicmVmbGVjdGlvbk1hdHJpeCIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplKSl7dmFyIGg9dGhpcy5fcmVmbGVjdGlvblRleHR1cmU7bC51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblBvc2l0aW9uIixoLmJvdW5kaW5nQm94UG9zaXRpb24pLGwudXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25TaXplIixoLmJvdW5kaW5nQm94U2l6ZSl9aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MigidkVtaXNzaXZlSW5mb3MiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5sZXZlbCksSC5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUsbCwiZW1pc3NpdmUiKSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MigidkxpZ2h0bWFwSW5mb3MiLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5sZXZlbCksSC5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9saWdodG1hcFRleHR1cmUsbCwibGlnaHRtYXAiKSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MigidlNwZWN1bGFySW5mb3MiLHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5sZXZlbCksSC5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9zcGVjdWxhclRleHR1cmUsbCwic3BlY3VsYXIiKSksdGhpcy5fYnVtcFRleHR1cmUmJnMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJmUuQnVtcFRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDMoInZCdW1wSW5mb3MiLHRoaXMuX2J1bXBUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsMS90aGlzLl9idW1wVGV4dHVyZS5sZXZlbCx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzKSxILkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2J1bXBUZXh0dXJlLGwsImJ1bXAiKSxzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uP2wudXBkYXRlRmxvYXQyKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIix0aGlzLl9pbnZlcnROb3JtYWxNYXBYPzE6LTEsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWT8xOi0xKTpsLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8tMToxLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/LTE6MSkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCl7dmFyIGM9MTtpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmV8fChsLnVwZGF0ZU1hdHJpeCgicmVmcmFjdGlvbk1hdHJpeCIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZGVwdGgmJihjPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoKSksbC51cGRhdGVGbG9hdDQoInZSZWZyYWN0aW9uSW5mb3MiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmxldmVsLHRoaXMuaW5kZXhPZlJlZnJhY3Rpb24sYyx0aGlzLmludmVydFJlZnJhY3Rpb25ZPy0xOjEpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSl7dmFyIGg9dGhpcy5fcmVmcmFjdGlvblRleHR1cmU7bC51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblBvc2l0aW9uIixoLmJvdW5kaW5nQm94UG9zaXRpb24pLGwudXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25TaXplIixoLmJvdW5kaW5nQm94U2l6ZSl9fX10aGlzLnBvaW50c0Nsb3VkJiZsLnVwZGF0ZUZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSxvLlNQRUNVTEFSVEVSTSYmbC51cGRhdGVDb2xvcjQoInZTcGVjdWxhckNvbG9yIix0aGlzLnNwZWN1bGFyQ29sb3IsdGhpcy5zcGVjdWxhclBvd2VyKSxsLnVwZGF0ZUNvbG9yMygidkVtaXNzaXZlQ29sb3IiLGUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD90aGlzLmVtaXNzaXZlQ29sb3I6cGUuQmxhY2tSZWFkT25seSksbC51cGRhdGVDb2xvcjQoInZEaWZmdXNlQ29sb3IiLHRoaXMuZGlmZnVzZUNvbG9yLHRoaXMuYWxwaGEpLHMuYW1iaWVudENvbG9yLm11bHRpcGx5VG9SZWYodGhpcy5hbWJpZW50Q29sb3IsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKSxsLnVwZGF0ZUNvbG9yMygidkFtYmllbnRDb2xvciIsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKX1pZihzLnRleHR1cmVzRW5hYmxlZCYmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJhbWJpZW50U2FtcGxlciIsdGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJvcGFjaXR5U2FtcGxlciIsdGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZT91LnNldFRleHR1cmUoInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpOnUuc2V0VGV4dHVyZSgicmVmbGVjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJmUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJlbWlzc2l2ZVNhbXBsZXIiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgibGlnaHRtYXBTYW1wbGVyIix0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmZS5TcGVjdWxhclRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoInNwZWN1bGFyU2FtcGxlciIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmZS5CdW1wVGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgiYnVtcFNhbXBsZXIiLHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpKXt2YXIgYz0xO3RoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZT91LnNldFRleHR1cmUoInJlZnJhY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpOnUuc2V0VGV4dHVyZSgicmVmcmFjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpfXRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZ0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChyKSYmdGhpcy5nZXRTY2VuZSgpLmRlcHRoUGVlbGluZ1JlbmRlcmVyLmJpbmQodSksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9bix0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxILkJpbmRDbGlwUGxhbmUodSxzKSx0aGlzLmJpbmRFeWVQb3NpdGlvbih1KX1lbHNlIHMuZ2V0RW5naW5lKCkuX2ZlYXR1cmVzLm5lZWRUb0Fsd2F5c0JpbmRVbmlmb3JtQnVmZmVycyYmKHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMCk7KGZ8fCF0aGlzLmlzRnJvemVuKSYmKHMubGlnaHRzRW5hYmxlZCYmIXRoaXMuX2Rpc2FibGVMaWdodGluZyYmSC5CaW5kTGlnaHRzKHMscix1LG8sdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzKSwocy5mb2dFbmFibGVkJiZyLmFwcGx5Rm9nJiZzLmZvZ01vZGUhPT1FZS5GT0dNT0RFX05PTkV8fHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlfHx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZXx8ci5yZWNlaXZlU2hhZG93cykmJnRoaXMuYmluZFZpZXcodSksSC5CaW5kRm9nUGFyYW1ldGVycyhzLHIsdSksby5OVU1fTU9SUEhfSU5GTFVFTkNFUlMmJkguQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhyLHUpLG8uQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoKGE9ci5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5iaW5kKHUsby5JTlNUQU5DRVMpKSx0aGlzLnVzZUxvZ2FyaXRobWljRGVwdGgmJkguQmluZExvZ0RlcHRoKG8sdSxzKSx0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYhdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzLl9hY3RpdmVFZmZlY3QpKSx0aGlzLl9hZnRlckJpbmQocix0aGlzLl9hY3RpdmVFZmZlY3QpLGwudXBkYXRlKCl9fX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0YWJsZXM9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcy5jYWxsKHRoaXMpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSx0fSxlLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbigpe3ZhciB0PWkucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZ0LnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZ0LnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZ0LnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0LnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmdC5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0LnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmdC5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJnQucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0LnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLHR9LGUucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuISEoaS5wcm90b3R5cGUuaGFzVGV4dHVyZS5jYWxsKHRoaXMsdCl8fHRoaXMuX2RpZmZ1c2VUZXh0dXJlPT09dHx8dGhpcy5fYW1iaWVudFRleHR1cmU9PT10fHx0aGlzLl9vcGFjaXR5VGV4dHVyZT09PXR8fHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlPT09dHx8dGhpcy5fZW1pc3NpdmVUZXh0dXJlPT09dHx8dGhpcy5fc3BlY3VsYXJUZXh0dXJlPT09dHx8dGhpcy5fYnVtcFRleHR1cmU9PT10fHx0aGlzLl9saWdodG1hcFRleHR1cmU9PT10fHx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZT09PXQpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7dmFyIG4sYSxzLG8sdSxmLGwsaCxjO3ImJigobj10aGlzLl9kaWZmdXNlVGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc3Bvc2UoKSwoYT10aGlzLl9hbWJpZW50VGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwfHxhLmRpc3Bvc2UoKSwocz10aGlzLl9vcGFjaXR5VGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmRpc3Bvc2UoKSwobz10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmRpc3Bvc2UoKSwodT10aGlzLl9lbWlzc2l2ZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5kaXNwb3NlKCksKGY9dGhpcy5fc3BlY3VsYXJUZXh0dXJlKT09PW51bGx8fGY9PT12b2lkIDB8fGYuZGlzcG9zZSgpLChsPXRoaXMuX2J1bXBUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDB8fGwuZGlzcG9zZSgpLChoPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmRpc3Bvc2UoKSwoYz10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk9PT1udWxsfHxjPT09dm9pZCAwfHxjLmRpc3Bvc2UoKSksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPVkuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodCxyLmdldFNjZW5lKCkpfSx0aGlzKTtyZXR1cm4gbi5uYW1lPXQsbi5pZD10LHRoaXMuc3RlbmNpbC5jb3B5VG8obi5zdGVuY2lsKSxufSxlLlBhcnNlPWZ1bmN0aW9uKHQscixuKXt2YXIgYT1ZLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQubmFtZSxyKX0sdCxyLG4pO3JldHVybiB0LnN0ZW5jaWwmJmEuc3RlbmNpbC5wYXJzZSh0LnN0ZW5jaWwscixuKSxhfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRGlmZnVzZVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHVlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3VlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEZXRhaWxUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3VlLkRldGFpbFRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFtYmllbnRUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB1ZS5BbWJpZW50VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt1ZS5BbWJpZW50VGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiT3BhY2l0eVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHVlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3VlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dWUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3VlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB1ZS5TcGVjdWxhclRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dWUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCdW1wVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWUuQnVtcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dWUuQnVtcFRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3VlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHVlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3VlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB1ZS5Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3VlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkZyZXNuZWxFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHVlLkZyZXNuZWxFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dWUuRnJlc25lbEVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxUKFt6ZSgiZGlmZnVzZVRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9kaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLGUucHJvdG90eXBlLCJkaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFt6ZSgiYW1iaWVudFRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9hbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImFtYmllbnRUZXh0dXJlIix2b2lkIDApLFQoW3plKCJvcGFjaXR5VGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX29wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sZS5wcm90b3R5cGUsIm9wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW3plKCJyZWZsZWN0aW9uVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX3JlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwicmVmbGVjdGlvblRleHR1cmUiLHZvaWQgMCksVChbemUoImVtaXNzaXZlVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2VtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImVtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFt6ZSgic3BlY3VsYXJUZXh0dXJlIildLGUucHJvdG90eXBlLCJfc3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwic3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW3plKCJidW1wVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2J1bXBUZXh0dXJlIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiYnVtcFRleHR1cmUiLHZvaWQgMCksVChbemUoImxpZ2h0bWFwVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2xpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImxpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFt6ZSgicmVmcmFjdGlvblRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9yZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInJlZnJhY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW3h0KCJhbWJpZW50IildLGUucHJvdG90eXBlLCJhbWJpZW50Q29sb3IiLHZvaWQgMCksVChbeHQoImRpZmZ1c2UiKV0sZS5wcm90b3R5cGUsImRpZmZ1c2VDb2xvciIsdm9pZCAwKSxUKFt4dCgic3BlY3VsYXIiKV0sZS5wcm90b3R5cGUsInNwZWN1bGFyQ29sb3IiLHZvaWQgMCksVChbeHQoImVtaXNzaXZlIildLGUucHJvdG90eXBlLCJlbWlzc2l2ZUNvbG9yIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInNwZWN1bGFyUG93ZXIiLHZvaWQgMCksVChbUCgidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtQKCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIildLGUucHJvdG90eXBlLCJfdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksVChbUCgibGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiKV0sZS5wcm90b3R5cGUsIl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIix2b2lkIDApLFQoW1AoInVzZVNwZWN1bGFyT3ZlckFscGhhIildLGUucHJvdG90eXBlLCJfdXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIsdm9pZCAwKSxUKFtQKCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIildLGUucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksVChbUCgiZGlzYWJsZUxpZ2h0aW5nIildLGUucHJvdG90eXBlLCJfZGlzYWJsZUxpZ2h0aW5nIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sZS5wcm90b3R5cGUsImRpc2FibGVMaWdodGluZyIsdm9pZCAwKSxUKFtQKCJ1c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIpXSxlLnByb3RvdHlwZSwiX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiLHZvaWQgMCksVChbUCgidXNlUGFyYWxsYXgiKV0sZS5wcm90b3R5cGUsIl91c2VQYXJhbGxheCIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVBhcmFsbGF4Iix2b2lkIDApLFQoW1AoInVzZVBhcmFsbGF4T2NjbHVzaW9uIildLGUucHJvdG90eXBlLCJfdXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJwYXJhbGxheFNjYWxlQmlhcyIsdm9pZCAwKSxUKFtQKCJyb3VnaG5lc3MiKV0sZS5wcm90b3R5cGUsIl9yb3VnaG5lc3MiLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJyb3VnaG5lc3MiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW5kZXhPZlJlZnJhY3Rpb24iLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW52ZXJ0UmVmcmFjdGlvblkiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiYWxwaGFDdXRPZmYiLHZvaWQgMCksVChbUCgidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIpXSxlLnByb3RvdHlwZSwiX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFQoW3JyKCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsImRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtycigib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIildLGUucHJvdG90eXBlLCJfb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eSIpXSxlLnByb3RvdHlwZSwib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3JyKCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsInJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtycigicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLGUucHJvdG90eXBlLCJfcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLGUucHJvdG90eXBlLCJyZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbcnIoImVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLGUucHJvdG90eXBlLCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1AoInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIildLGUucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFQoW1AoInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIpXSxlLnByb3RvdHlwZSwiX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFtQKCJtYXhTaW11bHRhbmVvdXNMaWdodHMiKV0sZS5wcm90b3R5cGUsIl9tYXhTaW11bHRhbmVvdXNMaWdodHMiLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSIpXSxlLnByb3RvdHlwZSwibWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFQoW1AoImludmVydE5vcm1hbE1hcFgiKV0sZS5wcm90b3R5cGUsIl9pbnZlcnROb3JtYWxNYXBYIix2b2lkIDApLFQoW3RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxUKFtQKCJpbnZlcnROb3JtYWxNYXBZIildLGUucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWSIsdm9pZCAwKSxUKFt0ZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksVChbUCgidHdvU2lkZWRMaWdodGluZyIpXSxlLnByb3RvdHlwZSwiX3R3b1NpZGVkTGlnaHRpbmciLHZvaWQgMCksVChbdGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ0d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInVzZUxvZ2FyaXRobWljRGVwdGgiLG51bGwpLGV9KHBuKTtPZSgiQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIixIdCksRWUuRGVmYXVsdE1hdGVyaWFsRmFjdG9yeT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IEh0KCJkZWZhdWx0IG1hdGVyaWFsIixpKX07dmFyIGNmPSJpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5IixkZj1gI2lmZGVmIElNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTCmdsX0ZyYWdDb2xvci5yZ2I9cG93KGdsX0ZyYWdDb2xvci5yZ2IsdmVjMygyLjIpKTsKI2VuZGlmYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2NmXT1kZjt2YXIgcGY9InNoYWRvd09ubHlQaXhlbFNoYWRlciIsX2Y9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKCnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gZmxvYXQgYWxwaGE7CnVuaWZvcm0gdmVjMyBzaGFkb3dDb2xvcjsKCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KCiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CnZlYzMgdmlld0RpcmVjdGlvblc9bm9ybWFsaXplKHZFeWVQb3NpdGlvbi54eXotdlBvc2l0aW9uVyk7CgojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUodk5vcm1hbFcpOwojZWxzZQp2ZWMzIG5vcm1hbFc9dmVjMygxLjAsMS4wLDEuMCk7CiNlbmRpZgoKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CmZsb2F0IHNoYWRvdz0xLjsKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4uMV0KCnZlYzQgY29sb3I9dmVjNChzaGFkb3dDb2xvciwoMS4wLWNsYW1wKHNoYWRvdywwLiwxLikpKmFscGhhKTsKI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eT4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbcGZdPV9mO3ZhciBnZj0ic2hhZG93T25seVZlcnRleFNoYWRlciIsdmY9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXc7CnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCgp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWZkZWYgVkVSVEVYQ09MT1IKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb24sMS4wKTsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CnZQb3NpdGlvblc9dmVjMyh3b3JsZFBvcyk7CiNpZmRlZiBOT1JNQUwKdk5vcm1hbFc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KG5vcm1hbCwwLjApKSk7CiNlbmRpZgoKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgoKI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCgojaWYgZGVmaW5lZChQT0lOVFNJWkUpICYmICFkZWZpbmVkKFdFQkdQVSkKZ2xfUG9pbnRTaXplPXBvaW50U2l6ZTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVbZ2ZdPXZmO3ZhciBtZj1mdW5jdGlvbihpKXtrKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5DTElQUExBTkU9ITEsdC5DTElQUExBTkUyPSExLHQuQ0xJUFBMQU5FMz0hMSx0LkNMSVBQTEFORTQ9ITEsdC5DTElQUExBTkU1PSExLHQuQ0xJUFBMQU5FNj0hMSx0LlBPSU5UU0laRT0hMSx0LkZPRz0hMSx0Lk5PUk1BTD0hMSx0Lk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdC5Cb25lc1Blck1lc2g9MCx0LklOU1RBTkNFUz0hMSx0LklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHQuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0LnJlYnVpbGQoKSx0fXJldHVybiBlfShiciksX249ZnVuY3Rpb24oaSl7ayhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLl9uZWVkQWxwaGFCbGVuZGluZz0hMCxuLnNoYWRvd0NvbG9yPXBlLkJsYWNrKCksbn1yZXR1cm4gZS5wcm90b3R5cGUubmVlZEFscGhhQmxlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVlZEFscGhhQmxlbmRpbmd9LGUucHJvdG90eXBlLm5lZWRBbHBoYVRlc3Rpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0QWxwaGFUZXN0VGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFjdGl2ZUxpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUxpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYWN0aXZlTGlnaHQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2g9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTAsbj10LmxpZ2h0U291cmNlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZihhLnNoYWRvd0VuYWJsZWQpcmV0dXJuIGF9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtpZih0aGlzLmlzRnJvemVuJiZyLmVmZmVjdCYmci5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSlyZXR1cm4hMDtyLm1hdGVyaWFsRGVmaW5lc3x8KHIubWF0ZXJpYWxEZWZpbmVzPW5ldyBtZik7dmFyIHM9ci5tYXRlcmlhbERlZmluZXMsbz10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2gocikpcmV0dXJuITA7dmFyIHU9by5nZXRFbmdpbmUoKTtpZih0aGlzLl9hY3RpdmVMaWdodClmb3IodmFyIGY9MCxsPXQubGlnaHRTb3VyY2VzO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdO2lmKGguc2hhZG93RW5hYmxlZCl7aWYodGhpcy5fYWN0aXZlTGlnaHQ9PT1oKWJyZWFrO3ZhciBjPXQubGlnaHRTb3VyY2VzLmluZGV4T2YodGhpcy5fYWN0aXZlTGlnaHQpO2MhPT0tMSYmKHQubGlnaHRTb3VyY2VzLnNwbGljZShjLDEpLHQubGlnaHRTb3VyY2VzLnNwbGljZSgwLDAsdGhpcy5fYWN0aXZlTGlnaHQpKTticmVha319SC5QcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXMobyx1LHMsISFuKSxILlByZXBhcmVEZWZpbmVzRm9yTWlzYyh0LG8sITEsdGhpcy5wb2ludHNDbG91ZCx0aGlzLmZvZ0VuYWJsZWQsdGhpcy5fc2hvdWxkVHVybkFscGhhVGVzdE9uKHQpLHMpLHMuX25lZWROb3JtYWxzPUguUHJlcGFyZURlZmluZXNGb3JMaWdodHMobyx0LHMsITEsMSk7dmFyIGQ9KGE9dGhpcy5fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2godCkpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZih0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hMCxkJiZkLmdldENsYXNzTmFtZSYmZC5nZXRDbGFzc05hbWUoKT09PSJDYXNjYWRlZFNoYWRvd0dlbmVyYXRvciIpe3ZhciBwPWQ7dGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9IXAuYXV0b0NhbGNEZXB0aEJvdW5kc31pZihILlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyh0LHMsITEsITApLHMuaXNEaXJ0eSl7cy5tYXJrQXNQcm9jZXNzZWQoKSxvLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTt2YXIgXz1uZXcgY2k7cy5GT0cmJl8uYWRkRmFsbGJhY2soMSwiRk9HIiksSC5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHMsXywxKSxzLk5VTV9CT05FX0lORkxVRU5DRVJTPjAmJl8uYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLHQpLHMuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9by5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmFwcGx5QnlQb3N0UHJvY2Vzczt2YXIgZz1bYi5Qb3NpdGlvbktpbmRdO3MuTk9STUFMJiZnLnB1c2goYi5Ob3JtYWxLaW5kKSxILlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMoZyx0LHMsXyksSC5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhnLHMpO3ZhciBtPSJzaGFkb3dPbmx5Iix2PXMudG9TdHJpbmcoKSxTPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsImFscGhhIiwic2hhZG93Q29sb3IiLCJtQm9uZXMiLCJ2Q2xpcFBsYW5lIiwidkNsaXBQbGFuZTIiLCJ2Q2xpcFBsYW5lMyIsInZDbGlwUGxhbmU0IiwidkNsaXBQbGFuZTUiLCJ2Q2xpcFBsYW5lNiJdLE09bmV3IEFycmF5LEE9bmV3IEFycmF5O0guUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOlMsdW5pZm9ybUJ1ZmZlcnNOYW1lczpBLHNhbXBsZXJzOk0sZGVmaW5lczpzLG1heFNpbXVsdGFuZW91c0xpZ2h0czoxfSksci5zZXRFZmZlY3Qoby5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QobSx7YXR0cmlidXRlczpnLHVuaWZvcm1zTmFtZXM6Uyx1bmlmb3JtQnVmZmVyc05hbWVzOkEsc2FtcGxlcnM6TSxkZWZpbmVzOnYsZmFsbGJhY2tzOl8sb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6MX19LHUpLHMsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hci5lZmZlY3R8fCFyLmVmZmVjdC5pc1JlYWR5KCk/ITE6KHMuX3JlbmRlcklkPW8uZ2V0UmVuZGVySWQoKSxyLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLCEwKX0sZS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0U2NlbmUoKSxzPW4ubWF0ZXJpYWxEZWZpbmVzO2lmKCEhcyl7dmFyIG89bi5lZmZlY3Q7aWYoISFvKXtpZih0aGlzLl9hY3RpdmVFZmZlY3Q9byx0aGlzLmJpbmRPbmx5V29ybGRNYXRyaXgodCksdGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLGEuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLEguQmluZEJvbmVzUGFyYW1ldGVycyhyLHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fbXVzdFJlYmluZChhLG8pJiYoSC5CaW5kQ2xpcFBsYW5lKHRoaXMuX2FjdGl2ZUVmZmVjdCxhKSx0aGlzLnBvaW50c0Nsb3VkJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0RmxvYXQoInBvaW50U2l6ZSIsdGhpcy5wb2ludFNpemUpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgiYWxwaGEiLHRoaXMuYWxwaGEpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRDb2xvcjMoInNoYWRvd0NvbG9yIix0aGlzLnNoYWRvd0NvbG9yKSxhLmJpbmRFeWVQb3NpdGlvbihvKSksYS5saWdodHNFbmFibGVkKXtILkJpbmRMaWdodHMoYSxyLHRoaXMuX2FjdGl2ZUVmZmVjdCxzLDEpO3ZhciB1PXRoaXMuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKHIpO3UmJih1Ll9yZW5kZXJJZD0tMSl9KGEuZm9nRW5hYmxlZCYmci5hcHBseUZvZyYmYS5mb2dNb2RlIT09RWUuRk9HTU9ERV9OT05FfHxzLlNIQURPV0NTTTApJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3IixhLmdldFZpZXdNYXRyaXgoKSksSC5CaW5kRm9nUGFyYW1ldGVycyhhLHIsdGhpcy5fYWN0aXZlRWZmZWN0KSx0aGlzLl9hZnRlckJpbmQocix0aGlzLl9hY3RpdmVFZmZlY3QpfX19LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7cmV0dXJuIFkuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodCxyLmdldFNjZW5lKCkpfSx0aGlzKX0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9aS5wcm90b3R5cGUuc2VyaWFsaXplLmNhbGwodGhpcyk7cmV0dXJuIHQuY3VzdG9tVHlwZT0iQkFCWUxPTi5TaGFkb3dPbmx5TWF0ZXJpYWwiLHR9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJTaGFkb3dPbmx5TWF0ZXJpYWwifSxlLlBhcnNlPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gWS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0Lm5hbWUscil9LHQscixuKX0sZX0ocG4pO09lKCJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsX24pO2NvbnN0IHlmPXthc3BlY3Q6MzAwLzE1MCxlbmFibGVEZWJ1Z2dpbmc6ITEsZW5hYmxlU2hhZG93czohMH07Y2xhc3MgYmZ7Y29uc3RydWN0b3IoZSl7RnQodGhpcywic2l6ZSIsOS41KTt0aGlzLmNvbmZpZz1xZShxZSh7fSx5ZiksZSksdGhpcy5jcmVhdGUoKX1jcmVhdGUoZSl7dGhpcy5kZXN0cm95KCksT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZyxlKTtjb25zdHthc3BlY3Q6dCxlbmFibGVEZWJ1Z2dpbmc6cj0hMCxlbmFibGVTaGFkb3dzOm59PXRoaXMuY29uZmlnLGE9MzA7bGV0IHM7dGhpcy5ib3g9bmV3IGplKCJkaWNlQm94Iikscj8ocz1uZXcgSHQoImRpY2VCb3hfbWF0ZXJpYWwiKSxzLmFscGhhPS43LHMuZGlmZnVzZUNvbG9yPW5ldyBwZSgxLDEsMCkpOm4mJihzPW5ldyBfbigic2hhZG93T25seSIsdGhpcy5jb25maWcuc2NlbmUpKTtjb25zdCBvPVh0KCJncm91bmQiLHt3aWR0aDp0aGlzLnNpemUsaGVpZ2h0OjEsZGVwdGg6dGhpcy5zaXplfSx0aGlzLmNvbmZpZy5zY2VuZSk7aWYoby5zY2FsaW5nPW5ldyBFKHQsMSwxKSxvLm1hdGVyaWFsPXMsby5yZWNlaXZlU2hhZG93cz0hMCxvLnNldFBhcmVudCh0aGlzLmJveCkscil7Y29uc3QgdT1YdCgid2FsbFRvcCIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6YSxkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7dS5wb3NpdGlvbi55PWEvMix1LnBvc2l0aW9uLno9dGhpcy5zaXplLy0yLHUuc2NhbGluZz1uZXcgRSh0LDEsMSksdS5tYXRlcmlhbD1zLHUuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBmPVh0KCJ3YWxsUmlnaHQiLHt3aWR0aDoxLGhlaWdodDphLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2YucG9zaXRpb24ueD10aGlzLnNpemUqdC8yLGYucG9zaXRpb24ueT1hLzIsZi5tYXRlcmlhbD1zLGYuc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBsPVh0KCJ3YWxsQm90dG9tIix7d2lkdGg6dGhpcy5zaXplLGhlaWdodDphLGRlcHRoOjF9LHRoaXMuY29uZmlnLnNjZW5lKTtsLnBvc2l0aW9uLnk9YS8yLGwucG9zaXRpb24uej10aGlzLnNpemUvMixsLnNjYWxpbmc9bmV3IEUodCwxLDEpLGwubWF0ZXJpYWw9cyxsLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgaD1YdCgid2FsbExlZnQiLHt3aWR0aDoxLGhlaWdodDphLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2gucG9zaXRpb24ueD10aGlzLnNpemUqdC8tMixoLnBvc2l0aW9uLnk9YS8yLGgubWF0ZXJpYWw9cyxoLnNldFBhcmVudCh0aGlzLmJveCl9fWRlc3Ryb3koKXt0aGlzLmJveCYmdGhpcy5ib3guZGlzcG9zZSgpfX12YXIgYnQ7KGZ1bmN0aW9uKGkpe2lbaS5DbGVhbj0wXT0iQ2xlYW4iLGlbaS5TdG9wPTFdPSJTdG9wIixpW2kuU3luYz0yXT0iU3luYyIsaVtpLk5vU3luYz0zXT0iTm9TeW5jIn0pKGJ0fHwoYnQ9e30pKTt2YXIgWGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZXQuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9LHNldDpmdW5jdGlvbihlKXtldC5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaG93TG9hZGluZ1NjcmVlbiIse2dldDpmdW5jdGlvbigpe3JldHVybiBldC5TaG93TG9hZGluZ1NjcmVlbn0sc2V0OmZ1bmN0aW9uKGUpe2V0LlNob3dMb2FkaW5nU2NyZWVuPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImxvZ2dpbmdMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiBldC5sb2dnaW5nTGV2ZWx9LHNldDpmdW5jdGlvbihlKXtldC5sb2dnaW5nTGV2ZWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiBldC5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfSxzZXQ6ZnVuY3Rpb24oZSl7ZXQuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuR2V0RGVmYXVsdFBsdWdpbj1mdW5jdGlvbigpe3JldHVybiBpLl9yZWdpc3RlcmVkUGx1Z2luc1siLmJhYnlsb24iXX0saS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWkuX3JlZ2lzdGVyZWRQbHVnaW5zW2VdO3JldHVybiB0fHwoei5XYXJuKCJVbmFibGUgdG8gZmluZCBhIHBsdWdpbiB0byBsb2FkICIrZSsiIGZpbGVzLiBUcnlpbmcgdG8gdXNlIC5iYWJ5bG9uIGRlZmF1bHQgcGx1Z2luLiBUbyBsb2FkIGZyb20gYSBzcGVjaWZpYyBmaWxldHlwZSAoZWcuIGdsdGYpIHNlZTogaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9ob3dfdG8vbG9hZF9mcm9tX2FueV9maWxlX3R5cGUiKSxpLkdldERlZmF1bHRQbHVnaW4oKSl9LGkuX0dldFBsdWdpbkZvckRpcmVjdExvYWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGkuX3JlZ2lzdGVyZWRQbHVnaW5zKXt2YXIgcj1pLl9yZWdpc3RlcmVkUGx1Z2luc1t0XS5wbHVnaW47aWYoci5jYW5EaXJlY3RMb2FkJiZyLmNhbkRpcmVjdExvYWQoZSkpcmV0dXJuIGkuX3JlZ2lzdGVyZWRQbHVnaW5zW3RdfXJldHVybiBpLkdldERlZmF1bHRQbHVnaW4oKX0saS5fR2V0UGx1Z2luRm9yRmlsZW5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCI/Iik7dCE9PS0xJiYoZT1lLnN1YnN0cmluZygwLHQpKTt2YXIgcj1lLmxhc3RJbmRleE9mKCIuIiksbj1lLnN1YnN0cmluZyhyLGUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpO3JldHVybiBpLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24obil9LGkuX0dldERpcmVjdExvYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyKDAsNSk9PT0iZGF0YToiP2Uuc3Vic3RyKDUpOm51bGx9LGkuX0Zvcm1hdEVycm9yTWVzc2FnZT1mdW5jdGlvbihlLHQscil7dmFyIG49IlVuYWJsZSB0byBsb2FkIGZyb20gIitlLnVybDtyZXR1cm4gdD9uKz0iOiAiLmNvbmNhdCh0KTpyJiYobis9IjogIi5jb25jYXQocikpLG59LGkuX0xvYWREYXRhPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PWkuX0dldERpcmVjdExvYWQoZS51cmwpLGY9bz9pLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24obyk6dT9pLl9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUudXJsKTppLl9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlLnVybCksbDtpZihmLnBsdWdpbi5jcmVhdGVQbHVnaW4hPT12b2lkIDA/bD1mLnBsdWdpbi5jcmVhdGVQbHVnaW4oKTpsPWYucGx1Z2luLCFsKXRocm93IlRoZSBsb2FkZXIgcGx1Z2luIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZpbGUgdHlwZSB5b3UgYXJlIHRyeWluZyB0byBsb2FkIGhhcyBub3QgYmVlbiBmb3VuZC4gSWYgdXNpbmcgZXM2LCBwbGVhc2UgaW1wb3J0IHRoZSBwbHVnaW4geW91IHdpc2ggdG8gdXNlIGJlZm9yZS4iO2lmKGkuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKSx1JiYobC5jYW5EaXJlY3RMb2FkJiZsLmNhbkRpcmVjdExvYWQoZS51cmwpfHwhX3IoZS51cmwpKSl7aWYobC5kaXJlY3RMb2FkKXt2YXIgaD1sLmRpcmVjdExvYWQodCx1KTtoLnRoZW4/aC50aGVuKGZ1bmN0aW9uKEMpe3IobCxDKX0pLmNhdGNoKGZ1bmN0aW9uKEMpe2EoIkVycm9yIGluIGRpcmVjdExvYWQgb2YgX2xvYWREYXRhOiAiK0MsQyl9KTpyKGwsaCl9ZWxzZSByKGwsdSk7cmV0dXJuIGx9dmFyIGM9Zi5pc0JpbmFyeSxkPWZ1bmN0aW9uKEMsdyl7aWYodC5pc0Rpc3Bvc2VkKXthKCJTY2VuZSBoYXMgYmVlbiBkaXNwb3NlZCIpO3JldHVybn1yKGwsQyx3KX0scD1udWxsLF89ITEsZz1sLm9uRGlzcG9zZU9ic2VydmFibGU7ZyYmZy5hZGQoZnVuY3Rpb24oKXtfPSEwLHAmJihwLmFib3J0KCkscD1udWxsKSxzKCl9KTt2YXIgbT1mdW5jdGlvbigpe2lmKCFfKXt2YXIgQz1mdW5jdGlvbihGLEQpe2EoRj09bnVsbD92b2lkIDA6Ri5zdGF0dXNUZXh0LEQpfSx3PWUuZmlsZXx8ZS51cmw7cD1sLmxvYWRGaWxlP2wubG9hZEZpbGUodCx3LGQsbixjLEMpOnQuX2xvYWRGaWxlKHcsZCxuLCEwLGMsQyl9fSx2PXQuZ2V0RW5naW5lKCksUz12LmVuYWJsZU9mZmxpbmVTdXBwb3J0O2lmKFMpe2Zvcih2YXIgTT0hMSxBPTAsUj10LmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzO0E8Ui5sZW5ndGg7QSsrKXt2YXIgeT1SW0FdO2lmKHkudGVzdChlLnVybCkpe009ITA7YnJlYWt9fVM9IU19cmV0dXJuIFMmJm9lLk9mZmxpbmVQcm92aWRlckZhY3Rvcnk/dC5vZmZsaW5lUHJvdmlkZXI9b2UuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeShlLnVybCxtLHYuZGlzYWJsZU1hbmlmZXN0Q2hlY2spOm0oKSxsfSxpLl9HZXRGaWxlSW5mbz1mdW5jdGlvbihlLHQpe3ZhciByLG4sYT1udWxsO2lmKCF0KXI9ZSxuPWllLkdldEZpbGVuYW1lKGUpLGU9aWUuR2V0Rm9sZGVyUGF0aChlKTtlbHNlIGlmKHQubmFtZSl7dmFyIHM9dDtyPSJmaWxlOiIuY29uY2F0KHMubmFtZSksbj1zLm5hbWUsYT1zfWVsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZaZSh0LCJkYXRhOiIpKXI9dCxuPSIiO2Vsc2V7dmFyIG89dDtpZihvLnN1YnN0cigwLDEpPT09Ii8iKXJldHVybiBpZS5FcnJvcigiV3Jvbmcgc2NlbmVGaWxlbmFtZSBwYXJhbWV0ZXIiKSxudWxsO3I9ZStvLG49b31yZXR1cm57dXJsOnIscm9vdFVybDplLG5hbWU6bixmaWxlOmF9fSxpLkdldFBsdWdpbkZvckV4dGVuc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gaS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpLnBsdWdpbn0saS5Jc1BsdWdpbkZvckV4dGVuc2lvbkF2YWlsYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIWkuX3JlZ2lzdGVyZWRQbHVnaW5zW2VdfSxpLlJlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlLmV4dGVuc2lvbnM9PSJzdHJpbmciKXt2YXIgdD1lLmV4dGVuc2lvbnM7aS5fcmVnaXN0ZXJlZFBsdWdpbnNbdC50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6ITF9fWVsc2V7dmFyIHI9ZS5leHRlbnNpb25zO09iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24obil7aS5fcmVnaXN0ZXJlZFBsdWdpbnNbbi50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6cltuXS5pc0JpbmFyeX19KX19LGkuSW1wb3J0TWVzaD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe2lmKHI9PT12b2lkIDAmJihyPSIiKSxuPT09dm9pZCAwJiYobj1KLkxhc3RDcmVhdGVkU2NlbmUpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLCFuKXJldHVybiB6LkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gaW1wb3J0IG1lc2ggdG8iKSxudWxsO3ZhciBmPWkuX0dldEZpbGVJbmZvKHQscik7aWYoIWYpcmV0dXJuIG51bGw7dmFyIGw9e307bi5fYWRkUGVuZGluZ0RhdGEobCk7dmFyIGg9ZnVuY3Rpb24oKXtuLl9yZW1vdmVQZW5kaW5nRGF0YShsKX0sYz1mdW5jdGlvbihfLGcpe3ZhciBtPWkuX0Zvcm1hdEVycm9yTWVzc2FnZShmLF8sZyk7bz9vKG4sbSxuZXcgQ3QobSxQdC5TY2VuZUxvYWRlckVycm9yLGcpKTp6LkVycm9yKG0pLGgoKX0sZD1zP2Z1bmN0aW9uKF8pe3RyeXtzKF8pfWNhdGNoKGcpe2MoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2s6ICIrZyxnKX19OnZvaWQgMCxwPWZ1bmN0aW9uKF8sZyxtLHYsUyxNLEEpe2lmKG4uaW1wb3J0ZWRNZXNoZXNGaWxlcy5wdXNoKGYudXJsKSxhKXRyeXthKF8sZyxtLHYsUyxNLEEpfWNhdGNoKFIpe2MoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjazogIitSLFIpfW4uX3JlbW92ZVBlbmRpbmdEYXRhKGwpfTtyZXR1cm4gaS5fTG9hZERhdGEoZixuLGZ1bmN0aW9uKF8sZyxtKXtpZihfLnJld3JpdGVSb290VVJMJiYoZi5yb290VXJsPV8ucmV3cml0ZVJvb3RVUkwoZi5yb290VXJsLG0pKSxfLmltcG9ydE1lc2gpe3ZhciB2PV8sUz1uZXcgQXJyYXksTT1uZXcgQXJyYXksQT1uZXcgQXJyYXk7aWYoIXYuaW1wb3J0TWVzaChlLG4sZyxmLnJvb3RVcmwsUyxNLEEsYykpcmV0dXJuO24ubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLHAoUyxNLEEsW10sW10sW10sW10pfWVsc2V7dmFyIFI9XztSLmltcG9ydE1lc2hBc3luYyhlLG4sZyxmLnJvb3RVcmwsZCxmLm5hbWUpLnRoZW4oZnVuY3Rpb24oeSl7bi5sb2FkaW5nUGx1Z2luTmFtZT1fLm5hbWUscCh5Lm1lc2hlcyx5LnBhcnRpY2xlU3lzdGVtcyx5LnNrZWxldG9ucyx5LmFuaW1hdGlvbkdyb3Vwcyx5LnRyYW5zZm9ybU5vZGVzLHkuZ2VvbWV0cmllcyx5LmxpZ2h0cyl9KS5jYXRjaChmdW5jdGlvbih5KXtjKHkubWVzc2FnZSx5KX0pfX0sZCxjLGgsdSl9LGkuSW1wb3J0TWVzaEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9IiIpLG49PT12b2lkIDAmJihuPUouTGFzdENyZWF0ZWRTY2VuZSksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbmV3IFByb21pc2UoZnVuY3Rpb24obyx1KXtpLkltcG9ydE1lc2goZSx0LHIsbixmdW5jdGlvbihmLGwsaCxjLGQscCxfKXtvKHttZXNoZXM6ZixwYXJ0aWNsZVN5c3RlbXM6bCxza2VsZXRvbnM6aCxhbmltYXRpb25Hcm91cHM6Yyx0cmFuc2Zvcm1Ob2RlczpkLGdlb21ldHJpZXM6cCxsaWdodHM6X30pfSxhLGZ1bmN0aW9uKGYsbCxoKXt1KGh8fG5ldyBFcnJvcihsKSl9LHMpfSl9LGkuTG9hZD1mdW5jdGlvbihlLHQscixuLGEscyxvKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPUouTGFzdENyZWF0ZWRFbmdpbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHI/aS5BcHBlbmQoZSx0LG5ldyBFZShyKSxuLGEscyxvKTooaWUuRXJyb3IoIk5vIGVuZ2luZSBhdmFpbGFibGUiKSxudWxsKX0saS5Mb2FkQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPUouTGFzdENyZWF0ZWRFbmdpbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7aS5Mb2FkKGUsdCxyLGZ1bmN0aW9uKHUpe3ModSl9LG4sZnVuY3Rpb24odSxmLGwpe28obHx8bmV3IEVycm9yKGYpKX0sYSl9KX0saS5BcHBlbmQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9dGhpcztpZih0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9Si5MYXN0Q3JlYXRlZFNjZW5lKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSwhcilyZXR1cm4gei5FcnJvcigiTm8gc2NlbmUgYXZhaWxhYmxlIHRvIGFwcGVuZCB0byIpLG51bGw7dmFyIGY9aS5fR2V0RmlsZUluZm8oZSx0KTtpZighZilyZXR1cm4gbnVsbDtpLlNob3dMb2FkaW5nU2NyZWVuJiYhdGhpcy5fc2hvd2luZ0xvYWRpbmdTY3JlZW4mJih0aGlzLl9zaG93aW5nTG9hZGluZ1NjcmVlbj0hMCxyLmdldEVuZ2luZSgpLmRpc3BsYXlMb2FkaW5nVUkoKSxyLmV4ZWN1dGVXaGVuUmVhZHkoZnVuY3Rpb24oKXtyLmdldEVuZ2luZSgpLmhpZGVMb2FkaW5nVUkoKSx1Ll9zaG93aW5nTG9hZGluZ1NjcmVlbj0hMX0pKTt2YXIgbD17fTtyLl9hZGRQZW5kaW5nRGF0YShsKTt2YXIgaD1mdW5jdGlvbigpe3IuX3JlbW92ZVBlbmRpbmdEYXRhKGwpfSxjPWZ1bmN0aW9uKF8sZyl7dmFyIG09aS5fRm9ybWF0RXJyb3JNZXNzYWdlKGYsXyxnKTtzP3MocixtLG5ldyBDdChtLFB0LlNjZW5lTG9hZGVyRXJyb3IsZykpOnouRXJyb3IobSksaCgpfSxkPWE/ZnVuY3Rpb24oXyl7dHJ5e2EoXyl9Y2F0Y2goZyl7YygiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsZyl9fTp2b2lkIDAscD1mdW5jdGlvbigpe2lmKG4pdHJ5e24ocil9Y2F0Y2goXyl7YygiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIixfKX1yLl9yZW1vdmVQZW5kaW5nRGF0YShsKX07cmV0dXJuIGkuX0xvYWREYXRhKGYscixmdW5jdGlvbihfLGcpe2lmKF8ubG9hZCl7dmFyIG09XztpZighbS5sb2FkKHIsZyxmLnJvb3RVcmwsYykpcmV0dXJuO3IubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLHAoKX1lbHNle3ZhciB2PV87di5sb2FkQXN5bmMocixnLGYucm9vdFVybCxkLGYubmFtZSkudGhlbihmdW5jdGlvbigpe3IubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLHAoKX0pLmNhdGNoKGZ1bmN0aW9uKFMpe2MoUy5tZXNzYWdlLFMpfSl9fSxkLGMsaCxvKX0saS5BcHBlbmRBc3luYz1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9Si5MYXN0Q3JlYXRlZFNjZW5lKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe2kuQXBwZW5kKGUsdCxyLGZ1bmN0aW9uKHUpe3ModSl9LG4sZnVuY3Rpb24odSxmLGwpe28obHx8bmV3IEVycm9yKGYpKX0sYSl9KX0saS5Mb2FkQXNzZXRDb250YWluZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7aWYodD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPUouTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksIXIpcmV0dXJuIHouRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFzc2V0IGNvbnRhaW5lciB0byIpLG51bGw7dmFyIHU9aS5fR2V0RmlsZUluZm8oZSx0KTtpZighdSlyZXR1cm4gbnVsbDt2YXIgZj17fTtyLl9hZGRQZW5kaW5nRGF0YShmKTt2YXIgbD1mdW5jdGlvbigpe3IuX3JlbW92ZVBlbmRpbmdEYXRhKGYpfSxoPWZ1bmN0aW9uKHAsXyl7dmFyIGc9aS5fRm9ybWF0RXJyb3JNZXNzYWdlKHUscCxfKTtzP3MocixnLG5ldyBDdChnLFB0LlNjZW5lTG9hZGVyRXJyb3IsXykpOnouRXJyb3IoZyksbCgpfSxjPWE/ZnVuY3Rpb24ocCl7dHJ5e2EocCl9Y2F0Y2goXyl7aCgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsXyl9fTp2b2lkIDAsZD1mdW5jdGlvbihwKXtpZihuKXRyeXtuKHApfWNhdGNoKF8pe2goIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjayIsXyl9ci5fcmVtb3ZlUGVuZGluZ0RhdGEoZil9O3JldHVybiBpLl9Mb2FkRGF0YSh1LHIsZnVuY3Rpb24ocCxfKXtpZihwLmxvYWRBc3NldENvbnRhaW5lcil7dmFyIGc9cCxtPWcubG9hZEFzc2V0Q29udGFpbmVyKHIsXyx1LnJvb3RVcmwsaCk7aWYoIW0pcmV0dXJuO3IubG9hZGluZ1BsdWdpbk5hbWU9cC5uYW1lLGQobSl9ZWxzZSBpZihwLmxvYWRBc3NldENvbnRhaW5lckFzeW5jKXt2YXIgdj1wO3YubG9hZEFzc2V0Q29udGFpbmVyQXN5bmMocixfLHUucm9vdFVybCxjLHUubmFtZSkudGhlbihmdW5jdGlvbihTKXtyLmxvYWRpbmdQbHVnaW5OYW1lPXAubmFtZSxkKFMpfSkuY2F0Y2goZnVuY3Rpb24oUyl7aChTLm1lc3NhZ2UsUyl9KX1lbHNlIGgoIkxvYWRBc3NldENvbnRhaW5lciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGx1Z2luLiBQbHVnaW4gZGlkIG5vdCBwcm92aWRlIGEgbG9hZEFzc2V0Q29udGFpbmVyIG9yIGxvYWRBc3NldENvbnRhaW5lckFzeW5jIG1ldGhvZC4iKX0sYyxoLGwsbyl9LGkuTG9hZEFzc2V0Q29udGFpbmVyQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPUouTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCksbmV3IFByb21pc2UoZnVuY3Rpb24ocyxvKXtpLkxvYWRBc3NldENvbnRhaW5lcihlLHQscixmdW5jdGlvbih1KXtzKHUpfSxuLGZ1bmN0aW9uKHUsZixsKXtvKGx8fG5ldyBFcnJvcihmKSl9LGEpfSl9LGkuSW1wb3J0QW5pbWF0aW9ucz1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsKXtpZih0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9Si5MYXN0Q3JlYXRlZFNjZW5lKSxuPT09dm9pZCAwJiYobj0hMCksYT09PXZvaWQgMCYmKGE9YnQuQ2xlYW4pLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPW51bGwpLCFyKXt6LkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhbmltYXRpb25zIHRvIik7cmV0dXJufWlmKG4pe2Zvcih2YXIgaD0wLGM9ci5hbmltYXRhYmxlcztoPGMubGVuZ3RoO2grKyl7dmFyIGQ9Y1toXTtkLnJlc2V0KCl9ci5zdG9wQWxsQW5pbWF0aW9ucygpLHIuYW5pbWF0aW9uR3JvdXBzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihtKXttLmRpc3Bvc2UoKX0pO3ZhciBwPXIuZ2V0Tm9kZXMoKTtwLmZvckVhY2goZnVuY3Rpb24obSl7bS5hbmltYXRpb25zJiYobS5hbmltYXRpb25zPVtdKX0pfWVsc2Ugc3dpdGNoKGEpe2Nhc2UgYnQuQ2xlYW46ci5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKG0pe20uZGlzcG9zZSgpfSk7YnJlYWs7Y2FzZSBidC5TdG9wOnIuYW5pbWF0aW9uR3JvdXBzLmZvckVhY2goZnVuY3Rpb24obSl7bS5zdG9wKCl9KTticmVhaztjYXNlIGJ0LlN5bmM6ci5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmdW5jdGlvbihtKXttLnJlc2V0KCksbS5yZXN0YXJ0KCl9KTticmVhaztjYXNlIGJ0Lk5vU3luYzpicmVhaztkZWZhdWx0OnouRXJyb3IoIlVua25vd24gYW5pbWF0aW9uIGdyb3VwIGxvYWRpbmcgbW9kZSB2YWx1ZSAnIithKyInIik7cmV0dXJufXZhciBfPXIuYW5pbWF0YWJsZXMubGVuZ3RoLGc9ZnVuY3Rpb24obSl7bS5tZXJnZUFuaW1hdGlvbnNUbyhyLHIuYW5pbWF0YWJsZXMuc2xpY2UoXykscyksbS5kaXNwb3NlKCksci5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLG8mJm8ocil9O3RoaXMuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxyLGcsdSxmLGwpfSxpLkltcG9ydEFuaW1hdGlvbnNBc3luYz1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPUouTGFzdENyZWF0ZWRTY2VuZSksbj09PXZvaWQgMCYmKG49ITApLGE9PT12b2lkIDAmJihhPWJ0LkNsZWFuKSxzPT09dm9pZCAwJiYocz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxsPT09dm9pZCAwJiYobD1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihoLGMpe2kuSW1wb3J0QW5pbWF0aW9ucyhlLHQscixuLGEscyxmdW5jdGlvbihkKXtoKGQpfSx1LGZ1bmN0aW9uKGQscCxfKXtjKF98fG5ldyBFcnJvcihwKSl9LGwpfSl9LGkuTk9fTE9HR0lORz0wLGkuTUlOSU1BTF9MT0dHSU5HPTEsaS5TVU1NQVJZX0xPR0dJTkc9MixpLkRFVEFJTEVEX0xPR0dJTkc9MyxpLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZT1uZXcgTyxpLl9yZWdpc3RlcmVkUGx1Z2lucz17fSxpLl9zaG93aW5nTG9hZGluZ1NjcmVlbj0hMSxpfSgpLGduOyhmdW5jdGlvbihpKXtpW2kuQ1c9MF09IkNXIixpW2kuQ0NXPTFdPSJDQ1cifSkoZ258fChnbj17fSkpO3ZhciB0dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3I9PT12b2lkIDAmJihyPU51bWJlci5NQVhfVkFMVUUpLHRoaXMub3JpZ2luPWUsdGhpcy5kaXJlY3Rpb249dCx0aGlzLmxlbmd0aD1yfXJldHVybiBpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLm9yaWdpbi5jbG9uZSgpLHRoaXMuZGlyZWN0aW9uLmNsb25lKCksdGhpcy5sZW5ndGgpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzQm94TWluTWF4PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0wKTt2YXIgbj1pLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tRmxvYXRzKGUueC1yLGUueS1yLGUuei1yKSxhPWkuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHModC54K3IsdC55K3IsdC56K3IpLHM9MCxvPU51bWJlci5NQVhfVkFMVUUsdSxmLGwsaDtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi54KTwxZS03KXtpZih0aGlzLm9yaWdpbi54PG4ueHx8dGhpcy5vcmlnaW4ueD5hLngpcmV0dXJuITF9ZWxzZSBpZih1PTEvdGhpcy5kaXJlY3Rpb24ueCxmPShuLngtdGhpcy5vcmlnaW4ueCkqdSxsPShhLngtdGhpcy5vcmlnaW4ueCkqdSxsPT09LTEvMCYmKGw9MS8wKSxmPmwmJihoPWYsZj1sLGw9aCkscz1NYXRoLm1heChmLHMpLG89TWF0aC5taW4obCxvKSxzPm8pcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueSk8MWUtNyl7aWYodGhpcy5vcmlnaW4ueTxuLnl8fHRoaXMub3JpZ2luLnk+YS55KXJldHVybiExfWVsc2UgaWYodT0xL3RoaXMuZGlyZWN0aW9uLnksZj0obi55LXRoaXMub3JpZ2luLnkpKnUsbD0oYS55LXRoaXMub3JpZ2luLnkpKnUsbD09PS0xLzAmJihsPTEvMCksZj5sJiYoaD1mLGY9bCxsPWgpLHM9TWF0aC5tYXgoZixzKSxvPU1hdGgubWluKGwsbykscz5vKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLnopPDFlLTcpe2lmKHRoaXMub3JpZ2luLno8bi56fHx0aGlzLm9yaWdpbi56PmEueilyZXR1cm4hMX1lbHNlIGlmKHU9MS90aGlzLmRpcmVjdGlvbi56LGY9KG4uei10aGlzLm9yaWdpbi56KSp1LGw9KGEuei10aGlzLm9yaWdpbi56KSp1LGw9PT0tMS8wJiYobD0xLzApLGY+bCYmKGg9ZixmPWwsbD1oKSxzPU1hdGgubWF4KGYscyksbz1NYXRoLm1pbihsLG8pLHM+bylyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUuaW50ZXJzZWN0c0JveD1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSx0aGlzLmludGVyc2VjdHNCb3hNaW5NYXgoZS5taW5pbXVtLGUubWF4aW11bSx0KX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c1NwaGVyZT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PTApO3ZhciByPWUuY2VudGVyLngtdGhpcy5vcmlnaW4ueCxuPWUuY2VudGVyLnktdGhpcy5vcmlnaW4ueSxhPWUuY2VudGVyLnotdGhpcy5vcmlnaW4ueixzPXIqcituKm4rYSphLG89ZS5yYWRpdXMrdCx1PW8qbztpZihzPD11KXJldHVybiEwO3ZhciBmPXIqdGhpcy5kaXJlY3Rpb24ueCtuKnRoaXMuZGlyZWN0aW9uLnkrYSp0aGlzLmRpcmVjdGlvbi56O2lmKGY8MClyZXR1cm4hMTt2YXIgbD1zLWYqZjtyZXR1cm4gbDw9dX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c1RyaWFuZ2xlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLl9UbXBWZWN0b3IzWzBdLGE9aS5fVG1wVmVjdG9yM1sxXSxzPWkuX1RtcFZlY3RvcjNbMl0sbz1pLl9UbXBWZWN0b3IzWzNdLHU9aS5fVG1wVmVjdG9yM1s0XTt0LnN1YnRyYWN0VG9SZWYoZSxuKSxyLnN1YnRyYWN0VG9SZWYoZSxhKSxFLkNyb3NzVG9SZWYodGhpcy5kaXJlY3Rpb24sYSxzKTt2YXIgZj1FLkRvdChuLHMpO2lmKGY9PT0wKXJldHVybiBudWxsO3ZhciBsPTEvZjt0aGlzLm9yaWdpbi5zdWJ0cmFjdFRvUmVmKGUsbyk7dmFyIGg9RS5Eb3QobyxzKSpsO2lmKGg8MHx8aD4xKXJldHVybiBudWxsO0UuQ3Jvc3NUb1JlZihvLG4sdSk7dmFyIGM9RS5Eb3QodGhpcy5kaXJlY3Rpb24sdSkqbDtpZihjPDB8fGgrYz4xKXJldHVybiBudWxsO3ZhciBkPUUuRG90KGEsdSkqbDtyZXR1cm4gZD50aGlzLmxlbmd0aD9udWxsOm5ldyBKcigxLWgtYyxoLGQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUGxhbmU9ZnVuY3Rpb24oZSl7dmFyIHQscj1FLkRvdChlLm5vcm1hbCx0aGlzLmRpcmVjdGlvbik7aWYoTWF0aC5hYnMocik8OTk5OTk5OTk3NDc1MjQzZS0yMSlyZXR1cm4gbnVsbDt2YXIgbj1FLkRvdChlLm5vcm1hbCx0aGlzLm9yaWdpbik7cmV0dXJuIHQ9KC1lLmQtbikvcix0PDA/dDwtOTk5OTk5OTk3NDc1MjQzZS0yMT9udWxsOjA6dH0saS5wcm90b3R5cGUuaW50ZXJzZWN0c0F4aXM9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godD09PXZvaWQgMCYmKHQ9MCksZSl7Y2FzZSJ5Ijp2YXIgcj0odGhpcy5vcmlnaW4ueS10KS90aGlzLmRpcmVjdGlvbi55O3JldHVybiByPjA/bnVsbDpuZXcgRSh0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLXIsdCx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLXIpO2Nhc2UieCI6dmFyIHI9KHRoaXMub3JpZ2luLngtdCkvdGhpcy5kaXJlY3Rpb24ueDtyZXR1cm4gcj4wP251bGw6bmV3IEUodCx0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLXIsdGhpcy5vcmlnaW4ueit0aGlzLmRpcmVjdGlvbi56Ki1yKTtjYXNlInoiOnZhciByPSh0aGlzLm9yaWdpbi56LXQpL3RoaXMuZGlyZWN0aW9uLno7cmV0dXJuIHI+MD9udWxsOm5ldyBFKHRoaXMub3JpZ2luLngrdGhpcy5kaXJlY3Rpb24ueCotcix0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLXIsdCk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LGkucHJvdG90eXBlLmludGVyc2VjdHNNZXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9eC5NYXRyaXhbMF07cmV0dXJuIGUuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSx0aGlzLl90bXBSYXk/aS5UcmFuc2Zvcm1Ub1JlZih0aGlzLHIsdGhpcy5fdG1wUmF5KTp0aGlzLl90bXBSYXk9aS5UcmFuc2Zvcm0odGhpcyxyKSxlLmludGVyc2VjdHModGhpcy5fdG1wUmF5LHQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzTWVzaGVzPWZ1bmN0aW9uKGUsdCxyKXtyP3IubGVuZ3RoPTA6cj1bXTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGE9dGhpcy5pbnRlcnNlY3RzTWVzaChlW25dLHQpO2EuaGl0JiZyLnB1c2goYSl9cmV0dXJuIHIuc29ydCh0aGlzLl9jb21wYXJlUGlja2luZ0luZm8pLHJ9LGkucHJvdG90eXBlLl9jb21wYXJlUGlja2luZ0luZm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kaXN0YW5jZTx0LmRpc3RhbmNlPy0xOmUuZGlzdGFuY2U+dC5kaXN0YW5jZT8xOjB9LGkucHJvdG90eXBlLmludGVyc2VjdGlvblNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMub3JpZ2luLGE9eC5WZWN0b3IzWzBdLHM9eC5WZWN0b3IzWzFdLG89eC5WZWN0b3IzWzJdLHU9eC5WZWN0b3IzWzNdO3Quc3VidHJhY3RUb1JlZihlLGEpLHRoaXMuZGlyZWN0aW9uLnNjYWxlVG9SZWYoaS5yYXlsLG8pLG4uYWRkVG9SZWYobyxzKSxlLnN1YnRyYWN0VG9SZWYobix1KTt2YXIgZj1FLkRvdChhLGEpLGw9RS5Eb3QoYSxvKSxoPUUuRG90KG8sbyksYz1FLkRvdChhLHUpLGQ9RS5Eb3Qobyx1KSxwPWYqaC1sKmwsXyxnLG09cCx2LFMsTT1wO3A8aS5zbWFsbG51bT8oZz0wLG09MSxTPWQsTT1oKTooZz1sKmQtaCpjLFM9ZipkLWwqYyxnPDA/KGc9MCxTPWQsTT1oKTpnPm0mJihnPW0sUz1kK2wsTT1oKSksUzwwPyhTPTAsLWM8MD9nPTA6LWM+Zj9nPW06KGc9LWMsbT1mKSk6Uz5NJiYoUz1NLC1jK2w8MD9nPTA6LWMrbD5mP2c9bTooZz0tYytsLG09ZikpLF89TWF0aC5hYnMoZyk8aS5zbWFsbG51bT8wOmcvbSx2PU1hdGguYWJzKFMpPGkuc21hbGxudW0/MDpTL007dmFyIEE9eC5WZWN0b3IzWzRdO28uc2NhbGVUb1JlZih2LEEpO3ZhciBSPXguVmVjdG9yM1s1XTthLnNjYWxlVG9SZWYoXyxSKSxSLmFkZEluUGxhY2UodSk7dmFyIHk9eC5WZWN0b3IzWzZdO1Iuc3VidHJhY3RUb1JlZihBLHkpO3ZhciBDPXY+MCYmdjw9dGhpcy5sZW5ndGgmJnkubGVuZ3RoU3F1YXJlZCgpPHIqcjtyZXR1cm4gQz9SLmxlbmd0aCgpOi0xfSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtpZih1PT09dm9pZCAwJiYodT0hMSksdSl7aS5fcmF5RGlzdGFudHx8KGkuX3JheURpc3RhbnQ9aS5aZXJvKCkpLGkuX3JheURpc3RhbnQudW5wcm9qZWN0UmF5VG9SZWYoZSx0LHIsbixJLklkZW50aXR5UmVhZE9ubHkscyxvKTt2YXIgZj14Lk1hdHJpeFswXTthLmludmVydFRvUmVmKGYpLGkuVHJhbnNmb3JtVG9SZWYoaS5fcmF5RGlzdGFudCxmLHRoaXMpfWVsc2UgdGhpcy51bnByb2plY3RSYXlUb1JlZihlLHQscixuLGEscyxvKTtyZXR1cm4gdGhpc30saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKEUuWmVybygpLEUuWmVybygpKX0saS5DcmVhdGVOZXc9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9aS5aZXJvKCk7cmV0dXJuIHUudXBkYXRlKGUsdCxyLG4sYSxzLG8pfSxpLkNyZWF0ZU5ld0Zyb21Ubz1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9SS5JZGVudGl0eVJlYWRPbmx5KTt2YXIgbj10LnN1YnRyYWN0KGUpLGE9TWF0aC5zcXJ0KG4ueCpuLngrbi55Km4ueStuLnoqbi56KTtyZXR1cm4gbi5ub3JtYWxpemUoKSxpLlRyYW5zZm9ybShuZXcgaShlLG4sYSkscil9LGkuVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGkobmV3IEUoMCwwLDApLG5ldyBFKDAsMCwwKSk7cmV0dXJuIGkuVHJhbnNmb3JtVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe0UuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLm9yaWdpbix0LHIub3JpZ2luKSxFLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUuZGlyZWN0aW9uLHQsci5kaXJlY3Rpb24pLHIubGVuZ3RoPWUubGVuZ3RoO3ZhciBuPXIuZGlyZWN0aW9uLGE9bi5sZW5ndGgoKTtpZighKGE9PT0wfHxhPT09MSkpe3ZhciBzPTEvYTtuLngqPXMsbi55Kj1zLG4ueio9cyxyLmxlbmd0aCo9YX19LGkucHJvdG90eXBlLnVucHJvamVjdFJheVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1LGY9eC5NYXRyaXhbMF07YS5tdWx0aXBseVRvUmVmKHMsZiksZi5tdWx0aXBseVRvUmVmKG8sZiksZi5pbnZlcnQoKTt2YXIgbD14LlZlY3RvcjNbMF07bC54PWUvcioyLTEsbC55PS0odC9uKjItMSksbC56PSgodT1KLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnUuaXNORENIYWxmWlJhbmdlKT8wOi0xO3ZhciBoPXguVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyhsLngsbC55LDEtMWUtOCksYz14LlZlY3RvcjNbMl0sZD14LlZlY3RvcjNbM107RS5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYobCxmLGMpLEUuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGgsZixkKSx0aGlzLm9yaWdpbi5jb3B5RnJvbShjKSxkLnN1YnRyYWN0VG9SZWYoYyx0aGlzLmRpcmVjdGlvbiksdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCl9LGkuX1RtcFZlY3RvcjM9TWUuQnVpbGRBcnJheSg2LEUuWmVybyksaS5fcmF5RGlzdGFudD1pLlplcm8oKSxpLnNtYWxsbnVtPTFlLTgsaS5yYXlsPTFlOSxpfSgpO0VlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5PWZ1bmN0aW9uKGksZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpO3ZhciBhPXR0Llplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5VG9SZWYoaSxlLHQsYSxyLG4pLGF9LEVlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5VG9SZWY9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9ITEpLHM9PT12b2lkIDAmJihzPSExKTt2YXIgbz10aGlzLmdldEVuZ2luZSgpO2lmKCFuKXtpZighdGhpcy5hY3RpdmVDYW1lcmEpcmV0dXJuIHRoaXM7bj10aGlzLmFjdGl2ZUNhbWVyYX12YXIgdT1uLnZpZXdwb3J0LGY9dS50b0dsb2JhbChvLmdldFJlbmRlcldpZHRoKCksby5nZXRSZW5kZXJIZWlnaHQoKSk7cmV0dXJuIGk9aS9vLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktZi54LGU9ZS9vLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKG8uZ2V0UmVuZGVySGVpZ2h0KCktZi55LWYuaGVpZ2h0KSxyLnVwZGF0ZShpLGUsZi53aWR0aCxmLmhlaWdodCx0fHxJLklkZW50aXR5UmVhZE9ubHksYT9JLklkZW50aXR5UmVhZE9ubHk6bi5nZXRWaWV3TWF0cml4KCksbi5nZXRQcm9qZWN0aW9uTWF0cml4KCkscyksdGhpc30sRWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj10dC5aZXJvKCk7cmV0dXJuIHRoaXMuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihpLGUscix0KSxyfSxFZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZj1mdW5jdGlvbihpLGUsdCxyKXtpZighSmUpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5nZXRFbmdpbmUoKTtpZighcil7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7cj10aGlzLmFjdGl2ZUNhbWVyYX12YXIgYT1yLnZpZXdwb3J0LHM9YS50b0dsb2JhbChuLmdldFJlbmRlcldpZHRoKCksbi5nZXRSZW5kZXJIZWlnaHQoKSksbz1JLklkZW50aXR5KCk7cmV0dXJuIGk9aS9uLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktcy54LGU9ZS9uLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKG4uZ2V0UmVuZGVySGVpZ2h0KCktcy55LXMuaGVpZ2h0KSx0LnVwZGF0ZShpLGUscy53aWR0aCxzLmhlaWdodCxvLG8sci5nZXRQcm9qZWN0aW9uTWF0cml4KCkpLHRoaXN9LEVlLnByb3RvdHlwZS5faW50ZXJuYWxQaWNrRm9yTWVzaD1mdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8pe3ZhciB1PWUocix0LmVuYWJsZURpc3RhbnRQaWNraW5nKSxmPXQuaW50ZXJzZWN0cyh1LG4scyxhLHIsbyk7cmV0dXJuIWZ8fCFmLmhpdHx8IW4mJmkhPW51bGwmJmYuZGlzdGFuY2U+PWkuZGlzdGFuY2U/bnVsbDpmfSxFZS5wcm90b3R5cGUuX2ludGVybmFsUGljaz1mdW5jdGlvbihpLGUsdCxyLG4pe2lmKCFKZSlyZXR1cm4gbnVsbDtmb3IodmFyIGE9bnVsbCxzPTA7czx0aGlzLm1lc2hlcy5sZW5ndGg7cysrKXt2YXIgbz10aGlzLm1lc2hlc1tzXTtpZihlKXtpZighZShvKSljb250aW51ZX1lbHNlIGlmKCFvLmlzRW5hYmxlZCgpfHwhby5pc1Zpc2libGV8fCFvLmlzUGlja2FibGUpY29udGludWU7dmFyIHU9by5nZXRXb3JsZE1hdHJpeCgpO2lmKG8uaGFzVGhpbkluc3RhbmNlcyYmby50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXt2YXIgZj10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKGEsaSxvLHUsITAsITAsbik7aWYoZil7aWYocilyZXR1cm4gZjtmb3IodmFyIGw9eC5NYXRyaXhbMV0saD1vLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKSxjPTA7YzxoLmxlbmd0aDtjKyspe3ZhciBkPWhbY107ZC5tdWx0aXBseVRvUmVmKHUsbCk7dmFyIHA9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChhLGksbyxsLHQscixuLCEwKTtpZihwJiYoYT1wLGEudGhpbkluc3RhbmNlSW5kZXg9Yyx0KSlyZXR1cm4gYX19fWVsc2V7dmFyIGY9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChhLGksbyx1LHQscixuKTtpZihmJiYoYT1mLHQpKXJldHVybiBhfX1yZXR1cm4gYXx8bmV3IEplfSxFZS5wcm90b3R5cGUuX2ludGVybmFsTXVsdGlQaWNrPWZ1bmN0aW9uKGksZSx0KXtpZighSmUpcmV0dXJuIG51bGw7Zm9yKHZhciByPW5ldyBBcnJheSxuPTA7bjx0aGlzLm1lc2hlcy5sZW5ndGg7bisrKXt2YXIgYT10aGlzLm1lc2hlc1tuXTtpZihlKXtpZighZShhKSljb250aW51ZX1lbHNlIGlmKCFhLmlzRW5hYmxlZCgpfHwhYS5pc1Zpc2libGV8fCFhLmlzUGlja2FibGUpY29udGludWU7dmFyIHM9YS5nZXRXb3JsZE1hdHJpeCgpO2lmKGEuaGFzVGhpbkluc3RhbmNlcyYmYS50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXt2YXIgbz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsaSxhLHMsITAsITAsdCk7aWYobylmb3IodmFyIHU9eC5NYXRyaXhbMV0sZj1hLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKSxsPTA7bDxmLmxlbmd0aDtsKyspe3ZhciBoPWZbbF07aC5tdWx0aXBseVRvUmVmKHMsdSk7dmFyIGM9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGksYSx1LCExLCExLHQsITApO2MmJihjLnRoaW5JbnN0YW5jZUluZGV4PWwsci5wdXNoKGMpKX19ZWxzZXt2YXIgbz10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsaSxhLHMsITEsITEsdCk7byYmci5wdXNoKG8pfX1yZXR1cm4gcn0sRWUucHJvdG90eXBlLnBpY2tXaXRoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGksZSx0LHIsbil7dmFyIGE9dGhpcztpZighSmUpcmV0dXJuIG51bGw7dmFyIHM9dGhpcy5faW50ZXJuYWxQaWNrKGZ1bmN0aW9uKG8sdSl7cmV0dXJuIGEuX3RlbXBQaWNraW5nUmF5fHwoYS5fdGVtcFBpY2tpbmdSYXk9dHQuWmVybygpKSxhLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihpLGUsbyxhLl90ZW1wUGlja2luZ1JheSxufHxudWxsKSxhLl90ZW1wUGlja2luZ1JheX0sdCxyLCEwKTtyZXR1cm4gcyYmKHMucmF5PXRoaXMuY3JlYXRlUGlja2luZ1JheShpLGUsSS5JZGVudGl0eSgpLG58fG51bGwpKSxzfSxFZS5wcm90b3R5cGUucGljaz1mdW5jdGlvbihpLGUsdCxyLG4sYSxzKXt2YXIgbz10aGlzO2lmKCFKZSlyZXR1cm4gbnVsbDt2YXIgdT10aGlzLl9pbnRlcm5hbFBpY2soZnVuY3Rpb24oZixsKXtyZXR1cm4gby5fdGVtcFBpY2tpbmdSYXl8fChvLl90ZW1wUGlja2luZ1JheT10dC5aZXJvKCkpLG8uY3JlYXRlUGlja2luZ1JheVRvUmVmKGksZSxmLG8uX3RlbXBQaWNraW5nUmF5LG58fG51bGwsITEsbCksby5fdGVtcFBpY2tpbmdSYXl9LHQsciwhMSxhKTtyZXR1cm4gdSYmKHUucmF5PXRoaXMuY3JlYXRlUGlja2luZ1JheShpLGUsSS5JZGVudGl0eSgpLG58fG51bGwpKSx1fSxFZS5wcm90b3R5cGUucGlja1dpdGhSYXk9ZnVuY3Rpb24oaSxlLHQscil7dmFyIG49dGhpcyxhPXRoaXMuX2ludGVybmFsUGljayhmdW5jdGlvbihzKXtyZXR1cm4gbi5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4fHwobi5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4PUkuSWRlbnRpdHkoKSkscy5pbnZlcnRUb1JlZihuLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgpLG4uX2NhY2hlZFJheUZvclRyYW5zZm9ybXx8KG4uX2NhY2hlZFJheUZvclRyYW5zZm9ybT10dC5aZXJvKCkpLHR0LlRyYW5zZm9ybVRvUmVmKGksbi5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4LG4uX2NhY2hlZFJheUZvclRyYW5zZm9ybSksbi5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfSxlLHQsITEscik7cmV0dXJuIGEmJihhLnJheT1pKSxhfSxFZS5wcm90b3R5cGUubXVsdGlQaWNrPWZ1bmN0aW9uKGksZSx0LHIsbil7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2soZnVuY3Rpb24ocyxvKXtyZXR1cm4gYS5jcmVhdGVQaWNraW5nUmF5KGksZSxzLHJ8fG51bGwpfSx0LG4pfSxFZS5wcm90b3R5cGUubXVsdGlQaWNrV2l0aFJheT1mdW5jdGlvbihpLGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2soZnVuY3Rpb24obil7cmV0dXJuIHIuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHIuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD1JLklkZW50aXR5KCkpLG4uaW52ZXJ0VG9SZWYoci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSxyLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fChyLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09dHQuWmVybygpKSx0dC5UcmFuc2Zvcm1Ub1JlZihpLHIuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCxyLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybX0sZSx0KX0sQ2UucHJvdG90eXBlLmdldEZvcndhcmRSYXk9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiBpPT09dm9pZCAwJiYoaT0xMDApLHRoaXMuZ2V0Rm9yd2FyZFJheVRvUmVmKG5ldyB0dChFLlplcm8oKSxFLlplcm8oKSxpKSxpLGUsdCl9LENlLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5VG9SZWY9ZnVuY3Rpb24oaSxlLHQscil7cmV0dXJuIGU9PT12b2lkIDAmJihlPTEwMCksdHx8KHQ9dGhpcy5nZXRXb3JsZE1hdHJpeCgpKSxpLmxlbmd0aD1lLHI/aS5vcmlnaW4uY29weUZyb20ocik6aS5vcmlnaW4uY29weUZyb20odGhpcy5wb3NpdGlvbikseC5WZWN0b3IzWzJdLnNldCgwLDAsdGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSksRS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih4LlZlY3RvcjNbMl0sdCx4LlZlY3RvcjNbM10pLEUuTm9ybWFsaXplVG9SZWYoeC5WZWN0b3IzWzNdLGkuZGlyZWN0aW9uKSxpfTt2YXIgRWY9ZnVuY3Rpb24oaSxlLHQpe2Zvcih2YXIgciBpbiBlKWlmKGkubmFtZT09PWVbcl0pcmV0dXJuIHQucHVzaChpLmlkKSwhMDtyZXR1cm4gaS5wYXJlbnRJZCYmdC5pbmRleE9mKGkucGFyZW50SWQpIT09LTE/KHQucHVzaChpLmlkKSwhMCk6ITF9LERyPWZ1bmN0aW9uKGksZSl7cmV0dXJuIGkrIiBvZiAiKyhlP2UuZmlsZSsiIGZyb20gIitlLm5hbWUrIiB2ZXJzaW9uOiAiK2UudmVyc2lvbisiLCBleHBvcnRlciB2ZXJzaW9uOiAiK2UuZXhwb3J0ZXJfdmVyc2lvbjoidW5rbm93biIpfTtYZS5SZWdpc3RlclBsdWdpbih7bmFtZToiYmFieWxvbi5qcyIsZXh0ZW5zaW9uczoiLmpzb24iLGNhbkRpcmVjdExvYWQ6ZnVuY3Rpb24oaSl7cmV0dXJuIGkuaW5kZXhPZigianNvbiIpIT09LTF9LGltcG9ydE1lc2g6ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvKXt2YXIgdT0iaW1wb3J0TWVzaCBoYXMgZmFpbGVkIEpTT04gcGFyc2UiO3RyeXt2YXIgZj1KU09OLnBhcnNlKHQpO2YucGh5c2ljc0VuYWJsZWQ9ITEsZj09bnVsbHx8Zi5tZXNoZXMubWFwKHY9PmRlbGV0ZSB2LnBoeXNpY3NJbXBvc3RvciksdT0iIjt2YXIgbD1YZS5sb2dnaW5nTGV2ZWw9PT1YZS5ERVRBSUxFRF9MT0dHSU5HO2k/QXJyYXkuaXNBcnJheShpKXx8KGk9W2ldKTppPW51bGw7dmFyIGg9bmV3IEFycmF5O2lmKGYubWVzaGVzIT09dm9pZCAwJiZmLm1lc2hlcyE9PW51bGwpe3ZhciBjLGQ7Zm9yKGM9MCxkPWYubWVzaGVzLmxlbmd0aDtjPGQ7YysrKXt2YXIgcD1mLm1lc2hlc1tjXTtpZihpPT09bnVsbHx8RWYocCxpLGgpKXtpIT09bnVsbCYmZGVsZXRlIGlbaS5pbmRleE9mKHAubmFtZSldO3ZhciBfPVVlLlBhcnNlKHAsZSxyKTtuLnB1c2goXyksdSs9YAoJTWVzaCBgK18udG9TdHJpbmcobCl9fXZhciBnO2ZvcihjPTAsZD1lLm1lc2hlcy5sZW5ndGg7YzxkO2MrKylnPWUubWVzaGVzW2NdLGcuX3dhaXRpbmdQYXJlbnRJZCYmKGcucGFyZW50PWUuZ2V0TGFzdEVudHJ5QnlJRChnLl93YWl0aW5nUGFyZW50SWQpLGcuX3dhaXRpbmdQYXJlbnRJZD1udWxsKSxnLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9cmV0dXJuITB9Y2F0Y2godil7dmFyIG09RHIoImltcG9ydE1lc2giLGY/Zi5wcm9kdWNlcjoiVW5rbm93biIpK3U7aWYobylvKG0sdik7ZWxzZSB0aHJvdyB6LkxvZyhtKSx2fWZpbmFsbHl7dSE9PW51bGwmJlhlLmxvZ2dpbmdMZXZlbCE9PVhlLk5PX0xPR0dJTkcmJnouTG9nKERyKCJpbXBvcnRNZXNoIixmP2YucHJvZHVjZXI6IlVua25vd24iKSsoWGUubG9nZ2luZ0xldmVsIT09WGUuTUlOSU1BTF9MT0dHSU5HP3U6IiIpKX1yZXR1cm4hMX0sbG9hZDpmdW5jdGlvbihpLGUsdCxyKXt2YXIgbj0iaW1wb3J0U2NlbmUgaGFzIGZhaWxlZCBKU09OIHBhcnNlIjt0cnl7dmFyIGE9SlNPTi5wYXJzZShlKTtuPSIiLGEuY2xlYXJDb2xvciE9PXZvaWQgMCYmYS5jbGVhckNvbG9yIT09bnVsbCYmKGkuY2xlYXJDb2xvcj1Db2xvcjQuRnJvbUFycmF5KGEuY2xlYXJDb2xvcikpO3ZhciBzPWxvYWRBc3NldENvbnRhaW5lcihpLGUsdCxyLCEwKTtyZXR1cm4hIXN9Y2F0Y2godSl7dmFyIG89RHIoImltcG9ydFNjZW5lIixhP2EucHJvZHVjZXI6IlVua25vd24iKStuO2lmKHIpcihvLHUpO2Vsc2UgdGhyb3cgei5Mb2cobyksdX1maW5hbGx5e24hPT1udWxsJiZYZS5sb2dnaW5nTGV2ZWwhPT1YZS5OT19MT0dHSU5HJiZ6LkxvZyhEcigiaW1wb3J0U2NlbmUiLGE/YS5wcm9kdWNlcjoiVW5rbm93biIpKyhYZS5sb2dnaW5nTGV2ZWwhPT1YZS5NSU5JTUFMX0xPR0dJTkc/bjoiIikpfXJldHVybiExfSxsb2FkQXNzZXRDb250YWluZXI6ZnVuY3Rpb24oaSxlLHQscil7dmFyIG49bG9hZEFzc2V0Q29udGFpbmVyKGksZSx0LHIpO3JldHVybiBufX0pLFVlLl9pbnN0YW5jZWRNZXNoRmFjdG9yeT1mdW5jdGlvbihpLGUpe3ZhciB0PW5ldyBUZihpLGUpO2lmKGUuaW5zdGFuY2VkQnVmZmVycyl7dC5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcih2YXIgciBpbiBlLmluc3RhbmNlZEJ1ZmZlcnMpdC5pbnN0YW5jZWRCdWZmZXJzW3JdPWUuaW5zdGFuY2VkQnVmZmVyc1tyXX1yZXR1cm4gdH07dmFyIFRmPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyLmdldFNjZW5lKCkpfHx0aGlzO24uX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSxuLl9kaXN0YW5jZVRvQ2FtZXJhPTAsci5hZGRJbnN0YW5jZShuKSxuLl9zb3VyY2VNZXNoPXIsbi5fdW5JbmRleGVkPXIuX3VuSW5kZXhlZCxuLnBvc2l0aW9uLmNvcHlGcm9tKHIucG9zaXRpb24pLG4ucm90YXRpb24uY29weUZyb20oci5yb3RhdGlvbiksbi5zY2FsaW5nLmNvcHlGcm9tKHIuc2NhbGluZyksci5yb3RhdGlvblF1YXRlcm5pb24mJihuLnJvdGF0aW9uUXVhdGVybmlvbj1yLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSxuLmFuaW1hdGlvbnM9aWUuU2xpY2Uoci5hbmltYXRpb25zKTtmb3IodmFyIGE9MCxzPXIuZ2V0QW5pbWF0aW9uUmFuZ2VzKCk7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07byE9bnVsbCYmbi5jcmVhdGVBbmltYXRpb25SYW5nZShvLm5hbWUsby5mcm9tLG8udG8pfXJldHVybiBuLmluZmluaXRlRGlzdGFuY2U9ci5pbmZpbml0ZURpc3RhbmNlLG4uc2V0UGl2b3RNYXRyaXgoci5nZXRQaXZvdE1hdHJpeCgpKSxuLnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLG4uX3N5bmNTdWJNZXNoZXMoKSxufXJldHVybiBlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iSW5zdGFuY2VkTWVzaCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGlnaHRTb3VyY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2xpZ2h0U291cmNlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fcmVzeW5jTGlnaHRTb3VyY2VzPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fcmVzeW5jTGlnaHRTb3VyY2U9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5fcmVtb3ZlTGlnaHRTb3VyY2U9ZnVuY3Rpb24odCxyKXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVjZWl2ZVNoYWRvd3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5yZWNlaXZlU2hhZG93c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gubWF0ZXJpYWx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ2aXNpYmlsaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gudmlzaWJpbGl0eX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guc2tlbGV0b259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZW5kZXJpbmdHcm91cElkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZH0sc2V0OmZ1bmN0aW9uKHQpeyF0aGlzLl9zb3VyY2VNZXNofHx0PT09dGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfHx6Lldhcm4oIk5vdGUgLSBzZXR0aW5nIHJlbmRlcmluZ0dyb3VwSWQgb2YgYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCBvbiB0aGUgc2NlbmUiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRUb3RhbFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2g/dGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk6MH0sZS5wcm90b3R5cGUuZ2V0VG90YWxJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxJbmRpY2VzKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic291cmNlTWVzaCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmNyZWF0ZUluc3RhbmNlKHQpfSxlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksdGhpcy5fc291cmNlTWVzaC5pc1JlYWR5KHQsITApfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRWZXJ0aWNlc0RhdGEodCxyKX0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC5zZXRWZXJ0aWNlc0RhdGEodCxyLG4sYSksdGhpcy5zb3VyY2VNZXNofSxlLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnVwZGF0ZVZlcnRpY2VzRGF0YSh0LHIsbixhKSx0aGlzLnNvdXJjZU1lc2h9LGUucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0SW5kaWNlcyh0LHIpLHRoaXMuc291cmNlTWVzaH0sZS5wcm90b3R5cGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudCh0KX0sZS5wcm90b3R5cGUuZ2V0SW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldEluZGljZXMoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfcG9zaXRpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX3Bvc2l0aW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscil7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpczt2YXIgbj10aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5P3RoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fc291cmNlTWVzaC5fZ2V0UG9zaXRpb25EYXRhKHQsciksbiksdGhpc30sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuX3ByZUFjdGl2YXRlKCksdGhpc30sZS5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQscil7aWYodGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXN8fHouV2FybigiSW5zdGFuY2VzIHNob3VsZCBvbmx5IGJlIGNyZWF0ZWQgZm9yIG1lc2hlcyB3aXRoIGdlb21ldHJ5LiIpLHRoaXMuX2N1cnJlbnRMT0Qpe3ZhciBuPXRoaXMuX2N1cnJlbnRMT0QuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MCE9dGhpcy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPj0wO2lmKG4pcmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g9ITAsITA7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD0hMSx0aGlzLl9jdXJyZW50TE9ELl9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQodGhpcyx0KSxyKXtpZighdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGUpcmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITAsITB9ZWxzZSBpZighdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmUpcmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXM9ITAsITB9cmV0dXJuITF9LGUucHJvdG90eXBlLl9wb3N0QWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLl9zb3VyY2VNZXNoLmVkZ2VzU2hhcmVXaXRoSW5zdGFuY2VzJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXA/KHRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciksdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5jdXN0b21JbnN0YW5jZXMucHVzaCh0aGlzLmdldFdvcmxkTWF0cml4KCkpKTp0aGlzLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoKHRoaXMuX2VkZ2VzUmVuZGVyZXIpfSxlLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe2lmKHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuYmlsbGJvYXJkTW9kZSE9PWplLkJJTExCT0FSRE1PREVfTk9ORSYmdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaCE9PXRoaXMpe3RoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4fHwodGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXg9bmV3IEkpO3ZhciB0PXRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2g7cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2g9dGhpcyx4LlZlY3RvcjNbN10uY29weUZyb20odGhpcy5fY3VycmVudExPRC5wb3NpdGlvbiksdGhpcy5fY3VycmVudExPRC5wb3NpdGlvbi5zZXQoMCwwLDApLHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5fY3VycmVudExPRC5wb3NpdGlvbi5jb3B5RnJvbSh4LlZlY3RvcjNbN10pLHRoaXMuX2N1cnJlbnRMT0QuX21hc3Rlck1lc2g9dCx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeH1yZXR1cm4gaS5wcm90b3R5cGUuZ2V0V29ybGRNYXRyaXguY2FsbCh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0FuSW5zdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRMT0Q9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5zb3VyY2VNZXNoLmdldExPRExldmVscygpO2lmKCFyfHxyLmxlbmd0aD09PTApdGhpcy5fY3VycmVudExPRD10aGlzLnNvdXJjZU1lc2g7ZWxzZXt2YXIgbj10aGlzLmdldEJvdW5kaW5nSW5mbygpO3RoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoLmdldExPRCh0LG4uYm91bmRpbmdTcGhlcmUpfXJldHVybiB0aGlzLl9jdXJyZW50TE9EfSxlLnByb3RvdHlwZS5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc291cmNlTWVzaC5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcodCl9LGUucHJvdG90eXBlLl9zeW5jU3ViTWVzaGVzPWZ1bmN0aW9uKCl7aWYodGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMpZm9yKHZhciB0PTA7dDx0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlcy5sZW5ndGg7dCsrKXRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzW3RdLmNsb25lKHRoaXMsdGhpcy5fc291cmNlTWVzaCk7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9nZW5lcmF0ZVBvaW50c0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2dlbmVyYXRlUG9pbnRzQXJyYXkoKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUJvdW5kaW5nSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0JvdW5kaW5nSW5mbz90aGlzLmdldEJvdW5kaW5nSW5mbygpLnVwZGF0ZSh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKTp0aGlzLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLmFic29sdXRlUG9zaXRpb24sdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKTt2YXIgYT10aGlzLl9zb3VyY2VNZXNoLmNyZWF0ZUluc3RhbmNlKHQpO2lmKEdyLkRlZXBDb3B5KHRoaXMsYSxbIm5hbWUiLCJzdWJNZXNoZXMiLCJ1bmlxdWVJZCIsInBhcmVudCIsImxpZ2h0U291cmNlcyIsInJlY2VpdmVTaGFkb3dzIiwibWF0ZXJpYWwiLCJ2aXNpYmlsaXR5Iiwic2tlbGV0b24iLCJzb3VyY2VNZXNoIiwiaXNBbkluc3RhbmNlIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImlzQmxvY2tlZCIsInVzZUJvbmVzIiwiaGFzSW5zdGFuY2VzIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiXSxbXSksdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksciYmKGEucGFyZW50PXIpLCFuKWZvcih2YXIgcz0wO3M8dGhpcy5nZXRTY2VuZSgpLm1lc2hlcy5sZW5ndGg7cysrKXt2YXIgbz10aGlzLmdldFNjZW5lKCkubWVzaGVzW3NdO28ucGFyZW50PT09dGhpcyYmby5jbG9uZShvLm5hbWUsYSl9cmV0dXJuIGEuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSksYX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPSExKSx0aGlzLl9zb3VyY2VNZXNoLnJlbW92ZUluc3RhbmNlKHRoaXMpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGV9KHJpKTtVZS5wcm90b3R5cGUuZWRnZXNTaGFyZVdpdGhJbnN0YW5jZXM9ITEsVWUucHJvdG90eXBlLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyPWZ1bmN0aW9uKGksZSl7dmFyIHQscjtpZigocj0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2ldKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZGlzcG9zZSgpLCF0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe3RoaXMuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IodmFyIG49MCxhPXRoaXMuaW5zdGFuY2VzO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuaW5zdGFuY2VkQnVmZmVycz17fX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9fXRoaXMuaW5zdGFuY2VkQnVmZmVyc1tpXT1udWxsLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW2ldPWUsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldPWUqMzIsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV09bmV3IEZsb2F0MzJBcnJheSh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV0pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldPW5ldyBiKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0saSwhMCwhMSxlLCEwKTtmb3IodmFyIG89MCx1PXRoaXMuaW5zdGFuY2VzO288dS5sZW5ndGg7bysrKXt2YXIgcz11W29dO3MuaW5zdGFuY2VkQnVmZmVyc1tpXT1udWxsfXRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCl9LFVlLnByb3RvdHlwZS5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnM9ZnVuY3Rpb24oaSxlKXt2YXIgdD1pLmxlbmd0aDtmb3IodmFyIHIgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXtmb3IodmFyIG49dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW3JdLGE9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbcl0scz0odCsxKSphO248czspbio9Mjt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtyXS5sZW5ndGghPW4mJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtyXT1uZXcgRmxvYXQzMkFycmF5KG4pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tyXT1uLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl0uZGlzcG9zZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdPW51bGwpKTt2YXIgbz10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtyXSx1PTA7aWYoZSl7dmFyIGY9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW3JdO2YudG9BcnJheT9mLnRvQXJyYXkobyx1KTpmLmNvcHlUb0FycmF5P2YuY29weVRvQXJyYXkobyx1KTpvW3VdPWYsdSs9YX1mb3IodmFyIGw9MDtsPHQ7bCsrKXt2YXIgaD1pW2xdLGY9aC5pbnN0YW5jZWRCdWZmZXJzW3JdO2YudG9BcnJheT9mLnRvQXJyYXkobyx1KTpmLmNvcHlUb0FycmF5P2YuY29weVRvQXJyYXkobyx1KTpvW3VdPWYsdSs9YX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXT90aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXS51cGRhdGVEaXJlY3RseShvLDApOih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXT1uZXcgYih0aGlzLmdldEVuZ2luZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdLHIsITAsITEsYSwhMCksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSl9fSxVZS5wcm90b3R5cGUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKCl7aWYoISghdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPT09dm9pZCAwKSl7Zm9yKHZhciBpIGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5nZXRFbmdpbmUoKS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0c1tpXSk7dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz17fX19LFVlLnByb3RvdHlwZS5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXIuZGlzcG9zZSgpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyPW51bGwpO3RoaXMuaW5zdGFuY2VzLmxlbmd0aDspdGhpcy5pbnN0YW5jZXNbMF0uZGlzcG9zZSgpO2Zvcih2YXIgaSBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0mJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLmRpc3Bvc2UoKTt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuaW5zdGFuY2VkQnVmZmVycz17fX07Y29uc3QgU2Y9e2Q0OnswOjEsMjoyLDE6MywzOjR9LGQ2OnsyOjEsMzoxLDA6MiwxOjIsMTA6MywxMTozLDg6NCw5OjQsNDo1LDU6NSw2OjYsNzo2fSxkODp7MToxLDY6Miw1OjMsMDo0LDI6NSw0OjYsNzo3LDM6OH0sZDEwOnsxODoxLDE5OjEsMTQ6MiwxNToyLDQ6Myw1OjMsMTY6NCwxNzo0LDEyOjUsMTM6NSw2OjYsNzo2LDI6NywzOjcsMDo4LDE6OCwxMDo5LDExOjksODowLDk6MH0sZDEyOnsyMToxLDIyOjEsMjM6MSwzOjIsNDoyLDU6MiwwOjMsMTozLDI6MywyNDo0LDI1OjQsMjY6NCwxODo1LDE5OjUsMjA6NSwzMDo2LDMxOjYsMzI6Niw2OjcsNzo3LDg6Nyw5OjgsMTA6OCwxMTo4LDE1OjksMTY6OSwxNzo5LDI3OjEwLDI4OjEwLDI5OjEwLDMzOjExLDM0OjExLDM1OjExLDEyOjEyLDEzOjEyLDE0OjEyfSxkMjA6ezEwOjEsOToyLDEyOjMsNjo0LDA6NSwyOjYsMTQ6NywzOjgsMTk6OSwxNzoxMCwxOjExLDQ6MTIsMTU6MTMsNzoxNCwxNjoxNSwxODoxNiwxMzoxNyw1OjE4LDExOjE5LDg6MjB9LGQxMDA6ezE4OjEwLDE5OjEwLDE0OjIwLDE1OjIwLDEyOjMwLDEzOjMwLDg6NDAsOTo0MCwxMDo1MCwxMTo1MCwxNjo2MCwxNzo2MCwyOjcwLDM6NzAsMDo4MCwxOjgwLDQ6OTAsNTo5MCw2OjAsNzowfX0sTWY9e2Fzc2V0UGF0aDoiIixlbmFibGVTaGFkb3dzOiExLGdyb3VwSWQ6bnVsbCxpZDpudWxsLGxpZ2h0czpbXSxyb2xsSWQ6bnVsbCxzY2VuZTpudWxsLHNpZGVzOjYsdGhlbWU6InB1cnBsZVJvY2sifSxjdD1jbGFzc3tjb25zdHJ1Y3RvcihlKXtGdCh0aGlzLCJtZXNoIixudWxsKTtGdCh0aGlzLCJyZXN1bHQiLDApO0Z0KHRoaXMsImFzbGVlcCIsITEpO3RoaXMuY29uZmlnPXFlKHFlKHt9LE1mKSxlKSx0aGlzLmlkPXRoaXMuY29uZmlnLmlkIT09dm9pZCAwP3RoaXMuY29uZmlnLmlkOkRhdGUubm93KCksdGhpcy5kaWVUeXBlPWBkJHt0aGlzLmNvbmZpZy5zaWRlc31gLHRoaXMuY29tYm9LZXk9YCR7dGhpcy5kaWVUeXBlfV8ke3RoaXMuY29uZmlnLnRoZW1lfWAsdGhpcy5jcmVhdGVJbnN0YW5jZSgpfWNyZWF0ZUluc3RhbmNlKCl7Y29uc3QgZT10aGlzLmNvbmZpZy5zY2VuZS5nZXRNZXNoQnlOYW1lKHRoaXMuY29tYm9LZXkpLmNyZWF0ZUluc3RhbmNlKGAke3RoaXMuZGllVHlwZX0taW5zdGFuY2UtJHt0aGlzLmlkfWApO2lmKGUucG9zaXRpb24ueT0tMTAwLGUuc2NhbGluZz1uZXcgRSh0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSksdGhpcy5jb25maWcuZW5hYmxlU2hhZG93cylmb3IoY29uc3QgdCBpbiB0aGlzLmNvbmZpZy5saWdodHMpdCE9PSJoZW1pc3BoZXJpYyImJnRoaXMuY29uZmlnLmxpZ2h0c1t0XS5zaGFkb3dHZW5lcmF0b3IuYWRkU2hhZG93Q2FzdGVyKGUpO3RoaXMubWVzaD1lfXN0YXRpYyBhc3luYyBsb2FkRGllKGUpe2NvbnN0e3NpZGVzOnQsdGhlbWU6cj0icHVycGxlUm9jayIsc2NlbmU6bn09ZTtsZXQgYT0iZCIrdDtjb25zdCBzPWAke2F9XyR7cn1gO2lmKCFuLmdldE1lc2hCeU5hbWUocykpe2NvbnN0IG89bi5nZXRNZXNoQnlOYW1lKGEpLmNsb25lKHMpO28ubWF0ZXJpYWw9bi5nZXRNYXRlcmlhbEJ5TmFtZShyKX1yZXR1cm4gZX1zdGF0aWMgYXN5bmMgbG9hZE1vZGVscyhlKXtjb25zdHthc3NldFBhdGg6dCxzY2VuZTpyLHNjYWxlOm59PWU7KGF3YWl0IFhlLkltcG9ydE1lc2hBc3luYyhudWxsLGAke3R9bW9kZWxzL2AsImRpY2UtcmV2aXNlZC5qc29uIixyKSkubWVzaGVzLmZvckVhY2gocz0+e3MuaWQ9PT0iX19yb290X18iJiZzLmRpc3Bvc2UoKSxzLmlkLmluY2x1ZGVzKCJjb2xsaWRlciIpJiYocy5zY2FsaW5nPW5ldyBFKC43LC43LC43KSkscy5zZXRFbmFibGVkKCExKSxzLmZyZWV6ZU5vcm1hbHMoKSxzLmlzUGlja2FibGU9ITEscy5kb05vdFN5bmNCb3VuZGluZ0luZm89ITB9KX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9cWUocWUoe30sdGhpcy5jb25maWcpLGUpfXN0YXRpYyBzZXRWZWN0b3IzKGUsdCxyKXtyZXR1cm4gY3QudmVjdG9yMy5zZXQoZSx0LHIpfXN0YXRpYyBnZXRWZWN0b3IzKCl7cmV0dXJuIGN0LnZlY3RvcjN9c3RhdGljIGFzeW5jIGdldFJvbGxSZXN1bHQoZSl7cmV0dXJuIGF3YWl0KChyPWUpPT5uZXcgUHJvbWlzZSgobixhKT0+e2NvbnN0IHM9ci5jb25maWcuc2NlbmUuZ2V0TWVzaEJ5TmFtZShgJHtyLmRpZVR5cGV9X2NvbGxpZGVyYCkuY3JlYXRlSW5zdGFuY2UoYCR7ci5kaWVUeXBlfS1oaXRib3gtJHtyLmlkfWApO3MuaXNQaWNrYWJsZT0hMCxzLmlzVmlzaWJsZT0hMCxzLnNldEVuYWJsZWQoITApLHMucG9zaXRpb249ci5tZXNoLnBvc2l0aW9uLHMucm90YXRpb25RdWF0ZXJuaW9uPXIubWVzaC5yb3RhdGlvblF1YXRlcm5pb247Y29uc3Qgbz1yLmRpZVR5cGU9PT0iZDQiP2N0LnNldFZlY3RvcjMoMCwtMSwwKTpjdC5zZXRWZWN0b3IzKDAsMSwwKTtjdC5yYXkuZGlyZWN0aW9uPW8sY3QucmF5Lm9yaWdpbj1yLm1lc2gucG9zaXRpb247Y29uc3QgdT1yLmNvbmZpZy5zY2VuZS5waWNrV2l0aFJheShjdC5yYXkpO3JldHVybiBzLmRpc3Bvc2UoKSxyLnZhbHVlPVNmW3IuZGllVHlwZV1bdS5mYWNlSWRdLG4oci52YWx1ZSl9KSkoKX19O2xldCBodD1jdDtGdChodCwicmF5IixuZXcgdHQoRS5aZXJvKCksRS5aZXJvKCksMSkpLEZ0KGh0LCJ2ZWN0b3IzIixuZXcgRS5aZXJvKTt2YXIgQWY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpfSgpLHZuPWZ1bmN0aW9uKGkpe2soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gbi5DdXN0b21QYXJ0cz1uZXcgQWYsbi5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZT1uLkJ1aWxkZXIsbi5GcmFnbWVudFNoYWRlcj1rZS5TaGFkZXJzU3RvcmUuZGVmYXVsdFBpeGVsU2hhZGVyLG4uVmVydGV4U2hhZGVyPWtlLlNoYWRlcnNTdG9yZS5kZWZhdWx0VmVydGV4U2hhZGVyLG59cmV0dXJuIGUucHJvdG90eXBlLkF0dGFjaEFmdGVyQmluZD1mdW5jdGlvbih0LHIpe2lmKHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXMpZm9yKHZhciBuIGluIHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXMpe3ZhciBhPW4udG9TdHJpbmcoKS5zcGxpdCgiLSIpO2FbMF09PSJ2ZWMyIj9yLnNldFZlY3RvcjIoYVsxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW25dKTphWzBdPT0idmVjMyI/ci5zZXRWZWN0b3IzKGFbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tuXSk6YVswXT09InZlYzQiP3Iuc2V0VmVjdG9yNChhWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbbl0pOmFbMF09PSJtYXQ0Ij9yLnNldE1hdHJpeChhWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbbl0pOmFbMF09PSJmbG9hdCImJnIuc2V0RmxvYXQoYVsxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW25dKX1pZih0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzKWZvcih2YXIgbiBpbiB0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzKXt2YXIgYT1uLnRvU3RyaW5nKCkuc3BsaXQoIi0iKTthWzBdPT0ic2FtcGxlcjJEIiYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tuXS5pc1JlYWR5JiZ0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW25dLmlzUmVhZHkoKSYmci5zZXRUZXh0dXJlKGFbMV0sdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tuXSl9fSxlLnByb3RvdHlwZS5SZXZpZXdVbmlmb3JtPWZ1bmN0aW9uKHQscil7aWYodD09InVuaWZvcm0iJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IodmFyIG49MDtuPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtuKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtuXS5pbmRleE9mKCJzYW1wbGVyIik9PS0xJiZyLnB1c2godGhpcy5fbmV3VW5pZm9ybXNbbl0pO2lmKHQ9PSJzYW1wbGVyIiYmdGhpcy5fbmV3VW5pZm9ybXMpZm9yKHZhciBuPTA7bjx0aGlzLl9uZXdVbmlmb3Jtcy5sZW5ndGg7bisrKXRoaXMuX2N1c3RvbVVuaWZvcm1bbl0uaW5kZXhPZigic2FtcGxlciIpIT0tMSYmci5wdXNoKHRoaXMuX25ld1VuaWZvcm1zW25dKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuQnVpbGRlcj1mdW5jdGlvbih0LHIsbixhLHMsbyl7dmFyIHU9dGhpcztpZihvJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLmxlbmd0aD4wJiZvLnB1c2guYXBwbHkobyx0aGlzLl9jdXN0b21BdHRyaWJ1dGVzKSx0aGlzLlJldmlld1VuaWZvcm0oInVuaWZvcm0iLHIpLHRoaXMuUmV2aWV3VW5pZm9ybSgic2FtcGxlciIsYSksdGhpcy5faXNDcmVhdGVkU2hhZGVyKXJldHVybiB0aGlzLl9jcmVhdGVkU2hhZGVyTmFtZTt0aGlzLl9pc0NyZWF0ZWRTaGFkZXI9ITEsZS5TaGFkZXJJbmRleGVyKys7dmFyIGY9ImN1c3RvbV8iK2UuU2hhZGVySW5kZXhlcixsPXRoaXMuX2FmdGVyQmluZC5iaW5kKHRoaXMpO3JldHVybiB0aGlzLl9hZnRlckJpbmQ9ZnVuY3Rpb24oaCxjKXtpZighIWMpe3UuQXR0YWNoQWZ0ZXJCaW5kKGgsYyk7dHJ5e2woaCxjKX1jYXRjaHt9fX0sa2UuU2hhZGVyc1N0b3JlW2YrIlZlcnRleFNoYWRlciJdPXRoaXMuVmVydGV4U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQmJihrZS5TaGFkZXJzU3RvcmVbZisiVmVydGV4U2hhZGVyIl09a2UuU2hhZGVyc1N0b3JlW2YrIlZlcnRleFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfV09STERQT1MiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQpKSxrZS5TaGFkZXJzU3RvcmVbZisiUGl4ZWxTaGFkZXIiXT10aGlzLkZyYWdtZW50U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nJiYoa2UuU2hhZGVyc1N0b3JlW2YrIlBpeGVsU2hhZGVyIl09a2UuU2hhZGVyc1N0b3JlW2YrIlBpeGVsU2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nKSksdGhpcy5faXNDcmVhdGVkU2hhZGVyPSEwLHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lPWYsZn0sZS5wcm90b3R5cGUuQWRkVW5pZm9ybT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuX2N1c3RvbVVuaWZvcm18fCh0aGlzLl9jdXN0b21Vbmlmb3JtPW5ldyBBcnJheSx0aGlzLl9uZXdVbmlmb3Jtcz1uZXcgQXJyYXksdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlcz17fSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzPXt9KSxuJiYoci5pbmRleE9mKCJzYW1wbGVyIikhPS0xP3RoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbcisiLSIrdF09bjp0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW3IrIi0iK3RdPW4pLHRoaXMuX2N1c3RvbVVuaWZvcm0ucHVzaCgidW5pZm9ybSAiK3IrIiAiK3QrIjsiKSx0aGlzLl9uZXdVbmlmb3Jtcy5wdXNoKHQpLHRoaXN9LGUucHJvdG90eXBlLkFkZEF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3VzdG9tQXR0cmlidXRlc3x8KHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXM9W10pLHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMucHVzaCh0KSx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9CZWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0RlZmluaXRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfTWFpbkJlZ2luPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X01haW5FbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD10LHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPXQucmVwbGFjZSgicmVzdWx0IiwiZGlmZnVzZUNvbG9yIiksdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT10LnJlcGxhY2UoInJlc3VsdCIsImFscGhhIiksdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQmVmb3JlX0ZvZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPXQucmVwbGFjZSgicmVzdWx0IiwiY29sb3IiKSx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfQmVnaW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luPXQsdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X0RlZmluaXRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz10LHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9NYWluQmVnaW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj10LHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPXQucmVwbGFjZSgicmVzdWx0IiwicG9zaXRpb25VcGRhdGVkIiksdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD10LnJlcGxhY2UoInJlc3VsdCIsIm5vcm1hbFVwZGF0ZWQiKSx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD10LHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9NYWluRW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kPXQsdGhpc30sZS5TaGFkZXJJbmRleGVyPTEsZX0oSHQpO09lKCJCQUJZTE9OLkN1c3RvbU1hdGVyaWFsIix2bik7YXN5bmMgZnVuY3Rpb24gUmYoaSxlLHQpe2xldCByPW5ldyBIdChpLHQpLG49YXdhaXQgRXQoYCR7ZX10aGVtZXMvJHtpfS9hbGJlZG8uanBnYCx0KSxhPWF3YWl0IEV0KGAke2V9dGhlbWVzLyR7aX0vbm9ybWFsLWR4LmpwZ2AsdCk7cmV0dXJuIHIuZGlmZnVzZVRleHR1cmU9bixyLmJ1bXBUZXh0dXJlPWEsX2kocikscn1hc3luYyBmdW5jdGlvbiBQZihpLGUsdCl7bGV0IHI9bmV3IEh0KGksdCksbj1hd2FpdCBFdChgJHtlfXRoZW1lcy8ke2l9L2FsYmVkby5qcGdgLHQpLGE9YXdhaXQgRXQoYCR7ZX10aGVtZXMvJHtpfS9ub3JtYWwtZHguanBnYCx0KSxzPWF3YWl0IEV0KGAke2V9dGhlbWVzLyR7aX0vbWFzay5wbmdgLHQpO3JldHVybiByLmRpZmZ1c2VUZXh0dXJlPW4sci5vcGFjaXR5VGV4dHVyZT1zLHIub3BhY2l0eVRleHR1cmUuZ2V0QWxwaGFGcm9tUkdCPSEwLHIub3BhY2l0eVRleHR1cmUudlNjYWxlPS0xLHIuYnVtcFRleHR1cmU9YSxfaShyKSxyfWFzeW5jIGZ1bmN0aW9uIENmKGksZSx0KXtsZXQgcj1wZS5Gcm9tSGV4U3RyaW5nKGkpLG49bmV3IHZuKGksdCksYTtyLnIqMjU2Ki4yOTkrci5nKjI1NiouNTg3K3IuYioyNTYqLjExND4xNzU/YT1hd2FpdCBFdChgJHtlfXRoZW1lcy90cmFuc3BhcmVudC9hbGJlZG8tZGFyay5wbmdgLHQpOmE9YXdhaXQgRXQoYCR7ZX10aGVtZXMvdHJhbnNwYXJlbnQvYWxiZWRvLWxpZ2h0LnBuZ2AsdCksbi5kaWZmdXNlVGV4dHVyZT1hLG4uRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoYAoJCWJhc2VDb2xvci5yZ2IgPSBtaXgodmVjMygke3Iucn0sJHtyLmd9LCR7ci5ifSksIGJhc2VDb2xvci5yZ2IsIGJhc2VDb2xvci5hKTsKCWApO2xldCBzPWF3YWl0IEV0KGAke2V9dGhlbWVzL3RyYW5zcGFyZW50L25vcm1hbC1keC5qcGdgLHQpO3JldHVybiBuLmJ1bXBUZXh0dXJlPXMsX2kobiksbn1jb25zdCBfaT1pPT4oaS5kaWZmdXNlVGV4dHVyZS5sZXZlbD0xLjMsaS5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExLGkpO2FzeW5jIGZ1bmN0aW9uIEV0KGksZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LHIpPT57bGV0IG49bmV3IFEoaSxlLHZvaWQgMCwhMCx2b2lkIDAsKCk9PnQobiksKCk9PnIoIlVuYWJsZSB0byBsb2FkIHRleHR1cmUiKSl9KX1jb25zdCBEZj1hc3luYyhpLGUsdCk9PntsZXQgcjtyZXR1cm4gaS5zdGFydHNXaXRoKCIjIik/cj1hd2FpdCBDZihpLGUsdCk6aS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoInRyYW5zIik/cj1hd2FpdCBQZihpLGUsdCk6cj1hd2FpdCBSZihpLGUsdCkscn07bGV0IHZlLFdlPXt9LGdpPTAsSXQ9MCxtbj1bXSxUdCxTdCxNdCxzcix5bixydCxQZT1uZXcgRmxvYXQzMkFycmF5KDhlMyk7c2VsZi5vbm1lc3NhZ2U9aT0+e3N3aXRjaChpLmRhdGEuYWN0aW9uKXtjYXNlInJvbGxEaWUiOnJ0LnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwifSk7YnJlYWs7Y2FzZSJhZGREaWUiOk5mKHFlKHt9LGkuZGF0YS5vcHRpb25zKSk7YnJlYWs7Y2FzZSJsb2FkVGhlbWUiOndmKGkuZGF0YS5pZCxpLmRhdGEudGhlbWUpO2JyZWFrO2Nhc2UiY2xlYXJEaWNlIjpMZigpO2JyZWFrO2Nhc2UicmVtb3ZlRGllIjpVZihpLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJyZXNpemUiOldmKGkuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImluaXQiOnhmKGkuZGF0YSk7YnJlYWs7Y2FzZSJ1cGRhdGVDb25maWciOklmKGkuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImNvbm5lY3QiOnJ0PWkuZGF0YS5wb3J0LHJ0Lm9ubWVzc2FnZT1lPT57c3dpdGNoKGUuZGF0YS5hY3Rpb24pe2Nhc2UidXBkYXRlcyI6VmYoZS5kYXRhLmRpY2VCdWZmZXIpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiYWN0aW9uIGZyb20gcGh5c2ljc1dvcmtlciBub3QgZm91bmQgaW4gb2Zmc2NyZWVuIHdvcmtlciIpO2JyZWFrfX07YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKX19O2NvbnN0IHhmPWFzeW5jIGk9PntUdD1pLmNhbnZhcyx2ZT1pLm9wdGlvbnMsVHQud2lkdGg9aS53aWR0aCxUdC5oZWlnaHQ9aS5oZWlnaHQsU3Q9SG4oVHQpLE10PUJhKHtlbmdpbmU6U3R9KSxWYSh7ZW5naW5lOlN0fSksc3I9Y24oe2VuYWJsZVNoYWRvd3M6dmUuZW5hYmxlU2hhZG93c30pLHluPW5ldyBiZih7ZW5hYmxlU2hhZG93czp2ZS5lbmFibGVTaGFkb3dzLGFzcGVjdDpUdC53aWR0aC9UdC5oZWlnaHQsbGlnaHRzOnNyLHNjZW5lOk10LGVuYWJsZURlYnVnZ2luZzohMX0pLGF3YWl0IGh0LmxvYWRNb2RlbHMoe2Fzc2V0UGF0aDp2ZS5vcmlnaW4rdmUuYXNzZXRQYXRoLHNjZW5lOk10LHNjYWxlOnZlLnNjYWxlfSkscnQucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdEJ1ZmZlciIsZGljZUJ1ZmZlcjpQZS5idWZmZXJ9LFtQZS5idWZmZXJdKSxzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXQtY29tcGxldGUifSl9LElmPWk9Pntjb25zdCBlPXZlO3ZlPWksZS5lbmFibGVTaGFkb3dzIT09dmUuZW5hYmxlU2hhZG93cyYmKE9iamVjdC52YWx1ZXMoc3IpLmZvckVhY2godD0+dC5kaXNwb3NlKCkpLHNyPWNuKHtlbmFibGVTaGFkb3dzOnZlLmVuYWJsZVNoYWRvd3N9KSksZS5zY2FsZSE9PXZlLnNjYWxlJiZPYmplY3QudmFsdWVzKFdlKS5mb3JFYWNoKCh7bWVzaDp0fSk9Pnt0LnNjYWxpbmc9bmV3IEUodmUuc2NhbGUsdmUuc2NhbGUsdmUuc2NhbGUpfSl9LE9mPWk9PntTdC5ydW5SZW5kZXJMb29wKEZmLmJpbmQoc2VsZikpLHJ0LnBvc3RNZXNzYWdlKHthY3Rpb246InJlc3VtZVNpbXVsYXRpb24iLGFudXN0YXJ0Oml9KX0sRmY9KCk9PntJdCYmSXQ9PT1PYmplY3Qua2V5cyhXZSkubGVuZ3RoPyhTdC5zdG9wUmVuZGVyTG9vcCgpLGdpPTAscnQucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RvcFNpbXVsYXRpb24ifSksc2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsLWNvbXBsZXRlIn0pKTpNdC5yZW5kZXIoKX0sd2Y9YXN5bmMoaSxlKT0+e2F3YWl0IERmKGUsdmUub3JpZ2luK3ZlLmFzc2V0UGF0aCxNdCksc2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJ0aGVtZS1sb2FkZWQiLGlkOml9KX0sTGY9KCk9PnshT2JqZWN0LmtleXMoV2UpLmxlbmd0aCYmIUl0fHwoUGUuYnl0ZUxlbmd0aCYmUGUuZmlsbCgwKSxtbi5mb3JFYWNoKGk9PmNsZWFyVGltZW91dChpKSksU3Quc3RvcFJlbmRlckxvb3AoKSxPYmplY3QudmFsdWVzKFdlKS5mb3JFYWNoKGk9PmkubWVzaC5kaXNwb3NlKCkpLFdlPXt9LGdpPTAsSXQ9MCxNdC5yZW5kZXIoKSl9LE5mPWk9PntodC5sb2FkRGllKE5yKHFlKHt9LGkpLHtzY2VuZTpNdH0pKS50aGVuKGU9Pnttbi5wdXNoKHNldFRpbWVvdXQoKCk9PntCZihlKX0sZ2krKyp2ZS5kZWxheSkpfSl9LEJmPWFzeW5jIGk9PntTdC5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZPZihpLmFudXN0YXJ0KTtjb25zdCBlPU5yKHFlKHt9LGkpLHthc3NldFBhdGg6dmUuYXNzZXRQYXRoLGVuYWJsZVNoYWRvd3M6dmUuZW5hYmxlU2hhZG93cyxzY2FsZTp2ZS5zY2FsZSxsaWdodHM6c3J9KSx0PW5ldyBodChlKTtyZXR1cm4gV2VbdC5pZF09dCxydC5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLHNpZGVzOmkuc2lkZXMsc2NhbGU6dmUuc2NhbGUsaWQ6dC5pZCxhbnVzdGFydDppLmFudXN0YXJ0fSksaS5zaWRlcz09PTEwMCYmKHQuZDEwSW5zdGFuY2U9YXdhaXQgaHQubG9hZERpZShOcihxZSh7fSxlKSx7c2lkZXM6MTAsaWQ6dC5pZCsxZTR9KSkudGhlbihyPT57Y29uc3Qgbj1uZXcgaHQocik7cmV0dXJuIG4uZGllUGFyZW50PXQsbn0pLFdlW2Ake3QuZDEwSW5zdGFuY2UuaWR9YF09dC5kMTBJbnN0YW5jZSxydC5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLHNpZGVzOjEwLHNjYWxlOnZlLnNjYWxlLGlkOnQuZDEwSW5zdGFuY2UuaWR9KSksdH0sVWY9aT0+e2NvbnN0IGU9V2VbaS5pZF07ZS5oYXNPd25Qcm9wZXJ0eSgiZDEwSW5zdGFuY2UiKSYmKFdlW2UuZDEwSW5zdGFuY2UuaWRdLm1lc2guZGlzcG9zZSgpLGRlbGV0ZSBXZVtlLmQxMEluc3RhbmNlLmlkXSxydC5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZW1vdmVEaWUiLGlkOmUuZDEwSW5zdGFuY2UuaWR9KSxJdC0tKSxlLm1lc2guZGlzcG9zZSgpLGRlbGV0ZSBXZVtpLmlkXSxJdC0tLE10LnJlbmRlcigpLHNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZGllLXJlbW92ZWQiLHJvbGxJZDppLnJvbGxJZH0pfSxWZj1pPT57UGU9bmV3IEZsb2F0MzJBcnJheShpKTtsZXQgZT0xO2ZvcihsZXQgdD0wLHI9UGVbMF07dDxyO3QrKyl7aWYoIU9iamVjdC5rZXlzKFdlKS5sZW5ndGgpY29udGludWU7Y29uc3Qgbj1XZVtgJHtQZVtlXX1gXTtpZighbil7Y29uc29sZS5sb2coIkVycm9yOiBkaWUgbm90IGF2YWlsYWJsZSBpbiBzY2VuZSB0byBhbmltYXRlIik7YnJlYWt9aWYoUGVbZSsxXT09PS0xKWtmKG4pO2Vsc2V7Y29uc3QgYT1QZVtlKzFdLHM9UGVbZSsyXSxvPVBlW2UrM10sdT1QZVtlKzRdLGY9UGVbZSs1XSxsPVBlW2UrNl0saD1QZVtlKzddO24ubWVzaC5wb3NpdGlvbi5zZXQoYSxzLG8pLG4ubWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KHUsZixsLGgpfWU9ZSs4fXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e3J0LnBvc3RNZXNzYWdlKHthY3Rpb246InN0ZXBTaW11bGF0aW9uIixkaWNlQnVmZmVyOlBlLmJ1ZmZlcn0sW1BlLmJ1ZmZlcl0pfSl9LGtmPWFzeW5jIGk9Pnt2YXIgdCxyO2lmKGkuYXNsZWVwPSEwLGF3YWl0IGh0LmdldFJvbGxSZXN1bHQoaSk9PT12b2lkIDAmJmNvbnNvbGUubG9nKCJObyByZXN1bHQuIFRoaXMgZGllIG5lZWRzIGEgcmVyb2xsLiIpLGkuZDEwSW5zdGFuY2V8fGkuZGllUGFyZW50KXtpZigoKHQ9aT09bnVsbD92b2lkIDA6aS5kMTBJbnN0YW5jZSk9PW51bGw/dm9pZCAwOnQuYXNsZWVwKXx8KChyPWk9PW51bGw/dm9pZCAwOmkuZGllUGFyZW50KT09bnVsbD92b2lkIDA6ci5hc2xlZXApKXtjb25zdCBuPWkuY29uZmlnLnNpZGVzPT09MTAwP2k6aS5kaWVQYXJlbnQsYT1pLmNvbmZpZy5zaWRlcz09PTEwP2k6aS5kMTBJbnN0YW5jZTthLnZhbHVlPT09MCYmbi52YWx1ZT09PTA/bi52YWx1ZT0xMDA6bi52YWx1ZT1uLnZhbHVlK2EudmFsdWUsc2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsLXJlc3VsdCIsZGllOntyb2xsSWQ6bi5jb25maWcucm9sbElkLHZhbHVlOm4udmFsdWV9fSl9fWVsc2UgaS5jb25maWcuc2lkZXM9PT0xMCYmaS52YWx1ZT09PTAmJihpLnZhbHVlPTEwKSxzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtcmVzdWx0IixkaWU6e3JvbGxJZDppLmNvbmZpZy5yb2xsSWQsdmFsdWU6aS52YWx1ZX19KTtJdCsrfSxXZj1pPT57VHQud2lkdGg9aS53aWR0aCxUdC5oZWlnaHQ9aS5oZWlnaHQseW4uY3JlYXRlKHthc3BlY3Q6aS53aWR0aC9pLmhlaWdodH0pLFN0LnJlc2l6ZSgpfX0pKCk7Cg==";
const blob = typeof window !== "undefined" && window.Blob && new Blob([atob(encodedJs)], { type: "text/javascript;charset=utf-8" });
function WorkerWrapper() {
  const objURL = blob && (window.URL || window.webkitURL).createObjectURL(blob);
  try {
    return objURL ? new Worker(objURL, {}) : new Worker("data:application/javascript;base64," + encodedJs, { type: "module" });
  } finally {
    objURL && (window.URL || window.webkitURL).revokeObjectURL(objURL);
  }
}
class WorldOffScreen {
  constructor(options) {
    __privateAdd(this, _initScene);
    __publicField(this, "initialized", false);
    __publicField(this, "offscreenWorkerInit", false);
    __publicField(this, "themeLoadedInit", false);
    __publicField(this, "pendingThemePromises", []);
    __privateAdd(this, _offscreenCanvas, void 0);
    __privateAdd(this, _OffscreenWorker, void 0);
    __publicField(this, "onInitComplete", () => {
    });
    __publicField(this, "onRollResult", () => {
    });
    __publicField(this, "onRollComplete", () => {
    });
    __privateSet(this, _offscreenCanvas, options.canvas.transferControlToOffscreen());
    __privateSet(this, _OffscreenWorker, new WorkerWrapper());
    __privateGet(this, _OffscreenWorker).init = new Promise((resolve, reject) => {
      this.offscreenWorkerInit = resolve;
    });
    this.initialized = __privateMethod(this, _initScene, initScene_fn).call(this, options);
  }
  connect(port) {
    __privateGet(this, _OffscreenWorker).postMessage({
      action: "connect",
      port
    }, [port]);
  }
  updateConfig(options) {
    __privateGet(this, _OffscreenWorker).postMessage({ action: "updateConfig", options });
  }
  resize(options) {
    __privateGet(this, _OffscreenWorker).postMessage({ action: "resize", options });
  }
  async loadTheme(theme) {
    const id = createUUID();
    return new Promise((resolve, reject) => {
      __privateGet(this, _OffscreenWorker).postMessage({ action: "loadTheme", id, theme });
      this.pendingThemePromises[id] = resolve;
    });
  }
  clear() {
    __privateGet(this, _OffscreenWorker).postMessage({ action: "clearDice" });
  }
  add(options) {
    __privateGet(this, _OffscreenWorker).postMessage({ action: "addDie", options });
  }
  remove(options) {
    __privateGet(this, _OffscreenWorker).postMessage({ action: "removeDie", options });
  }
}
_offscreenCanvas = new WeakMap();
_OffscreenWorker = new WeakMap();
_initScene = new WeakSet();
initScene_fn = async function(config) {
  __privateGet(this, _OffscreenWorker).postMessage({
    action: "init",
    canvas: __privateGet(this, _offscreenCanvas),
    width: config.canvas.clientWidth,
    height: config.canvas.clientHeight,
    options: config.options
  }, [__privateGet(this, _offscreenCanvas)]);
  __privateGet(this, _OffscreenWorker).onmessage = (e) => {
    switch (e.data.action) {
      case "init-complete":
        this.offscreenWorkerInit();
        break;
      case "theme-loaded":
        this.pendingThemePromises[e.data.id]();
        break;
      case "roll-result":
        this.onRollResult(e.data.die);
        break;
      case "roll-complete":
        this.onRollComplete();
        break;
      case "die-removed":
        this.onDieRemoved(e.data.rollId);
        break;
    }
  };
  await Promise.all([__privateGet(this, _OffscreenWorker).init]);
  this.onInitComplete(true);
  return true;
};
export { WorldOffScreen as default };
